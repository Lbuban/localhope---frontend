webpackJsonp([0],[,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _notifications=__webpack_require__(931),_notifications2=_interopRequireDefault(_notifications),_actions=__webpack_require__(932),_actions2=_interopRequireDefault(_actions),_campaigns=__webpack_require__(933),_campaigns2=_interopRequireDefault(_campaigns),_editor=__webpack_require__(934),_editor2=_interopRequireDefault(_editor),_routes=__webpack_require__(935),_routes2=_interopRequireDefault(_routes),_scopes=__webpack_require__(936),_scopes2=_interopRequireDefault(_scopes),_links=__webpack_require__(937),_links2=_interopRequireDefault(_links),_textInputs=__webpack_require__(938),_textInputs2=_interopRequireDefault(_textInputs),Constants={NOTIFICATIONS:_notifications2.default,ACTIONS:_actions2.default,CAMPAIGNS:_campaigns2.default,EDITOR:_editor2.default,ROUTES:_routes2.default,SCOPES:_scopes2.default,LINKS:_links2.default,TEXT_INPUTS:_textInputs2.default,QUERY_TYPES:{LIST:"list",SEGMENT:"segment"},LISTS:{PAGE_SIZE:100},SEGMENTS:{CAMPAIGN_CLICKS:"clicks.campaign_identifier",CAMPAIGN_OPENS:"opens.campaign_identifier"},EMAIL_REGEX:/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-?\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/,VIEW_OPTIONS:{GRID:"grid",LIST:"list",DESKTOP:"desktop",MOBILE:"mobile"},SUPPRESSION_GROUPS:{CUSTOM_UNSUBSCRIBE_ID:0},EVENTS:{STORES:{CHANGE:"change"}},EDITORS:{DND:"dnd",CODE:"code",PLAIN:"plain"},EDITOR_AUTOSAVE_MILLIS:12e4,TEMPLATE_SUBJECT:"<%subject%>",TEMPLATE_SKELETON:"<%body%>",GLOBAL_TEMPLATE:"globalTemplate",CODE_SKELETON:"\n    <html>\n    <head>\n      <title></title>\n    </head>\n    <body></body>\n    </html>\n  ",FEATURES:{BIFURCATED:"bifurcated"},NO_STATS_STRING:"—"};exports.default=Constants},,,,function(module,exports,__webpack_require__){"use strict";function isPhantom(){return navigator.userAgent.indexOf("PhantomJS")>-1}function bindThis(target,key,descriptor){var fn=descriptor.value;if("function"!=typeof fn)throw new Error("@bindThis decorator can only be applied to methods not: "+(void 0===fn?"undefined":_typeof(fn)));var definingProperty=!1;return{configurable:!0,get:function(){if(definingProperty||this===target.prototype||this.hasOwnProperty(key))return isPhantom()?fn.bind(this):fn;var boundFn=fn.bind(this);return definingProperty=!0,Object.defineProperty(this,key,{value:boundFn,configurable:!0,writable:!0}),definingProperty=!1,boundFn},set:function(){}}}function getRenderedChildrenWithType(){var children=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],type=arguments[1];return _react2.default.Children.toArray(children).filter(function(c){return c&&c.type===type}).map(function(c){return _react2.default.createElement(c.type,c.props)})}function getFirstChildWithType(){return getRenderedChildrenWithType(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],arguments[1])[0]}function getChildrenWithoutType(){var children=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],type=arguments[1];return _react2.default.Children.toArray(children).filter(function(c){return c.type!==type})}Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};exports.bindThis=bindThis,exports.getRenderedChildrenWithType=getRenderedChildrenWithType,exports.getFirstChildWithType=getFirstChildWithType,exports.getChildrenWithoutType=getChildrenWithoutType;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_reactRouter=__webpack_require__(27),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),A=function(props){return _react2.default.createElement("a",props,props.children)},Button=function(props){return _react2.default.createElement("button",props,props.children)},getElemType=function(props){return props.to&&props.to.length>0?_reactRouter.Link:props.href&&props.href.length>0?A:Button},createStyleguideButton=function(buttonClasses){return _react2.default.createClass({render:function(){var ElemType=getElemType(this.props),scrubbed=_underscore2.default.omit(this.props,"buttonClassName","suppressDisabledClass"),classname=(0,_classnames2.default)(buttonClasses,this.props.buttonClassName||"",{"btn-with-icon":this.props.icon,"is-btn-disabled":this.props.disabled,"has-badge":void 0!==this.props.count});return _react2.default.createElement(ElemType,_extends({},scrubbed,{className:classname}),void 0!==this.props.count&&_react2.default.createElement("span",{className:"badge"},this.props.count),this.props.icon?_react2.default.createElement("i",{className:"sg-icon sg-icon-"+this.props.icon}):null,this.props.children)}})};module.exports={PrimaryButton:createStyleguideButton("btn btn-primary"),PrimaryButtonDark:createStyleguideButton("btn btn-primary btn-on-dark"),PrimaryButtonSmall:createStyleguideButton("btn btn-small btn-primary"),SecondaryButton:createStyleguideButton("btn btn-secondary"),SecondaryButtonDark:createStyleguideButton("btn btn-secondary btn-on-dark"),SecondaryButtonSmall:createStyleguideButton("btn btn-small btn-secondary"),CustomButton:createStyleguideButton("btn")}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _flux=__webpack_require__(939),_flux2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_flux),AppDispatcher=new _flux2.default.Dispatcher;exports.default=AppDispatcher},,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_constants=__webpack_require__(3),_constants2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_constants),LocationUtils=function(){function LocationUtils(){_classCallCheck(this,LocationUtils)}return _createClass(LocationUtils,null,[{key:"set",value:function(url,isReact){url.match("marketing_campaigns/ui")||isReact?this.router.push(url):window.location.href=url}},{key:"replace",value:function(url){window.location.replace(url)}},{key:"removeFromPath",value:function(partialPath){var push=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],newPath=window.location.pathname.replace(new RegExp(partialPath,"i"),"");push?LocationUtils.router.push(newPath):LocationUtils.router.replace(newPath)}},{key:"navigateToLogin",value:function(){var router=LocationUtils.router;LocationUtils.set(_constants2.default.ROUTES.MAKO_HOST+"/login?redirect_to="+encodeURIComponent(router.location.pathname),!1)}},{key:"getReferrer",value:function(){return document.referrer||"/marketing_campaigns/ui/"}},{key:"setRouter",value:function(router){LocationUtils.router=router}},{key:"isMatchingUrl",value:function(){return void 0!==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find(function(url){return window.location.href.match(new RegExp(url))})}},{key:"isInStaging",value:function(){return!(!location||!location.hostname)&&location.hostname.match("staging")}},{key:"isInE2E",value:function(){return!(!location||!location.hostname)&&location.hostname.match("testing")}}]),LocationUtils}();exports.default=LocationUtils},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function isRequired(props){return _underscore2.default.contains(props.validations,"required")}function getErrors(props,state){return props.getValidationErrors&&(state.hasBeenFocused||props.shouldValidate)?props.getValidationErrors(props.value):[]}function getConditionalWrapperClasses(props,state){var classes=[];return isRequired(props)&&classes.push("is-required"),props.disabled&&classes.push("is-disabled"),props.isLarge&&classes.push("is-large"),state.isInputFocused&&classes.push("is-focused"),props.value&&props.value.toString().length>0&&classes.push("has-value"),props.units&&classes.push("has-units"),getErrors(props,state).length>0&&classes.push("is-error"),classes.join(" ")}function getDataProps(props){return _underscore2.default.reduce(props,function(memo,v,k){return k.match(/^data/i)&&(memo[k]=v),memo},{})}function getTextInputProps(props){var dataProps=getDataProps(props);return _underscore2.default.extend({},_underscore2.default.pick(props,"id","name","type","placeholder","value","min","maxLength","rows","onChange"),dataProps)}function scrubUnits(v,units){return void 0===v?"0":v.toString().split(units)[0]}var _class,_class2,_class3,_class4,_class5,_class6,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_validated=__webpack_require__(492),_validated2=_interopRequireDefault(_validated),_reactClassUtils=__webpack_require__(7),_textInputCss=__webpack_require__(1055),_textInputCss2=_interopRequireDefault(_textInputCss),BaseTextInput=(_class=function(_React$Component){function BaseTextInput(props){_classCallCheck(this,BaseTextInput);var _this=_possibleConstructorReturn(this,(BaseTextInput.__proto__||Object.getPrototypeOf(BaseTextInput)).call(this,props));return _this.state={hasBeenFocused:!1,isInputFocused:!1,isMouseOverIcon:!1},_this}return _inherits(BaseTextInput,_React$Component),_createClass(BaseTextInput,[{key:"onInputBlur",value:function(e){this.props.onBlurCb&&this.props.onBlurCb(e),this.setState({hasBeenFocused:!0,isInputFocused:!1})}},{key:"onInputFocus",value:function(e){this.props.onFocusCb&&this.props.onFocusCb(e),this.setState({isInputFocused:!0})}},{key:"onKeyUp",value:function(e){13===(e.keyCode?e.keyCode:e.which)&&this.props.onSubmit&&this.props.onSubmit(e)}},{key:"isValid",value:function(){return this.props.isValid()}},{key:"componentDidMount",value:function(){this.props.isInitiallyFocused&&this.refs.input.focus()}},{key:"componentWillReceiveProps",value:function(nextProps){this.props.isInitiallyFocused!==nextProps.isInitiallyFocused&&nextProps.isInitiallyFocused&&this.refs.input.focus()}},{key:"componentWillUnmount",value:function(){this.props.unregisterFormInput&&this.props.unregisterFormInput(this)}}]),BaseTextInput}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onInputBlur",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onInputBlur"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onInputFocus",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onInputFocus"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onKeyUp",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onKeyUp"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isValid",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"isValid"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"componentDidMount",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"componentDidMount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"componentWillReceiveProps",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"componentWillReceiveProps"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"componentWillUnmount",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"componentWillUnmount"),_class.prototype),_class);BaseTextInput.defaultProps={type:"text",value:""};var TextInput=(_class2=function(_BaseTextInput){function TextInput(){return _classCallCheck(this,TextInput),_possibleConstructorReturn(this,(TextInput.__proto__||Object.getPrototypeOf(TextInput)).apply(this,arguments))}return _inherits(TextInput,_BaseTextInput),_createClass(TextInput,[{key:"render",value:function(){this.props.registerFormInput&&this.props.registerFormInput(this);var errors=getErrors(this.props,this.state);return _react2.default.createElement("div",{className:"input-text-wrap "+getConditionalWrapperClasses(this.props,this.state),"data-units":this.props.units},_react2.default.createElement("label",{className:"input-text-label",htmlFor:this.props.id},this.props.labelText||this.props.displayName),_react2.default.createElement("input",_extends({ref:"input"},_underscore2.default.omit(getTextInputProps(this.props),"placeholder"),{onBlur:this.onInputBlur,onFocus:this.onInputFocus,readOnly:this.props.readOnly})),_react2.default.createElement("div",{className:"input-info-tooltip"},_react2.default.createElement(_tooltip2.default,{content:this.props.tooltipContent,position:this.props.tooltipPosition,length:this.props.tooltipLength})),this.props.icon&&_react2.default.createElement("div",{className:_textInputCss2.default.icon},this.props.icon),errors&&errors.length>0&&errors.map(function(e,i){return _react2.default.createElement("span",{className:"input-info danger",key:"error-"+i},e)}),this.props.infoContent&&_react2.default.createElement("span",{className:"input-info"},this.props.infoContent))}}]),TextInput}(BaseTextInput),_applyDecoratedDescriptor(_class2.prototype,"render",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class2.prototype,"render"),_class2.prototype),_class2),SearchTextInput=(_class3=function(_BaseTextInput2){function SearchTextInput(){return _classCallCheck(this,SearchTextInput),_possibleConstructorReturn(this,(SearchTextInput.__proto__||Object.getPrototypeOf(SearchTextInput)).apply(this,arguments))}return _inherits(SearchTextInput,_BaseTextInput2),_createClass(SearchTextInput,[{key:"render",value:function(){this.props.registerFormInput&&this.props.registerFormInput(this);var errors=getErrors(this.props,this.state);return _react2.default.createElement("div",{className:"input-text-wrap is-search "+getConditionalWrapperClasses(this.props,this.state),"data-role":"search-input-wrapper"},_react2.default.createElement("label",{className:"input-text-label",htmlFor:this.props.id},this.props.labelText||this.props.displayName||"Search"),_react2.default.createElement("input",_extends({ref:"input"},_underscore2.default.omit(getTextInputProps(this.props),"placeholder"),{onBlur:this.onInputBlur,onFocus:this.onInputFocus,onKeyUp:this.onKeyUp})),_react2.default.createElement("div",{className:"input-info-tooltip"},_react2.default.createElement(_tooltip2.default,{content:this.props.tooltipContent,position:this.props.tooltipPosition,length:this.props.tooltipLength})),errors&&errors.length>0&&errors.map(function(e,i){return _react2.default.createElement("span",{className:"input-info danger",key:"error-"+i},e)}),this.props.infoContent&&_react2.default.createElement("span",{className:"input-info"},this.props.infoContent),this.props.children)}}]),SearchTextInput}(BaseTextInput),_applyDecoratedDescriptor(_class3.prototype,"render",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class3.prototype,"render"),_class3.prototype),_class3),BaseTextArea=function(_BaseTextInput3){function BaseTextArea(){return _classCallCheck(this,BaseTextArea),_possibleConstructorReturn(this,(BaseTextArea.__proto__||Object.getPrototypeOf(BaseTextArea)).apply(this,arguments))}return _inherits(BaseTextArea,_BaseTextInput3),BaseTextArea}(BaseTextInput);BaseTextArea.defaultProps={type:"textarea",maxHeight:100,minHeight:25,value:""};var TextArea=(_class4=function(_BaseTextArea){function TextArea(){return _classCallCheck(this,TextArea),_possibleConstructorReturn(this,(TextArea.__proto__||Object.getPrototypeOf(TextArea)).apply(this,arguments))}return _inherits(TextArea,_BaseTextArea),_createClass(TextArea,[{key:"componentDidMount",value:function(){this.minHeight=$(this.refs.input).height()}},{key:"componentDidUpdate",value:function(){this.resizeTextArea()}},{key:"resizeTextArea",value:function(e){var curHeight=this.refs.input.style.height.split("px")[0],scrollHeight=this.refs.shadow.scrollHeight,newHeight=Math.min(scrollHeight<this.minHeight?this.minHeight:scrollHeight,this.props.maxHeight);curHeight!=newHeight&&(this.refs.input.style.height=newHeight+"px"),e&&this.props.onChange(e)}},{key:"render",value:function(){this.props.registerFormInput&&this.props.registerFormInput(this);var errors=getErrors(this.props,this.state);return _react2.default.createElement("div",{className:"input-text-wrap "+getConditionalWrapperClasses(this.props,this.state)},_react2.default.createElement("label",{className:"input-text-label",htmlFor:this.props.id},this.props.labelText||this.props.displayName),_react2.default.createElement("textarea",_extends({"data-role":"preheader-input",ref:"input"},_underscore2.default.omit(getTextInputProps(this.props),"placeholder"),{onBlur:this.onInputBlur,onFocus:this.onInputFocus,onChange:this.resizeTextArea,className:_textInputCss2.default.textarea})),_react2.default.createElement("textarea",{ref:"shadow",value:this.props.value,className:_textInputCss2.default.shadow,readOnly:!0}),_react2.default.createElement("div",{className:"input-info-tooltip"},_react2.default.createElement(_tooltip2.default,{content:this.props.tooltipContent,position:this.props.tooltipPosition,length:this.props.tooltipLength})),errors&&errors.length>0&&errors.map(function(e,i){return _react2.default.createElement("span",{className:"input-info danger",key:"error-"+i},e)}),this.props.infoContent&&_react2.default.createElement("span",{className:"input-info"},this.props.infoContent))}}]),TextArea}(BaseTextArea),_applyDecoratedDescriptor(_class4.prototype,"componentDidMount",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class4.prototype,"componentDidMount"),_class4.prototype),_applyDecoratedDescriptor(_class4.prototype,"componentDidUpdate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class4.prototype,"componentDidUpdate"),_class4.prototype),_applyDecoratedDescriptor(_class4.prototype,"resizeTextArea",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class4.prototype,"resizeTextArea"),_class4.prototype),_applyDecoratedDescriptor(_class4.prototype,"render",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class4.prototype,"render"),_class4.prototype),_class4);TextArea.propTypes={maxHeight:_react2.default.PropTypes.number};var BasicTextInput=(_class5=function(_BaseTextInput4){function BasicTextInput(){return _classCallCheck(this,BasicTextInput),_possibleConstructorReturn(this,(BasicTextInput.__proto__||Object.getPrototypeOf(BasicTextInput)).apply(this,arguments))}return _inherits(BasicTextInput,_BaseTextInput4),_createClass(BasicTextInput,[{key:"render",value:function(){this.props.registerFormInput&&this.props.registerFormInput(this);var errors=getErrors(this.props,this.state);return _react2.default.createElement("div",{className:"input-text-wrap "+getConditionalWrapperClasses(this.props,this.state).replace("is-required","")},_react2.default.createElement("input",_extends({ref:"input"},getTextInputProps(this.props),{onBlur:this.onInputBlur,onFocus:this.onInputFocus})),_react2.default.createElement("div",{className:"input-info-tooltip"},_react2.default.createElement(_tooltip2.default,{content:this.props.tooltipContent,position:this.props.tooltipPosition,length:this.props.tooltipLength})),errors&&errors.length>0&&errors.map(function(e,i){return _react2.default.createElement("span",{className:"input-info danger",key:"error-"+i},e)}),this.props.infoContent&&_react2.default.createElement("span",{className:"input-info"},this.props.infoContent))}}]),BasicTextInput}(BaseTextInput),_applyDecoratedDescriptor(_class5.prototype,"render",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class5.prototype,"render"),_class5.prototype),_class5),EditorAccordionInput=(_class6=function(_BaseTextInput5){function EditorAccordionInput(){return _classCallCheck(this,EditorAccordionInput),_possibleConstructorReturn(this,(EditorAccordionInput.__proto__||Object.getPrototypeOf(EditorAccordionInput)).apply(this,arguments))}return _inherits(EditorAccordionInput,_BaseTextInput5),_createClass(EditorAccordionInput,[{key:"onChangeAddUnits",value:function(e){var input=document.createElement("input");input.value=isNaN(parseInt(e.target.value))?e.target.value:""+e.target.value+this.props.units;var dataProps=getDataProps(this.props);_underscore2.default.each(dataProps,function(v,k){return input.setAttribute(k,v)}),this.props.onChange(_underscore2.default.tap(e,function(e){return e.target=input}))}},{key:"render",value:function(){this.props.registerFormInput&&this.props.registerFormInput(this);var errors=getErrors(this.props,this.state);return _react2.default.createElement("div",{className:"input-text-wrap "+_textInputCss2.default["editor-accordion-wrap"]+" "+getConditionalWrapperClasses(this.props,this.state).replace("is-required","")+" "+(this.props.isWide?_textInputCss2.default["is-wide"]:""),"data-units":this.props.units},_react2.default.createElement("label",{htmlFor:this.props.id},this.props.labelText||this.props.displayName),_react2.default.createElement("input",_extends({ref:"input",className:_textInputCss2.default["editor-accordion-input"]},_underscore2.default.extend({},getTextInputProps(this.props),{value:this.props.hasUnitValue?scrubUnits(this.props.value,this.props.units):this.props.value,onChange:this.props.hasUnitValue?this.onChangeAddUnits:this.props.onChange}),{min:"0",onBlur:this.onInputBlur,onFocus:this.onInputFocus})),_react2.default.createElement("div",{className:"input-info-tooltip"},_react2.default.createElement(_tooltip2.default,{content:this.props.tooltipContent,position:this.props.tooltipPosition,length:this.props.tooltipLength})),this.props.children,errors&&errors.length>0&&errors.map(function(e,i){return _react2.default.createElement("span",{className:"input-info danger",key:"error-"+i},e)}),this.props.infoContent&&_react2.default.createElement("span",{className:"input-info"},this.props.infoContent))}}]),EditorAccordionInput}(BaseTextInput),_applyDecoratedDescriptor(_class6.prototype,"onChangeAddUnits",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class6.prototype,"onChangeAddUnits"),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,"render",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class6.prototype,"render"),_class6.prototype),_class6);module.exports={SearchTextInput:(0,_validated2.default)(SearchTextInput),TextInput:(0,_validated2.default)(TextInput),TextArea:(0,_validated2.default)(TextArea),BasicTextInput:(0,_validated2.default)(BasicTextInput),EditorAccordionInput:(0,_validated2.default)(EditorAccordionInput),BaseTextInput:BaseTextInput,getConditionalWrapperClasses:getConditionalWrapperClasses}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_underscore),AnalyticsUtils=function(){function AnalyticsUtils(){_classCallCheck(this,AnalyticsUtils)}return _createClass(AnalyticsUtils,null,[{key:"trackEditor",value:function(evt){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};opts["new-editor"]="true",this.track(evt,opts)}},{key:"track",value:function(evt){var opts=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},cb=arguments[2];window.analytics?cb?window.analytics.track(evt,opts,cb):window.analytics.track(evt,opts):_underscore2.default.isFunction(cb)&&cb()}},{key:"getEditorType",value:function(isDnd){return isDnd?"design":"code"}}]),AnalyticsUtils}();exports.default=AnalyticsUtils},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_objectUtils=__webpack_require__(1143),_objectUtils2=_interopRequireDefault(_objectUtils),EditorActions={htmlImported:function(html){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.HTML_IMPORTED,html:html})},undo:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.UNDO})},redo:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.REDO})},toggleABSwitch:function(isNowOn,isDnd){_appDispatcher2.default.dispatch({actionType:isDnd?_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.TOGGLE_AB_SWITCH_DESIGN:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.TOGGLE_AB_SWITCH_CODE,isNowOn:isNowOn})},editSplitCount:function(splitCount,isDnd){_appDispatcher2.default.dispatch({actionType:isDnd?_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SPLIT_COUNT_DESIGN:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SPLIT_COUNT_CODE,splitCount:splitCount})},switchActiveSplit:function(activeSplit){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SWITCH_ACTIVE_SPLIT,activeSplit:activeSplit})},editCampaignABVariationType:function(field,value,isDnd){_appDispatcher2.default.dispatch({actionType:isDnd?_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_VARIATION_TYPE_DESIGN:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_VARIATION_TYPE_CODE,field:field,value:value})},editCampaignABSettings:function(field,value){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_AB_SETTINGS,value:value,field:field})},editCampaignContents:function(field,value){var specificSplit=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_CONTENTS,field:field,value:value,specificSplit:specificSplit})},syncCampaignContents:function(syncPlainContent){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SYNC_CAMPAIGN_CONTENTS,syncPlainContent:syncPlainContent})},syncHtmlToPlain:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SYNC_HTML_TO_PLAIN})},editCampaignSettings:function(settings){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_SETTINGS,settings:settings})},editCampaignSettingsValue:function(field,value){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_SETTINGS_VALUE,field:field,value:value})},preheaderUpdated:function(newText){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.PREHEADER_UPDATED,preheaderText:newText})},editCategories:function(categoryNames){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CATEGORIES.EDIT_CATEGORIES,categoryNames:categoryNames})},editRecipientSettings:function(settings){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_RECIPIENT_SETTINGS,settings:settings})},editScheduleSettings:function(settings){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SCHEDULE_SETTINGS,settings:settings})},editModuleHtmlClicked:function(){var router=_locationUtils2.default.router;router.push(router.location.pathname+"/edit_module_html")},moduleUpdatedAtIndex:function(newProps,muid){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_UPDATED_AT_INDEX,props:_underscore2.default.omit(newProps,"children"),muid:muid})},updateAllModulesWithType:function(newProps,excludedProps,type){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.ALL_MODULES_OF_TYPE_UPDATED,props:_objectUtils2.default.deepOmit(newProps,excludedProps.concat("children","muid","innerHtml")),type:type})},activeModuleUpdated:function(newProps){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.ACTIVE_MODULE_UPDATED,props:_underscore2.default.omit(newProps,"children")})},bodyPropsUpdated:function(newProps){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.BODY_PROPS_UPDATED,props:newProps})},contentContainerPropsUpdated:function(newProps){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.CONTENT_CONTAINER_PROPS_UPDATED,props:newProps})},moduleSelected:function(muid){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_SELECTED,muid:muid})},moduleDeselected:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DESELECTED})},moduleDropped:function(draggedItemProps,muid){var _$extend,analyticsModuleType=_underscore2.default.extend(_underscore2.default.invert(_constants2.default.EDITOR.MODULES),(_$extend={},_defineProperty(_$extend,_constants2.default.EDITOR.MODULES.COLUMNS,"column"),_defineProperty(_$extend,_constants2.default.EDITOR.MODULES.IMAGETEXT,"image+text"),_$extend))[draggedItemProps.analyticsModuleType||draggedItemProps.type].toLowerCase();_analyticsUtils2.default.trackEditor("drag_module",{type:analyticsModuleType}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DROPPED,draggedItemProps:draggedItemProps,muid:muid})},moduleHovered:function(muid){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_HOVERED,muid:muid})},moduleMoved:function(draggedItemProps,muid){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_MOVED,draggedItemProps:draggedItemProps,muid:muid})},moduleDeleted:function(muid){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DELETED,muid:muid})},moduleDuplicated:function(moduleProps){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DUPLICATED,moduleProps:moduleProps})},moduleDragStarted:function(muid){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DRAG_STARTED,muid:muid})},moduleDragEnded:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DRAG_ENDED})},wysiwygableFocused:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.WYSIWYGABLE_FOCUSED})},wysiwygableBlurred:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.WYSIWYGABLE_BLURRED})},navigateToTab:function(tab){$("#"+tab).click()},onWindowResize:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.EDITOR.WINDOW_RESIZE})},previewNodeClicked:function(content,start,end){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SIDE_BY_SIDE.PREVIEW_NODE_CLICKED,start:start,end:end})},codeClicked:function(index){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SIDE_BY_SIDE.CODE_CLICKED,index:index})}};exports.default=EditorActions},,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function StandardTooltip(props){return props.content?_react2.default.createElement("span",{"data-tooltip":props.content,"data-tooltip-pos":props.position,"data-tooltip-length":props.length,className:(0,_classnames2.default)({"has-underline":props.hasUnderline})},props.children||_react2.default.createElement("i",{style:{cursor:"help"},className:"sg-icon sg-icon-info-circle"})):null}function Tooltip(props){return props.content?"string"==typeof props.content?_react2.default.createElement(StandardTooltip,props,props.children):_react2.default.createElement(HtmlTooltip,props,props.children):null}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_reactClassUtils=__webpack_require__(7),_tooltipCss=__webpack_require__(1050),_tooltipCss2=_interopRequireDefault(_tooltipCss),HtmlTooltip=(_class=function(_React$Component){function HtmlTooltip(){_classCallCheck(this,HtmlTooltip);var _this=_possibleConstructorReturn(this,(HtmlTooltip.__proto__||Object.getPrototypeOf(HtmlTooltip)).call(this));return _this.state={isHovered:!1,left:3e3,top:0},_this}return _inherits(HtmlTooltip,_React$Component),_createClass(HtmlTooltip,[{key:"getIconClassNames",value:function(){return(0,_classnames2.default)("sg-icon","sg-icon-info-circle","input-info-icon",{"is-hovered":this.state.isHovered})}},{key:"getTooltipClassNames",value:function(){var _classNames;return(0,_classnames2.default)("tooltip-js-content",(_classNames={},_defineProperty(_classNames,_tooltipCss2.default["is-down"],"down"===this.props.position),_defineProperty(_classNames,_tooltipCss2.default["is-up"],"up"===this.props.position),_defineProperty(_classNames,"is-visible",this.state.isHovered),_defineProperty(_classNames,"has-underline",this.props.hasUnderline),_classNames))}},{key:"toggleHover",value:function(e){var $el=$(e.currentTarget),offset=$el.position(),width=$el.width(),height=$el.height();return"down"===this.props.position?this.setState({isHovered:!this.state.isHovered,top:offset.top+height+10,left:offset.left+width/2-($(this.tooltip).outerWidth()/2+5)}):"up"===this.props.position?this.setState({isHovered:!this.state.isHovered,top:offset.top-5*height,left:offset.left+width/2-($(this.tooltip).outerWidth()/2+5)}):this.setState({isHovered:!this.state.isHovered,left:offset.left+width,top:offset.top+height/2-$(this.tooltip).outerHeight()/2})}},{key:"toggleUnhover",value:function(){this.setState({isHovered:!this.state.isHovered,left:3e3})}},{key:"render",value:function(){var _this2=this;return this.props.content?_react2.default.createElement("span",{onMouseEnter:this.toggleHover,onMouseLeave:this.toggleUnhover},_react2.default.createElement("span",null,this.props.children||_react2.default.createElement("i",{style:{cursor:"help"},className:this.getIconClassNames()})),_react2.default.createElement("div",{ref:function(div){_this2.tooltip=div},style:{top:this.state.top,left:this.state.left,position:"absolute"},className:this.getTooltipClassNames()},this.props.content)):null}}]),HtmlTooltip}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getIconClassNames",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getIconClassNames"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getTooltipClassNames",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getTooltipClassNames"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleHover",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleHover"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleUnhover",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleUnhover"),_class.prototype),_class);HtmlTooltip.propTypes={children:_propTypes2.default.node,content:_propTypes2.default.node.isRequired,position:_propTypes2.default.oneOf(["up","right","down","left"]),hasUnderline:_propTypes2.default.bool},HtmlTooltip.defaultProps={children:null,position:"right",hasUnderline:!1},StandardTooltip.propTypes={children:_propTypes2.default.node,content:_propTypes2.default.string.isRequired,position:_propTypes2.default.oneOf(["up","right","down","left"]),length:_propTypes2.default.oneOf(["","small","medium","large","xlarge","fit"]),hasUnderline:_propTypes2.default.bool},StandardTooltip.defaultProps={children:null,position:"up",length:"large",hasUnderline:!1},Tooltip.propTypes={children:_propTypes2.default.node,content:_propTypes2.default.oneOfType([_propTypes2.default.node,_propTypes2.default.string])},Tooltip.defaultProps={children:null,content:void 0},exports.default=Tooltip},,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ConfirmationModal(props){return _react2.default.createElement("div",{className:"conf-alert sg-modal-content","data-modal-content":!0},props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_modal=__webpack_require__(227),_actions=__webpack_require__(501),_body=__webpack_require__(502),_header=__webpack_require__(503);ConfirmationModal.propTypes={children:_propTypes2.default.node},ConfirmationModal.defaultProps={children:null},module.exports={ConfirmationModal:(0,_modal.Modal)(ConfirmationModal,"sg-modal"),ConfModalActions:_actions.ConfModalActions,ConfModalBody:_body.ConfModalBody,ConfModalHeader:_header.ConfModalHeader}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInitialSplitState(){return[{_selectedMuid:void 0,_contents:_underscore2.default.clone(initialSplitState),_bodyProps:_underscore2.default.clone(initialBodySplitState),_contentContainerProps:_underscore2.default.clone(initialContentContainerSplitState)}]}function initState(){_activeSplit="A",_stateHistory={},_stateIndices={},_underscore2.default.each(_constants2.default.CAMPAIGNS.SPLITS,function(split){_stateHistory[split]=getInitialSplitState(),_stateIndices[split]=0}),_draggedMuid=void 0,_isWysiwygableFocused=!1,_canPushState=!0,_canPushStateInterval=clearInterval(_canPushStateInterval)}function getState(split){return _stateHistory[split||_activeSplit][_stateIndices[split||_activeSplit]]}function cloneCurrentState(){return $.extend(!0,{},getState())}function pushState(){_canPushStateInterval||(_canPushStateInterval=setInterval(function(){return _canPushState=!0},1e3)),_canPushState&&(_canPushState=!1,_stateHistory[_activeSplit].splice(_stateIndices[_activeSplit]+1,_stateHistory[_activeSplit].length,cloneCurrentState()),_stateHistory[_activeSplit].length>MAX_STATE_HISTORY_SIZE&&_stateHistory[_activeSplit].shift(),_stateIndices[_activeSplit]<_stateHistory[_activeSplit].length-1&&_stateIndices[_activeSplit]++)}function undo(){_stateIndices[_activeSplit]>0&&_stateIndices[_activeSplit]--}function redo(){_stateIndices[_activeSplit]<_stateHistory[_activeSplit].length-1&&_stateIndices[_activeSplit]++}function _getAllModulesWithType(type){var modules=[];return ModuleTraversalUtils.traverse(getState()._contents.moduleProps,function(props){props.type===type&&modules.push(props)}),modules}function updateModulePropsWithType(newProps,type){var scrubbedProps=scrubModuleProps(newProps);ModuleTraversalUtils.traverse(getState()._contents.moduleProps,function(props,propsArr,i){props.type===type&&(propsArr[i]=$.extend(!0,{},props,scrubbedProps))})}function scrubModuleProps(props){return _underscore2.default.omit(props,function(v,k){return _underscore2.default.isFunction(v)||_underscore2.default.includes(["children"],k)})}function updateModulePropsAtMuid(newProps,muid){ModuleTraversalUtils.traverse(getState()._contents.moduleProps,function(props,propsArr,i){props.muid==muid&&(propsArr[i]=$.extend(!0,{},props,scrubModuleProps(newProps)))})}function updateActiveModuleProps(newProps){updateModulePropsAtMuid(scrubModuleProps(newProps),getState()._selectedMuid)}function addModuleProps(moduleProps,previousMuid){var curState=getState();previousMuid||(previousMuid=curState._contents.moduleProps[0].muid),moduleProps.muid=moduleProps.muid||_moduleParserUtils2.default.genMuid(),ModuleTraversalUtils.traverse(getState()._contents.moduleProps,function(props,arr,i){props.muid==previousMuid&&arr.splice(i+1,0,scrubModuleProps(moduleProps))}),setSelectedMuid(moduleProps.muid)}function removeModuleProps(muid){ModuleTraversalUtils.traverse(getState()._contents.moduleProps,function(props,arr,i){props.muid==muid&&arr.splice(i,1)}),setSelectedMuid(void 0)}function moveModuleProps(moduleProps,previousMuid){moduleProps.muid!=previousMuid&&(removeModuleProps(moduleProps.muid),addModuleProps(moduleProps,previousMuid))}function cloneModuleProps(props){var newProps=$.extend(!0,{},_underscore2.default.omit(scrubModuleProps(props),"muid"));props.innerModules&&(newProps.innerModules=[],_underscore2.default.each(props.innerModules,function(columnModules,i){newProps.innerModules[i]=[],_underscore2.default.each(columnModules,function(props){newProps.innerModules[i].push($.extend(!0,{},scrubModuleProps(props),{muid:_moduleParserUtils2.default.genMuid()}))})})),addModuleProps(newProps,props.muid)}function setModuleProps(moduleProps,split){getState(split)._contents.moduleProps=moduleProps}function setBodyProps(bodyProps,split){var curState=getState(split);_underscore2.default.defaults(bodyProps.style,initialBodySplitState.style),curState._bodyProps=bodyProps}function setContentContainerProps(contentContainerProps,split){var curState=getState(split);_underscore2.default.defaults(contentContainerProps.style,initialContentContainerSplitState.style),curState._contentContainerProps=contentContainerProps}function setAllPropsFromHtml(html,split){var $html=$(html);setModuleProps(_moduleParserUtils2.default.htmlToModuleProps($html),split),setBodyProps(_moduleParserUtils2.default.htmlToBodyProps(html),split),setContentContainerProps(_moduleParserUtils2.default.htmlToContentContainerProps($html),split)}function syncAllSplitContents(allSplitContents){_underscore2.default.each(allSplitContents,function(contents,split){return setAllPropsFromHtml(contents.content,split)})}function setPreheader(text){var curState=getState(),firstModuleProps=curState._contents.moduleProps[0];firstModuleProps.type==_constants2.default.EDITOR.MODULES.PREHEADER&&(firstModuleProps.preheaderText=text)}function setDraggedModuleMuid(muid){_draggedMuid=muid}function setHoveredMuid(muid){_hoveredMuid=muid}function setActiveSplit(activeSplit){_activeSplit=activeSplit}function setSelectedMuid(muid){getState()._selectedMuid=muid}function setIsWysiwygableFocused(v){_isWysiwygableFocused=v}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_contentsStore=__webpack_require__(182),_contentsStore2=_interopRequireDefault(_contentsStore),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_moduleParserUtils=__webpack_require__(132),_moduleParserUtils2=_interopRequireDefault(_moduleParserUtils),_moduleSerializerUtils=__webpack_require__(347),_moduleSerializerUtils2=_interopRequireDefault(_moduleSerializerUtils),_moduleTraversalUtils=__webpack_require__(551),ModuleTraversalUtils=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_moduleTraversalUtils),MAX_STATE_HISTORY_SIZE=10,initialSplitState={moduleProps:[]},initialBodySplitState={style:{backgroundColor:"#ffffff",color:"#000000",linkColor:"#1188E6",fontFamily:"arial",fontSize:"14px"},headHtml:""},initialContentContainerSplitState={style:{backgroundColor:"#ffffff",width:"600px",padding:"0px 0px 0px 0px"}},_activeSplit=void 0,_stateHistory=void 0,_stateIndices=void 0,_draggedMuid=void 0,_hoveredMuid=void 0,_isWysiwygableFocused=void 0,_canPushState=void 0,_canPushStateInterval=void 0,ModuleStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{addChangeListener:function(cb){this.on(_constants2.default.EVENTS.STORES.CHANGE,cb)},removeChangeListener:function(cb){this.off(_constants2.default.EVENTS.STORES.CHANGE,cb)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},getModuleProps:function(split){return getState(split)._contents.moduleProps},getBodyProps:function(split){return getState(split)._bodyProps},getContentContainerProps:function(split){return getState(split)._contentContainerProps},getPreheaderText:function(){var curState=getState(),firstModuleProps=curState._contents.moduleProps[0]||{};return firstModuleProps.type==_constants2.default.EDITOR.MODULES.PREHEADER?firstModuleProps.preheaderText:""},getSerializedModuleContents:function(split){return _moduleSerializerUtils2.default.serializeModules(ModuleStore.getBodyProps(split||_activeSplit),ModuleStore.getContentContainerProps(split||_activeSplit),ModuleStore.getModuleProps(split||_activeSplit))},getSelectedModuleMuid:function(){return getState()._selectedMuid},getAllModulesWithType:function(type){return _getAllModulesWithType(type)},getSelectedModuleProps:function(){return void 0===getState()._selectedMuid?void 0:ModuleStore.getModulePropsForMuid(getState()._selectedMuid)},getModulePropsForMuid:function(muid){return ModuleTraversalUtils.getModulePropsForMuid(getState()._contents.moduleProps,muid)},getColumnIdxOfMuid:function(muid){return ModuleTraversalUtils.getColumnIdxOfMuid(getState()._contents.moduleProps,muid)},getColumnIdxOfSelectedModule:function(){return this.getColumnIdxOfMuid(getState()._selectedMuid)},getParentMuid:function(childMuid){return ModuleTraversalUtils.getParentMuid(getState()._contents.moduleProps,childMuid)},getDraggedModuleMuid:function(){return _draggedMuid},getHoveredMuid:function(){return _hoveredMuid},getIsWysiwygableFocused:function(){return _isWysiwygableFocused},clear:function(){initState()},_test_initState:function(){initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.TOGGLE_AB_SWITCH_DESIGN:case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SPLIT_COUNT_DESIGN:case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_VARIATION_TYPE_DESIGN:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),pushState(),setActiveSplit(_contentsStore2.default.getActiveSplit()),syncAllSplitContents(_contentsStore2.default.getAllCampaignSplitContents()),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SWITCH_ACTIVE_SPLIT:if(_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),"code"===_editorTypeStore2.default.getCampaignEditorName(_contentsStore2.default.getEditorId()))return;pushState(),setActiveSplit(_contentsStore2.default.getActiveSplit()),setAllPropsFromHtml(_contentsStore2.default.getCampaignContents().content),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.ACTIVE_MODULE_UPDATED:pushState(),updateActiveModuleProps(action.props),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.ALL_MODULES_OF_TYPE_UPDATED:pushState(),updateModulePropsWithType(action.props,action.type),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.PREHEADER_UPDATED:pushState(),setPreheader(action.preheaderText),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.BODY_PROPS_UPDATED:pushState(),setBodyProps(action.props),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.CONTENT_CONTAINER_PROPS_UPDATED:pushState(),setContentContainerProps(action.props),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_UPDATED_AT_INDEX:pushState(),updateModulePropsAtMuid(action.props,action.muid),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_SELECTED:setSelectedMuid(action.muid),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DESELECTED:setSelectedMuid(void 0),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.WYSIWYGABLE_FOCUSED:setIsWysiwygableFocused(!0),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.WYSIWYGABLE_BLURRED:setIsWysiwygableFocused(!1),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DROPPED:pushState(),addModuleProps(action.draggedItemProps,action.muid),setHoveredMuid(void 0),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_MOVED:pushState(),moveModuleProps(action.draggedItemProps,action.muid),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_HOVERED:setHoveredMuid(action.muid),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DUPLICATED:pushState(),cloneModuleProps(action.moduleProps),setSelectedMuid(void 0),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DELETED:pushState(),removeModuleProps(action.muid),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DRAG_STARTED:setDraggedModuleMuid(action.muid),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.MODULE_DRAG_ENDED:setDraggedModuleMuid(void 0),setHoveredMuid(void 0),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.UNDO:undo(),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.REDO:redo(),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.TEMPLATES.CONTENT_FETCHED:_editorTypeStore2.default.getFetchedPromise().then(function(){"code"!==_editorTypeStore2.default.getTemplateEditorName(action.template.editor_id)&&(setAllPropsFromHtml(action.template.html_content),ModuleStore.emitChange())});break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.HTML_IMPORTED:setAllPropsFromHtml(action.html),ModuleStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.GOT_BY_ID:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),_editorTypeStore2.default.getFetchedPromise().then(function(){"code"!==_editorTypeStore2.default.getCampaignEditorName(action.campaign.editor_id)&&(_underscore2.default.each(_constants2.default.CAMPAIGNS.SPLITS,function(split){var splitContent=_contentsStore2.default.getCampaignContents(split);splitContent&&!_underscore2.default.contains([null,void 0],splitContent.content)&&setAllPropsFromHtml(splitContent.content,split)}),ModuleStore.emitChange())})}}});initState(),ModuleStore.dispatchToken=_appDispatcher2.default.register(ModuleStore.dispatcherCb),exports.default=ModuleStore},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_underscore),JsxHtmlTranslationUtils=function(){function JsxHtmlTranslationUtils(){_classCallCheck(this,JsxHtmlTranslationUtils)}return _createClass(JsxHtmlTranslationUtils,null,[{key:"get$elemHtml",value:function($elem){return _underscore2.default.reduce($elem,function(memo,elem){return memo+=$(elem).wrap("<div />").parent().html()||""},"")}},{key:"getStyleMap",value:function(styleString){var keyTranslationFn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(v){return v.trim()};if(!styleString||0===styleString.length)return{};var styles=styleString.split(";");return _underscore2.default.reduce(styles,function(memo,stylePart){var styleParts=stylePart.split(":");return styleParts.length<2||0===styleParts[0].trim().length||0===styleParts[1].trim().length?memo:_underscore2.default.tap(memo,function(m){return m[keyTranslationFn(styleParts[0])]=styleParts[1].trim()})},{})}},{key:"getStyleString",value:function(props){return _underscore2.default.reduce(props,function(memo,v,k){return(v||0===v)&&(memo+=JsxHtmlTranslationUtils.jsxKeyToCssKey(k)+":"+v+";"),memo},"")}},{key:"cssKeyToJsxKey",value:function(cssKey){return cssKey.trim().replace(/-([a-z])/g,function(str,m1){return m1.toUpperCase()})}},{key:"jsxKeyToCssKey",value:function(jsxKey){return jsxKey.trim().replace(/([A-Z])/g,"-$1").toLowerCase()}},{key:"get$wrappingByNodeName",value:function($elem,nodeName){for(var $cur=$elem.parent();$cur.length>0;){if($cur.is(nodeName))return $cur;$cur=$cur.parent()}return $()}},{key:"getSplitPx",value:function(allValues){return allValues.replace(/\s+/g,"").split("px").slice(0,-1)}}]),JsxHtmlTranslationUtils}();JsxHtmlTranslationUtils.getStyleProps=function(str){return JsxHtmlTranslationUtils.getStyleMap(str,JsxHtmlTranslationUtils.cssKeyToJsxKey)},exports.default=JsxHtmlTranslationUtils},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactClassUtils=__webpack_require__(7),FormDecorator=function(ComposedCmp){var _class;return _class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.formInputs={},_this.state={shouldInputsValidate:!1},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"registerFormInput",value:function(cmp){cmp&&(cmp.props.name||console.warn("cmp has no props.name for registerFormInput"),this.formInputs[cmp.props.name]=cmp)}},{key:"unregisterFormInput",value:function(cmp){cmp&&delete this.formInputs[cmp.props.name]}},{key:"isValid",value:function(){var formInputsToBeValidated=_underscore2.default.reject(this.formInputs,function(input){return!1===input.props.shouldValidate});return _underscore2.default.every(formInputsToBeValidated,function(cmp){return cmp.isValid()})}},{key:"setShouldValidate",value:function(shouldValidate){this.setState({shouldInputsValidate:shouldValidate})}},{key:"trySubmit",value:function(submitCb){return this.isValid()?submitCb()||!0:(this.setState({shouldInputsValidate:!0}),!1)}},{key:"render",value:function(){var decoratorProps={isValid:this.isValid,setShouldValidate:this.setShouldValidate,trySubmit:this.trySubmit,registerFormInput:this.registerFormInput,unregisterFormInput:this.unregisterFormInput,shouldInputsInitiallyValidate:this.state.shouldInputsValidate};return _react2.default.createElement(ComposedCmp,_extends({},decoratorProps,this.props))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"registerFormInput",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"registerFormInput"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"unregisterFormInput",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"unregisterFormInput"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isValid",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"isValid"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setShouldValidate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"setShouldValidate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"trySubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"trySubmit"),_class.prototype),_class};exports.default=FormDecorator},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unwrapTags=exports.wrapInTags=exports.formatTagName=exports.unescape=exports.isTruthyOrEmptyString=exports.toStringOrEmptyString=exports.truncateFileNameWithExtension=exports.truncate=exports.capitalize=exports.validateEmail=void 0;var _constants=__webpack_require__(3),_constants2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_constants),validateEmail=function(email){if(!email)return!1;if(email.length>254)return!1;if(!_constants2.default.EMAIL_REGEX.test(email))return!1;var parts=email.split("@");return!(parts[0].length>64)&&!parts[1].split(".").some(function(p){return p.length>63})},capitalize=function(str){if(!str)return str;var splitted=str.toString().split("");return splitted.unshift(splitted.shift().toUpperCase()),splitted.join("")},truncate=function(value){var maxLength=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,shouldAddEllipsis=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!value)return"";if(value.length<=maxLength)return value;var newString=value.slice(0,maxLength+1);return shouldAddEllipsis?newString+"...":newString},truncateFileNameWithExtension=function(value){var maxLength=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;return value?value.length<=maxLength?value:""+truncate(value,maxLength,!0)+value.slice(value.length-3,value.length):value},toStringOrEmptyString=function(value){return void 0!==value&&null!==value?value.toString():""},isTruthyOrEmptyString=function(value){return value||"string"==typeof value},unescape=function(value){return $("<textarea/>").html(value).text()},formatTagName=function(tagName){return"<"+tagName.toLowerCase()+">"},wrapInTags=function(tagName){var whitespace=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n";return function(markup){return"<"+tagName+">"+whitespace+markup+whitespace+"</"+tagName+">"}},unwrapTags=function(tagName){var openingTag="<"+tagName+">",closingTag="</"+tagName+">";return function(markup){var indexOfOpeningTag=markup.indexOf(openingTag),indexOfClosingTag=markup.lastIndexOf(closingTag);return markup.slice(0,indexOfOpeningTag)+markup.slice(indexOfOpeningTag+openingTag.length,indexOfClosingTag)+markup.slice(indexOfClosingTag+closingTag.length)}},StringUtils={validateEmail:validateEmail,capitalize:capitalize,truncate:truncate,truncateFileNameWithExtension:truncateFileNameWithExtension,toStringOrEmptyString:toStringOrEmptyString,isTruthyOrEmptyString:isTruthyOrEmptyString,unescape:unescape,formatTagName:formatTagName,wrapInTags:wrapInTags,unwrapTags:unwrapTags};exports.default=StringUtils,exports.validateEmail=validateEmail,exports.capitalize=capitalize,exports.truncate=truncate,exports.truncateFileNameWithExtension=truncateFileNameWithExtension,exports.toStringOrEmptyString=toStringOrEmptyString,exports.isTruthyOrEmptyString=isTruthyOrEmptyString,exports.unescape=unescape,exports.formatTagName=formatTagName,exports.wrapInTags=wrapInTags,exports.unwrapTags=unwrapTags},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function initState(){user={profile:{first_name:"",last_name:""},scopes:[_constants2.default.SCOPES.MARKETING_CAMPAIGNS.READ,_constants2.default.SCOPES.TRANSACTIONAL_TEMPLATES.READ],featureToggles:[bifFeature],username:"",email:"",credits:{is_hard_limit:!1,remain:0}},timezone=void 0,hasFetchedUser=!1,signupStatus=void 0}function setUser(usr){_underscore2.default.extend(user,_underscore2.default.omit(usr,function(v){return!v})),user.featureToggles=_underscore2.default.union(user.featureToggles,[bifFeature]),hasFetchedUser=!0}function setIsFree(isFreeArg){isFree=isFreeArg}function setPricingModel(pricingModelArg){pricingModel=pricingModelArg}function setSignupStatus(status){signupStatus=status}function setUserTimezone(tz){timezone=tz}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_baseStore=__webpack_require__(124),_baseStore2=_interopRequireDefault(_baseStore),timezone=void 0,user=void 0,hasFetchedUser=void 0,signupStatus=void 0,isFree=void 0,pricingModel=void 0,bifFeature={app_name:"nlvx",feature_name:_constants2.default.FEATURES.BIFURCATED},CurrentUserStore=_underscore2.default.extend({},_baseStore2.default,{getHasFetchedUser:function(){return hasFetchedUser},getUser:function(){return user},getIsFree:function(){return isFree},getPricingModel:function(){return pricingModel},getHasAccess:function(){var router=_locationUtils2.default.router,pathParts=_underscore2.default.map(router.routes,function(r){return r.path}),isMCPath=pathParts[1].match("marketing_campaigns");return _underscore2.default.contains(CurrentUserStore.getUser().scopes,isMCPath?_constants2.default.SCOPES.MARKETING_CAMPAIGNS.READ:_constants2.default.SCOPES.TRANSACTIONAL_TEMPLATES.READ)},getHasFeature:function(featureName){return _underscore2.default.contains(_underscore2.default.map(user.featureToggles,function(toggle){return toggle.feature_name}),featureName)},getHasEnoughCredits:function(sendRecipientCount){if(!hasFetchedUser||!user.credits.is_hard_limit)return!0;var remain=parseInt(user.credits.remain,10);return isNaN(remain)||remain>=sendRecipientCount},getIsVerified:function(){return!signupStatus||(signupStatus.email_complete||!signupStatus.email_required)&&(signupStatus.mfa_complete||!signupStatus.mfa_required)&&(signupStatus.whitelabel_complete||!signupStatus.whitelabel_required)},getUserTimezone:function(){return timezone},test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CURRENT_USER.FETCHED:setUser(action.currentUser),CurrentUserStore.emitChange();break;case _constants2.default.ACTIONS.CURRENT_USER.FETCHED_SIGNUP_STATUS:setSignupStatus(action.signupStatus),CurrentUserStore.emitChange();break;case _constants2.default.ACTIONS.CURRENT_USER.FETCHED_TIMEZONE:setUserTimezone(action.timezone),CurrentUserStore.emitChange();break;case _constants2.default.ACTIONS.CURRENT_USER.FETCHED_IS_FREE:setIsFree(action.isFree),CurrentUserStore.emitChange();break;case _constants2.default.ACTIONS.CURRENT_USER.FETCHED_PRICING_MODEL:setPricingModel(action.pricingModel),CurrentUserStore.emitChange()}}});initState(),CurrentUserStore.dispatchToken=_appDispatcher2.default.register(CurrentUserStore.dispatcherCb),exports.default=CurrentUserStore},function(module,exports,__webpack_require__){"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),Form=_react2.default.createClass({displayName:"Form",onSubmit:function(e){e&&e.preventDefault(),this.props.onSubmit&&this.props.onSubmit(e)},render:function(){return _react2.default.createElement("form",_extends({},this.props,{onSubmit:this.onSubmit}),this.props.children)}});module.exports=Form},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_momentTimezone=__webpack_require__(226),_momentTimezone2=_interopRequireDefault(_momentTimezone),DateUtils=function(){function DateUtils(){_classCallCheck(this,DateUtils)}return _createClass(DateUtils,null,[{key:"canParse",value:function(v){return!isNaN(Date.parse(v))}},{key:"hasCorrectFormat",value:function(v){return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(v)&&this.canParse(v)}},{key:"formatDateCustomFields",value:function(customFields){var _this=this,format=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"MM/DD/YYYY";return _underscore2.default.map(customFields,function(cf){return _underscore2.default.tap(cf,function(f){return f.value="date"===f.type?_this.formatValue(f.value,format):f.value})})}},{key:"formatValue",value:function(value){var format=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"llll",timezone=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"UTC";return""==value?value:$.isNumeric(value)?(0,_momentTimezone2.default)(parseInt(value)).format(format):(0,_momentTimezone2.default)(value).tz(timezone).format(format)}},{key:"convertToISOTimestamp",value:function(datestring){var dateSplits=datestring.split(" ");return dateSplits[0]+"T"+dateSplits[1]+"Z"}},{key:"convertDateToTimezone",value:function(datestring,timezone){var format=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"llll zz";return timezone?(0,_momentTimezone2.default)(datestring).tz(timezone.code).format(format):datestring}},{key:"getTimeAgo",value:function(isoDateString){var time=(0,_momentTimezone2.default)(isoDateString),formattedTime=time.format("MM/DD/YYYY [at] h:mm A zz"),relativeTime=time.calendar(new Date)+" "+time.format("zz");return 0===(0,_momentTimezone2.default)().diff(time,"days")?relativeTime:formattedTime}},{key:"getTodaysMorning",value:function(timezone){var hoursToAdd=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;if(timezone)return(0,_momentTimezone2.default)().tz(timezone.code).startOf("day").add(hoursToAdd,"hours")}},{key:"getTomorrowsMorning",value:function(timezone){var hoursToAdd=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;if(timezone)return(0,_momentTimezone2.default)().tz(timezone.code).add(1,"days").hours(hoursToAdd).startOf("hour")}},{key:"parseInTimezone",value:function(datestring,format,timezone){return _momentTimezone2.default.tz(datestring,format,timezone.code)}}]),DateUtils}();exports.default=DateUtils},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function onOpen(){$("body").addClass("is-select2-open")}function onClose(){$("body").removeClass("is-select2-open")}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes);__webpack_require__(1057);var _classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_reactClassUtils=__webpack_require__(7),_select2Css=__webpack_require__(1058),_select2Css2=_interopRequireDefault(_select2Css),_validated=__webpack_require__(492),_validated2=_interopRequireDefault(_validated),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),Select2=(_class=function(_React$Component){function Select2(){return _classCallCheck(this,Select2),_possibleConstructorReturn(this,(Select2.__proto__||Object.getPrototypeOf(Select2)).apply(this,arguments))}return _inherits(Select2,_React$Component),_createClass(Select2,[{key:"componentDidMount",value:function(){var _this2=this,$select=$(this.select);$select.val(this.props.value),$select.select2(this.getSelect2Options()).focus(function(){return $select.select2("open")}),$select.on("select2:open",onOpen),$select.on("select2:close",onClose),_underscore2.default.each(this.props.events,function(eventHandlerName,domEventName){var handler=_this2.props[eventHandlerName];handler&&$select.on(domEventName,function(e){var val=$select.val();handler(e,{value:val})})})}},{key:"shouldComponentUpdate",value:function(nextProps){try{return JSON.stringify(this.props)!==JSON.stringify(nextProps)}catch(e){return console.warn("select2 should component update: ",e),!0}}},{key:"componentDidUpdate",value:function(){var _this3=this,$select=$(this.select);$select.find("option[data-select2-tag]").remove(),setTimeout(function(){0===$(".select2-container--open").length&&$select.select2(_this3.getSelect2Options())})}},{key:"componentWillUnmount",value:function(){$(this.select).select2("destroy"),this.props.unregisterFormInput(this)}},{key:"getClassName",value:function(errors){return(0,_classnames2.default)(this.props.className,"input-select-wrap",{"is-required":_underscore2.default.contains(this.props.validations,"required"),"is-error":errors.length})}},{key:"getSelectData",value:function(){var _this4=this,selectData=this.props.data;return this.props.options.tags&&this.props.value&&_underscore2.default.isArray(this.props.value)&&this.props.value.forEach(function(val){_underscore2.default.filter(_this4.props.data,function(opt){return opt.name===val||opt.value===val}).length<1&&selectData.push({name:val,value:val})}),selectData}},{key:"getSelect2Options",value:function(){var SELECT2_OPTIONS={dropdownParent:$(this.dropdownParent),placeholder:this.props.hasLoadedData?this.props.placeholder||"Select "+_stringUtils2.default.capitalize(this.props.displayName):"Loading...",width:"100%"};return _underscore2.default.extend({},SELECT2_OPTIONS,this.props.options)}},{key:"isValid",value:function(){return this.props.isValid()}},{key:"render",value:function(){var _this5=this;this.props.registerFormInput(this);var errors=this.props.shouldValidate?this.props.getValidationErrors(this.props.value):[],id=_underscore2.default.uniqueId("select2-"+this.props.name),label=this.props.showLabel&&_react2.default.createElement("label",{className:"input-select-label",htmlFor:id},this.props.displayName,_react2.default.createElement("div",{className:"input-info-tooltip "+_select2Css2.default["select-2-tooltip"]},_react2.default.createElement(_tooltip2.default,{content:this.props.tooltipContent,position:this.props.tooltipPosition,length:this.props.tooltipLength}))),arrayMapper=function(option,i){return _react2.default.createElement("option",{disabled:!!option.disabled,key:i,value:option.value},option.name)},dataMapper=_underscore2.default.isArray(this.props.data)?arrayMapper:function(optionGroup,groupKey){return _react2.default.createElement("optgroup",{label:_stringUtils2.default.capitalize(groupKey),key:groupKey},_underscore2.default.map(optionGroup,arrayMapper))};return _react2.default.createElement("div",{className:this.getClassName(errors)},label,_react2.default.createElement("select",{id:id,value:this.props.value,multiple:this.props.options.multiple,ref:function(s){_this5.select=s},name:this.props.name,"data-role":this.props["data-role"],"data-index":this.props["data-index"],"data-style-key":this.props["data-style-key"],disabled:this.props.disabled,onChange:this.props.onChange},_underscore2.default.map(this.getSelectData(),dataMapper)),_react2.default.createElement("div",{ref:function(d){_this5.dropdownParent=d}}),errors.length>0?_underscore2.default.map(errors,function(e,i){return _react2.default.createElement("p",{className:"invalid-label "+_select2Css2.default["validation-error-text"],key:"error-"+i},e)}):null)}}]),Select2}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getClassName",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getClassName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getSelectData",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getSelectData"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getSelect2Options",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getSelect2Options"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isValid",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"isValid"),_class.prototype),_class);Select2.propTypes={data:_propTypes2.default.oneOfType([_propTypes2.default.array,_propTypes2.default.object]),events:_propTypes2.default.object,options:_propTypes2.default.object,value:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number,_propTypes2.default.array]),isValid:_propTypes2.default.func.isRequired,onChange:_propTypes2.default.func.isRequired,disabled:_propTypes2.default.bool,name:_propTypes2.default.string.isRequired,displayName:_propTypes2.default.string.isRequired,placeholder:_propTypes2.default.string,hasLoadedData:_propTypes2.default.bool,className:_propTypes2.default.string,showLabel:_propTypes2.default.bool,tooltipContent:_propTypes2.default.node,tooltipPosition:_propTypes2.default.oneOf(["up","right","down","left"]),tooltipLength:_propTypes2.default.oneOf(["small","medium","large","xlarge","fit"]),"data-role":_propTypes2.default.string,"data-index":_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]),"data-style-key":_propTypes2.default.string,validations:_propTypes2.default.array,shouldValidate:_propTypes2.default.bool,getValidationErrors:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func,unregisterFormInput:_propTypes2.default.func},Select2.defaultProps={data:[],events:{change:"onChange","select2:open":"onOpen","select2:close":"onClose","select2:select":"onSelect","select2:unselect":"onUnselect"},options:{},value:void 0,disabled:!1,placeholder:"",hasLoadedData:!0,className:"",showLabel:!0,tooltipContent:"",tooltipPosition:"up",tooltipLength:"small","data-role":void 0,"data-index":void 0,"data-style-key":void 0,validations:[],shouldValidate:!1,registerFormInput:function(){},unregisterFormInput:function(){}},exports.default=(0,_validated2.default)(Select2)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function PageTitle(props,context){var _classnames;context.router=context.router||{goBack:function(){}};var titleStyle=(0,_classnames4.default)((_classnames={},_defineProperty(_classnames,_pageTitleCss2.default["title-heading"],!0),_defineProperty(_classnames,_pageTitleCss2.default["segment-title"],props.isSegment),_classnames)),headerStyle=(0,_classnames4.default)(_defineProperty({},_pageTitleCss2.default["segment-heading"],props.isSegment));return _react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:"page-title",transitionEnterTimeout:300,transitionLeaveTimeout:300,transitionAppearTimeout:300,transitionAppear:!0},_react2.default.createElement("h1",{className:headerStyle},props.hasBackArrow?_react2.default.createElement("a",{className:"back-arrow "+_pageTitleCss2.default.arrow,onClick:props.goBack||context.router.goBack,"data-role":"go-back"}):null,_react2.default.createElement("span",{className:titleStyle},props.title,props.title?_react2.default.createElement("span",null," "):null),props.children))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_classnames3=__webpack_require__(10),_classnames4=_interopRequireDefault(_classnames3),_pageTitleCss=__webpack_require__(1078),_pageTitleCss2=_interopRequireDefault(_pageTitleCss);PageTitle.contextTypes={router:_react2.default.PropTypes.object},PageTitle.propTypes={hasBackArrow:_react2.default.PropTypes.bool,title:_react2.default.PropTypes.string,isSegment:_react2.default.PropTypes.bool,children:_react2.default.PropTypes.node},PageTitle.defaultProps={children:null,hasBackArrow:!1,title:"",isSegment:!1},exports.default=PageTitle},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function initState(){storeQueries=[],storeHasFetchedCollection=!1,allContactsCount=0}function setAllContactsCount(){var allContacts=_underscore2.default.find(storeQueries,function(q){return!q.id});allContacts&&allContactsCount&&(allContacts.count=allContactsCount)}function richMerge(oldQuery,newQuery){if(!oldQuery)return newQuery;var returnQuery=_extends({},oldQuery,newQuery);return!isNaN(parseInt(oldQuery.count,10))&&isNaN(parseInt(returnQuery.count,10))&&(returnQuery.count=oldQuery.count),returnQuery}function setCollection(queries){var newQueries=[];_underscore2.default.each(queries,function(query){var newQuery=_extends({},query),existing=_underscore2.default.find(storeQueries,function(q){return q.id.toString()===query.id.toString()&&q.type===query.type});newQueries.push(richMerge(existing,newQuery))}),storeQueries=newQueries,storeHasFetchedCollection=!0,setAllContactsCount()}function addQuery(newQuery,queryType){var indexOfExisting=_underscore2.default.findIndex(storeQueries,function(q){return q.id.toString()===newQuery.id.toString()&&q.type===queryType}),addedQuery=_extends({},richMerge(storeQueries[indexOfExisting],newQuery),{type:queryType});indexOfExisting<0?storeQueries.push(addedQuery):storeQueries[indexOfExisting]=addedQuery}function removeQuery(query){storeQueries=storeQueries.filter(function(q){return!(query.id===q.id&&query.type===q.type)})}function addList(newList){addQuery(newList,_constants2.default.QUERY_TYPES.LIST)}function updateListName(id,newName){_underscore2.default.find(storeQueries,function(q){return q.id.toString()===id.toString()}).name=newName}function addSegment(newSegment){addQuery(newSegment,_constants2.default.QUERY_TYPES.SEGMENT)}function updateSegment(segment){addSegment(segment)}function setAllContactsSize(size){allContactsCount=parseInt(size,10),setAllContactsCount()}function deleteQueries(listIds,segmentIds){storeQueries=_underscore2.default.reject(storeQueries,function(q){return _underscore2.default.contains(_underscore2.default.map(listIds,function(id){return id.toString()}),q.id.toString())&&q.type===_constants2.default.QUERY_TYPES.LIST}),storeQueries=_underscore2.default.reject(storeQueries,function(q){return _underscore2.default.contains(_underscore2.default.map(segmentIds,function(id){return id.toString()}),q.id.toString())&&q.type===_constants2.default.QUERY_TYPES.SEGMENT})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_clone=__webpack_require__(234),_clone2=_interopRequireDefault(_clone),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),storeQueries=void 0,storeHasFetchedCollection=void 0,allContactsCount=void 0,ListStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return storeHasFetchedCollection},getHasFetchedCollectionWithCounts:function(){return ListStore.getHasFetchedCollection()&&_underscore2.default.every(storeQueries,function(q){return!q.id||!isNaN(parseInt(q.count,10))})},getAllQueries:function(){return _clone2.default.deep(storeQueries)},getAllQueriesAsSelectOptions:function(){function map(queries){return _underscore2.default.chain(queries).filter(function(query){return query.id}).map(function(query){var count=isNaN(parseInt(query.count,10))?"":"("+query.count.toLocaleString()+")";return{id:query.id,type:query.type,name:query.name+" "+count,value:query.type+"-"+(query.id?query.id:0)}}).value()}return{lists:map(ListStore.getLists()),segments:map(ListStore.getSegments())}},getQueryByHyphenated:function(hyphenated){var parts=hyphenated.split("-");return parts[0]===_constants2.default.QUERY_TYPES.SEGMENT?ListStore.getSegmentById(parts[1]):ListStore.getListById(parts[1])},getQueriesForHyphenated:function(){var hyphenatedCollection=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return _underscore2.default.map(hyphenatedCollection,function(h){return ListStore.getQueryByHyphenated(h)})},getTotalRecipientCountForHyphenated:function(){var hyphenatedCollection=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],queries=ListStore.getQueriesForHyphenated(hyphenatedCollection);return _underscore2.default.reduce(queries,function(memo,query){return memo+(isNaN(parseInt(query.count,10))?0:query.count)},0)},getSegments:function(){return _clone2.default.deep(_underscore2.default.filter(storeQueries,function(q){return q.type===_constants2.default.QUERY_TYPES.SEGMENT}))},getSegmentById:function(id){return _underscore2.default.find(ListStore.getSegments(),function(s){return s.id.toString()===id.toString()})},getSegmentByName:function(name){return _underscore2.default.find(ListStore.getSegments(),function(s){return s.name.toLowerCase()===name.toLowerCase()})},getLists:function(){return _clone2.default.deep(_underscore2.default.filter(storeQueries,function(q){return q.type===_constants2.default.QUERY_TYPES.LIST}))},getListById:function(id){return _underscore2.default.find(ListStore.getLists(),function(list){return list.id.toString()===id.toString()})},getListByName:function(name){return _underscore2.default.find(ListStore.getLists(),function(list){return list.name.toLowerCase()===name.toLowerCase()})},getQueriesToCount:function(list,lists,segments){if(!list.listName){var listToCount=[],segmentsToCount=segments.filter(function(s){return null===s.list_id});if(""!==list.listId){var targetListId=parseInt(list.listId,10);listToCount=lists.filter(function(l){return l.id===targetListId}),segmentsToCount=segments.filter(function(s){return s.list_id===targetListId||null===s.list_id})}return[].concat(_toConsumableArray(listToCount),_toConsumableArray(segmentsToCount))}},getAllContactsSize:function(){return allContactsCount},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.LIST.FETCHED:addList(_extends({},action.list,{isLoadingCount:!1})),ListStore.emitChange();break;case _constants2.default.ACTIONS.SEGMENT.FETCHED:addSegment(_extends({},action.segment,{isLoadingCount:!1})),ListStore.emitChange();break;case _constants2.default.ACTIONS.QUERIES.FETCHED:setCollection(action.queries),ListStore.emitChange();break;case _constants2.default.ACTIONS.SEGMENTS.CREATED:addSegment(action.segment),ListStore.emitChange();break;case _constants2.default.ACTIONS.QUERIES.DELETED:removeQuery(action.query),ListStore.emitChange();break;case _constants2.default.ACTIONS.SEGMENTS.UPDATED:updateSegment(action.segment),ListStore.emitChange();break;case _constants2.default.ACTIONS.LIST.UPDATED_NAME:updateListName(action.id,action.newName),ListStore.emitChange();break;case _constants2.default.ACTIONS.QUERIES.ALL_COUNT_FETCHED:case _constants2.default.ACTIONS.RECIPIENTS.GOT_ALL_CONTACTS:setAllContactsSize(action.count),ListStore.emitChange();break;case _constants2.default.ACTIONS.QUERIES.DELETED_BATCH:deleteQueries(action.listIds,action.segmentIds),ListStore.emitChange();break;case _constants2.default.ACTIONS.QUERIES.LOADING_QUERY_COUNT:addQuery({id:action.id,isLoadingCount:!0},action.queryType),ListStore.emitChange()}}});initState(),ListStore.dispatchToken=_appDispatcher2.default.register(ListStore.dispatcherCb),exports.default=ListStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function create(name){return $.post(baseUrl+"/lists",{list:{name:name}})}function fetchAllCount(){return _appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.QUERIES.LOADING_QUERY_COUNT,id:"",queryType:_constants2.default.QUERY_TYPES.LIST}),$.getJSON(baseUrl+"/total_recipient_count.json").then(function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.QUERIES.ALL_COUNT_FETCHED,count:json.count}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.LIST.FETCHED,list:_extends({},json,{id:"",type:_constants2.default.QUERY_TYPES.LIST})})},function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.LIST.FETCH_ERROR,notificationType:"danger"})})}function deleteAllContacts(){return $.ajax({url:baseUrl+"/contacts/delete_all_contacts.json",method:"DELETE"}).done(function(data){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:data.message,notificationType:"success"})}).fail(function(xhr){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:xhr.responseJSON&&xhr.responseJSON.message||_constants2.default.NOTIFICATIONS.RECIPIENTS.DELETE_ALL_ERROR,notificationType:"danger"})})}function deleteQuery(query){var shouldDeleteContacts=arguments.length>1&&void 0!==arguments[1]&&arguments[1],isList=getIsList(query);return $.ajax({url:baseUrl+"/"+(isList?"lists":"segments")+"/"+query.id+".json",method:"DELETE",data:{delete_contacts:shouldDeleteContacts||void 0}}).done(function(data){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.QUERIES.DELETED,query:query}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:data.message,notificationType:"success"})}).fail(function(xhr){var genericErrorMessage=isList?_constants2.default.NOTIFICATIONS.LIST.DELETE_ERROR:_constants2.default.NOTIFICATIONS.SEGMENT.DELETE_ERROR;_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:xhr.responseJSON&&xhr.responseJSON.message||genericErrorMessage,notificationType:"danger"})})}function exportQuery(query){var isList=getIsList(query);return $.ajax({url:baseUrl+"/"+(isList?"lists":"segments")+"/"+query.id+"/export.json"}).then(function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:isList?_constants2.default.NOTIFICATIONS.LIST.EXPORTED:_constants2.default.NOTIFICATIONS.SEGMENT.EXPORTED,notificationType:"success"})},function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:isList?_constants2.default.NOTIFICATIONS.LIST.EXPORT_ERROR:_constants2.default.NOTIFICATIONS.SEGMENT.EXPORT_ERROR,notificationType:"danger"})})}function batchDeleteQueries(listIds,segmentIds){$.ajax({url:baseUrl+"/contacts/batch_delete.json",method:"DELETE",data:{"[list]":listIds,"[segment]":segmentIds},success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.QUERIES.DELETED_BATCH,listIds:listIds,segmentIds:segmentIds}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:json.msg,notificationType:"success"})},error:function(resp){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:resp.responseJSON.msg,notificationType:resp.responseJSON.msg_type}),ListActions.fetchAllQueries()}})}function delayRequestForContactCounts(callback,args){var _this=this,duration=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;setTimeout(function(){return callback.apply(_this,args)},duration)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.create=create,exports.fetchAllCount=fetchAllCount,exports.deleteAllContacts=deleteAllContacts,exports.deleteQuery=deleteQuery,exports.exportQuery=exportQuery,exports.batchDeleteQueries=batchDeleteQueries,exports.delayRequestForContactCounts=delayRequestForContactCounts;var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_segmentActions=__webpack_require__(186),_segmentActions2=_interopRequireDefault(_segmentActions),baseUrl="/marketing_campaigns",getIsList=function(query){return query.type===_constants2.default.QUERY_TYPES.LIST},ListActions={updateListName:function(id,name){$.ajax({url:baseUrl+"/lists/"+id+".json",method:"PATCH",data:{name:name},success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.LIST.UPDATED_NAME,newName:name,id:id})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.LIST.UPDATE_NAME_ERROR,notificationType:"danger"})}})},fetchListAndCount:function(id){return _appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.QUERIES.LOADING_QUERY_COUNT,queryType:_constants2.default.QUERY_TYPES.LIST,id:id}),$.ajax({url:baseUrl+"/lists/"+id+".json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.LIST.FETCHED,list:json.list})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.LIST.FETCHED,list:{id:id,type:_constants2.default.QUERY_TYPES.LIST}}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.LIST.FETCH_ERROR,notificationType:"danger"})}})},fetchAllQueries:function(){var shouldGetCounts=arguments.length>0&&void 0!==arguments[0]&&arguments[0];$.ajax({url:baseUrl+"/queries.json",method:"GET",success:function(json){var queries=json.queries;_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.QUERIES.FETCHED,queries:queries}),shouldGetCounts&&_underscore2.default.each(_underscore2.default.filter(queries,function(q){return q.id}),function(query){query.type===_constants2.default.QUERY_TYPES.LIST?ListActions.fetchListAndCount(query.id):_segmentActions2.default.fetchSegmentAndCount(query.id)})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.LISTS.FETCH_ERROR,notificationType:"danger"})}})}};exports.default=ListActions},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SideModal(props){var classname=(0,_classnames2.default)(props.className,_sideCss2.default.side);return _react2.default.createElement("div",{className:classname},props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_modal=__webpack_require__(227),_actions=__webpack_require__(501),_body=__webpack_require__(502),_header=__webpack_require__(503),_sideCss=__webpack_require__(1066),_sideCss2=_interopRequireDefault(_sideCss);SideModal.propTypes={children:_propTypes2.default.node,className:_propTypes2.default.string},SideModal.defaultProps={children:null,className:void 0},module.exports={SideModal:(0,_modal.Modal)(SideModal,"side-modal "+_sideCss2.default["persistent-modal"]),SideRouteModal:(0,_modal.RouteModal)(SideModal,"side-modal"),WideSideRouteModal:(0,_modal.RouteModal)(SideModal,"side-modal "+_sideCss2.default["wide-content"]),SideModalActions:_actions.SideModalActions,SideModalBody:_body.SideModalBody,SideModalHeader:_header.SideModalHeader}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function initState(){storeCollection=[],storeHasFetchedCollection=!1,storeHasFetchedCategories=!1,storeCampaignQueries=[],storeStatuses=[],storeCurrentPage=1,storeTotalPages=1}function hackToNormalizeIndividualCampaigns(campaign){return Array.isArray(campaign.categories)&&"number"==typeof campaign.categories[0]?_extends({},campaign,{categories:campaign.categories.map(function(id,index){return{id:id,name:campaign.categoryNames[index]}})}):campaign}function addItem(camp){var shouldAppend=arguments.length>1&&void 0!==arguments[1]&&arguments[1],campaign=hackToNormalizeIndividualCampaigns(camp),existingCampaign=_underscore2.default.find(storeCollection,function(c){return c.id===campaign.id});if(existingCampaign)return void _underscore2.default.extend(existingCampaign,campaign);shouldAppend?storeCollection.push(campaign):storeCollection.unshift(campaign)}function setCollection(collection){_underscore2.default.each(collection,function(c){return addItem(c,!0)}),storeHasFetchedCollection=!0}function setTotalPages(totalPages){storeTotalPages=totalPages}function setCurrentPage(currentPage){storeCurrentPage=currentPage}function setCampaignQueries(campaignQueries){storeCampaignQueries=_underscore2.default.union(storeCampaignQueries,_underscore2.default.map(campaignQueries.lists,function(list){return _extends({},list,{type:_constants2.default.QUERY_TYPES.LIST})})),storeCampaignQueries=_underscore2.default.union(storeCampaignQueries,_underscore2.default.map(campaignQueries.segments,function(seg){return _extends({},seg,{type:_constants2.default.QUERY_TYPES.SEGMENT})}))}function setStatuses(statuses){storeStatuses=statuses}function setCategoriesForCollection(collection){_underscore2.default.each(collection,function(campaign){var c=_extends({},campaign);c.categories=_underscore2.default.sortBy(c.categories,"name"),addItem(c,!0)}),storeHasFetchedCategories=!0}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),storeCollection=[],storeHasFetchedCollection=!1,storeHasFetchedCategories=!1,storeCampaignQueries=[],storeStatuses=[],storeCurrentPage=1,storeTotalPages=1,removeItems=function(){var ids=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];storeCollection=storeCollection.filter(function(item){return!ids.includes(item.id)})},updateItem=function(newItem){var item=_underscore2.default.find(storeCollection,function(c){return c.id.toString()===newItem.id.toString()});$.extend(!0,item,newItem)},CampaignsStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return storeHasFetchedCollection},getHasFetchedCategories:function(){return storeHasFetchedCategories},getCollection:function(){return JSON.parse(JSON.stringify(storeCollection))},getById:function(id){if(id)return _underscore2.default.find(storeCollection,function(c){return c.id&&c.id.toString()===id.toString()})},getCurrentPage:function(){return storeCurrentPage},getTotalPages:function(){return storeTotalPages},getStatusIdByName:function(statusName){var status=_underscore2.default.find(storeStatuses,function(s){return s.name===statusName});return status?status.id:void 0},getCampaignQueriesForCampaign:function(campaignId){if(campaignId)return _underscore2.default.filter(storeCampaignQueries,function(cq){return cq.campaign_id.toString()===campaignId.toString()})},getCampaignListsForCampaign:function(campaignId){return campaignId?_underscore2.default.filter(storeCampaignQueries,function(cq){return cq.campaign_id.toString()===campaignId.toString()&&cq.type===_constants2.default.QUERY_TYPES.LIST}):[]},getCampaignSegmentsForCampaign:function(campaignId){return campaignId?_underscore2.default.filter(storeCampaignQueries,function(cq){return cq.campaign_id.toString()===campaignId.toString()&&cq.type===_constants2.default.QUERY_TYPES.SEGMENT}):[]},getStatuses:function(){return storeStatuses},getStatusesAsSelectOptions:function(){var filteredStatuses=_underscore2.default.filter(storeStatuses,function(status){return"Paused"!==status.name});return[{name:"All",id:_constants2.default.CAMPAIGNS.STATUS_FILTERS.ALL}].concat(_toConsumableArray(filteredStatuses))},getHasFetchedStatuses:function(){return storeStatuses.length>0},getStatusById:function(id){var missingStatus={name:"unknown"};return id?_underscore2.default.find(storeStatuses,function(s){return s.id.toString()===id.toString()})||missingStatus:missingStatus},getStatusNameById:function(statusId){return CampaignsStore.getStatusById(statusId).name},getCampaignStatus:function(campaign){return campaign?CampaignsStore.getStatusById(campaign.campaign_status_id):{name:""}},getCampaignsWithStatuses:function(statuses){var matchingStatuses=_underscore2.default.filter(storeStatuses,function(s){return _underscore2.default.contains(statuses,s.name)}),matchingStatusIds=_underscore2.default.map(matchingStatuses,function(s){return s.id});return _underscore2.default.filter(storeCollection,function(campaign){return _underscore2.default.contains(matchingStatusIds,campaign.campaign_status_id)})},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.FETCHED:setCollection(action.campaigns),setTotalPages(action.pages?action.pages:Math.ceil(action.campaigns.length/25)),setCurrentPage(action.page?action.page:1),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.GOT_BY_ID:addItem(action.campaign),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.FETCHED_CAMPAIGN_QUERIES:setCampaignQueries(action.campaignQueries),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.FETCHED_STATUSES:setStatuses(action.statuses),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.FETCHED_ALL_CAMPAIGN_CATEGORIES:setCategoriesForCollection(action.campaignCategories),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.CREATED:addItem(action.campaign),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.DELETED:removeItems([action.campaignId]),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.BATCH_DELETED:removeItems(action.campaignIds),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.UNSCHEDULED:updateItem({id:action.campaignId,campaign_status_id:CampaignsStore.getStatusIdByName(_constants2.default.CAMPAIGNS.STATUSES.DRAFT)}),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.CANCELED:updateItem({id:action.campaignId,campaign_status_id:CampaignsStore.getStatusIdByName(_constants2.default.CAMPAIGNS.STATUSES.CANCELED)}),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.SEND:updateItem({id:action.campaignId,campaign_status_id:CampaignsStore.getStatusIdByName(_constants2.default.CAMPAIGNS.STATUSES.SCHEDULED)}),CampaignsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.SAVED:updateItem(action.campaign),CampaignsStore.emitChange()}}});initState(),CampaignsStore.dispatchToken=_appDispatcher2.default.register(CampaignsStore.dispatcherCb);var campaignPropType={ab_test_id:_propTypes2.default.number,categories:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.number.isRequired,name:_propTypes2.default.string.isRequired})),campaign_status_id:_propTypes2.default.number.isRequired,created_at:_propTypes2.default.string.isRequired,custom_unsub_link:_propTypes2.default.string,editor:_propTypes2.default.string,editor_id:_propTypes2.default.number,has_plain_text_lock:_propTypes2.default.number,id:_propTypes2.default.number.isRequired,ip_pool:_propTypes2.default.string,name:_propTypes2.default.string.isRequired,needs_winner_picked:_propTypes2.default.bool,scheduled_at:_propTypes2.default.number,sent_at:_propTypes2.default.number,subscription_group_id:_propTypes2.default.number,stats:_propTypes2.default.shape({bounces:_propTypes2.default.number,bounces_percentage:_propTypes2.default.number,bounces_unique:_propTypes2.default.number,clicks:_propTypes2.default.number,clicks_percentage:_propTypes2.default.number,clicks_unique:_propTypes2.default.number,clicks_unique_percentage:_propTypes2.default.number,delivers:_propTypes2.default.number,delivers_percentage:_propTypes2.default.number,opens:_propTypes2.default.number,opens_percentage:_propTypes2.default.number,opens_unique:_propTypes2.default.number,opens_unique_percentage:_propTypes2.default.number,unsubscribes:_propTypes2.default.number,unsubscribes_percentage:_propTypes2.default.number,unsubscribes_unique:_propTypes2.default.number}),timezone_offset:_propTypes2.default.number,updated_at:_propTypes2.default.string.isRequired,user_id:_propTypes2.default.number.isRequired};module.exports={CampaignsStore:CampaignsStore,PAGE_LENGTH:25,campaignPropType:campaignPropType}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.baseUrl=void 0;var _arguments=arguments,_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_momentTimezone=__webpack_require__(226),_momentTimezone2=_interopRequireDefault(_momentTimezone),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),baseUrl=exports.baseUrl="/marketing_campaigns/campaigns",CampaignsActions={fetchAll:function(){var isLean=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return CampaignsActions.fetch(void 0,isLean)},fetch:function(campaignPage,isLean){var fetchStart=Date.now();return $.ajax({url:baseUrl+".json",method:"GET",data:{page:campaignPage,is_lean:isLean},dataType:"json",success:function(json){var fetchEnd=Date.now(),loadTime=fetchEnd-fetchStart,campaigns=json.campaigns,totalPages=json.pages,page=json.page;_analyticsUtils2.default.track("campaigns_fetched",{islean:isLean,loadTime:loadTime,campaignCount:campaigns.length}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.FETCHED,campaigns:campaigns,totalPages:totalPages,page:page})},error:function(){var _console;_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.FETCH_ERROR,notificationType:"danger"});for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(_console=console).error.apply(_console,["Ajax error while trying to fetch campaigns."].concat(args))}})},getById:function(id){return $.ajax({url:baseUrl+"/"+id+".json",method:"GET",dataType:"json",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.GOT_BY_ID,campaign:json})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.GET_BY_ID_ERROR,notificationType:"danger"});for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];console.error("Ajax error while trying to fetch campaigns.",args)}})},save:function(campaign){return $.ajax({url:baseUrl+"/"+campaign.id+".json",method:"PATCH",data:campaign,dataType:"json",statusCode:{403:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.FORBIDDEN_SAVE_ERROR,notificationType:"danger"}),_locationUtils2.default.router.replace("/marketing_campaigns/ui/campaigns")}},success:function(response){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.SAVED,name:campaign.campaign.name,campaign:{id:campaign.id,updated_at:_momentTimezone2.default.tz(response.updatedAt,"UTC").format("YYYY-MM-DD HH:mm:ss UTC"),scheduled_at:Math.ceil(_momentTimezone2.default.tz(response.scheduledAt,"UTC").valueOf()/1e3)}}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.CLEAR,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.SAVE_ERROR})},error:function(xhr){"401"!==xhr.status.toString()&&_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:xhr.responseJSON&&xhr.responseJSON.errors?xhr.responseJSON.errors:_constants2.default.NOTIFICATIONS.CAMPAIGNS.SAVE_ERROR,notificationType:"danger"})}})},showSendConfirmation:function(){_locationUtils2.default.router.push(_locationUtils2.default.router.location.pathname+"/send")},hideSendConfirmation:function(){_locationUtils2.default.removeFromPath("/send",!1)},sendTest:function(campaignId,emails,isDnd){var emailsArr=emails.trim()?emails.split(",").map(function(e){return e.trim()}):[];return $.ajax({url:baseUrl+"/"+campaignId+"/send_test.json",method:"POST",data:{to:emailsArr},dataType:"json",success:function(){_analyticsUtils2.default.trackEditor("test_email",{source:_analyticsUtils2.default.getEditorType(isDnd),recipients:emailsArr.length}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.SEND_TEST}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.TEST_SEND_SUCCESS,notificationType:"success"})},error:function(response){_underscore2.default.each(response.responseJSON.errors,function(error){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:error.message,notificationType:"danger"})})}})},validate:function(campaignJson){return $.ajax({url:baseUrl+"/"+campaignJson.id+"/validate.json",method:"POST",dataType:"json",data:campaignJson,success:function(response){response.valid||(_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.messages,notificationType:"danger"}),_analyticsUtils2.default.trackEditor("campaign_validation_error",{message:response.messages}))},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.VALIDATION_ERROR,notificationType:"danger"})}})},fetchAllStatuses:function(){return $.ajax({url:baseUrl+"/statuses.json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.FETCHED_STATUSES,statuses:json.statuses})},error:function(){console.error("Ajax error while trying to fetch all statuses."),console.log(_arguments)}})},fetchAllCampaignCategories:function(){return $.ajax({url:baseUrl+"/categories.json",method:"GET"}).done(function(data){var campaignCategories=data.map(function(c){return{id:c.campaign_id,categories:c.campaign_categories}});_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.FETCHED_ALL_CAMPAIGN_CATEGORIES,campaignCategories:campaignCategories})})},fetchCampaignQueries:function(campaignId){return $.ajax({url:baseUrl+"/"+campaignId+"/queries.json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.FETCHED_CAMPAIGN_QUERIES,campaignQueries:json})},error:function(){console.error("Ajax error while trying to fetch campaign queriess."),console.log(_arguments)}})},createFromTemplate:function(templateID){function tryCreate(){currentTry+=1;var data={campaign:{content_source:"template",template_id:templateID}};editorID&&(data.campaign.editor_id=editorID),$.ajax({url:baseUrl+".json",method:"POST",data:data,dataType:"json",success:function(response){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.CREATED,campaign:response}),useBifurcated?_locationUtils2.default.set("/marketing_campaigns/ui/campaigns/"+response.id+"/edit"):_locationUtils2.default.set("/marketing_campaigns/campaigns/"+response.id+"/edit#visual-editor")},error:function(xhr){for(var _console2,_len3=arguments.length,rest=Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++)rest[_key3-1]=arguments[_key3];if((_console2=console).log.apply(_console2,["Ajax error while creating campaign from template.",xhr].concat(rest)),"403"===xhr.status.toString()&&currentTry<2)return void setTimeout(tryCreate,500);var errorMsg=xhr.responseJSON&&xhr.responseJSON.error||"Your campaign could not be created, please try again in a few moments.";_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:errorMsg,notificationType:"danger"}),_locationUtils2.default.set("/marketing_campaigns/ui/campaigns")}})}var editorID=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,useBifurcated=arguments.length>2&&void 0!==arguments[2]&&arguments[2],currentTry=0;tryCreate()},createFromHTML:function(html){function tryCreate(){currentTry+=1;var data={campaign:{content_source:"import",content:html}};editorID&&(data.campaign.editor_id=editorID),$.ajax({url:baseUrl+".json",method:"POST",data:data,dataType:"json",success:function(response){console.log(response),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.CREATED,campaign:response}),useBifurcated?_locationUtils2.default.set("/marketing_campaigns/ui/campaigns/"+response.id+"/edit"):_locationUtils2.default.set("/marketing_campaigns/campaigns/"+response.id+"/edit#visual-editor")},error:function(xhr){for(var _console3,_len4=arguments.length,rest=Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++)rest[_key4-1]=arguments[_key4];if((_console3=console).log.apply(_console3,["Ajax error while creating campaign from html.",xhr].concat(rest)),"403"===xhr.status.toString()&&currentTry<2)return void setTimeout(tryCreate,500);var errorMsg=xhr.responseJSON&&xhr.responseJSON.error||"Your campaign could not be created, please try again in a few moments.";_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:errorMsg,notificationType:"danger"}),_locationUtils2.default.set("/marketing_campaigns/ui/campaigns")}})}var editorID=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,useBifurcated=arguments.length>2&&void 0!==arguments[2]&&arguments[2],currentTry=0;tryCreate()},delete:function(id){return $.ajax({url:baseUrl+"/"+id+".json",method:"DELETE",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.DELETED,campaignId:id}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.DELETE_SUCCESS,notificationType:"success"})},error:function(){var _console4;_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.DELETE_ERROR,notificationType:"danger"});for(var _len5=arguments.length,args=Array(_len5),_key5=0;_key5<_len5;_key5++)args[_key5]=arguments[_key5];(_console4=console).error.apply(_console4,["Ajax error while trying to delete a campaign."].concat(args))}})},deleteBulk:function(ids){return $.ajax({url:""+baseUrl,method:"DELETE",data:{campaigns_to_be_deleted:ids},success:function(json){var deletedCampaigns=json.campaignsDeleted,notDeletedCampaigns=json.campaignsNotDeleted;notDeletedCampaigns&&notDeletedCampaigns.length?_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.DELETE_BULK_ERROR,notificationType:"danger"}):_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.DELETE_BULK_SUCCESS,notificationType:"success"}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.BATCH_DELETED,campaignIds:deletedCampaigns})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.DELETE_BULK_ERROR,notificationType:"danger"})}})},statsExportBulk:function(ids){_locationUtils2.default.set(baseUrl+"/batch_stat_export?"+jQuery.param({campaigns_to_be_exported:ids}))},duplicate:function(id){return $.ajax({url:baseUrl+"/"+id+"/duplicate.json",method:"POST",dataType:"json",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.CREATED,campaign:json})},error:function(xhr){var errorMsg=xhr.responseJSON&&xhr.responseJSON.error||"Your campaign could not be created, please try again in a few moments.";_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:errorMsg,notificationType:"danger"})}})},toTemplate:function(id,editorParam){var editor=editorParam||null;return $.ajax({url:"/marketing_campaigns/templates/create_from_campaign/"+id+".json",data:{editor:editor},method:"POST",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.MARKETING_TEMPLATES.TEMPLATE_CREATED,template:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"Success! You created a new template.",notificationType:"success"})}})},edit:function(campaignId){_locationUtils2.default.router.push("/marketing_campaigns/ui/campaigns/"+campaignId+"/edit")},send:function(campaignId){var shouldSendImmediately=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return $.ajax({url:baseUrl+"/"+campaignId+"/send.json",method:"POST",dataType:"json",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.SEND,campaignId:campaignId}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:shouldSendImmediately?_constants2.default.NOTIFICATIONS.CAMPAIGNS.SEND_SUCCESS:_constants2.default.NOTIFICATIONS.CAMPAIGNS.SCHEDULE_SUCCESS,notificationType:"success",notificationAction:function(){return CampaignsActions.unschedule(campaignId,shouldSendImmediately,!0)},notificationActionText:shouldSendImmediately?"Undo send.":"Unschedule.",hasX:!0,shouldAutoHide:!0,shouldShowIcon:!0,timeShouldBeVisible:6e4})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:shouldSendImmediately?_constants2.default.NOTIFICATIONS.CAMPAIGNS.SEND_ERROR:_constants2.default.NOTIFICATIONS.CAMPAIGNS.SCHEDULE_ERROR,notificationType:"danger"})}})},unschedule:function(id){var wasSentImmediately=arguments.length>1&&void 0!==arguments[1]&&arguments[1],wasUnscheduledViaNotification=arguments.length>2&&void 0!==arguments[2]&&arguments[2],initialMessage=wasSentImmediately?"Undoing send...":"Unscheduling...";return _appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:initialMessage,shouldUpdateExistingMessage:wasUnscheduledViaNotification,previousMessage:wasSentImmediately?_constants2.default.NOTIFICATIONS.CAMPAIGNS.SEND_SUCCESS:_constants2.default.NOTIFICATIONS.CAMPAIGNS.SCHEDULE_SUCCESS,notificationType:"success",hasX:!1,shouldAutoHide:!1,shouldShowIcon:!1}),$.ajax({url:baseUrl+"/"+id+"/unschedule.json",method:"PUT",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.UNSCHEDULED,campaignId:id}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"Success! Your campaign has returned to draft status.",shouldUpdateExistingMessage:!0,previousMessage:initialMessage,notificationType:"success",notificationAction:function(){return CampaignsActions.edit(id)},notificationActionText:"Edit your campaign.",hasX:!0,shouldAutoHide:!0,shouldShowIcon:!0,timeShouldBeVisible:1e4})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:wasSentImmediately?_constants2.default.NOTIFICATIONS.CAMPAIGNS.UNDO_SEND_ERROR:_constants2.default.NOTIFICATIONS.CAMPAIGNS.UNSCHEDULE_ERROR,notificationType:"danger",shouldUpdateExistingMessage:!0,previousMessage:initialMessage,hasX:!0,shouldAutoHide:!0,shouldShowIcon:!0,timeShouldBeVisible:3e4})}})},canCancelSend:function(id){return $.ajax({method:"GET",url:baseUrl+"/"+id+"/cancel"})},cancel:function(id){var _this=this;return _asyncToGenerator(regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,CampaignsActions.canCancelSend(id);case 3:return _context.next=5,$.ajax({method:"PUT",url:baseUrl+"/"+id+"/cancel"});case 5:_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.CANCELED,campaignId:id}),_context.next=11;break;case 8:_context.prev=8,_context.t0=_context.catch(0),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.CANCEL_ERROR,notificationType:"danger"});case 11:case"end":return _context.stop()}},_callee,_this,[[0,8]])}))()}};exports.default=CampaignsActions},function(module,exports,__webpack_require__){var content=__webpack_require__(1457);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function initState(){_hasFetchedEditors=!1,_campaignEditors=[],_templateEditors=[],fetchedPromise=$.Deferred()}function setEditors(campaignEditors,templateEditors){_campaignEditors=campaignEditors,_templateEditors=templateEditors,_hasFetchedEditors=!0,fetchedPromise.resolve()}function getEditorNameById(editors,id){return(_underscore2.default.find(editors,function(e){return e.id==id})||{}).name}function getEditorIdByName(editors,name){return(_underscore2.default.find(editors,function(e){return e.name==name})||{}).id}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_campaignEditors=[],_templateEditors=[],_hasFetchedEditors=!1,fetchedPromise=$.Deferred(),EditorTypeStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedEditors:function(){return _hasFetchedEditors},getFetchedPromise:function(){return fetchedPromise},getCampaignEditors:function(){return _campaignEditors},getTemplateEditors:function(){return _templateEditors},getCampaignEditorId:function(name){return getEditorIdByName(_campaignEditors,name)},getTemplateEditorId:function(name){return getEditorIdByName(_templateEditors,name)},getCampaignEditorName:function(id){return getEditorNameById(_campaignEditors,id)},getTemplateEditorName:function(id){return getEditorNameById(_templateEditors,id)},getCampaignEditorIdFromTemplateEditorId:function(templateID){return getEditorIdByName(_campaignEditors,getEditorNameById(_templateEditors,templateID))},getTemplateEditorIdFromCampaignEditorId:function(campaignID){return getEditorIdByName(_templateEditors,getEditorNameById(_campaignEditors,campaignID))},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.EDITORS.FETCHED:setEditors(action.campaignEditors,action.templateEditors),EditorTypeStore.emitChange()}}});initState(),EditorTypeStore.dispatchToken=_appDispatcher2.default.register(EditorTypeStore.dispatcherCb),exports.default=EditorTypeStore},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_underscore),_functionalUtils=__webpack_require__(177),SanitizerUtils=function(){function SanitizerUtils(){_classCallCheck(this,SanitizerUtils)}return _createClass(SanitizerUtils,null,[{key:"sanitize",value:function(content){return(0,_functionalUtils.pipe)(SanitizerUtils.removeIframes,SanitizerUtils.removeJavascript,SanitizerUtils.reinstateCustomFieldTags)(content)}},{key:"reinstateCustomFieldTags",value:function(content){return content?content.replace(/&lt;%/g,"<%").replace(/%&gt;/g,"%>"):content}},{key:"removeJavascript",value:function(content){if(!content)return content;var events=["FSCommand","onAbort","onActivate","onAfterPrint","onAfterUpdate","onBeforeActivate","onBeforeCopy","onBeforeCut","onBeforeDeactivate","onBeforeEditFocus","onBeforePaste","onBeforePrint","onBeforeUnload","onBeforeUpdate","onBegin","onBlur","onBounce","onCellChange","onChange","onClick","onContextMenu","onControlSelect","onCopy","onCut","onDataAvailable","onDataSetChanged","onDataSetComplete","onDblClick","onDeactivate","onDrag","onDragEnd","onDragLeave","onDragEnter","onDragOver","onDragDrop","onDragStart","onDrop","onEnd","onError","onErrorUpdate","onFilterChange","onFinish","onFocus","onFocusIn","onFocusOut","onHashChange","onHelp","onInput","onKeyDown","onKeyPress","onKeyUp","onLayoutComplete","onLoad","onLoseCapture","onMediaComplete","onMediaError","onMessage","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onMouseWheel","onMove","onMoveEnd","onMoveStart","onOffline","onOnline","onOutOfSync","onPaste","onPause","onPopState","onProgress","onPropertyChange","onReadyStateChange","onRedo","onRepeat","onReset","onResize","onResizeEnd","onResizeStart","onResume","onReverse","onRowsEnter","onRowExit","onRowDelete","onRowInserted","onScroll","onSeek","onSelect","onSelectionChange","onSelectStart","onStart","onStop","onStorage","onSyncRestored","onSubmit","onTimeError","onTrackChange","onUndo","onUnload","onURLFlip","seekSegmentTime"],replacedContent=content;return _underscore2.default.each(events,function(e){for(var re=new RegExp("(<|&lt;)([^>]*)"+e+"(=[^>]*)(>|&gt;)","gim");replacedContent.match(re);)replacedContent=replacedContent.replace(re,"$1$2data-noop$3$4")}),replacedContent=replacedContent.replace(/([src|href|action|formaction]="?)javascript(:)/gi,"$1noop$2"),replacedContent=replacedContent.replace(/([src|href|data]=["|']?)\s*data:text\/html/gi,"$1noop"),replacedContent=replacedContent.replace(/<script[\s\S]*?\/script>/gi,""),replacedContent=replacedContent.replace(/<script[\s\S]*/gi,"")}},{key:"removeIframes",value:function(content){return content?content.replace(/<iframe[\s\S]*?\/iframe>/gi,"").replace(/<iframe[\s\S]*/gi,""):content}}]),SanitizerUtils}();exports.default=SanitizerUtils},,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function DropdownMenuHOC(WrappedComponent,extraProps){return function(_React$Component){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,_React$Component),_createClass(_class,[{key:"render",value:function(){return _react2.default.createElement(WrappedComponent,_extends({},this.props,extraProps))}}]),_class}(_react2.default.Component)}function getDataAttributes(props,suffix){var _ref;return _ref={},_defineProperty(_ref,"data-dropdown-"+suffix,!0),_defineProperty(_ref,"data-role",props.isGear?"dropdown-"+suffix:"bulk-actions-"+suffix),_ref}function DropdownMenu(props){var menuClass=(0,_classnames2.default)("dropdown-menu",{"dropdown-menu-right-aligned":props.rightAlign}),buttonClass=(0,_classnames2.default)(props.baseBtnClass,"btn","btn-dropdown","dropdown",{"btn-small":props.small,"has-badge":void 0!==props.count,"has-icon":void 0!==props.icon});return _react2.default.createElement("div",_extends({className:buttonClass},getDataAttributes(props,"toggle")),void 0!==props.count?_react2.default.createElement("span",{className:"badge"},props.count):null,props.icon&&_react2.default.createElement("i",{className:"sg-icon sg-icon-"+props.icon}),props.labelContent,props.isGear?_react2.default.createElement("i",{className:"sg-icon sg-icon-gear"}):null,_react2.default.createElement("ul",_extends({className:menuClass},getDataAttributes(props,"menu")),props.children))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames);DropdownMenu.propTypes={rightAlign:_react2.default.PropTypes.bool,small:_react2.default.PropTypes.bool,baseBtnClass:_react2.default.PropTypes.string.isRequired,count:_react2.default.PropTypes.number,labelContent:_react2.default.PropTypes.string,isGear:_react2.default.PropTypes.bool.isRequired,children:_react2.default.PropTypes.node},module.exports={DropdownGear:DropdownMenuHOC(DropdownMenu,{baseBtnClass:"btn-dropdown-gear",isGear:!0}),DropdownMenu:DropdownMenuHOC(DropdownMenu,{baseBtnClass:"btn-secondary",isGear:!1}),PrimaryDropdownMenu:DropdownMenuHOC(DropdownMenu,{baseBtnClass:"btn-primary",isGear:!1})}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function scrubbedAProps(props){return _underscore2.default.omit(props,"iconClass")}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),A=function(props){return _react2.default.createElement("a",scrubbedAProps(props),props.children)},DropdownLink=_react2.default.createClass({displayName:"DropdownLink",getDefaultProps:function(){return{iconClass:"",href:"javascript:void(0)"}},render:function(){var icon=this.props.iconClass.length?_react2.default.createElement("i",{className:this.props.iconClass}):null,linkClasses="dropdown-link "+(icon?"dropdown-link-with-icon":""),LinkType=this.props.to?_reactRouter.Link:A,props=_underscore2.default.omit(this.props,"iconClass");return props=LinkType===_reactRouter.Link?_underscore2.default.omit(props,"href"):_underscore2.default.omit(props,"to"),_react2.default.createElement(LinkType,_extends({"data-role":"dropdown-link","data-to":this.props.to},props,{className:linkClasses}),icon,_react2.default.createElement("span",null,this.props.children))}});module.exports=DropdownLink},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function StandardIndicator(props){var classname=(0,_classnames3.default)(_defineProperty({},_loadingIndicatorCss2.default["loading-indicator"],props.isFullPage));return _react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{component:"div",className:classname,transitionName:"fade",transitionAppear:!0,transitionEnterTimeout:500,transitionLeaveTimeout:500,transitionAppearTimeout:500},_react2.default.createElement(_sgLoader2.default,{large:!0,className:props.className}))}function FragmentIndicator(){return _react2.default.createElement("svg",{className:"fragment-loader"},_react2.default.createElement("rect",{className:"fragment-square left",width:"10",height:"10"}),_react2.default.createElement("rect",{className:"fragment-square middle",width:"10",height:"10"}),_react2.default.createElement("rect",{className:"fragment-square right",width:"10",height:"10"}))}function LoadingIndicator(props){return props.isFragment?_react2.default.createElement(FragmentIndicator,props):_react2.default.createElement(StandardIndicator,props)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_sgLoader=__webpack_require__(176),_sgLoader2=_interopRequireDefault(_sgLoader),_loadingIndicatorCss=__webpack_require__(1122),_loadingIndicatorCss2=_interopRequireDefault(_loadingIndicatorCss);StandardIndicator.propTypes={className:_propTypes2.default.string,isFullPage:_propTypes2.default.bool},StandardIndicator.defaultProps={className:"is-large",isFullPage:!0},LoadingIndicator.propTypes={isFragment:_propTypes2.default.bool},LoadingIndicator.defaultProps={isFragment:!1},module.exports=LoadingIndicator},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function createMany(rebuiltHeaders){var promises=[];return(0,_functionalUtils.pipe)(function(headers){return _underscore2.default.filter(headers,function(h){return h.should_be_saved&&!h.customFieldId})},function(headers){_underscore2.default.each(headers,function(h){promises.push(CustomFieldActions.create({name:h.name,type:h.type}))})})(rebuiltHeaders),Promise.all(promises)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMany=createMany;var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_functionalUtils=__webpack_require__(177),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),baseUrl="/marketing_campaigns/custom_fields",CustomFieldActions={fetch:function(){return $.getJSON(baseUrl+".json").then(function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CUSTOM_FIELDS.FETCHED,customFields:json})},function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CUSTOM_FIELDS.FETCH_ERROR,notificationType:"danger"})})},create:function(customField){return $.post(baseUrl+".json",{custom_field:customField}).then(function(json){_analyticsUtils2.default.track("custom_field_created",{field_type:customField.type}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CUSTOM_FIELDS.CREATED,customField:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CUSTOM_FIELDS.CREATE_SUCCESS,notificationType:"success"})},function(err){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:err.responseJSON.message||_constants2.default.NOTIFICATIONS.CUSTOM_FIELDS.CREATE_ERROR,notificationType:"danger"})})},delete:function(id){return $.ajax({url:baseUrl+"/"+id+".json",method:"DELETE"}).then(function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CUSTOM_FIELDS.DELETED,id:id}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CUSTOM_FIELDS.DELETE_SUCCESS,notificationType:"success"})},function(response){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON.message||_constants2.default.NOTIFICATIONS.CUSTOM_FIELDS.DELETE_ERROR,notificationType:"danger"})})}};exports.default=CustomFieldActions},,,,,,,,function(module,exports,__webpack_require__){var content=__webpack_require__(1178);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function collect(connect,monitor){return{connectDragSource:connect.dragSource(),isDragging:monitor.isDragging()}}function DraggableModuleMaker(ComposedCmp,dragType,getInitialProps){function Draggable(props){return _react2.default.createElement("span",{className:_draggableModuleMakerCss2.default.wrapper},props.connectDragSource(_react2.default.createElement("span",{className:_draggableModuleMakerCss2.default.draggable},_react2.default.createElement(ComposedCmp,null)),{dropEffect:"copy"}))}var source={beginDrag:function(){return _editorActions2.default.moduleDragStarted(_moduleParserUtils2.default.genMuid()),getInitialProps()},endDrag:function(){_editorActions2.default.moduleDragEnded()}};return(0,_reactDnd.DragSource)(dragType,source,collect)(Draggable)}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDnd=__webpack_require__(146),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_moduleParserUtils=__webpack_require__(132),_moduleParserUtils2=_interopRequireDefault(_moduleParserUtils),_draggableModuleMakerCss=__webpack_require__(1228),_draggableModuleMakerCss2=_interopRequireDefault(_draggableModuleMakerCss);exports.default=DraggableModuleMaker},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getPalettePosition(clientHeight,paletteTriggerRect,initialPaletteRect){return{top:clientHeight>=initialPaletteRect.bottom?initialPaletteRect.top+paletteTriggerRect.height+5:initialPaletteRect.top-initialPaletteRect.height-5,left:initialPaletteRect.left-initialPaletteRect.width/2}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ColorPicker=void 0;var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.getPalettePosition=getPalettePosition;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_colorPalette=__webpack_require__(1325),_colorPalette2=_interopRequireDefault(_colorPalette),_textInput=__webpack_require__(18),_reactClassUtils=__webpack_require__(7),_stringUtils=__webpack_require__(40),_colorPickerCss=__webpack_require__(1451),_colorPickerCss2=_interopRequireDefault(_colorPickerCss),ColorPicker=(_class=function(_React$Component){function ColorPicker(props){_classCallCheck(this,ColorPicker);var _this=_possibleConstructorReturn(this,(ColorPicker.__proto__||Object.getPrototypeOf(ColorPicker)).call(this,props));return _this.state={displayColorPalette:!1,top:0,left:0},_this}return _inherits(ColorPicker,_React$Component),_createClass(ColorPicker,[{key:"onReset",value:function(event){var _props=this.props,onChange=_props.onChange,resetValue=_props.resetValue;event.preventDefault(),onChange(resetValue)}},{key:"handleChangeFromTextInput",value:function(e,color){color||e?this.props.onChange(e.target.value):this.props.onChange("")}},{key:"handleChangeFromColorPalette",value:function(color){this.props.onChange(color.hex)}},{key:"toggleColorPalette",value:function(){var displayColorPalette=!this.state.displayColorPalette;this.paletteTriggerRect=this.colorPaletteButton.getBoundingClientRect();var initialTop=this.paletteTriggerRect.top,initialLeft=this.paletteTriggerRect.left+this.paletteTriggerRect.width/2;this.setState({displayColorPalette:displayColorPalette,top:initialTop,left:initialLeft})}},{key:"handleColorPaletteMount",value:function(paletteRect){this.setState(getPalettePosition(document.documentElement.clientHeight,this.paletteTriggerRect||this.colorPaletteButton.getBoundingClientRect(),paletteRect))}},{key:"render",value:function(){var _this2=this,_props2=this.props,labelText=_props2.labelText,resetValue=_props2.resetValue,value=_props2.value,dataRole=_props2["data-role"],_state=this.state,displayColorPalette=_state.displayColorPalette,top=_state.top,left=_state.left;return _react2.default.createElement("div",{className:_colorPickerCss2.default["picker-wrapper"]},_react2.default.createElement("label",null,labelText),_react2.default.createElement("div",{className:_colorPickerCss2.default["inputs-wrapper"]},(0,_stringUtils.isTruthyOrEmptyString)(resetValue)&&_react2.default.createElement("i",{className:(0,_classnames2.default)("sg-icon","sg-icon-reload","is-size-20",_colorPickerCss2.default["reset-button"]),"data-role":"reset-button",title:"Reset to Default Color",onClick:this.onReset}),_react2.default.createElement(_textInput.BasicTextInput,{placeholder:"auto",value:value,onChange:this.handleChangeFromTextInput,"data-role":dataRole}),_react2.default.createElement("button",{className:_colorPickerCss2.default.bubble,"data-role":"color-picker-trigger",style:{backgroundColor:value},onClick:this.toggleColorPalette,ref:function(element){_this2.colorPaletteButton=element}}),displayColorPalette&&_react2.default.createElement(_colorPalette2.default,{toggleColorPalette:this.toggleColorPalette,color:value,onChange:this.handleChangeFromColorPalette,onMount:this.handleColorPaletteMount,top:top,left:left})),_react2.default.createElement("div",{className:"cp-default",role:"color-picker-container"}))}}]),ColorPicker}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onReset",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onReset"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleChangeFromTextInput",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleChangeFromTextInput"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleChangeFromColorPalette",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleChangeFromColorPalette"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleColorPalette",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleColorPalette"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleColorPaletteMount",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleColorPaletteMount"),_class.prototype),_class);ColorPicker.propTypes={labelText:_react2.default.PropTypes.string,"data-role":_react2.default.PropTypes.string.isRequired,resetValue:_react2.default.PropTypes.string,value:_react2.default.PropTypes.string.isRequired,onChange:_react2.default.PropTypes.func.isRequired},ColorPicker.defaultProps={labelText:"",value:"",resetValue:""},exports.default=ColorPicker,exports.ColorPicker=ColorPicker},function(module,exports,__webpack_require__){var content=__webpack_require__(1442);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),NotificationActions=function(){function NotificationActions(){_classCallCheck(this,NotificationActions)}return _createClass(NotificationActions,null,[{key:"add",value:function(message,type){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:message,notificationType:type})}},{key:"clearAll",value:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.CLEAR_ALL})}},{key:"clearAllForRoute",value:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.CLEAR_ALL_FOR_ROUTE})}}]),NotificationActions}();module.exports=NotificationActions},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function NullCmp(){return null}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),FeatureToggle=function(LegacyCmp,NewCmp,featureToggle){return _react2.default.createClass({getInitialState:function(){return{hasFeature:_currentUserStore2.default.getHasFeature(featureToggle)}},componentDidMount:function(){_currentUserStore2.default.addChangeListener(this.currentUserStoreChanged)},componentWillUnmount:function(){_currentUserStore2.default.removeChangeListener(this.currentUserStoreChanged)},currentUserStoreChanged:function(){this.setState({hasFeature:_currentUserStore2.default.getHasFeature(featureToggle)})},render:function(){return _currentUserStore2.default.getHasFetchedUser()?this.state.hasFeature?_react2.default.createElement(NewCmp,_extends({},this.props,this.state)):_react2.default.createElement(LegacyCmp,_extends({},this.props,this.state)):null}})};module.exports={FeatureToggle:FeatureToggle,NullCmp:NullCmp}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_tiaraUtils=__webpack_require__(171),_tiaraUtils2=_interopRequireDefault(_tiaraUtils),baseUrl="/marketing_campaigns/templates",MarketingTemplateActions={fetch:function(){return $.ajax({url:baseUrl+".json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.MARKETING_TEMPLATES.FETCHED,marketingTemplates:json})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.MARKETING_TEMPLATES.FETCH_ERROR,notificationType:"danger"}),console.error("Ajax error while trying to fetch marketing templates."),console.log(arguments)}})},delete:function(id){return $.ajax({url:baseUrl+"/"+id+".json",method:"DELETE",success:function(response){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.MARKETING_TEMPLATES.DELETED,id:response.id}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.MARKETING_TEMPLATES.DELETE_SUCCESS,notificationType:"success"})},error:function(){console.error("Ajax error while trying to fetch marketing templates."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.MARKETING_TEMPLATES.DELETE_ERROR,notificationType:"danger"})}})},createTemplate:function(){var editorID=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,data=editorID?{editor_id:editorID}:null;return $.ajax({url:baseUrl+"/new.json",method:"GET",data:data,success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.MARKETING_TEMPLATES.TEMPLATE_CREATED,template:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"Success! You created a new template.",notificationType:"success"})},error:function(xhr){console.error("Ajax error while trying to create a new template."),console.log(arguments);var errorMsg=xhr.responseJSON&&xhr.responseJSON.errors[0]||"There was a problem creating a new template.";_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:errorMsg,notificationType:"danger"}),_locationUtils2.default.set("/marketing_campaigns/ui/marketing_templates")}})},save:function(template){return $.ajax({url:baseUrl+"/"+template.id+".json",method:"PATCH",data:{version:{name:template.name,plain_content:template.plain_content||"",html_content:template.html_content||""}},dataType:"json",error:function(data){if(console.error("Ajax error while trying to save a marketing template."),401==data.status)return _tiaraUtils2.default.logout();_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.MARKETING_TEMPLATES.SAVE_ERROR,notificationType:"danger"})}})},getById:function(id){return $.ajax({url:baseUrl+"/"+id+"/preview.json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TEMPLATES.CONTENT_FETCHED,template:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.MARKETING_TEMPLATES.CONTENT_FETCHED,template:json})},error:function(){console.error("Ajax error while trying to fetch a marketing template."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.MARKETING_TEMPLATES.FETCH_ERROR,notificationType:"danger"})}})},duplicate:function(id,isGlobal,editorIdOverride){return $.ajax({url:baseUrl+"/"+id+"/clone.json?global="+!!isGlobal+"&editor_id_override="+(editorIdOverride||""),method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.MARKETING_TEMPLATES.TEMPLATE_CREATED,template:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"The template was successfully duplicated.",notificationType:"success"})},error:function(xhr){console.error("Ajax error while trying to duplicate a template."),console.log(arguments);var errorMsg=xhr.responseJSON&&xhr.responseJSON.errors[0]||"There was a problem duplicating a new template.";_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:errorMsg,notificationType:"danger"})}})},createCampaignFromTemplate:function(id,isGlobal,editorID){var route=isGlobal?"create_campaign_for_global":"create_campaign",query=editorID?"?editor_id="+editorID:"";return $.ajax({url:baseUrl+"/"+id+"/"+route+".json"+query,method:"POST",success:function(campaign){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.MARKETING_TEMPLATES.CAMPAIGN_CREATED,campaign:campaign}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.MARKETING_TEMPLATES.CAMPAIGN_CREATION_SUCCESS,notificationType:"success"})},error:function(xhr){var errorMsg=xhr.responseJSON&&xhr.responseJSON.error||_constants2.default.NOTIFICATIONS.MARKETING_TEMPLATES.CAMPAIGN_CREATION_ERROR;console.error("Ajax error while trying to fetch marketing templates."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:errorMsg,notificationType:"danger"})}})},editTemplateContents:function(field,value){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TEMPLATES.EDITOR.EDIT_TEMPLATE_CONTENTS,field:field,value:value})},syncTemplateContents:function(value,syncPlainContent){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TEMPLATES.EDITOR.SYNC_TEMPLATE_CONTENTS,value:value,syncPlainContent:syncPlainContent})}};exports.default=MarketingTemplateActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function updateFileProgress(e,file){e.lengthComputable&&(file.progress=e.loaded/e.total*100,_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.UPLOAD_PROGRESS_CHANGED,file:file}))}function uploadImage(file,editorType){var formData=new FormData;return formData.append("upload",file.file),$.ajax({url:BASE_PATH+".json",method:"POST",data:formData,processData:!1,contentType:!1,mimeType:"multipart/form-data",dataType:"json",headers:{"cache-control":"no-cache"},xhr:function(){var xhr=new window.XMLHttpRequest;return xhr.upload.addEventListener("progress",function(e){return updateFileProgress(e,file)}),xhr}}).done(function(data){_analyticsUtils2.default.trackEditor("image_uploaded",{source:_analyticsUtils2.default.getEditorType(editorType===_constants2.default.EDITORS.DND)});var i=new Image;i.onload=function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.UPLOAD_ENDED,file:file,image:data})},i.src=data.url}).fail(function(jqXHR){403===jqXHR.status&&_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.UPLOAD_FAILED,file:file,error:jqXHR.responseJSON.errors[0]})})}function uploadImages(){var files=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],concurrentUploadLimit=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5,currentBatch=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,editorType=arguments[3],fileBatchCount=Math.ceil(files.length/concurrentUploadLimit);if(!(currentBatch>=fileBatchCount)){var startIndex=currentBatch*concurrentUploadLimit,endIndex=startIndex+concurrentUploadLimit,fileBatch=files.slice(startIndex,endIndex);(function(fileBatch){var deferred=$.Deferred(),completedRequests=0;return _underscore2.default.each(fileBatch,function(file){uploadImage(file,editorType).always(function(){++completedRequests>=concurrentUploadLimit&&deferred.resolve()})}),deferred})(fileBatch).done(function(){return uploadImages(files,concurrentUploadLimit,++currentBatch)})}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_imageManagerStore=__webpack_require__(238),_imageManagerStore2=_interopRequireDefault(_imageManagerStore),_customLimitStore=__webpack_require__(533),_customLimitStore2=_interopRequireDefault(_customLimitStore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),BASE_PATH="/marketing_campaigns/images",ImageManagerActions={fetchImageLibrary:function(){if(!_imageManagerStore2.default.getHasFetchedImageLibrary())return $.ajax({url:BASE_PATH+".json",method:"GET"}).done(function(data){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.FETCHED,images:data})}).fail(function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.LOAD_FAILED})})},fetchImageLimit:function(){if(!_customLimitStore2.default.getHasFetchedImageLimit())return $.ajax({url:"/marketing_campaigns/images_limit.json",method:"GET"}).done(function(data){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.FETCHED_LIMIT,limit:data.limit})}).fail(function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.FETCHED_LIMIT_FAILED})})},queueFilesForUpload:function(){var files=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],concurrentUploadLimit=arguments[1],editorType=arguments[2],wrappedFiles=[];_underscore2.default.map(files,function(file){var wrappedFile={id:_underscore2.default.uniqueId("uploadingImage_"),file:file,progress:0};wrappedFiles.push(wrappedFile),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.UPLOAD_STARTED,file:wrappedFile})}),uploadImages(wrappedFiles,concurrentUploadLimit,void 0,editorType)},setSelectedImage:function(image){var actionType=image?_constants2.default.ACTIONS.IMAGE_MANAGER.LIBRARY_IMAGE_SELECTED:_constants2.default.ACTIONS.IMAGE_MANAGER.LIBRARY_IMAGE_DESELECTED;_appDispatcher2.default.dispatch({actionType:actionType,image:image})},deleteImage:function(image){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.LIBRARY_IMAGE_DELETED,image:image}),$.ajax({url:BASE_PATH+"/"+image.id+".json",method:"DELETE"}).done(function(){}).fail(function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.LIBRARY_IMAGE_ADDED,image:image})})},openImageManager:function(e){var wysiwygEditorInstance=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.OPENED,wysiwygEditorInstance:wysiwygEditorInstance});var router=_locationUtils2.default.router;router.push(router.location.pathname+"/image_manager")},closeImageManager:function(){_locationUtils2.default.removeFromPath("/image_manager"),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IMAGE_MANAGER.CLOSED})}};exports.default=ImageManagerActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function cmpUnmounted(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.CMP_UNMOUNTED})}function manualAddToList(_ref,_ref2){var listName=_ref.listName,listId=_ref.listId,firstName=_ref2.firstName,lastName=_ref2.lastName,email=_ref2.email;return $.post(recipientBaseURL+"/",{list_name:listName,list_id:void 0===listName?listId:void 0,profile:{first_name:firstName,last_name:lastName,email:email}},function(json){_analyticsUtils2.default.track("manual_add"),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:json.message,notificationType:"success"})}).fail(function(resp){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:resp.responseJSON.message,notificationType:"danger"})})}Object.defineProperty(exports,"__esModule",{value:!0});var _arguments=arguments;exports.cmpUnmounted=cmpUnmounted,exports.manualAddToList=manualAddToList;var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_segmentUtils=__webpack_require__(248),_segmentUtils2=_interopRequireDefault(_segmentUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),recipientBaseURL="/marketing_campaigns/recipients",RecipientActions={getById:function(id){return $.ajax({url:encodeURI(recipientBaseURL+"/"+encodeURIComponent(id)+".json"),method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.GOT_BY_ID,recipient:json})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.GET_BY_ID_ERROR,notificationType:"danger"})}})},getByListId:function(id){var pageNum=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return $.ajax({url:"/marketing_campaigns/lists/"+id+"/recipients.json",data:{page_size:_constants2.default.LISTS.PAGE_SIZE,page:pageNum},method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.GOT_BY_LIST_ID,recipients:json.recipients})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.GET_BY_LIST_ID_ERROR,notificationType:"danger"})}})},getAllContacts:function(pageNum){return $.ajax({url:"/marketing_campaigns/all_contacts.json",data:{page_size:_constants2.default.LISTS.PAGE_SIZE,page:pageNum},method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.GOT_ALL_CONTACTS,recipients:json.recipients,count:json.count})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.GET_ALL_CONTACTS_ERROR,notificationType:"danger"})}})},delete:function(id){return $.ajax({url:encodeURI(recipientBaseURL+"/"+id+".json"),method:"DELETE",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.DELETED,id:json.id}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.DELETE_SUCCESS,notificationType:"success"})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.DELETE_ERROR,notificationType:"danger"})}})},deleteMany:function(ids){return $.ajax({url:recipientBaseURL+"/batch_delete.json",method:"DELETE",data:{ids:ids},success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.DELETED_MANY,ids:ids}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.DELETE_MANY_SUCCESS,notificationType:"success"})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.DELETE_MANY_ERROR,notificationType:"danger"})}})},addToList:function(recipient,list){this.update(recipient,list)},removeFromList:function(recipient,list){return this.update(recipient,list,1,_constants2.default.ACTIONS.RECIPIENTS.REMOVED_FROM_LIST)},removeManyFromList:function(ids,listID){return $.ajax({url:"/marketing_campaigns/lists/"+listID+"/recipients/batch_remove.json",method:"DELETE",data:{ids:ids},success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.REMOVED_MANY,ids:ids}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.REMOVE_MANY_SUCCESS,notificationType:"success"})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.REMOVE_MANY_ERROR,notificationType:"danger"})}})},update:function(recipient,list){var shouldRemoveFromList=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,successAction=arguments.length>3&&void 0!==arguments[3]?arguments[3]:_constants2.default.ACTIONS.RECIPIENTS.UPDATED,xhr=$.ajax({url:encodeURI(recipientBaseURL+"/"+recipient.profile.id+".json"),method:"PUT",data:{profile:recipient.profile,list_id:list&&list.id,should_remove_from_list:shouldRemoveFromList}});return xhr.done(function(json){_appDispatcher2.default.dispatch({actionType:successAction,recipient:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:shouldRemoveFromList?_constants2.default.NOTIFICATIONS.RECIPIENTS.REMOVE_SUCCESS:_constants2.default.NOTIFICATIONS.RECIPIENTS.UPDATE_SUCCESS,notificationType:"success"})}),xhr.fail(function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:shouldRemoveFromList?_constants2.default.NOTIFICATIONS.RECIPIENTS.REMOVE_ERROR:_constants2.default.NOTIFICATIONS.RECIPIENTS.UPDATE_ERROR,notificationType:"danger"})}),xhr},navigateToAllContactsPageWithEmailQuery:function(email){_locationUtils2.default.router.push("/marketing_campaigns/ui/all_contacts?email="+email)},searchByEmail:function(email){return $.ajax({url:recipientBaseURL+"/search.json",method:"GET",data:{email:email},success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.SEARCHED_BY_EMAIL,recipients:json.recipients})},error:function(){console.error("ajax error searching with conditions"),console.log(_arguments)}})},searchWithConditions:function(conditions,pageNum,pageSize,listId){var data={conditions:JSON.stringify(conditions),page:pageNum,page_size:pageSize};return listId&&(data.list_id=listId),$.ajax({url:recipientBaseURL+"/search_with_conditions.json",method:"POST",data:data,success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.RECIPIENTS.FETCHED_WITH_CONDITIONS,conditionsKey:_segmentUtils2.default.getConditionsKey(conditions),pageNum:pageNum,recipients:json.recipients,recipientCount:json.recipient_count})},error:function(){console.error("ajax error searching with conditions"),console.log(_arguments)}})},exportSearchWithConditions:function(conditions,segmentName){return $.ajax({url:recipientBaseURL+"/export_search_with_conditions.json",method:"POST",data:{conditions:JSON.stringify(conditions),segment_name:segmentName},success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:json.message,notificationType:"success"})},error:function(){console.error("ajax error exporting search with conditions"),console.log(_arguments)}})},exportList:function(listID){return $.ajax({url:"/marketing_campaigns/lists/"+listID+"/export.json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:json.message,notificationType:"success"})},error:function(){console.error("ajax error exporting list"),console.log(_arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.RECIPIENTS.LIST_EXPORT_ERROR,notificationType:"danger"})}})}};exports.default=RecipientActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_enforceChildType=__webpack_require__(244),_enforceChildType2=_interopRequireDefault(_enforceChildType),_accordionPanel=__webpack_require__(567),_accordionCss=__webpack_require__(1298),_accordionCss2=_interopRequireDefault(_accordionCss),Accordion=_react2.default.createClass({displayName:"Accordion",propTypes:{doesAllowMultipleOpenPanels:_react2.default.PropTypes.bool.isRequired,onPanelToggleCb:_react2.default.PropTypes.func.isRequired,openPanelNames:_react2.default.PropTypes.array.isRequired,shouldShowCaretsOnLeft:_react2.default.PropTypes.bool,isDisabled:_react2.default.PropTypes.bool,isJumbo:_react2.default.PropTypes.bool,isEditor:_react2.default.PropTypes.bool},getDefaultProps:function(){return{doesAllowMultipleOpenPanels:!1,shouldShowCaretsOnLeft:!1,isJumbo:!1}},renderAccordionPanels:function(){var _this=this;return _react2.default.Children.map(this.props.children,function(panel){return _react2.default.cloneElement(panel,{onPanelToggleCb:_this.onPanelToggle,isPanelOpen:_this.props.openPanelNames.indexOf(panel.props.name)>=0})})},onPanelToggle:function(panelName){this.props.onPanelToggleCb(panelName,this.props.doesAllowMultipleOpenPanels)},render:function(){var _classNames,className=(0,_classnames2.default)("accordion-wrapper",_accordionCss2.default.accordion,(_classNames={},_defineProperty(_classNames,_accordionCss2.default["has-bottom-margin"],this.props.hasBottomMargin),_defineProperty(_classNames,_accordionCss2.default.disabled,this.props.isDisabled),_defineProperty(_classNames,"accordion-caret-left",this.props.shouldShowCaretsOnLeft),_defineProperty(_classNames,"accordion-large",this.props.isJumbo),_defineProperty(_classNames,"is-editor",this.props.isEditor),_classNames));return _react2.default.createElement("div",{className:className,"data-role":this.props["data-role"]},this.renderAccordionPanels())}}),AccordionUtils=function(){function AccordionUtils(){_classCallCheck(this,AccordionUtils)}return _createClass(AccordionUtils,null,[{key:"getOpenPanelsOnToggle",value:function(panelName,doesAllowMultipleOpenPanels,previouslyOpenPanelNames){var openPanelName=previouslyOpenPanelNames.indexOf(panelName)<0?panelName:void 0,openPanelNames=doesAllowMultipleOpenPanels?previouslyOpenPanelNames:[];return openPanelName?_underscore2.default.union(openPanelNames,[openPanelName]):_underscore2.default.without(openPanelNames,panelName)}}]),AccordionUtils}();module.exports={Accordion:(0,_enforceChildType2.default)(Accordion,[_accordionPanel.AccordionPanel]),AccordionPanel:_accordionPanel.AccordionPanel,PanelTitle:_accordionPanel.PanelTitle,PanelContent:_accordionPanel.PanelContent,AccordionUtils:AccordionUtils}},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),BaseStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{addChangeListener:function(cb){this.on(_constants2.default.EVENTS.STORES.CHANGE,cb)},removeChangeListener:function(cb){this.off(_constants2.default.EVENTS.STORES.CHANGE,cb)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)}});module.exports=BaseStore},,,function(module,exports,__webpack_require__){"use strict";function saveState(keyPrefix,stateMap){var isPermanent=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_underscore2.default.each(stateMap,function(v,k){return Storage.set(createKey(keyPrefix,k),v,isPermanent)})}function performWithSavedState(keyPrefix,cb,stateNames){var isPermanent=arguments.length>3&&void 0!==arguments[3]&&arguments[3];cb(_underscore2.default.reduce(stateNames,function(memo,stateName){var m=_extends({},memo);return m[stateName]=Storage.get(keyPrefix+"-"+stateName,isPermanent),m},{}))}function deleteState(keyPrefix,stateNames){var isPermanent=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_underscore2.default.each(stateNames,function(stateName){return Storage.remove(createKey(keyPrefix,stateName),isPermanent)})}function registerUnloadCb(cb){$(window).on("unload",cb)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.saveState=saveState,exports.performWithSavedState=performWithSavedState,exports.deleteState=deleteState,exports.registerUnloadCb=registerUnloadCb;var _underscore=__webpack_require__(2),_underscore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_underscore),_storage=__webpack_require__(1039),Storage=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_storage),createKey=function(keyPrefix,stateName){return keyPrefix+"-"+stateName}},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _checkboxInput=__webpack_require__(152),_checkboxInput2=_interopRequireDefault(_checkboxInput),_radioInput=__webpack_require__(229),_radioInput2=_interopRequireDefault(_radioInput),_singleDateInput=__webpack_require__(1092),_singleDateInput2=_interopRequireDefault(_singleDateInput);module.exports={CheckboxInput:_checkboxInput2.default,RadioInput:_radioInput2.default,SingleDateInput:_singleDateInput2.default}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_tabTitle=__webpack_require__(1134),_tabPanel=__webpack_require__(1137),_reactClassUtils=__webpack_require__(7),Tabs=(_class=function(_React$Component){function Tabs(props){_classCallCheck(this,Tabs);var _this=_possibleConstructorReturn(this,(Tabs.__proto__||Object.getPrototypeOf(Tabs)).call(this,props));return _this.state={activeTabIndex:_this.props.initialActiveTabIndex||0},_this}return _inherits(Tabs,_React$Component),_createClass(Tabs,[{key:"onTitleClick",value:function(i){this.setState({activeTabIndex:i})}},{key:"getSafeActiveTabIndex",value:function(tabCount){return this.state.activeTabIndex>=tabCount?0:this.state.activeTabIndex}},{key:"getTabChildren",value:function(){var _this2=this;return _react2.default.Children.map(this.props.children,function(child){if(!child)return null;var idx=_this2.getSafeActiveTabIndex(_this2.props.tabCount||_underscore2.default.size(child.props.children));return _react2.default.createElement(child.type,_extends({},child.props,{activeTabIndex:idx,onTitleClick:_this2.onTitleClick}),child.props.children)})}},{key:"render",value:function(){return _react2.default.createElement("div",{className:this.props.className,"data-role":this.props["data-role"]},this.getTabChildren())}}]),Tabs}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onTitleClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onTitleClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getSafeActiveTabIndex",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getSafeActiveTabIndex"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getTabChildren",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getTabChildren"),_class.prototype),_class);Tabs.propTypes={children:_propTypes2.default.node.isRequired,tabCount:_propTypes2.default.number,className:_propTypes2.default.string,initialActiveTabIndex:_react2.default.PropTypes.number,"data-role":_react2.default.PropTypes.string},Tabs.defaultProps={tabCount:void 0,className:void 0,initialActiveTabIndex:0,"data-role":"tabs"},module.exports={Tabs:Tabs,TabTitle:_tabTitle.TabTitle,TabTitleWrapper:_tabTitle.TabTitleWrapper,TabPanel:_tabPanel.TabPanel,TabPanelWrapper:_tabPanel.TabPanelWrapper}},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function columnModuleElemToProps($moduleElem){var $firstTd=$moduleElem.find("td").first(),$firstColumn=$firstTd.find("td").first(),innerModules=innerColumnModuleElemToProps($moduleElem,{footer:footerInnerModuleMutator,imagetext:imageTextInnerModuleMutator}[$moduleElem.attr("data-type")]),tdStyle=_underscore2.default.extend({padding:"0px 0px 0px 0px",backgroundColor:$firstTd.attr("bgcolor")||""},_jsxHtmlTranslationUtils2.default.getStyleProps($firstTd.attr("style"))),columnPadding=_jsxHtmlTranslationUtils2.default.getStyleProps($firstColumn.attr("style")).padding,columnPaddingPx=columnPadding?_jsxHtmlTranslationUtils2.default.getStyleProps($firstColumn.attr("style")).padding.match(/[\d]+/g)[1]:0;return{type:_constants2.default.EDITOR.MODULES.COLUMNS,isCodeEditable:!1,tdProps:{style:tdStyle},columnPaddingPx:columnPaddingPx,innerModules:innerModules}}function innerColumnModuleElemToProps($moduleElem){var innerModuleMutatorFn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(props){return props},$innerModuleWrapper=$moduleElem.find("tr[role=module-content]").first(),$innerTds=$innerModuleWrapper.find("> td"),$columns=$innerTds.length?$innerTds:$moduleElem.find(".column"),returnModules=[];return _underscore2.default.each($columns,function(column){var columnMods=getColumnInnerModules(column),columnModProps=[{type:_constants2.default.EDITOR.MODULES.EMPTY,muid:ModuleParserUtils.genMuid()}];returnModules.push(columnModProps.concat(_underscore2.default.map(columnMods,function(innerModule){return innerModuleMutatorFn(ModuleParserUtils.moduleElemToProps($(innerModule)),$moduleElem,column)})))}),returnModules}function getColumnInnerModules(column){var ghostNode=document.createElement("div");ghostNode.innerHTML=column.innerHTML;var slice=Array.prototype.slice;return _underscore2.default.without.apply(_underscore2.default,[slice.call(ghostNode.querySelectorAll("[role=module]"))].concat(_toConsumableArray(slice.call(ghostNode.querySelectorAll("[role=module] [role=module]")))))}function footerInnerModuleMutator(innerProps,$moduleElem){return _underscore2.default.tap(innerProps,function(p){return p.tdProps.style.backgroundColor=$moduleElem.find("td").first().attr("bgcolor")})}function imageTextInnerModuleMutator(innerProps,$moduleElem,column){return _underscore2.default.tap(innerProps,function(p){return p.tdProps.style.padding=_jsxHtmlTranslationUtils2.default.getStyleProps($(column).find("td").first().attr("style")).padding})}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_button=__webpack_require__(239),_button2=_interopRequireDefault(_button),_code=__webpack_require__(535),_code2=_interopRequireDefault(_code),_bodyContainer=__webpack_require__(1203),_bodyContainer2=_interopRequireDefault(_bodyContainer),_contentContainer=__webpack_require__(1204),_contentContainer2=_interopRequireDefault(_contentContainer),_preheader=__webpack_require__(1205),_preheader2=_interopRequireDefault(_preheader),_image=__webpack_require__(1224),_image2=_interopRequireDefault(_image),_text=__webpack_require__(537),_text2=_interopRequireDefault(_text),_divider=__webpack_require__(1225),_divider2=_interopRequireDefault(_divider),_social=__webpack_require__(1226),_social2=_interopRequireDefault(_social),_spacer=__webpack_require__(1227),_spacer2=_interopRequireDefault(_spacer),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),ModuleParserUtils=function(){function ModuleParserUtils(){_classCallCheck(this,ModuleParserUtils)}return _createClass(ModuleParserUtils,null,[{key:"get$rootModules",value:function(html){return $(html).find("[role=modules-container] > *")}},{key:"htmlToModuleProps",value:function(html){var $doc=$(html),$rootModules=ModuleParserUtils.get$rootModules(html);if(0==$rootModules.length){var _props=_underscore2.default.flatten([ModuleParserUtils.moduleElemToProps($('<div data-type="preheader" />'))]);return $doc&&$doc.text()&&_props.push(ModuleParserUtils.moduleElemToProps($doc)),_props}var props=_underscore2.default.flatten(_underscore2.default.map($rootModules,function(rootModule){return ModuleParserUtils.moduleElemToProps($(rootModule))}));return props[0].type!=_constants2.default.EDITOR.MODULES.PREHEADER&&props.unshift(ModuleParserUtils.moduleElemToProps($('<div data-type="preheader" />'))),_underscore2.default.flatten(props)}},{key:"htmlToBodyProps",value:function(html){return(0,_bodyContainer2.default)(html)}},{key:"htmlToContentContainerProps",value:function(html){return(0,_contentContainer2.default)($(html))}},{key:"genMuid",value:function(){return _underscore2.default.uniqueId("muid")}},{key:"moduleElemToProps",value:function($moduleElem){function extender(baseProps){return _underscore2.default.extend(baseProps,{muid:ModuleParserUtils.genMuid()})}switch($moduleElem.attr("data-type")){case"button":return extender((0,_button2.default)($moduleElem));case"code":return extender((0,_code2.default)($moduleElem));case"footer":case"imagetext":case"columns":return extender(columnModuleElemToProps($moduleElem));case"image":return extender((0,_image2.default)($moduleElem));case"spacer":return extender((0,_spacer2.default)($moduleElem));case"divider":return extender((0,_divider2.default)($moduleElem));case"social":return extender((0,_social2.default)($moduleElem));case"preheader":return _underscore2.default.map((0,_preheader2.default)($moduleElem),function(p){return extender(p)});case"text":default:return extender((0,_text2.default)($moduleElem))}}}]),ModuleParserUtils}();exports.default=ModuleParserUtils},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_switchCss=__webpack_require__(1277),_switchCss2=_interopRequireDefault(_switchCss),Switch=function(offText,onText){return function(props){return _react2.default.createElement("div",{className:"switch"},_react2.default.createElement("input",{className:"switch-checkbox",type:"checkbox",name:props.name,id:props.id,onChange:props.onClick,defaultChecked:props.isChecked,"data-index":props["data-index"],"data-role":props["data-role"]||"switch-checkbox"}),_react2.default.createElement("div",{className:"switch-selector"}),_react2.default.createElement("label",{className:"switch-label",htmlFor:props.id},_react2.default.createElement("div",{className:"switch-option switch-option-off","data-index":props["data-index"]},offText),_react2.default.createElement("div",{className:"switch-option switch-option-on","data-index":props["data-index"]},onText)))}},IconSwitch=function(props){return _react2.default.createElement("div",{className:"switch "+_switchCss2.default.switch+" "+_switchCss2.default["icon-switch"]},_react2.default.createElement("input",{className:"switch-checkbox",type:"checkbox",name:props.name,id:props.id,onChange:props.onClick,defaultChecked:props.isChecked,"data-role":props["data-role"]||"switch-checkbox"}),_react2.default.createElement("label",{className:"switch-label",htmlFor:props.id,title:props.toolTipText},_react2.default.createElement("i",{className:"sg-icon "+(props.isChecked?props.activeClassName:props.className)})))};module.exports={OnOffSwitch:Switch("off","on"),AndOrSwitch:Switch("and","or"),IconSwitch:IconSwitch}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function QuadPixelInput(props){var values=props.value?_jsxHtmlTranslationUtils2.default.getSplitPx(props.value):[],inputProps=(0,_underscore.pick)(props,"data-prop-key","data-style-key"),updatePaddingValue=function(index){return function(event){var values=_jsxHtmlTranslationUtils2.default.getSplitPx(props.value);values[index]=event.target.value||0,props.onChange(event,combineTotalValues(values))}};return _react2.default.createElement("div",{className:_quadPixelInputCss2.default["quad-container"]},directions.map(function(direction,index){return _react2.default.createElement("div",{className:"input-text-wrap has-units has-arrow-"+direction,"data-units":"px",key:direction},_react2.default.createElement("input",_extends({type:"number",min:0,name:direction+"-value","data-role":direction+"-pixel-value",onChange:updatePaddingValue(index),value:values[index]},inputProps)))}))}Object.defineProperty(exports,"__esModule",{value:!0});var _QuadPixelInput$propT,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_quadPixelInputCss=__webpack_require__(1454),_quadPixelInputCss2=_interopRequireDefault(_quadPixelInputCss),directions=["top","right","bottom","left"],combineTotalValues=function(values){return values.join("px ")+"px"};QuadPixelInput.propTypes=(_QuadPixelInput$propT={value:_react.PropTypes.string},_defineProperty(_QuadPixelInput$propT,"data-prop-key",_react.PropTypes.string),_defineProperty(_QuadPixelInput$propT,"data-style-key",_react.PropTypes.string),_defineProperty(_QuadPixelInput$propT,"onChange",_react.PropTypes.func.isRequired),_QuadPixelInput$propT),QuadPixelInput.defaultProps={value:"0px 0px 0px 0px"},exports.default=QuadPixelInput},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getUpdatedProps(e,thisProps){var newVal=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,propKey=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,styleKey=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;propKey=propKey||$(e.target).data("prop-key"),styleKey=styleKey||$(e.target).data("style-key");var newProps=$.extend(!0,{},thisProps);return newProps[propKey].style[styleKey]=_underscore2.default.include([null,void 0],newVal)?e.target.value:newVal,newProps}function PanelEnhancer(ComposedCmp,innerHtmlSerializer,updateFn){return _react2.default.createClass({outerHtmlStyleChanged:function(e){var val=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,propKey=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,styleKey=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,newProps=getUpdatedProps(e,this.props,val,propKey,styleKey);(updateFn||_editorActions2.default.activeModuleUpdated)(newProps)},innerHtmlStyleChanged:function(e){var val=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,propKey=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,styleKey=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,updatedProps=getUpdatedProps(e,this.props,val,propKey,styleKey);void 0===innerHtmlSerializer?console.warn("PanelEnhancer error: inner html style changed but no serializer given; inner html will be unchanged."):updatedProps.innerHtml=innerHtmlSerializer(updatedProps),(updateFn||_editorActions2.default.activeModuleUpdated)(updatedProps)},render:function(){var decoratorProps={outerHtmlStyleChanged:this.outerHtmlStyleChanged,innerHtmlStyleChanged:this.innerHtmlStyleChanged};return _react2.default.createElement(ComposedCmp,_extends({},this.props,decoratorProps))}})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions);exports.default=PanelEnhancer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getBaseUrl(){return _constants2.default.ROUTES.MAKO_API_HOST+"/templates"}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_ajax=__webpack_require__(606),_ajax2=_interopRequireDefault(_ajax),_actionsHelper=__webpack_require__(1592),_actionsHelper2=_interopRequireDefault(_actionsHelper),_tiaraUtils=__webpack_require__(171),_tiaraUtils2=_interopRequireDefault(_tiaraUtils),ALLOW_EDITOR_SUFFIX="?allow_editor=1",sharedHandlers={before:[_ajax2.default.handleSubuserImpersonation],after:[_ajax2.default.handleMakoUnauthorized]},sharedHandlerParams={scopeGroup:_constants2.default.SCOPES.TRANSACTIONAL_TEMPLATES.GROUP},TransactionalTemplateActions={filters:{fetch:{handlers:sharedHandlers,handlerParams:sharedHandlerParams},createTemplateGroup:{handlers:sharedHandlers,handlerParams:sharedHandlerParams},createTemplateVersion:{handlers:sharedHandlers,handlerParams:sharedHandlerParams},duplicateTemplateVersion:{handlers:sharedHandlers,handlerParams:sharedHandlerParams},activateTemplateVersion:{handlers:sharedHandlers,handlerParams:sharedHandlerParams},updateTemplateGroupName:{handlers:sharedHandlers,handlerParams:sharedHandlerParams},deleteTemplateGroup:{handlers:sharedHandlers,handlerParams:sharedHandlerParams},getTemplateVersion:{handlers:sharedHandlers,handlerParams:sharedHandlerParams},deleteTemplateVersion:{handlers:sharedHandlers,handlerParams:sharedHandlerParams}},fetch:function(){var ajaxOptions=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},options={url:""+getBaseUrl()+ALLOW_EDITOR_SUFFIX,method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.FETCHED,transactionalTemplates:json.templates})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.TRANSACTIONAL_TEMPLATES.FETCH_ERROR,notificationType:"danger"}),console.error("Ajax error while trying to fetch transactional templates."),console.log(arguments)}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},createTemplateGroup:function(model){var ajaxOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options={url:""+getBaseUrl()+ALLOW_EDITOR_SUFFIX,method:"POST",data:JSON.stringify(model),success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.CREATED,transactionalTemplate:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"The template group was created successfully.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to create transactional template."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON&&response.responseJSON.error||"There was a problem with creating this template group.",notificationType:"danger"})}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},createTemplateVersion:function(templateId){var ajaxOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},editorID=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,data={name:_underscore2.default.uniqueId("Untitled_")+Date.now(),subject:_constants2.default.TEMPLATE_SUBJECT,html_content:_constants2.default.TEMPLATE_SKELETON,plain_content:_constants2.default.TEMPLATE_SKELETON};editorID&&(data.editor_id=editorID);var options={url:getBaseUrl()+"/"+templateId+"/versions"+ALLOW_EDITOR_SUFFIX,method:"POST",data:JSON.stringify(data),success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_CREATED,templateVersion:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"The template version was successfully created.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to create a new template version."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON&&response.responseJSON.error||"There was a problem creating a new template version.",notificationType:"danger"})}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},duplicateTemplateVersion:function(version){function setOptions(version){return{url:getBaseUrl()+"/"+version.template_id+"/versions"+ALLOW_EDITOR_SUFFIX,method:"POST",data:JSON.stringify({name:_underscore2.default.uniqueId("Copy_of_"+version.name+"_")+Date.now(),subject:version.subject,html_content:version.html_content||_constants2.default.TEMPLATE_SKELETON,plain_content:version.plain_content||_constants2.default.TEMPLATE_SKELETON,editor_id:version.editor_id}),success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_CREATED,templateVersion:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"The template version was successfully duplicated.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to duplicate template version."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON&&response.responseJSON.error||"There was a problem duplicating the template version.",notificationType:"danger"})}}}var ajaxOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getTemplateVersion(version.template_id,version.id).then(function(version){return $.ajax(_underscore2.default.extend(ajaxOptions,setOptions(version)))})},save:function(version){return $.ajax({url:getBaseUrl()+"/"+version.template_id+"/versions/"+version.id+ALLOW_EDITOR_SUFFIX,method:"PATCH",data:JSON.stringify({name:version.name,subject:version.subject,html_content:version.html_content||_constants2.default.TEMPLATE_SKELETON,plain_content:version.plain_content||_constants2.default.TEMPLATE_SKELETON}),error:function(data){if(console.error("Ajax error while trying to save a transactional template version."),401==data.status)return _tiaraUtils2.default.logout();_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.TRANSACTIONAL_TEMPLATES.SAVE_ERROR,notificationType:"danger"})}})},activateTemplateVersion:function(templateId,version){var ajaxOptions=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},options={url:getBaseUrl()+"/"+templateId+"/versions/"+version.id+"/activate"+ALLOW_EDITOR_SUFFIX,method:"POST",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_ACTIVATED,templateVersion:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"The template version was activated successfully.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to activate this template version."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON&&response.responseJSON.error||"There was a problem with activating this version.",notificationType:"danger"})}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},updateTemplateGroupName:function(template){var ajaxOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options={url:getBaseUrl()+"/"+template.id+ALLOW_EDITOR_SUFFIX,method:"PATCH",data:JSON.stringify(_underscore2.default.pick(template,"name")),success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.UPDATED,transactionalTemplate:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"The template was updated successfully.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to update transactional template."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON&&response.responseJSON.error||"There was a problem with updating this template.",notificationType:"danger"})}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},deleteTemplateGroup:function(id){var ajaxOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},options={url:getBaseUrl()+"/"+id+ALLOW_EDITOR_SUFFIX,method:"DELETE",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.DELETED,id:id}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"The template was deleted successfully.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to delete transactional template."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON&&response.responseJSON.error||"There was a problem with deleting this template.",notificationType:"danger"})}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},getTemplateVersion:function(templateId,versionId){var ajaxOptions=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},options={url:getBaseUrl()+"/"+templateId+"/versions/"+versionId+ALLOW_EDITOR_SUFFIX,method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TEMPLATES.CONTENT_FETCHED,template:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_CONTENT_FETCHED,version:json})},error:function(){console.error("Ajax error while trying to load template version content."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"There was a problem loading the content for this version.",notificationType:"danger"})}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},deleteTemplateVersion:function(templateId,version){var _arguments=arguments,ajaxOptions=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},options={url:getBaseUrl()+"/"+templateId+"/versions/"+version.id+ALLOW_EDITOR_SUFFIX,method:"DELETE",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_DELETED,templateVersion:version}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.TRANSACTIONAL_TEMPLATES.VERSION_DELETE_SUCCESS,notificationType:"success"})},error:function(response){console.error("Ajax error while trying to delete transactional template version."),console.log(_arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON&&response.responseJSON.error||_constants2.default.NOTIFICATIONS.TRANSACTIONAL_TEMPLATES.VERSION_DELETE_ERROR,notificationType:"danger"})}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},sendTestEmailForTemplateVersion:function(templateId,versionId,model){var ajaxOptions=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},options={url:"/templates/"+templateId+"/versions/"+versionId+"/send_version_test.json",method:"POST",data:{to_address:model.email,subject:model.subject},success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"Your test email was successfully sent.",notificationType:"success"})},error:function(){console.error("Ajax error while trying to send a test email for version id:",versionId),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"There was a problem sending your test email.",notificationType:"danger"})}};return $.ajax(_underscore2.default.extend(ajaxOptions,options))},editVersionContents:function(field,value){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TEMPLATES.EDITOR.EDIT_TEMPLATE_CONTENTS,field:field,value:value})},syncVersionContents:function(value,syncPlainContent){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TEMPLATES.EDITOR.SYNC_TEMPLATE_CONTENTS,value:value,syncPlainContent:syncPlainContent})}};exports.default=_actionsHelper2.default.filter(TransactionalTemplateActions)},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ActionsMenu(props){return _react2.default.createElement("td",{className:"actions"},_react2.default.createElement("i",{className:"sg-icon sg-icon-ellipsis"}),_react2.default.createElement("div",{className:"action-icons"},props.children))}function ActionsMenuItemInner(props){var icon=_react2.default.createElement("i",{className:props.iconClass,"data-role":props["data-role"],"data-scroll-top":props["data-scroll-top"],onClick:props.onClick});return props.to?_react2.default.createElement(_reactRouter.Link,{to:props.to},icon):props.href?_react2.default.createElement("a",{href:props.href},icon):icon}function ActionsMenuItem(props){return _react2.default.createElement(_tooltip2.default,{content:props.children,length:""},_react2.default.createElement(ActionsMenuItemInner,props))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ActionsMenu=ActionsMenu,exports.ActionsMenuItem=ActionsMenuItem;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip);ActionsMenu.propTypes={children:_propTypes2.default.node.isRequired},ActionsMenuItemInner.propTypes={onClick:_propTypes2.default.func,iconClass:_propTypes2.default.string.isRequired,"data-role":_propTypes2.default.string.isRequired,"data-scroll-top":_propTypes2.default.bool,to:_propTypes2.default.string,href:_propTypes2.default.string},ActionsMenuItemInner.defaultProps={onClick:function(){},"data-scroll-top":void 0,to:void 0,href:void 0},ActionsMenuItem.propTypes={children:_propTypes2.default.string},ActionsMenuItem.defaultProps={children:""}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_checkboxInputCss=__webpack_require__(1088),_checkboxInputCss2=_interopRequireDefault(_checkboxInputCss),CheckboxInput=function(_React$Component){function CheckboxInput(){return _classCallCheck(this,CheckboxInput),_possibleConstructorReturn(this,(CheckboxInput.__proto__||Object.getPrototypeOf(CheckboxInput)).apply(this,arguments))}return _inherits(CheckboxInput,_React$Component),_createClass(CheckboxInput,[{key:"componentDidMount",value:function(){this.props.registerFormInput(this)}},{key:"componentWillUnmount",value:function(){this.props.unregisterFormInput(this)}},{key:"render",value:function(){return _react2.default.createElement("div",{className:"input-checkbox-wrap "+(this.props.isTableHeader?_checkboxInputCss2.default["table-header-checkbox-wrap"]:"")},_react2.default.createElement("input",{type:"checkbox",id:this.props.id,"data-role":this.props["data-role"],checked:this.props.isChecked,onClick:this.props.onClick,readOnly:!0,disabled:this.props.isDisabled}),_react2.default.createElement("label",{className:"input-checkbox-label",htmlFor:this.props.id},this.props.labelText))}}]),CheckboxInput}(_react2.default.Component);CheckboxInput.propTypes={"data-role":_propTypes2.default.string,id:_propTypes2.default.string.isRequired,onClick:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func,unregisterFormInput:_propTypes2.default.func,isChecked:_propTypes2.default.bool.isRequired,isDisabled:_propTypes2.default.bool,isTableHeader:_propTypes2.default.bool,labelText:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.node])},CheckboxInput.defaultProps={isDisabled:!1,isTableHeader:!1,labelText:"",registerFormInput:function(){},unregisterFormInput:function(){}},module.exports=CheckboxInput},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_jsBeautify=__webpack_require__(1201),_jsBeautify2=_interopRequireDefault(_jsBeautify),_sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),htmlToPlain=function(inputHtml){var $html=$("<div>").html($.parseHTML(_sanitizerUtils2.default.sanitize(inputHtml)));return $html.find("a").each(function(){var $this=$(this);return $this.replaceWith($this.text()+" "+$this.attr("href"))}),$html.find("br").replaceWith("\n"),$html.find("p").each(function(){var $this=$(this);return $this.replaceWith("\n"+$this.text()+"\n")}),$html.find("style").replaceWith(""),$html.text().replace(/(?:(?:\r\n|\r|\n)\s*){2,}/g,"\n\n").replace(RegExp(" +(?= )","g"),"").replace(/^\s+|\s+$/g,"")},hasNewLines=function(input){return-1!==input.indexOf("\n")},beautify=function(input,options){return _jsBeautify2.default.html(input,_extends({indent_size:2},options))};module.exports={beautify:beautify,hasNewLines:hasNewLines,htmlToPlain:htmlToPlain}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function isEmpty(v){return _underscore2.default.contains([void 0,null],v)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_momentTimezone=__webpack_require__(226),_momentTimezone2=_interopRequireDefault(_momentTimezone),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_campaignsStore=__webpack_require__(61),_abStore=__webpack_require__(184),_abStore2=_interopRequireDefault(_abStore),_contentsStore=__webpack_require__(182),_contentsStore2=_interopRequireDefault(_contentsStore),_settingsStore=__webpack_require__(185),_settingsStore2=_interopRequireDefault(_settingsStore),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),_numberUtils=__webpack_require__(1269),_numberUtils2=_interopRequireDefault(_numberUtils),_sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),CampaignUtils=function(){function CampaignUtils(){_classCallCheck(this,CampaignUtils)}return _createClass(CampaignUtils,null,[{key:"getCampaignTimeForStatus",value:function(campaign,statusName){return statusName===_constants2.default.CAMPAIGNS.STATUSES.SENT?campaign.sent_at:statusName===_constants2.default.CAMPAIGNS.STATUSES.SCHEDULED?campaign.scheduled_at:campaign.updated_at}},{key:"getPreheaderText",value:function(content){return $(content).find(".module.preheader").text().trim()}},{key:"hasStats",value:function(stats,statType){var percentage=CampaignUtils.getStatPercentage(stats,statType);return"—"!==percentage&&!!parseFloat(percentage)}},{key:"getStatPercentage",value:function(stats,statType){var statsForType=stats&&stats[statType];return isEmpty(statsForType)?"—":statsForType.toFixed(2)+"%"}},{key:"getStatPercentageWidth",value:function(stats,statType){var statsForType=stats&&stats[statType];return isEmpty(statsForType)||"number"!=typeof statsForType?"0%":statsForType>3?statsForType.toFixed(2)+"%":"3%"}},{key:"getStatRawNumber",value:function(stats,statType){var statsForType=stats&&stats[statType];return isEmpty(statsForType)?"—":statsForType}},{key:"getStatFormattedNumber",value:function(stats,statType){var statsForType=stats&&stats[statType];return isEmpty(statsForType)?"—":statsForType.toLocaleString()}},{key:"getCampaignQueries",value:function(campaignId){var campaignListIds=_underscore2.default.map(_campaignsStore.CampaignsStore.getCampaignListsForCampaign(campaignId),function(l){return l.query_id.toString()}),campaignSegmentIds=_underscore2.default.map(_campaignsStore.CampaignsStore.getCampaignSegmentsForCampaign(campaignId),function(s){return s.query_id.toString()}),campaignLists=_underscore2.default.filter(_listStore2.default.getLists(),function(l){return _underscore2.default.contains(campaignListIds,l.id.toString())}),campaignSegments=_underscore2.default.filter(_listStore2.default.getSegments(),function(s){return _underscore2.default.contains(campaignSegmentIds,s.id.toString())});return campaignLists.concat(campaignSegments)}},{key:"getCampaignLists",value:function(campaignId){var campaignListIds=_underscore2.default.map(_campaignsStore.CampaignsStore.getCampaignListsForCampaign(campaignId),function(l){return l.query_id.toString()});return _underscore2.default.filter(_listStore2.default.getLists(),function(l){return _underscore2.default.contains(campaignListIds,l.id.toString())})}},{key:"shouldSendImmediately",value:function(){return!CampaignUtils.getScheduledSendTime()}},{key:"getScheduledSendTime",value:function(){var scheduleValues=_settingsStore2.default.getScheduleSettings().values;return scheduleValues.scheduledAt?(0,_momentTimezone2.default)(1e3*scheduleValues.scheduledAt).tz(scheduleValues.userTimezone.code):null}},{key:"getFormattedQueryNames",value:function(){var shouldIncludeCount=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(!_listStore2.default.getHasFetchedCollection())return[];if(shouldIncludeCount&&!_listStore2.default.getHasFetchedCollectionWithCounts())return[];var hyphenatedQueries=CampaignUtils.getRecipientSettings().values.queries,queries=_listStore2.default.getQueriesForHyphenated(CampaignUtils.getRecipientSettings().values.queries),formattedQueries=_underscore2.default.chain(queries).sort(function(q1,q2){return q2.count>=q1.count}).map(function(query){var queryName=_stringUtils2.default.capitalize(_stringUtils2.default.truncate(query.name,25));return shouldIncludeCount?queryName+" ("+_numberUtils2.default.format(query.count)+")":queryName}).value();return shouldIncludeCount&&formattedQueries.unshift("Total ("+_listStore2.default.getTotalRecipientCountForHyphenated(hyphenatedQueries)+")"),formattedQueries}},{key:"getRecipientSettings",value:function(){return _settingsStore2.default.getRecipientSettings()}},{key:"getAbSettings",value:function(){return _abStore2.default.getAll()}},{key:"getJsonForSaveSendWithUndoTimeDelay",value:function(campaignId,isDnd){var isSend=arguments.length>2&&void 0!==arguments[2]&&arguments[2],timeDelay=arguments.length>3&&void 0!==arguments[3]?arguments[3]:12e4,campaignJson=CampaignUtils.getJsonForSaveSend(campaignId,isDnd,isSend),scheduleValues=_settingsStore2.default.getScheduleSettings().values,timezone=scheduleValues.userTimezone.code;if(CampaignUtils.shouldSendImmediately()){var oneMinuteIntoTheFuture=(0,_momentTimezone2.default)().add(timeDelay,"milliseconds").tz(timezone);campaignJson.campaign.scheduled_date=oneMinuteIntoTheFuture.format("L"),campaignJson.campaign.scheduled_time=oneMinuteIntoTheFuture.format("LT")}else{var scheduledTimePlusOneMinute=(0,_momentTimezone2.default)(1e3*scheduleValues.scheduledAt).add(timeDelay,"milliseconds").tz(timezone);campaignJson.campaign.scheduled_time=scheduledTimePlusOneMinute.format("LT")}return campaignJson}},{key:"getJsonForSaveSend",value:function(campaignId,isDnd){function getContents(proposedSplit){if(!contentValues[proposedSplit])return"";var split=_abStore2.default.isSubjectLineTest()?"A":proposedSplit,content=isDnd?_moduleStore2.default.getSerializedModuleContents(split):contentValues[split].content;return _sanitizerUtils2.default.sanitize(content)}function getPlainContents(proposedSplit){if(!contentValues[proposedSplit])return"";var split=_abStore2.default.isSubjectLineTest()?"A":proposedSplit;return contentValues[split].plain_content}function getSubject(proposedSplit){if(!contentValues[proposedSplit])return"";var split=_abStore2.default.isEmailContentTest()?"A":proposedSplit;return contentValues[split].subject||""}var isSend=arguments.length>2&&void 0!==arguments[2]&&arguments[2],contentValues=_contentsStore2.default.getAllCampaignSplitContents(),abValues=CampaignUtils.getAbSettings(),campaignValues=_settingsStore2.default.getCampaignSettings(),recipientValues=CampaignUtils.getRecipientSettings(),scheduledDate=CampaignUtils.getScheduledSendTime();try{return{campaign:{name:campaignValues.values.name?campaignValues.values.name:campaignValues.data.name,subscription_group_id:recipientValues.values.suppressionGroup||null,custom_unsub_link:recipientValues.values.customUnsubscribeLink,scheduled_date:scheduledDate?scheduledDate.format("L"):null,scheduled_time:scheduledDate?scheduledDate.format("LT"):null,has_plain_text_lock:campaignValues.values.hasPlainTextLock,ip_pool:campaignValues.values.ipPool,campaign_content:{content:getContents("A"),content_b:getContents("B"),content_c:getContents("C"),content_d:getContents("D"),content_e:getContents("E"),content_f:getContents("F"),plain_content:getPlainContents("A"),plain_content_b:getPlainContents("B"),plain_content_c:getPlainContents("C"),plain_content_d:getPlainContents("D"),plain_content_e:getPlainContents("E"),plain_content_f:getPlainContents("F"),subject:getSubject("A"),subject_b:getSubject("B"),subject_c:getSubject("C"),subject_d:getSubject("D"),subject_e:getSubject("E"),subject_f:getSubject("F")},campaign_split:{sender_identity_id:campaignValues.values.senderIdentity||null},categories:{names:campaignValues.values.categories?campaignValues.values.categories.join(","):null},campaign_ab_test:{id:abValues.values.id||null,ab_variation_type_id:abValues.values.variation||1,percentage:abValues.values.percentage||null,ab_test_type_id:abValues.values.type||3,duration_secs:abValues.values.duration||null,active:abValues.values.isAB?"on":"off",versions:abValues.values.versionCount||null},campaign_query_ids:recipientValues.values.queries||null,campaign_list_ids:recipientValues.values.listIds||null,campaign_segment_ids:recipientValues.values.segmentIds||null},id:campaignId,test_to_addresses:recipientValues.values.testEmails||null,validate_for_send:isSend}}catch(e){return}}}]),CampaignUtils}();exports.default=CampaignUtils},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function findCustomField(cb){var customField=collection.find(cb);if(customField){return{name:customField.field_name||customField.name,value:customField.id||customField.field_name,type:customField.type}}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),collection=[],hasFetchedCollection=!1,initState=function(){hasFetchedCollection=!1,collection=[]},setCollection=function(c){collection=c,hasFetchedCollection=!0},addItem=function(item){collection.push(item)},removeItem=function(id){collection=_underscore2.default.reject(collection,function(item){return item.id===id})},CustomFieldStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return hasFetchedCollection},getCollection:function(){return JSON.parse(JSON.stringify(collection))},getCollectionAsSelectOptions:function(){var reservedFields=collection.filter(function(item){return item.is_reserved}).map(function(item){return{name:item.field_name.toLowerCase(),value:item.field_name,type:item.type,isReserved:!0}}),customFields=collection.filter(function(item){return!item.is_reserved}).sort(function(a,b){return a.name<b.name?-1:a.name>b.name?1:0}).map(function(item){return{name:item.name.toLowerCase(),value:String(item.id),type:item.type,isReserved:!1}});return[].concat(_toConsumableArray(reservedFields),_toConsumableArray(customFields))},getCustomFieldByName:function(){var name=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",lc=function(x){return(x||"").toLowerCase()};return findCustomField(function(item){return _underscore2.default.contains([lc(item.name),lc(item.field_name)],lc(name))})},getCustomFieldById:function(id){return findCustomField(function(item){return String(item.id)===String(id)||String(item.field_name)===String(id)})},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CUSTOM_FIELDS.FETCHED:setCollection(action.customFields),CustomFieldStore.emitChange();break;case _constants2.default.ACTIONS.CUSTOM_FIELDS.CREATED:addItem(action.customField),CustomFieldStore.emitChange();break;case _constants2.default.ACTIONS.CUSTOM_FIELDS.DELETED:removeItem(action.id),CustomFieldStore.emitChange()}}});initState(),CustomFieldStore.dispatchToken=_appDispatcher2.default.register(CustomFieldStore.dispatcherCb),module.exports=CustomFieldStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getIcon(props){return props.shouldShowIcon?_react2.default.createElement("i",{className:"sg-icon sg-icon-"+("success"==props.type?"check-circle":"warning")}):null}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_alertCss=__webpack_require__(1515),_alertCss2=_interopRequireDefault(_alertCss),VISIBILITY_TIMEOUTS={SUCCESS:5e3,DANGER:3e4},Alert=_react2.default.createClass({displayName:"Alert",propTypes:{type:_react2.default.PropTypes.oneOf(["success","warning","danger"]).isRequired,id:_react2.default.PropTypes.string,hasX:_react2.default.PropTypes.bool,onDismiss:_react2.default.PropTypes.func,shouldShowIcon:_react2.default.PropTypes.bool,shouldAutoHide:_react2.default.PropTypes.bool,timeShouldBeVisible:_react2.default.PropTypes.number,isManagedNotification:_react2.default.PropTypes.bool},getDefaultProps:function(){return{id:"default-alert-id",hasX:!0,onDismiss:$.noop,shouldShowIcon:!0,shouldAutoHide:!0,isManagedNotification:!1}},getInitialState:function(){return{isVisible:!0}},componentDidMount:function(){this.show()},componentWillUnmount:function(){clearTimeout(this.visibilityTimeout)},componentWillUpdate:function(nextProps){nextProps.shouldAutoHide!==this.props.shouldAutoHide&&(nextProps.shouldAutoHide?this.setVisibilityTimeout():clearTimeout(this.visibilityTimeout))},componentWillReceiveProps:function(){this.show()},getTimeShouldBeVisible:function(){return this.props.timeShouldBeVisible?this.props.timeShouldBeVisible:"success"==this.props.type?VISIBILITY_TIMEOUTS.SUCCESS:VISIBILITY_TIMEOUTS.DANGER},setVisibilityTimeout:function(){this.visibilityTimeout=setTimeout(this.hide,this.getTimeShouldBeVisible())},show:function(){this.setState({isVisible:!0}),clearTimeout(this.visibilityTimeout),this.props.shouldAutoHide&&this.setVisibilityTimeout()},hide:function(){this.props.onDismiss(this.props.id),this.visibilityTimeout=clearTimeout(this.visibilityTimeout),this.props.isManagedNotification||this.setState({isVisible:!1})},render:function(){return this.state.isVisible?_react2.default.createElement("div",{className:"alert alert-"+this.props.type+" "+_alertCss2.default.alert},_react2.default.createElement("p",{className:"alert-message"},getIcon(this.props),this.props.children,this.props.hasX?_react2.default.createElement("i",{className:"sg-icon sg-icon-x",onClick:this.hide}):null)):null}});exports.default=Alert},,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),HAS_TIARA_LOADED=$.Deferred(),ANIMATION_DURATION=500,$FEEDBACK_TAB_HANDLE=void 0,$TIARA_HANDLE=void 0,$CONTENT_CONTAINER_HANDLE=void 0,$APP_CONTAINER_HANDLE=void 0,DIMENSIONS=void 0,TiaraUtils=function(){function TiaraUtils(){_classCallCheck(this,TiaraUtils)}return _createClass(TiaraUtils,null,[{key:"hasLoaded",value:function(){return $.whenAll(Object.values(window.tiara)).done(function(){$TIARA_HANDLE=$("[data-tiara-nav]"),$CONTENT_CONTAINER_HANDLE=$(".tiara-content-container main"),$APP_CONTAINER_HANDLE=$("[data-role=main-app-container]"),$FEEDBACK_TAB_HANDLE=$("#webklipper-publisher-widget-container"),$FEEDBACK_TAB_HANDLE.length||console.error("feedback tab not found! check the selector."),DIMENSIONS||TiaraUtils.setTiaraDimensions({CONTAINER_PADDING:$CONTENT_CONTAINER_HANDLE.css("padding"),NAV_WIDTH:$TIARA_HANDLE.css("width")}),HAS_TIARA_LOADED.resolve()}),HAS_TIARA_LOADED}},{key:"setTiaraDimensions",value:function(_ref){var CONTAINER_PADDING=_ref.CONTAINER_PADDING,NAV_WIDTH=_ref.NAV_WIDTH;DIMENSIONS={CONTAINER_PADDING:CONTAINER_PADDING,NAV_WIDTH:NAV_WIDTH}}},{key:"hide",value:function(){function hideAnimation(resolve){function onDone(){$APP_CONTAINER_HANDLE.removeClass("container").addClass("container-fluid"),resolve()}$TIARA_HANDLE.hide({duration:ANIMATION_DURATION,queue:!1,complete:onDone}),$CONTENT_CONTAINER_HANDLE.animate({padding:"0px"},ANIMATION_DURATION),$TIARA_HANDLE.animate({left:"-"+DIMENSIONS.NAV_WIDTH},{duration:ANIMATION_DURATION,queue:!1})}return new Promise(function(resolve){TiaraUtils.hasLoaded().done(function(){return hideAnimation(resolve)})})}},{key:"show",value:function(){function showAnimation(resolve){function onDone(){$APP_CONTAINER_HANDLE.addClass("container").removeClass("container-fluid"),resolve()}$TIARA_HANDLE.show({duration:ANIMATION_DURATION,queue:!1,complete:onDone}),$TIARA_HANDLE.animate({left:"0px"},{duration:ANIMATION_DURATION,queue:!1}),$CONTENT_CONTAINER_HANDLE.animate({padding:DIMENSIONS.CONTAINER_PADDING},ANIMATION_DURATION)}return new Promise(function(resolve){TiaraUtils.hasLoaded().done(function(){return showAnimation(resolve)})})}},{key:"logout",value:function(){return window.SendGridTiara?window.SendGridTiara.logoutCallback?window.SendGridTiara.logoutCallback():console.error("tiara logout callback not set"):console.error("tiara not set")}},{key:"hideFeedbackTab",value:function(){var shouldAnimate=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];TiaraUtils.hasLoaded().done(function(){return $FEEDBACK_TAB_HANDLE.hide({duration:shouldAnimate?ANIMATION_DURATION:0})})}},{key:"showFeedbackTab",value:function(){var shouldAnimate=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];TiaraUtils.hasLoaded().done(function(){return $FEEDBACK_TAB_HANDLE.show({duration:shouldAnimate?ANIMATION_DURATION:0})})}}]),TiaraUtils}();window.TiaraUtils=TiaraUtils,exports.default=TiaraUtils},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),baseUrl="/marketing_campaigns/senders",SenderActions={fetch:function(){$.ajax({url:baseUrl+".json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SENDER_IDENTITIES.FETCHED,senders:json})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.SENDER_IDENTITIES.FETCH_ERROR,notificationType:"danger"}),console.error("Ajax error while trying to fetch senders."),console.log(arguments)}})},getById:function(id){$.ajax({url:baseUrl+"/"+id+".json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SENDER_IDENTITIES.GOT_BY_ID,sender:json})},error:function(){console.error("Ajax error while trying to fetch sender by id."),console.log(arguments)}})},create:function(model){return $.ajax({url:baseUrl+".json",method:"POST",data:{sender_identity:model},success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SENDER_IDENTITIES.CREATED,sender:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"Success! You created a new sender.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to create sender."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON.error||"There was a problem with creating this sender.",notificationType:"danger"})}})},update:function(model){return $.ajax({url:baseUrl+"/"+model.id+".json",method:"PUT",data:{sender_identity:model},success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SENDER_IDENTITIES.UPDATED,sender:json}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"The sender was updated successfully.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to update sender."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON.error||"There was a problem with updating this sender.",notificationType:"danger"})}})},delete:function(id){$.ajax({url:baseUrl+"/"+id+".json",method:"DELETE",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SENDER_IDENTITIES.DELETED,id:id}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:"Success! Your sender was deleted.",notificationType:"success"})},error:function(response){console.error("Ajax error while trying to delete sender."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON.error||"There was a problem with deleting this sender.",notificationType:"danger"})}})},verify:function(id){$.ajax({url:baseUrl+"/"+id+"/verification.json",type:"POST",success:function(data){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:data.message,notificationType:"success"})},error:function(){console.error("Ajax error while trying to send sender verification email."),console.log(arguments)}})}};exports.default=SenderActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function WithDisplayControls(ComposedCmp){return function(_React$Component){function _class(){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this));return _this.state={filters:_campaignListControlsStore2.default.getFilters(),statType:_campaignListControlsStore2.default.getStatType()},_this.campaignListControlsStoreChanged=_this.campaignListControlsStoreChanged.bind(_this),_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentDidMount",value:function(){_campaignListControlsStore2.default.addChangeListener(this.campaignListControlsStoreChanged)}},{key:"componentWillUnmount",value:function(){_campaignListControlsStore2.default.removeChangeListener(this.campaignListControlsStoreChanged)}},{key:"campaignListControlsStoreChanged",value:function(){var updatedState={filters:_campaignListControlsStore2.default.getFilters(),statType:_campaignListControlsStore2.default.getStatType()};this.setState(_extends({},this.state,updatedState))}},{key:"render",value:function(){return _react2.default.createElement(ComposedCmp,_extends({},this.props,onFiltersChanged,{clearAllFilters:clearAllFilters,onVisibleStatTypeChanged:onVisibleStatTypeChanged,nameFilter:this.state.filters.name,statusFilter:this.state.filters.status,categoryFilter:this.state.filters.categories,visibleStatType:this.state.statType}))}}]),_class}(_react2.default.Component)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_campaignListControlsActions=__webpack_require__(325),_campaignListControlsActions2=_interopRequireDefault(_campaignListControlsActions),_campaignListControlsStore=__webpack_require__(506),_campaignListControlsStore2=_interopRequireDefault(_campaignListControlsStore),clearAllFilters=function(){_campaignListControlsActions2.default.clearFilters()},onFilterChanged=function(filter){_campaignListControlsActions2.default.filter(filter)},onFiltersChanged={onNameFilterChanged:function(name){return onFilterChanged({name:name})},onStatusFilterChanged:function(status){return onFilterChanged({status:status})},onCategoryFilterChanged:function(categories){return onFilterChanged({categories:categories})}},onVisibleStatTypeChanged=function(type){_campaignListControlsActions2.default.setStatType({type:type})};exports.default=WithDisplayControls},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getState(statusId){var statusType=_campaignsStore.CampaignsStore.getStatusNameById(statusId);return{campaignStatusType:statusType,isDraft:statusType===_constants2.default.CAMPAIGNS.STATUSES.DRAFT,isScheduled:statusType===_constants2.default.CAMPAIGNS.STATUSES.SCHEDULED,isInProgress:statusType===_constants2.default.CAMPAIGNS.STATUSES.IN_PROGRESS,isCanceled:statusType===_constants2.default.CAMPAIGNS.STATUSES.CANCELED,isSent:statusType===_constants2.default.CAMPAIGNS.STATUSES.SENT}}function WithCampaignStatus(ComposedCmp){function WithCampaignStatusInner(props){return _react2.default.createElement(ComposedCmp,_extends({},props,getState(props.campaignStatusId)))}return WithCampaignStatusInner.propTypes={campaignStatusId:_propTypes2.default.number.isRequired},WithCampaignStatusInner}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_campaignsStore=__webpack_require__(61),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);exports.default=WithCampaignStatus},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function addLineBreak(arr){var a=[].concat(_toConsumableArray(arr));return a[a.length-1]+="\n",a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),ExportUtils=function(){function ExportUtils(){_classCallCheck(this,ExportUtils)}return _createClass(ExportUtils,null,[{key:"getExportFilename",value:function(artifactName){return _dateUtils2.default.formatValue(new Date,"YYYYMMDD",(_currentUserStore2.default.getUserTimezone()||{}).code)+"_"+artifactName+"_HTML.txt"}},{key:"uriEncodeHtml",value:function(html){return"data:text/html;charset=utf-8,"+encodeURIComponent(html)}},{key:"downloadExport",value:function(content,artifactName){_analyticsUtils2.default.trackEditor("export",{source:"design"});var a=document.createElement("a");a.setAttribute("href",ExportUtils.uriEncodeHtml(content)),a.setAttribute("download",ExportUtils.getExportFilename(artifactName)),a.setAttribute("target","_blank"),a.click()}},{key:"getDownloadableCsvHref",value:function(){var headers=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],values=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[[]],h=addLineBreak(headers).join(","),v=values.map(function(line){return addLineBreak(line).join(",")}).join("");return"data:application/octet-stream,"+encodeURIComponent(""+h+v)}}]),ExportUtils}();exports.default=ExportUtils},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SgLoader(_ref){var centered=_ref.centered,className=_ref.className,large=_ref.large,classname=(0,_classnames2.default)("sg-loader",className,{"is-large":large,"is-centered":centered}),size=large?20:10;return _react2.default.createElement("svg",{className:classname},_react2.default.createElement("rect",{className:"logo-square bottom-left",width:size,height:size}),_react2.default.createElement("rect",{className:"logo-square bottom-middle",width:size,height:size}),_react2.default.createElement("rect",{className:"logo-square middle",width:size,height:size}),_react2.default.createElement("rect",{className:"logo-square top-middle",width:size,height:size}),_react2.default.createElement("rect",{className:"logo-square top-right",width:size,height:size}),_react2.default.createElement("rect",{className:"logo-square middle-left",width:size,height:size}),_react2.default.createElement("rect",{className:"logo-square middle-right",width:size,height:size}))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames);SgLoader.propTypes={centered:_propTypes2.default.bool,className:_propTypes2.default.string,large:_propTypes2.default.bool},SgLoader.defaultProps={centered:!1,className:"",large:!1},exports.default=SgLoader},function(module,exports,__webpack_require__){"use strict";function pipe(){for(var _len=arguments.length,fns=Array(_len),_key=0;_key<_len;_key++)fns[_key]=arguments[_key];return function(v){return fns.reduce(function(memo,fn){return fn(memo)},v)}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.pipe=pipe},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function HeaderBar(props){var classname=(0,_classnames3.default)("header-bar",_previewContentHeaderBarCss2.default["header-bar"],_defineProperty({},_previewContentHeaderBarCss2.default["in-modal"],props.isInModal));return _react2.default.createElement("div",{className:classname},_react2.default.createElement("ul",{className:_previewContentHeaderBarCss2.default["header-content"]},props.shouldShowSender&&_react2.default.createElement("li",null,_react2.default.createElement("strong",null,"From:")," ",props.nickname," ",props.name&&"<"+props.name+">"),props.shouldShowSubject&&_react2.default.createElement("li",null,_react2.default.createElement("strong",null,"Subject: "),props.subject),props.shouldShowPreheader&&_react2.default.createElement("li",null,_react2.default.createElement("strong",null,"Preheader: "),props.preheader)))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_previewContentHeaderBarCss=__webpack_require__(1129),_previewContentHeaderBarCss2=_interopRequireDefault(_previewContentHeaderBarCss);HeaderBar.propTypes={name:_propTypes2.default.string,nickname:_propTypes2.default.string,subject:_propTypes2.default.string,preheader:_propTypes2.default.string,isInModal:_propTypes2.default.bool,shouldShowSender:_propTypes2.default.bool,shouldShowSubject:_propTypes2.default.bool,shouldShowPreheader:_propTypes2.default.bool},HeaderBar.defaultProps={name:"",nickname:"",subject:"",preheader:"",isInModal:!1,shouldShowSender:!0,shouldShowSubject:!0,shouldShowPreheader:!0},exports.default=HeaderBar},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function deleteExtraContents(count){_underscore2.default.each(_underscore2.default.rest(_constants2.default.CAMPAIGNS.SPLITS,count),function(split){return delete storeContents[split]})}function shouldSync(){return _editorTypeStore2.default.getCampaignEditorName(storeEditorID)===_constants2.default.EDITORS.DND}function getSyncedSplitAContents(){var splitAContents=_underscore2.default.clone(storeContents.A);return shouldSync()&&(splitAContents.content=_moduleStore2.default.getSerializedModuleContents("A"),storeContents.A=_underscore2.default.clone(splitAContents)),splitAContents}function copyContentsFromSplitA(count,overwrite){var splitAContents=getSyncedSplitAContents();_underscore2.default.each(_underscore2.default.first(_constants2.default.CAMPAIGNS.SPLITS,count),function(split){(overwrite||_underscore2.default.isUndefined(storeContents[split]))&&(storeContents[split]=_underscore2.default.clone(splitAContents))})}function syncAllHtmlToPlain(){_underscore2.default.each(storeContents,function(c){c.plain_content=(0,_plainTextUtils.htmlToPlain)(c.content)})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_plainTextUtils=__webpack_require__(154),contentTemplate={content:"Loading...",plain_content:"Loading...",subject:"Loading..."},storeActiveSplit=void 0,storeContents=void 0,storeEditorID=void 0,initState=function(){storeEditorID=-1,storeActiveSplit="A",storeContents={A:_extends({},contentTemplate)}},editContents=function(field,val,specificSplit){_underscore2.default.isUndefined(storeContents[specificSplit||storeActiveSplit])||(storeContents[specificSplit||storeActiveSplit][field]=val)},setContentsFromDB=function(campaign){storeContents=Object.keys(campaign.contents).reduce(function(contents,split){var content=campaign.contents[split].content;return content&&!(0,_plainTextUtils.hasNewLines)(content)&&(content=(0,_plainTextUtils.beautify)(content)),_extends({},contents,_defineProperty({},split,_extends({},campaign.contents[split],{content:content})))},campaign.contents)},setEditorIDFromDB=function(id){storeEditorID=id},setActiveSplit=function(activeSplit){storeActiveSplit=activeSplit},editSplitCount=function(count){var oldCount=_underscore2.default.size(storeContents);count<oldCount?(setActiveSplit("A"),getSyncedSplitAContents(),deleteExtraContents(count)):count>oldCount&&copyContentsFromSplitA(count,!1)},CampaignEditorContentsStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{addChangeListener:function(cb){this.on(_constants2.default.EVENTS.STORES.CHANGE,cb)},removeChangeListener:function(cb){this.off(_constants2.default.EVENTS.STORES.CHANGE,cb)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},getEditorId:function(){return storeEditorID},getCampaignContents:function(split){return _underscore2.default.clone(storeContents[split||storeActiveSplit])},getAllCampaignSplitContents:function(){return _underscore2.default.clone(storeContents)},getAllSubjects:function(){return _underscore2.default.reduce(storeContents,function(memo,c,split){return _underscore2.default.tap(memo,function(m){m[split]=c.subject})},{})},getActiveSplit:function(){return _underscore2.default.clone(storeActiveSplit)},comparePlainAndHTMLforAllSplits:function(){return _underscore2.default.every(storeContents,function(c){var html=c&&c.content,plain=c&&c.plain_content;return(0,_plainTextUtils.htmlToPlain)(html)===plain})},clear:function(){initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.TOGGLE_AB_SWITCH_DESIGN:case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.TOGGLE_AB_SWITCH_CODE:editSplitCount(action.isNowOn?2:1),CampaignEditorContentsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SPLIT_COUNT_DESIGN:case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SPLIT_COUNT_CODE:editSplitCount(action.splitCount),CampaignEditorContentsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SWITCH_ACTIVE_SPLIT:shouldSync()&&editContents("content",_moduleStore2.default.getSerializedModuleContents()),setActiveSplit(action.activeSplit),CampaignEditorContentsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_VARIATION_TYPE_DESIGN:case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_VARIATION_TYPE_CODE:setActiveSplit("A"),copyContentsFromSplitA(_underscore2.default.size(storeContents),!0),CampaignEditorContentsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_CONTENTS:editContents(action.field,action.value,action.specificSplit),CampaignEditorContentsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SYNC_HTML_TO_PLAIN:syncAllHtmlToPlain(),CampaignEditorContentsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SYNC_CAMPAIGN_CONTENTS:action.syncPlainContent&&editContents("plain_content",(0,_plainTextUtils.htmlToPlain)(_moduleStore2.default.getSerializedModuleContents())),editContents("content",_moduleStore2.default.getSerializedModuleContents()),CampaignEditorContentsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.GOT_BY_ID:setContentsFromDB(action.campaign),setEditorIDFromDB(action.campaign.editor_id),CampaignEditorContentsStore.emitChange()}}});initState(),CampaignEditorContentsStore.dispatchToken=_appDispatcher2.default.register(CampaignEditorContentsStore.dispatcherCb),exports.default=CampaignEditorContentsStore},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_campaignsStore=__webpack_require__(61),_contentsStore=__webpack_require__(182),_contentsStore2=_interopRequireDefault(_contentsStore),abSettings=void 0,hasFetchedData=void 0,hasFetchedCampaignValues=void 0,initState=function(){hasFetchedData=!1,hasFetchedCampaignValues=!1,abSettings={data:{types:[],variations:[],durations:_constants2.default.EDITOR.DURATIONS},values:{isAB:void 0,versionCount:void 0,type:void 0,variation:void 0,percentage:void 0,duration:void 0,subjects:void 0,id:void 0}}},updateSubjects=function(){abSettings.values.versionCount=_underscore2.default.size(_contentsStore2.default.getAllSubjects()),abSettings.values.subjects=_contentsStore2.default.getAllSubjects()},setValuesFromDB=function(campaign){var ab=campaign.ab_test;ab?(abSettings.values.isAB=!0,abSettings.values.duration=ab.duration_secs,abSettings.values.type=ab.ab_test_type_id,abSettings.values.variation=ab.ab_variation_type_id,abSettings.values.percentage=ab.percentage,abSettings.values.id=ab.id):(abSettings.values={},abSettings.values.isAB=!1),updateSubjects(),hasFetchedCampaignValues=!0},setDataFromDB=function(abData){abSettings.data.types=abData.ab_test_types,abSettings.data.variations=abData.ab_variation_types,hasFetchedData=!0},setValue=function(field,newValue){abSettings.values[field]=newValue,updateSubjects()},setDefaultValues=function(){abSettings.values={isAB:!0,type:abSettings.data.types[0].id,variation:abSettings.data.variations[0].id,percentage:45,duration:_constants2.default.EDITOR.DURATIONS[0].value},updateSubjects()},clearABValues=function(){abSettings.values={},abSettings.values.isAB=!1,updateSubjects()},isVariation=function(variationLabel){var variations=abSettings.data.variations,id=abSettings.values.variation;return!!_underscore2.default.find(variations,function(v){return v.type===variationLabel&&String(v.id)===String(id)})},CampaignEditorABStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{addChangeListener:function(cb){this.on(_constants2.default.EVENTS.STORES.CHANGE,cb)},removeChangeListener:function(cb){this.off(_constants2.default.EVENTS.STORES.CHANGE,cb)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},clear:function(){initState()},getAll:function(){return _underscore2.default.clone(abSettings)},getValue:function(key){return _underscore2.default.clone(abSettings.values[key])},getHasFetched:function(){return hasFetchedData&&hasFetchedCampaignValues},isSubjectLineTest:function(){return isVariation("Subject Line")},isEmailContentTest:function(){return isVariation("Email Content")},getActiveSplit:function(){return _contentsStore2.default.getActiveSplit()},test_resetState:function(){initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.TOGGLE_AB_SWITCH_DESIGN:case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.TOGGLE_AB_SWITCH_CODE:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),action.isNowOn?setDefaultValues():clearABValues(),CampaignEditorABStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SPLIT_COUNT_DESIGN:case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SPLIT_COUNT_CODE:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),setValue("versionCount",action.splitCount),CampaignEditorABStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_VARIATION_TYPE_DESIGN:case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_VARIATION_TYPE_CODE:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),setValue(action.field,action.value),CampaignEditorABStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SWITCH_ACTIVE_SPLIT:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),CampaignEditorABStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_CONTENTS:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),updateSubjects(),CampaignEditorABStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_AB_SETTINGS:setValue(action.field,action.value),CampaignEditorABStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.AB.GOT_DATA:setDataFromDB(action.abData),CampaignEditorABStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.GOT_BY_ID:_appDispatcher2.default.waitFor([_campaignsStore.CampaignsStore.dispatchToken,_contentsStore2.default.dispatchToken]),setValuesFromDB(action.campaign),CampaignEditorABStore.emitChange()}}});initState(),CampaignEditorABStore.dispatchToken=_appDispatcher2.default.register(CampaignEditorABStore.dispatcherCb),exports.default=CampaignEditorABStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function initState(){hasFetchedScheduledAt=!1,settings={campaignSettings:{values:{senderIdentity:void 0,name:void 0,subject:"Loading...",categories:[],ipPool:"",hasPlainTextLock:void 0,editorID:void 0},data:{senderIdentities:[],categories:[],ipPools:[],name:void 0}},recipientSettings:{values:{queries:[],listIds:[],segmentIds:[],suppressionGroup:void 0,customUnsubscribeLink:void 0,testEmails:void 0},data:{queries:{},suppressionGroups:[]}},scheduleSettings:{values:{scheduledAt:void 0,userTimezone:_currentUserStore2.default.getUserTimezone()}}}}function setListAndSegmentIdsByName(queryValues){settings.recipientSettings.values.listIds=[],settings.recipientSettings.values.segmentIds=[],_underscore2.default.each(queryValues,function(value){var query=_listStore2.default.getQueryByHyphenated(value);query&&(query.type===_constants2.default.QUERY_TYPES.SEGMENT?settings.recipientSettings.values.segmentIds.push(query.id):settings.recipientSettings.values.listIds.push(query.id))})}function editCampaignContents(){settings.campaignSettings.values.subject=_contentsStore2.default.getAllSubjects().A}function editCampaignSettings(newSettings){settings.campaignSettings.values=newSettings}function editCampaignSettingsValue(field,value){settings.campaignSettings.values[field]=value}function editScheduleSettings(newSettings){settings.scheduleSettings.values=newSettings}function editRecipientSettings(newSettings){settings.recipientSettings.values=newSettings,setListAndSegmentIdsByName(newSettings.queries)}function editCampaignDataName(name){settings.campaignSettings.data.name=name}function setCampaignSettings(campaign){var campaignSettingsValues=_underscore2.default.extend({},settings.campaignSettings.values),campaignSettingsData=_underscore2.default.extend({},settings.campaignSettings.data);campaignSettingsData.senderIdentities=_senderStore2.default.getVerifiedSendersAsSelectOptions(),campaignSettingsData.categories=_categoryStore2.default.getUserCategoriesAsSelectOptions(),campaignSettingsData.ipPools=_ipPoolStore2.default.getCollection(),campaign&&(campaignSettingsValues.name=campaign.name,campaignSettingsData.name=campaign.name,campaignSettingsValues.senderIdentity=campaign.sender_identity,campaignSettingsValues.categories=campaign.categoryNames,campaignSettingsValues.hasPlainTextLock=campaign.has_plain_text_lock,campaignSettingsValues.editorID=campaign.editor_id,campaignSettingsValues.ipPool=campaign.ip_pool),campaignSettingsValues.subject=_contentsStore2.default.getAllSubjects().A,settings.campaignSettings={values:campaignSettingsValues,data:campaignSettingsData}}function setScheduleSettings(campaign){var scheduleSettingsValues=_underscore2.default.extend({},settings.scheduleSettings.values);scheduleSettingsValues.scheduledAt=campaign.scheduled_at,settings.scheduleSettings={values:scheduleSettingsValues},hasFetchedScheduledAt=!0}function setUserTimezone(){settings.scheduleSettings.values.userTimezone=_currentUserStore2.default.getUserTimezone()}function setRecipientSettings(campaign){var recipientSettingsValues=_underscore2.default.extend({},settings.recipientSettings.values),recipientSettingsData=_underscore2.default.extend({},settings.recipientSettings.data);recipientSettingsData.suppressionGroups=_suppressionGroupStore2.default.getAllSuppressionGroupsAsSelectOptions(),recipientSettingsData.queries=_listStore2.default.getAllQueriesAsSelectOptions(),campaign&&(recipientSettingsValues.queries=campaign.queries,recipientSettingsValues.segmentIds=campaign.segments,recipientSettingsValues.listIds=campaign.lists,recipientSettingsValues.suppressionGroup=campaign.subscription_group_id,recipientSettingsValues.customUnsubscribeLink=campaign.custom_unsub_link),settings.recipientSettings={values:recipientSettingsValues,data:recipientSettingsData}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_senderStore=__webpack_require__(228),_senderStore2=_interopRequireDefault(_senderStore),_categoryStore=__webpack_require__(507),_categoryStore2=_interopRequireDefault(_categoryStore),_campaignsStore=__webpack_require__(61),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_suppressionGroupStore=__webpack_require__(1267),_suppressionGroupStore2=_interopRequireDefault(_suppressionGroupStore),_contentsStore=__webpack_require__(182),_contentsStore2=_interopRequireDefault(_contentsStore),_abStore=__webpack_require__(184),_abStore2=_interopRequireDefault(_abStore),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_ipPoolStore=__webpack_require__(1268),_ipPoolStore2=_interopRequireDefault(_ipPoolStore),settings=void 0,hasFetchedScheduledAt=void 0,CampaignEditorSettingsStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},clear:function(){initState()},getHasFetchedScheduleSettings:function(){return settings.scheduleSettings.values.userTimezone&&hasFetchedScheduledAt},getHasFetchedScheduledAt:function(){return hasFetchedScheduledAt},getHasFetchedSenderIdentityCollection:function(){return _senderStore2.default.getHasFetchedCollection()},getHasFetchedCategoryCollection:function(){return _categoryStore2.default.getHasFetchedCollection()},getHasFetchedIpPoolCollection:function(){return _ipPoolStore2.default.getHasFetchedCollection()},getCampaignSettings:function(){return _underscore2.default.clone(settings.campaignSettings)},getScheduleSettings:function(){return _underscore2.default.clone(settings.scheduleSettings)},getRecipientSettings:function(){return _underscore2.default.clone(settings.recipientSettings)},getCampaignSettingValue:function(key){return _underscore2.default.clone(settings.campaignSettings.values[key])},getCampaignSettingData:function(key){return _underscore2.default.clone(settings.campaignSettings.data[key])},getScheduleSettingValue:function(key){return"scheduledAt"===key?settings.scheduleSettings.values[key]:_underscore2.default.clone(settings.scheduleSettings.values[key])},getRecipientSettingValue:function(key){return _underscore2.default.clone(settings.recipientSettings.values[key])},getRecipientSettingData:function(key){return _underscore2.default.clone(settings.recipientSettings.data[key])},getHasFetchedQueryCollectionWithCounts:function(){return _listStore2.default.getHasFetchedCollectionWithCounts()},getHasFetchedSuppressionGroupCollection:function(){return _suppressionGroupStore2.default.getHasFetchedCollection()},isEmailContentTest:function(){return _abStore2.default.isEmailContentTest()},_test_initState:function(){var extended=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};initState(),settings=_underscore2.default.extend({},settings,extended)},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.SWITCH_ACTIVE_SPLIT:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),setCampaignSettings(),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_CONTENTS:_appDispatcher2.default.waitFor([_contentsStore2.default.dispatchToken]),editCampaignContents(),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_SETTINGS:editCampaignSettings(action.settings),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_CAMPAIGN_SETTINGS_VALUE:editCampaignSettingsValue(action.field,action.value),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_SCHEDULE_SETTINGS:editScheduleSettings(action.settings),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.EDITOR.EDIT_RECIPIENT_SETTINGS:editRecipientSettings(action.settings),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.SENDER_IDENTITIES.FETCHED:_appDispatcher2.default.waitFor([_senderStore2.default.dispatchToken]),setCampaignSettings(),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CURRENT_USER.FETCHED_TIMEZONE:_appDispatcher2.default.waitFor([_currentUserStore2.default.dispatchToken]),setUserTimezone(),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CATEGORIES.EDIT_CATEGORIES:_appDispatcher2.default.waitFor([_categoryStore2.default.dispatchToken]),editCampaignSettingsValue("categories",_underscore2.default.uniq(action.categoryNames)),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CATEGORIES.FETCHED_USER_CATEGORIES:_appDispatcher2.default.waitFor([_categoryStore2.default.dispatchToken]),setCampaignSettings(),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.GOT_BY_ID:_appDispatcher2.default.waitFor([_campaignsStore.CampaignsStore.dispatchToken,_contentsStore2.default.dispatchToken]),setCampaignSettings(action.campaign),setRecipientSettings(action.campaign),setScheduleSettings(action.campaign),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.SAVED:editCampaignDataName(action.name);break;case _constants2.default.ACTIONS.SUPPRESSION_GROUPS.FETCHED:_appDispatcher2.default.waitFor([_suppressionGroupStore2.default.dispatchToken]),setRecipientSettings(),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.QUERIES.FETCHED:case _constants2.default.ACTIONS.LIST.FETCHED:case _constants2.default.ACTIONS.SEGMENT.FETCHED:_appDispatcher2.default.waitFor([_listStore2.default.dispatchToken]),setRecipientSettings(),CampaignEditorSettingsStore.emitChange();break;case _constants2.default.ACTIONS.IP_POOLS.FETCHED:_appDispatcher2.default.waitFor([_ipPoolStore2.default.dispatchToken]),setCampaignSettings(),CampaignEditorSettingsStore.emitChange()}}});initState(),CampaignEditorSettingsStore.dispatchToken=_appDispatcher2.default.register(CampaignEditorSettingsStore.dispatcherCb),exports.default=CampaignEditorSettingsStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_notificationActions=__webpack_require__(100),_notificationActions2=_interopRequireDefault(_notificationActions),baseUrl="/marketing_campaigns/segments",SegmentActions={fetch:function(){return console.error("Don't call SegmentActions.fetch, just fetchAllQueries with ListActions")},create:function(segmentName,conditions,listId){return $.post(baseUrl+".json",{name:segmentName,conditions:JSON.stringify(conditions),segment_list_id:listId,hide_flash:!0},function(json){return _appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SEGMENTS.CREATED,segment:json.segment}),_notificationActions2.default.add(_constants2.default.NOTIFICATIONS.SEGMENT.CREATED,"success"),json}).fail(function(response){return _notificationActions2.default.add(response.responseJSON.message,"danger")})},update:function(segmentId,segmentName,conditions){return $.ajax({url:baseUrl+"/"+segmentId+".json",method:"PUT",data:{name:segmentName,conditions:JSON.stringify(conditions),hide_flash:!0},success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SEGMENTS.UPDATED,segment:json.segment})},error:function(response){response.responseJSON&&response.responseJSON.message&&_notificationActions2.default.add(response.responseJSON.message,"danger")}})},fetchSegmentAndCount:function(id){return _appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.QUERIES.LOADING_QUERY_COUNT,queryType:_constants2.default.QUERY_TYPES.SEGMENT,id:id}),$.getJSON(baseUrl+"/"+id+".json").then(function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SEGMENT.FETCHED,segment:json.segment})},function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SEGMENT.FETCHED,segment:{id:id,type:_constants2.default.QUERY_TYPES.SEGMENT}}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.SEGMENT.FETCH_ERROR,notificationType:"danger"})})}};exports.default=SegmentActions},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),DocsLink=function(props){var clickHandler=props.analyticsKey?function(){return _analyticsUtils2.default.trackEditor(props.analyticsKey)}:void 0;return _react2.default.createElement("a",{href:props.href,target:"_blank",onClick:clickHandler},props.children)};exports.default=DocsLink},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ListFormPresenter(props){return _react2.default.createElement("div",{className:_listFormPresenterCss2.default["list-form-presenter"]},_react2.default.createElement(_radioInput2.default,{name:"existing-or-new",id:"radio-manual-add-to-all-contacts",value:ADD_TO_LIST_OPTIONS.ALL_CONTACTS,isChecked:props.selectedAddToListOption===ADD_TO_LIST_OPTIONS.ALL_CONTACTS,labelText:_react2.default.createElement("span",null,_react2.default.createElement(_tooltip2.default,{hasUnderline:!0,content:"Recipients will be added to All Contacts by default.  You can manage your contacts using Lists and Segments."},"Add contacts")),onChange:props.onSelectedAddToListOptionChanged}),_react2.default.createElement(_radioInput2.default,{name:"existing-or-new",id:"radio-manual-add-to-existing",value:ADD_TO_LIST_OPTIONS.EXISTING,isChecked:props.selectedAddToListOption===ADD_TO_LIST_OPTIONS.EXISTING,labelText:"Add contacts and include in an existing list",onChange:props.onSelectedAddToListOptionChanged}),_react2.default.createElement(_radioInput2.default,{name:"existing-or-new",id:"radio-manual-add-to-new",value:ADD_TO_LIST_OPTIONS.NEW,isChecked:props.selectedAddToListOption===ADD_TO_LIST_OPTIONS.NEW,labelText:"Add contacts and include in a new list",onChange:props.onSelectedAddToListOptionChanged}),_react2.default.createElement("section",{className:"row"},_react2.default.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-xs-3"},_react2.default.createElement(_listPicker2.default,{selectedAddToListOption:props.selectedAddToListOption,listToAddTo:props.listToAddTo,listName:props.listName,lists:props.lists,onListChanged:props.onListChanged,registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput}))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ADD_TO_LIST_OPTIONS=void 0;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_listPicker=__webpack_require__(1501),_listPicker2=_interopRequireDefault(_listPicker),_radioInput=__webpack_require__(229),_radioInput2=_interopRequireDefault(_radioInput),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_listFormPresenterCss=__webpack_require__(1502),_listFormPresenterCss2=_interopRequireDefault(_listFormPresenterCss),ADD_TO_LIST_OPTIONS=exports.ADD_TO_LIST_OPTIONS={NEW:"new",EXISTING:"existing",ALL_CONTACTS:"all_contacts"};ListFormPresenter.propTypes={lists:_propTypes2.default.arrayOf(_propTypes2.default.shape({name:_propTypes2.default.string})).isRequired,listName:_propTypes2.default.string.isRequired,listToAddTo:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,selectedAddToListOption:_propTypes2.default.string.isRequired,onSelectedAddToListOptionChanged:_propTypes2.default.func.isRequired,onListChanged:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired},exports.default=ListFormPresenter},function(module,exports,__webpack_require__){var content=__webpack_require__(1559);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function Modal(ComposedCmp,modalClassName){var _class,ComposedModal=(_class=function(_React$Component){function ComposedModal(){return _classCallCheck(this,ComposedModal),_possibleConstructorReturn(this,(ComposedModal.__proto__||Object.getPrototypeOf(ComposedModal)).apply(this,arguments))}return _inherits(ComposedModal,_React$Component),_createClass(ComposedModal,[{key:"componentDidMount",value:function(){this.props.show&&this.showModal()}},{key:"componentDidUpdate",value:function(prevProps){var _this2=this;if(this.props.show!==prevProps.show){var dismissers=this.rootNode.querySelectorAll("[data-dismiss-modal]");this.props.show?(_underscore2.default.each(dismissers,function(dismisser){return dismisser.addEventListener("click",_this2.queuedCancel)}),this.showModal()):(_underscore2.default.each(dismissers,function(dismisser){return dismisser.removeEventListener("click",_this2.queuedCancel)}),this.hideModal())}}},{key:"componentWillUnmount",value:function(){this.hideModal(!1)}},{key:"onKeyUp",value:function(e){27===e.which&&this.hideModal()}},{key:"queuedCancel",value:function(){setTimeout(this.props.onCancel,0)}},{key:"hideModal",value:function(){var shouldFireCancel=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$("body").removeClass("modal-open"),$(document).off("keyup",this.onKeyUp),shouldFireCancel&&this.props.onCancel()}},{key:"showModal",value:function(){$("body").addClass("modal-open"),$(document).on("keyup",this.onKeyUp)}},{key:"render",value:function(){var _this3=this;return _react2.default.createElement("div",{ref:function(n){_this3.rootNode=n}},_react2.default.createElement("div",{className:(modalClassName||"")+" "+(this.props.show?"is-visible":""),"data-modal":!0,onKeyUp:this.scopedOnKeyUp},this.props.show&&_react2.default.createElement(ComposedCmp,this.props)),_react2.default.createElement("div",{className:"modal-mask "+(this.props.show?"is-visible":""),onClick:this.props.show?this.hideModal:void 0}))}}]),ComposedModal}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onKeyUp",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onKeyUp"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"queuedCancel",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"queuedCancel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showModal"),_class.prototype),_class);return ComposedModal.propTypes={show:_propTypes2.default.bool.isRequired,onCancel:_propTypes2.default.func},ComposedModal.defaultProps={onCancel:function(){}},ComposedModal}function RouteModal(ComposedCmp,modalClassName){var _class2,_class3,TransitionContainer=(_class2=function(_React$Component2){function TransitionContainer(){_classCallCheck(this,TransitionContainer);var _this4=_possibleConstructorReturn(this,(TransitionContainer.__proto__||Object.getPrototypeOf(TransitionContainer)).call(this));return _this4.state={isVisible:!1},_this4}return _inherits(TransitionContainer,_React$Component2),_createClass(TransitionContainer,[{key:"componentWillAppear",value:function(onAppeared){setTimeout(onAppeared,animationMillis)}},{key:"componentDidAppear",value:function(){this.setState({isVisible:!0})}},{key:"componentWillLeave",value:function(onLeft){this.setState({isVisible:!1}),setTimeout(onLeft,animationMillis)}},{key:"render",value:function(){var modalClassname=(0,_classnames2.default)(modalClassName||"",{"is-visible":this.state.isVisible}),maskClassname=(0,_classnames2.default)("modal-mask",{"is-visible":this.state.isVisible});return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:modalClassname,"data-modal":!0,onKeyUp:this.scopedOnKeyUp},_react2.default.createElement(ComposedCmp,this.props)),_react2.default.createElement("div",{className:maskClassname,onClick:this.props.onCancel}))}}]),TransitionContainer}(_react2.default.Component),_applyDecoratedDescriptor(_class2.prototype,"componentDidAppear",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class2.prototype,"componentDidAppear"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"componentWillLeave",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class2.prototype,"componentWillLeave"),_class2.prototype),_class2);TransitionContainer.propTypes={onCancel:_propTypes2.default.func},TransitionContainer.defaultProps={onCancel:function(){}};var ComposedRouteModal=(_class3=function(_React$Component3){function ComposedRouteModal(props){_classCallCheck(this,ComposedRouteModal);var _this5=_possibleConstructorReturn(this,(ComposedRouteModal.__proto__||Object.getPrototypeOf(ComposedRouteModal)).call(this,props));return _this5.state={isVisible:!0},_this5.onCancel=function(){this.setState({isVisible:!1}),setTimeout(props.onCancel,animationMillis)}.bind(_this5),_this5}return _inherits(ComposedRouteModal,_React$Component3),_createClass(ComposedRouteModal,[{key:"componentDidMount",value:function(){var _this6=this;this.showModal();var thisNode=_reactDom2.default.findDOMNode(this);_underscore2.default.each(thisNode.querySelectorAll("[data-dismiss-modal]"),function(dismisser){return dismisser.addEventListener("click",_this6.onCancel)})}},{key:"componentWillUnmount",value:function(){var _this7=this;this.hideModal(!1);var thisNode=_reactDom2.default.findDOMNode(this);_underscore2.default.each(thisNode.querySelectorAll("[data-dismiss-modal]"),function(dismisser){return dismisser.removeEventListener("click",_this7.onCancel)})}},{key:"onKeyUp",value:function(e){27===e.which&&this.hideModal()}},{key:"showModal",value:function(){$("body").addClass("modal-open"),$(document).on("keyup",this.onKeyUp)}},{key:"hideModal",value:function(){var shouldFireCancel=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];$("body").removeClass("modal-open"),$(document).off("keyup",this.onKeyUp),shouldFireCancel&&this.onCancel()}},{key:"render",value:function(){return _react2.default.createElement(_TransitionGroup2.default,null,this.state.isVisible&&_react2.default.createElement(TransitionContainer,_extends({},this.props,{onCancel:this.hideModal})))}}]),ComposedRouteModal}(_react2.default.Component),_applyDecoratedDescriptor(_class3.prototype,"onKeyUp",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class3.prototype,"onKeyUp"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"showModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class3.prototype,"showModal"),_class3.prototype),_applyDecoratedDescriptor(_class3.prototype,"hideModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class3.prototype,"hideModal"),_class3.prototype),_class3);return ComposedRouteModal.propTypes={onCancel:_propTypes2.default.func},ComposedRouteModal.defaultProps={onCancel:function(){}},ComposedRouteModal}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(208),_reactDom2=_interopRequireDefault(_reactDom),_TransitionGroup=__webpack_require__(500),_TransitionGroup2=_interopRequireDefault(_TransitionGroup),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_reactClassUtils=__webpack_require__(7),animationMillis=250;module.exports={Modal:Modal,RouteModal:RouteModal}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),hasFetchedCollection=void 0,senders=void 0,initState=function(){hasFetchedCollection=!1,senders=[]},setSenders=function(newSenders){_underscore2.default.each(newSenders,function(sender){return setSenderDerivedProperties(sender)}),senders=newSenders,hasFetchedCollection=!0},addSender=function(newSender){setSenderDerivedProperties(newSender),senders=_underscore2.default.reject(senders,function(sender){return sender.id==newSender.id}),senders.push(newSender)},updateSender=function(s){return addSender(s)},removeSender=function(rejectThisId){senders=_underscore2.default.reject(senders,function(s){return s.id==rejectThisId})},setSenderDerivedProperties=function(){var sender=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};sender.displayAddress1=sender.address+(sender.address_2?", "+sender.address_2:""),sender.displayAddress2=_underscore2.default.filter([sender.city+",",sender.state,sender.zip,sender.country],function(x){return x}).join(" ")},SenderStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return hasFetchedCollection},getSender:function(id){return _underscore2.default.find(senders,function(sender){return sender.id==id})},getSenders:function(){return senders},getVerifiedSenders:function(){return _underscore2.default.filter(senders,function(sender){return sender.verified})},getVerifiedSendersAsSelectOptions:function(){return _underscore2.default.map(SenderStore.getVerifiedSenders(),function(sender){return{name:sender.from_email,nickname:sender.nickname,value:sender.id}})},getSenderForCampaign:function(campaignId){return _underscore2.default.find(senders,function(sender){return _underscore2.default.contains(sender.campaign_locks,campaignId)})},addChangeListener:function(callback){this.on("change",callback)},removeChangeListener:function(callback){this.removeListener("change",callback)},emitChange:function(){this.emit("change")},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.SENDER_IDENTITIES.FETCHED:setSenders(action.senders),SenderStore.emitChange();break;case _constants2.default.ACTIONS.SENDER_IDENTITIES.GOT_BY_ID:case _constants2.default.ACTIONS.SENDER_IDENTITIES.CREATED:addSender(action.sender),SenderStore.emitChange();break;case _constants2.default.ACTIONS.SENDER_IDENTITIES.UPDATED:updateSender(action.sender),SenderStore.emitChange();break;case _constants2.default.ACTIONS.SENDER_IDENTITIES.DELETED:removeSender(action.id),SenderStore.emitChange()}}});initState(),SenderStore.dispatchToken=_appDispatcher2.default.register(SenderStore.dispatcherCb),exports.default=SenderStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_radioInputCss=__webpack_require__(1090),_radioInputCss2=_interopRequireDefault(_radioInputCss),RadioInput=function(_React$Component){function RadioInput(){return _classCallCheck(this,RadioInput),_possibleConstructorReturn(this,(RadioInput.__proto__||Object.getPrototypeOf(RadioInput)).apply(this,arguments))}return _inherits(RadioInput,_React$Component),_createClass(RadioInput,[{key:"componentDidMount",value:function(){this.props.registerFormInput(this)}},{key:"componentWillUnmount",value:function(){this.props.unregisterFormInput(this)}},{key:"render",value:function(){return _react2.default.createElement("div",{className:(0,_classnames2.default)("input-radio-wrap",_radioInputCss2.default["radio-container"]),"data-role":this.props["data-role"],style:{position:"relative"}},_react2.default.createElement("input",{type:"radio",onChange:this.props.onChange,name:this.props.name,id:this.props.id,value:this.props.value,key:this.props.id+"-input",checked:this.props.isChecked,disabled:this.props.isDisabled}),_react2.default.createElement("label",{key:this.props.id+"-label",className:"input-radio-label",htmlFor:this.props.id},this.props.shouldShowLabel?this.props.labelText||this.props.name:""),_react2.default.createElement("span",null,this.props.children))}}]),RadioInput}(_react2.default.Component);RadioInput.propTypes={name:_propTypes2.default.string.isRequired,id:_propTypes2.default.string.isRequired,value:_propTypes2.default.string.isRequired,labelText:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.node]),isChecked:_propTypes2.default.bool,isDisabled:_propTypes2.default.bool,registerFormInput:_propTypes2.default.func,unregisterFormInput:_propTypes2.default.func,onChange:_propTypes2.default.func,"data-role":_propTypes2.default.string,shouldShowLabel:_propTypes2.default.bool,children:_propTypes2.default.node},RadioInput.defaultProps={shouldShowLabel:!0,"data-role":"",onChange:function(){},registerFormInput:function(){},unregisterFormInput:function(){},isChecked:!1,isDisabled:!1,labelText:"",children:void 0},exports.default=RadioInput},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getPageLinkHellip(whichHellip){return _react2.default.createElement("a",{className:"pagination-ellipses",key:"paginator-link-"+whichHellip},"…")}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_buttons=__webpack_require__(8),_paginatorCss=__webpack_require__(1110),_paginatorCss2=_interopRequireDefault(_paginatorCss),_reactClassUtils=__webpack_require__(7),Paginator=(_class=function(_React$Component){function Paginator(props){_classCallCheck(this,Paginator);var _this=_possibleConstructorReturn(this,(Paginator.__proto__||Object.getPrototypeOf(Paginator)).call(this,props));return _this.state={currentPage:_this.props.initialActivePageNumber},_this}return _inherits(Paginator,_React$Component),_createClass(Paginator,[{key:"componentWillReceiveProps",value:function(nextProps){var numPages=nextProps.numPages||this.state.numPages,pageNum=nextProps.initialActivePageNumber||this.state.currentPage;nextProps.numPages&&this.setState({numPages:nextProps.numPages}),this.setPage(pageNum>numPages?numPages:pageNum)}},{key:"onPrevClick",value:function(){this.state.currentPage>1&&this.setPage(this.state.currentPage-1)}},{key:"onNextClick",value:function(){this.state.currentPage<this.props.numPages&&this.setPage(this.state.currentPage+1)}},{key:"onPageLinkClick",value:function(e){var $cmp=$(e.currentTarget);this.setPage($cmp.data("page-index"))}},{key:"setPage",value:function(num){var _this2=this;num!==this.state.currentPage&&(this.props.isDisabled||this.setState({currentPage:num},function(){return _this2.props.onPageUpdate(num)}))}},{key:"getPageLink",value:function(i){var classname=(0,_classnames3.default)("pagination-link",_defineProperty({"is-active":this.state.currentPage===i},_paginatorCss2.default["page-link-disabled"],this.props.isDisabled));return _react2.default.createElement("a",{className:classname,disabled:!!this.props.isDisabled,onClick:this.onPageLinkClick,"data-page-index":i,key:"paginator-link-"+i,"data-scroll-top":!0},i)}},{key:"getPageLinks",value:function(){var pageLinks=[this.getPageLink(1)],leftPaddingAmount=this.getLeftPaddingAmount(),rightPaddingAmount=this.getRightPaddingAmount(),activePage=this.state.currentPage,i=void 0;if(this.shouldDisplayLeftEllipsis())for(pageLinks.push(getPageLinkHellip("left")),i=activePage-leftPaddingAmount;i<activePage;i++)pageLinks.push(this.getPageLink(i));else for(i=2;i<activePage;i++)pageLinks.push(this.getPageLink(i));for(activePage>1&&pageLinks.push(this.getPageLink(activePage)),i=activePage+1;i<activePage+rightPaddingAmount+1&&i<this.props.numPages;i++)pageLinks.push(this.getPageLink(i));return this.shouldDisplayRightEllipsis()&&pageLinks.push(getPageLinkHellip("right")),activePage<this.props.numPages&&pageLinks.push(this.getPageLink(this.props.numPages)),_react2.default.createElement("div",{className:"pagination-links"},pageLinks)}},{key:"getLeftPaddingAmount",value:function(){return 2+(this.state.currentPage-2-2==1?1:0)}},{key:"getRightPaddingAmount",value:function(){return 2+(this.state.currentPage+2+2===this.props.numPages?1:0)}},{key:"shouldDisplayLeftEllipsis",value:function(){return this.state.currentPage-2-2>1}},{key:"shouldDisplayRightEllipsis",value:function(){return this.state.currentPage+2+2<this.props.numPages}},{key:"render",value:function(){return this.props.numPages<2?null:_react2.default.createElement("div",{className:"pagination","data-role":"paginator"},_react2.default.createElement(_buttons.SecondaryButtonSmall,{buttonClassName:"pagination-prev",onClick:this.onPrevClick,"data-scroll-top":!0,disabled:1===this.state.currentPage||this.props.isDisabled},"Prev"),this.getPageLinks(),_react2.default.createElement(_buttons.SecondaryButtonSmall,{buttonClassName:"pagination-next",onClick:this.onNextClick,"data-scroll-top":!0,disabled:this.state.currentPage===this.props.numPages||this.props.isDisabled},"Next"))}}]),Paginator}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onPrevClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onPrevClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onNextClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onNextClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onPageLinkClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onPageLinkClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setPage",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"setPage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getPageLink",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getPageLink"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getPageLinks",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getPageLinks"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getLeftPaddingAmount",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getLeftPaddingAmount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getRightPaddingAmount",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getRightPaddingAmount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"shouldDisplayLeftEllipsis",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"shouldDisplayLeftEllipsis"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"shouldDisplayRightEllipsis",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"shouldDisplayRightEllipsis"),_class.prototype),_class);Paginator.propTypes={isDisabled:_propTypes2.default.bool,initialActivePageNumber:_propTypes2.default.number,numPages:_propTypes2.default.number.isRequired,onPageUpdate:_propTypes2.default.func},Paginator.defaultProps={isDisabled:!1,initialActivePageNumber:1,onPageUpdate:function(){}},module.exports=Paginator},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(208),_reactDom2=_interopRequireDefault(_reactDom),_filterOption=__webpack_require__(1113),_filterOption2=_interopRequireDefault(_filterOption),Filter=_react2.default.createClass({displayName:"Filter",propTypes:{options:_react2.default.PropTypes.array.isRequired,onClick:_react2.default.PropTypes.func.isRequired},getInitialState:function(){var selectedFilterOptionIndex=-1;return _underscore2.default.each(this.props.options,function(option){option.selected&&(selectedFilterOptionIndex=option.name)}),{selectedFilterOptionIndex:selectedFilterOptionIndex}},onFilterOptionClickHandler:function(e){var filterOption=_reactDom2.default.findDOMNode(e.currentTarget),filterIndex=$(filterOption).data("filter-option-index");this.setState({selectedFilterOptionIndex:filterIndex}),this.props.onClick(filterIndex)},getSelectedFilter:function(){return this.state.selectedFilterOptionIndex},render:function(){var _this=this;return _react2.default.createElement("div",{className:"filter"},_react2.default.createElement("label",{className:"title"},this.props.title),_react2.default.createElement("ul",{className:"filter-options-list"},_underscore2.default.map(this.props.options,function(option,key){return _react2.default.createElement(_filterOption2.default,{key:key,index:option.name,onClick:_this.onFilterOptionClickHandler,isSelected:_this.state.selectedFilterOptionIndex===option.name},option.name)})))}});exports.default=Filter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EmptyCollectionMessage(props){return _react2.default.createElement("div",{className:_emptyCollectionMessageCss2.default.container+" "+_emptyCollectionMessageCss2.default["with-border"]},props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_emptyCollectionMessageCss=__webpack_require__(1120),_emptyCollectionMessageCss2=_interopRequireDefault(_emptyCollectionMessageCss);module.exports=EmptyCollectionMessage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function thumbnailPromisesResolved(){_underscore2.default.each(arguments,function(template){var existingTemplate=_underscore2.default.find(marketingTemplateCollection,function(t){return t.id===template.id});existingTemplate&&(existingTemplate.thumbnail_url=template.thumbnail_url)}),MarketingTemplateStore.emitChange()}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_clone=__webpack_require__(234),_clone2=_interopRequireDefault(_clone),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),marketingTemplateCollection=[],hasFetchedMarketingTemplateCollection=!1,initState=function(){hasFetchedMarketingTemplateCollection=!1,marketingTemplateCollection=[]},getValidThumbnailImage=function(template,promise){var thumbnailImage=new Image,templateToSet=template;thumbnailImage.onerror=function(){templateToSet.thumbnail_url=null,promise.resolve(templateToSet)},thumbnailImage.onload=function(){promise.resolve(templateToSet)},thumbnailImage.src=templateToSet.thumbnail_url},getThumbnailsForCollection=function(collection){var promises=[];_underscore2.default.each(collection,function(template){var promise=$.Deferred();promises.push(promise),getValidThumbnailImage(template,promise)}),$.when.apply(null,promises).done(MarketingTemplateStore.thumbnailPromisesResolved)},setCollection=function(collection){marketingTemplateCollection=_underscore2.default.map(collection,function(template){return _underscore2.default.omit(template,"thumbnail_url")}),hasFetchedMarketingTemplateCollection=!0,getThumbnailsForCollection(collection)},removeFromCollection=function(id){marketingTemplateCollection=_underscore2.default.reject(marketingTemplateCollection,function(template){return template.id===id})},addToCollection=function(template){var originallyLoadedTemplate=_underscore2.default.find(marketingTemplateCollection,function(o){return o.id===template.id}),templateToBeAdded=template;originallyLoadedTemplate&&(templateToBeAdded.thumbnail_url=originallyLoadedTemplate.thumbnail_url),removeFromCollection(template.id),marketingTemplateCollection.push(templateToBeAdded)},MarketingTemplateStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return hasFetchedMarketingTemplateCollection},getCollection:function(){return _clone2.default.deep(marketingTemplateCollection)},getById:function(id){return _clone2.default.deep(_underscore2.default.find(marketingTemplateCollection,function(o){return o.id===id}))},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},thumbnailPromisesResolved:thumbnailPromisesResolved,emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.MARKETING_TEMPLATES.FETCHED:setCollection(action.marketingTemplates),MarketingTemplateStore.emitChange();break;case _constants2.default.ACTIONS.MARKETING_TEMPLATES.CONTENT_FETCHED:addToCollection(action.template),MarketingTemplateStore.emitChange();break;case _constants2.default.ACTIONS.MARKETING_TEMPLATES.DELETED:removeFromCollection(action.id),MarketingTemplateStore.emitChange()}}});initState(),MarketingTemplateStore.dispatchToken=_appDispatcher2.default.register(MarketingTemplateStore.dispatcherCb),module.exports=MarketingTemplateStore},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Clone=function(){function Clone(){_classCallCheck(this,Clone)}return _createClass(Clone,null,[{key:"deep",value:function(obj){return void 0===obj?void 0:JSON.parse(JSON.stringify(obj))}}]),Clone}();module.exports=Clone},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_plainEditor=__webpack_require__(1186),_plainEditor2=_interopRequireDefault(_plainEditor),_codeEditor=__webpack_require__(532),_codeEditor2=_interopRequireDefault(_codeEditor),_dndEditor=__webpack_require__(1199),_dndEditor2=_interopRequireDefault(_dndEditor),Editor=function(props){switch(props.editorType){case _constants2.default.EDITORS.CODE:return _react2.default.createElement(_codeEditor2.default,{onChange:_underscore2.default.debounce(props.onChange,props.debounceMillis),value:props.htmlContent||_constants2.default.CODE_SKELETON,showAbNav:props.showAbNav,shouldShowToolbar:!0});case _constants2.default.EDITORS.DND:return _react2.default.createElement(_dndEditor2.default,null,props.children);case _constants2.default.EDITORS.PLAIN:return _react2.default.createElement(_plainEditor2.default,{readOnly:props.readOnly,onChange:_underscore2.default.debounce(props.onChange,props.debounceMillis),value:props.plainContent||"",showAbNav:props.showAbNav,isInModal:props.isInModal});default:return _react2.default.createElement(_loadingIndicator2.default,null)}};Editor.propTypes={htmlContent:_react2.default.PropTypes.string.isRequired,plainContent:_react2.default.PropTypes.string.isRequired,debounceMillis:_react2.default.PropTypes.number,editorType:_react2.default.PropTypes.string,onChange:_react2.default.PropTypes.func.isRequired,readOnly:_react2.default.PropTypes.bool,children:_react2.default.PropTypes.node,showAbNav:_react2.default.PropTypes.bool,isInModal:_react2.default.PropTypes.bool},Editor.defaultProps={debounceMillis:500,editorType:"not defined!",readOnly:!1,children:null,showAbNav:!1,isInModal:!1},exports.default=Editor},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setWysiwygEditorInstance(editorInstance){wysiwygEditorInstance=editorInstance}function setLoadFailed(v){didLoadFail=v}function setImageCollection(images){collection=images,hasFetchedImageLibrary=!0,setLoadFailed(!1)}function setUploadFailedMessage(v){maxUploadErrorMessage=v}function addUploadingImage(file){filesInProgress.splice(0,0,file)}function removeUploadingImage(file){filesInProgress=_underscore2.default.reject(filesInProgress,function(f){return f.id===file.id})}function addImageToLibrary(file,image){file&&removeUploadingImage(file),collection.splice(0,0,image)}function removeImageFromLibrary(image){collection=_underscore2.default.reject(collection,function(i){return i.id===image.id})}function setSelectedImage(){var image=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;selectedImage=image?_underscore2.default.find(collection,function(i){return i.id===image.id}):void 0}function updateUploadProgressForFile(file){_underscore2.default.chain(filesInProgress).find(function(f){return f.id===file.id}).tap(function(f){return f.progress=file.progress}).value()}Object.defineProperty(exports,"__esModule",{value:!0});var _eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),collection=[],filesInProgress=[],hasFetchedImageLibrary=!1,selectedImage=void 0,didLoadFail=!1,wysiwygEditorInstance=void 0,maxUploadErrorMessage=void 0,ImageManagerStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getCollection:function(){return $.extend([],collection)},getDidLoadFail:function(){return didLoadFail},getServerMaxUploadErrorMessage:function(){return maxUploadErrorMessage},getFilesInProgress:function(){return $.extend([],filesInProgress)},getHasFetchedImageLibrary:function(){return hasFetchedImageLibrary},getSelectedImage:function(){return selectedImage},getWysiwygEditorInstance:function(){return wysiwygEditorInstance},getWysiwygSelectedImage:function(){if(void 0!==wysiwygEditorInstance&&void 0!==wysiwygEditorInstance.widgets)return wysiwygEditorInstance.widgets.selected[0]},addChangeListener:function(cb){this.on(_constants2.default.EVENTS.STORES.CHANGE,cb)},removeChangeListener:function(cb){this.off(_constants2.default.EVENTS.STORES.CHANGE,cb)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.IMAGE_MANAGER.FETCHED:setImageCollection(action.images),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.FETCHED_LIMIT:case _constants2.default.ACTIONS.IMAGE_MANAGER.FETCHED_LIMIT_FAILED:ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.LOAD_FAILED:setLoadFailed(!0),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.UPLOAD_STARTED:addUploadingImage(action.file),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.UPLOAD_ENDED:addImageToLibrary(action.file,action.image),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.UPLOAD_FAILED:removeUploadingImage(action.file),setUploadFailedMessage(action.error),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.UPLOAD_PROGRESS_CHANGED:updateUploadProgressForFile(action.file),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.LIBRARY_IMAGE_SELECTED:setSelectedImage(action.image),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.LIBRARY_IMAGE_DESELECTED:setSelectedImage(void 0),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.LIBRARY_IMAGE_DELETED:setUploadFailedMessage(void 0),removeImageFromLibrary(action.image),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.LIBRARY_IMAGE_ADDED:setUploadFailedMessage(void 0),addImageToLibrary(void 0,action.image),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.OPENED:setUploadFailedMessage(void 0),setWysiwygEditorInstance(action.wysiwygEditorInstance),ImageManagerStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.CLOSED:setUploadFailedMessage(void 0),setSelectedImage(void 0),setWysiwygEditorInstance(void 0),ImageManagerStore.emitChange()}}});ImageManagerStore.dispatchToken=_appDispatcher2.default.register(ImageManagerStore.dispatcherCb),exports.default=ImageManagerStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function buttonModuleElemToProps(moduleElem){var element=moduleElem instanceof $?moduleElem.get(0):moduleElem,shallowTd=element.querySelector("td"),deepTd=shallowTd.querySelector("td"),innerHtml=deepTd.querySelector("a"),shallowTdStyle=_extends({textAlign:shallowTd.getAttribute("align"),backgroundColor:shallowTd.getAttribute("bgcolor")||shallowTd.getAttribute("style").backgroundColor},_jsxHtmlTranslationUtils2.default.getStyleProps(shallowTd.getAttribute("style"))),deepTableStyle=_underscore2.default.pick(shallowTdStyle,"textAlign"),deepTdStyle=_jsxHtmlTranslationUtils2.default.getStyleProps(deepTd.getAttribute("style")),align=shallowTd.getAttribute("align"),_parseCodeEditable=parseCodeEditable({innerHtml:innerHtml},{backgroundColor:deepTd.getAttribute("bgcolor")}),aProps=_parseCodeEditable.aProps,buttonText=_parseCodeEditable.buttonText;!deepTdStyle.textAlign&&align&&(deepTdStyle.textAlign=align);var props={type:_constants2.default.EDITOR.MODULES.BUTTON,isCodeEditable:!0,align:align,shallowTdProps:{style:shallowTdStyle},deepTdProps:{style:deepTdStyle},deepTableProps:{style:deepTableStyle},aProps:aProps,buttonText:buttonText};return updateInnerHtml(props)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateInnerHtml=exports.parseCodeEditable=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_serialize=__webpack_require__(338),_serialize2=_interopRequireDefault(_serialize),updateInnerHtml=function(props){return _extends({},props,{innerHtml:(0,_serialize2.default)(_react2.default.createElement("a",props.aProps,props.buttonText))})},parseCodeEditable=function(props){var _ref=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},backgroundColorProperty=_ref.backgroundColor,aProps=props.aProps,buttonText=props.buttonText,element=props.innerHtml instanceof Node?props.innerHtml:$(props.innerHtml).get(0);if(_underscore2.default.isObject(aProps)&&_underscore2.default.isString(buttonText))return{aProps:aProps,buttonText:buttonText};"A"!==element.tagName&&(element=element.querySelector("a"));var filterOutStyleAttribute=function(prop){return"style"!==prop.name},collectAttributes=function(attributes,_ref2){var name=_ref2.name,value=_ref2.value;return _extends({},attributes,_defineProperty({},name,value))},styles=_jsxHtmlTranslationUtils2.default.getStyleProps(element.getAttribute("style")),attributes=function(el){return[].concat(_toConsumableArray(el.attributes))}(element).filter(filterOutStyleAttribute).reduce(collectAttributes,{}),backgroundColor=styles.backgroundColor||backgroundColorProperty;return attributes.href=void 0!==attributes.href?attributes.href:aProps.href,{aProps:_extends({style:backgroundColor?_extends({backgroundColor:backgroundColor},styles):_extends({},styles)},attributes),buttonText:element.textContent}};exports.default=buttonModuleElemToProps,exports.parseCodeEditable=parseCodeEditable,exports.updateInnerHtml=updateInnerHtml},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getPaddingWidthOffsetFromString(padding){var contentPaddingArr=padding.split(" ");return 1*contentPaddingArr[1].substring(0,contentPaddingArr[1].indexOf("px"))+1*contentPaddingArr[3].substring(0,contentPaddingArr[1].indexOf("px"))}function getResponsiveWidth(selectedProps,propsArr,contentProps){var muid=selectedProps.muid,widthPercent=parseInt(selectedProps.imgProps.widthPercent,10),parentMuid=(0,_moduleTraversalUtils.getParentMuid)(propsArr,muid),width=parseInt(contentProps.style.width,10)-getPaddingWidthOffsetFromString(contentProps.style.padding);if(parentMuid){var parentProps=(0,_moduleTraversalUtils.getModulePropsForMuid)(propsArr,parentMuid);parentProps&&parentProps.tdProps&&parentProps.tdProps.style&&parentProps.tdProps.style.padding&&(width-=getPaddingWidthOffsetFromString(parentProps.tdProps.style.padding)),parentProps.innerModules&&(width-=(parentProps.innerModules.length-1)*parentProps.columnPaddingPx,width/=parentProps.innerModules.length)}return width*widthPercent/100}function get$innerInText(props,$inner){($inner.is("img")?$inner:$inner.find("img")).css("display","");var data={alignment:props.align,link:props.aProps.href,src:props.imgProps.src,alt_text:props.imgProps.alt,height:props.imgProps.height,width:props.imgProps.width,widthPercent:props.imgProps.widthPercent,isResponsive:props.isResponsive};return $inner.wrap('<span class="sg-image" data-imagelibrary='+escape(JSON.stringify(data))+"/>").parent()}function serializedImageInnerHtml(props){var $moduleElem=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,isInTextMod=arguments.length>2&&void 0!==arguments[2]&&arguments[2],propsArr=arguments[3],contentProps=arguments[4],$innerHtml=$(_sanitizerUtils2.default.sanitize(props.innerHtml||$moduleElem&&$moduleElem.find("td").first().children().wrap("<div />").parent().html())),$oldImg=$innerHtml.is("img")?$innerHtml:$($innerHtml.find("img")[0]),$newInner=$innerHtml.clone();$newInner=$newInner.length>0?$newInner:$("<img/>");var $newImg=$newInner.is("img")?$newInner:$newInner.find("img");return props.aProps.href&&($newInner.is("img")?$newInner=$("<a/>").append($newInner):$newImg.closest("a").length<1&&$newImg.wrap($("<a/>")),$newImg.closest("a").attr("href",props.aProps.href)),props.isProportionallyConstrained&&$newImg.attr("data-proportionally-constrained",props.isProportionallyConstrained),$newImg.attr("class",_underscore2.default.uniq(($oldImg.attr("class")||"").split(" ").concat("max-width")).join(" ").trim()),props.isResponsive?propsArr&&contentProps&&($newImg.attr("width",getResponsiveWidth(props,propsArr,contentProps)),$newImg.removeAttr("height")):($newImg.attr("width",props.imgProps.width),$newImg.attr("height",props.imgProps.height)),$newImg.attr("src",props.imgProps.src),$newImg.attr("alt",props.imgProps.alt),$newImg.attr("border",0),$newImg.attr("style",_jsxHtmlTranslationUtils2.default.getStyleString(_underscore2.default.extend({display:"block",color:"#000000",textDecoration:"none",fontFamily:"Helvetica, arial, sans-serif",fontSize:"16px"},_underscore2.default.omit(_jsxHtmlTranslationUtils2.default.getStyleProps($oldImg.attr("style")),"maxWidth","width","height"),props.isResponsive?{maxWidth:props.imgProps.widthPercent+"% !important",width:props.imgProps.widthPercent+"%",height:"auto !important"}:{}))),_jsxHtmlTranslationUtils2.default.get$elemHtml(isInTextMod?get$innerInText(props,$newInner):$newInner).trim()}function serializedImage(props,propsArr,contentProps){return'\n    <table class="wrapper" role="module" data-type="image" border="0" cellpadding="0" cellspacing="0" width="100%" style="table-layout: fixed;">\n      <tr>\n        <td style="'+_jsxHtmlTranslationUtils2.default.getStyleString(_underscore2.default.extend({fontSize:"6px",lineHeight:"10px"},props.tdProps.style))+'" valign="top" align="'+props.align+'">\n          '+_sanitizerUtils2.default.sanitize(serializedImageInnerHtml(props,void 0,null,propsArr,contentProps))+"\n        </td>\n      </tr>\n    </table>\n  "}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_moduleTraversalUtils=__webpack_require__(551);module.exports={serializedImage:serializedImage,serializedImageInnerHtml:serializedImageInnerHtml}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function FixedOnScroll(ComposedCmp){var _class;return _class=function(_React$Component){function _class(){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this));return _this.state={isScrolledPastHeader:!1,style:{position:"fixed",top:0}},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentDidMount",value:function(){$(window).on("scroll",this.scrollCheck)}},{key:"componentWillUnmount",value:function(){$(window).off("scroll",this.scrollCheck)}},{key:"scrollCheck",value:function(){$(window).scrollTop()>topHeadingHeight?this.state.isScrolledPastHeader||this.setState({isScrolledPastHeader:!0}):this.state.isScrolledPastHeader&&this.setState({isScrolledPastHeader:!1})}},{key:"render",value:function(){return _react2.default.createElement(ComposedCmp,_extends({},this.state,this.props))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"scrollCheck",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"scrollCheck"),_class.prototype),_class}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_reactClassUtils=__webpack_require__(7),topHeadingHeight=70;exports.default=FixedOnScroll},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function enforceChildType(ComposedCmp,childrenTypes){return function(_React$Component){function _class(props){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props))}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentWillMount",value:function(){var children=this.props.children;_react2.default.Children.forEach(children,function(child){null!==child&&(_underscore2.default.contains(childrenTypes,child.type)||console.error("Invalid child component: "+child.type,"Use "+childrenTypes+" instead."))})}},{key:"render",value:function(){return _react2.default.createElement(ComposedCmp,this.props)}}]),_class}(_react2.default.Component)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore);exports.default=enforceChildType},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInitialProps(){var props={type:_constants2.default.EDITOR.MODULES.IMAGE,isCodeEditable:!0,onDrop:_imageManagerActions2.default.openImageManager,tdProps:{style:{padding:"0px 0px 0px 0px",backgroundColor:""}},aProps:{href:""},imgProps:{width:"",widthPercent:"100",height:"auto",src:null,alt:null},align:"center",isResponsive:!0,isProportionallyConstrained:!1};return _underscore2.default.tap(props,function(p){return p.innerHtml=(0,_image.serializedImageInnerHtml)(props)})}function getInnerDivClassName(props){return"center"===props.align?_imageCss2.default.centered:"right"===props.align?_imageCss2.default.right:""}function getParentClassName(_ref){var align=_ref.align,alignment=align.toLowerCase();return"not set"===alignment?"":_imageCss2.default["align-children-"+alignment]}function getInnerContent(props){return props.imgProps.src?_react2.default.createElement("div",{className:getInnerDivClassName(props),dangerouslySetInnerHTML:{__html:props.innerHtml}}):_react2.default.createElement("div",{className:_imageCss2.default.placeholder,onClick:_imageManagerActions2.default.openImageManager},_react2.default.createElement("i",{className:"module-image-placeholder-icon"}),_react2.default.createElement("p",null,"Add Image"))}function ImageModule(props){return _react2.default.createElement("table",_extends({"data-role":"module-image"},props.getRootProps(),{onDoubleClick:_imageManagerActions2.default.openImageManager}),_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",_extends({className:getParentClassName(props)},props.tdProps),getInnerContent(props)))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DraggableImageModule=exports.DefaultImageModuleProps=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getInitialProps=getInitialProps,exports.ImageModule=ImageModule;var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_image=__webpack_require__(242),_imageManagerActions=__webpack_require__(105),_imageManagerActions2=_interopRequireDefault(_imageManagerActions),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_imageCss=__webpack_require__(1247),_imageCss2=_interopRequireDefault(_imageCss);exports.DefaultImageModuleProps=getInitialProps();getInnerContent.propTypes={innerHtml:_propTypes2.default.string.isRequired,imgProps:_propTypes2.default.object},getInnerContent.defaultProps={imgProps:{src:""}},ImageModule.propTypes={tdProps:_propTypes2.default.object.isRequired,getRootProps:_propTypes2.default.func.isRequired};exports.DraggableImageModule=(0,_draggableModuleMaker2.default)(function(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-image-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-images"})," Image"))},_constants2.default.EDITOR.MODULES.IMAGE,getInitialProps)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getLeftRightClass(props){return(props.isLeft?"is-left":"")+" "+(props.isRight?"is-right":"")}function Badge(props){return _react2.default.createElement("span",{"data-role":props["data-role"]||"",className:"badge "+getLeftRightClass(props)+" "+props.extraClasses},props.children)}function badgeCssClassForStatus(campaignStatus){switch(campaignStatus=(campaignStatus||"").trim().toLowerCase()){case"":case"draft":return"mango";case"scheduled":return"screample";case"in progress":return"sg-blue";case"sent":return"spruce";case"paused":default:return"ron-burgundy"}}function CampaignStatusBadge(props){return props.statusName?_react2.default.createElement(Badge,_extends({"data-role":"campaign-status-badge"},props,{extraClasses:badgeCssClassForStatus(props.statusName)}),props.statusName):null}function ABTestBadge(props){return _react2.default.createElement(Badge,_extends({"data-role":"ab-test-badge"},props,{extraClasses:"wild-strawberry"}),"A/B Test")}function ABSplitBadge(props){return _react2.default.createElement(Badge,_extends({"data-role":"ab-split-badge"},props,{extraClasses:_constants2.default.EDITOR.COLOR_SPLIT_MAP[props.split]}),props.split)}function PickWinnerBadge(props){return _react2.default.createElement(Badge,_extends({"data-role":"pick-winner-badge"},props,{extraClasses:"carrot"}),"Pick Winner")}function BetaBadge(props){return _react2.default.createElement(Badge,_extends({"data-role":"beta-badge"},props,{extraClasses:"mantis "+props.extraClasses}),"BETA")}function ActiveInactiveBadge(props){return _react2.default.createElement(Badge,_extends({"data-role":"active-inactive-badge"},props,{extraClasses:props.isActive?"mantis":"slate"}),props.isActive?"Active":"Inactive")}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);Badge.propTypes={extraClasses:_react2.default.PropTypes.string,isLeft:_react2.default.PropTypes.bool,isRight:_react2.default.PropTypes.bool},CampaignStatusBadge.propTypes={statusName:_react2.default.PropTypes.string},ActiveInactiveBadge.propTypes={isActive:_react2.default.PropTypes.bool},module.exports={CampaignStatusBadge:CampaignStatusBadge,ABTestBadge:ABTestBadge,ABSplitBadge:ABSplitBadge,PickWinnerBadge:PickWinnerBadge,ActiveInactiveBadge:ActiveInactiveBadge,BetaBadge:BetaBadge}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function WithRecipients(ComposedCmp){var _class;return _class=function(_React$Component){function _class(){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this));return _this.state={recipients:_recipientStore2.default.getRecipients(),count:_recipientStore2.default.getCount(),hasLoaded:_recipientStore2.default.getHasFetched()},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentDidMount",value:function(){_recipientStore2.default.addChangeListener(this.handleRecipientStoreChange)}},{key:"componentWillUnmount",value:function(){_recipientStore2.default.removeChangeListener(this.handleRecipientStoreChange),(0,_recipientActions.cmpUnmounted)()}},{key:"handleRecipientStoreChange",value:function(){this.setState({recipients:_recipientStore2.default.getRecipients(),count:_recipientStore2.default.getCount(),hasLoaded:_recipientStore2.default.getHasFetched()})}},{key:"render",value:function(){var hocProps={recipients:this.state.recipients,recipientCount:this.state.count,haveRecipientsLoaded:this.state.hasLoaded};return _react2.default.createElement(ComposedCmp,_extends({},hocProps,this.props))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handleRecipientStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleRecipientStoreChange"),_class.prototype),_class}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_recipientActions=__webpack_require__(106),_recipientStore=__webpack_require__(563),_recipientStore2=_interopRequireDefault(_recipientStore),_reactClassUtils=__webpack_require__(7);exports.default=WithRecipients},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),SegmentUtils=function(){function SegmentUtils(){_classCallCheck(this,SegmentUtils)}return _createClass(SegmentUtils,null,[{key:"getConditionsKey",value:function(conditions){return"string"==typeof conditions?conditions:JSON.stringify(conditions)}},{key:"campaignEngagementToConditions",value:function(campaignId,engagementType){return[{field:"opens"===engagementType?_constants2.default.SEGMENTS.CAMPAIGN_OPENS:_constants2.default.SEGMENTS.CAMPAIGN_CLICKS,value:campaignId,operator:"eq",and_or:""}]}},{key:"searchToConditions",value:function(searchQuery){return[{field:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"email",value:searchQuery,operator:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"contains",and_or:""}]}},{key:"composeConditions",value:function(conditions){var defaultAndOr=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"and";conditions=_underscore2.default.flatten(conditions);var trailingConds=conditions.slice(1);return _underscore2.default.each(trailingConds,function(c){return c.and_or=""===c.and_or?defaultAndOr:c.and_or}),conditions}},{key:"getWildcardConditions",value:function(query){return _stringUtils2.default.validateEmail(query)?this.searchToConditions(query,"email","eq"):this.searchToConditions(query.replace(" ","*"),"email","wildcard")}},{key:"getWildcardConditionsKey",value:function(query){return this.getConditionsKey(this.getWildcardConditions(query))}}]),SegmentUtils}();module.exports=SegmentUtils},,,function(module,exports,__webpack_require__){"use strict";module.exports=[{name:"Text",value:"text"},{name:"Date",value:"date"},{name:"Number",value:"number"}]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),StateToggles=function(ComposedCmp,stateMap){return function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state=_underscore2.default.extend({},stateMap),_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"render",value:function(){var _this2=this,decoratorProps=_underscore2.default.reduce(stateMap,function(memo,initialValue,stateName){return memo["setStateToggle"+_stringUtils2.default.capitalize(stateName)]=function(newValue){return _this2.setState(_underscore2.default.tap({},function(s){return s[stateName]=newValue}))},memo["toggle"+_stringUtils2.default.capitalize(stateName)]=function(){return _this2.setState(_underscore2.default.tap({},function(s){return s[stateName]=!_this2.state[stateName]}))},memo[stateName]=_this2.state[stateName],memo},{});return _react2.default.createElement(ComposedCmp,_extends({},decoratorProps,this.props))}}]),_class}(_react2.default.Component)};module.exports=StateToggles},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_inlineEditableText=__webpack_require__(1568),_inlineEditableText2=_interopRequireDefault(_inlineEditableText),getPriorityValueOrDefault=function(propName,formField,baseProps,defaultValue){return void 0!==formField[propName]?formField[propName]:void 0!==baseProps[propName]?baseProps[propName]:defaultValue},FormUtils=function(){function FormUtils(){_classCallCheck(this,FormUtils)}return _createClass(FormUtils,null,[{key:"formFieldsToInlineEditableTextInputs",value:function(formFields,baseProps){var collection=_underscore2.default.isArray(formFields)?formFields:[formFields];return _underscore2.default.map(collection,function(formField){var overridingProps=_underscore2.default.extend({},formField,{id:formField.name,key:formField.name,name:formField.name,displayName:formField.displayName||formField.name.replace(/_/," ").toLowerCase(),value:formField.value,validations:formField.validations,showLabel:getPriorityValueOrDefault("showLabel",formField,baseProps,!0),isEditable:baseProps.isEditable&&formField.isEditable});return _react2.default.createElement(_inlineEditableText2.default,_extends({},baseProps,overridingProps))})}}]),FormUtils}();module.exports=FormUtils},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_buttons=__webpack_require__(8),_errorPageCss=__webpack_require__(491),_errorPageCss2=_interopRequireDefault(_errorPageCss),ErrorPage=function(props){return _react2.default.createElement("div",{className:_errorPageCss2.default["error-page"]},_react2.default.createElement("div",{title:"SendGrid Logo",className:_errorPageCss2.default.logo}),_react2.default.createElement("h1",{title:"Error Code: Error Message",className:_errorPageCss2.default.headline},props.errorCode+": "+props.errorMessage),_react2.default.createElement("h3",{title:"Error Description",className:_errorPageCss2.default.subhead},props.errorDescription),_react2.default.createElement(_buttons.SecondaryButton,{to:props.callToActionURL||"/marketing_campaigns/ui/overview"},props.callToActionText||"Return to Marketing Campaigns"))};ErrorPage.propTypes={errorCode:_react2.default.PropTypes.number.isRequired,errorMessage:_react2.default.PropTypes.string.isRequired,errorDescription:_react2.default.PropTypes.string.isRequired,callToActionText:_react2.default.PropTypes.string,callToActionURL:_react2.default.PropTypes.string},module.exports=ErrorPage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),updateQueryStringWithState=function(state){var path=_locationUtils2.default.router.location.pathname,query=_extends({},_locationUtils2.default.router.location.query,state);_locationUtils2.default.router.push({pathname:path,query:query})},CampaignListControlsActions={filter:function(filters){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.FILTERED,filters:filters}),updateQueryStringWithState(filters)},setStatType:function(type){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.STAT_SWITCHED,type:type}),updateQueryStringWithState({statType:type})},clearFilters:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.CLEAR_FILTERS});var state={name:"",status:_constants2.default.CAMPAIGNS.STATUS_FILTERS.ALL,categories:""};updateQueryStringWithState(state)}};exports.default=CampaignListControlsActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EditorSelector(props){var editorOptions={dnd:{icon:_react2.default.createElement(_icons.EditorDnd,null),title:"Design Editor",description:_react2.default.createElement("p",{className:"small"},"Select modules like text blocks or images and use drag & drop or WYSIWYG design tools. You can also edit the HTML of individual modules, or import custom drag & drop HTML."),editorValue:_constants2.default.EDITORS.DND},code:{icon:_react2.default.createElement(_icons.EditorCode,null),title:"Code Editor",description:_react2.default.createElement("p",{className:"small"},"Add HTML, edit the code of your entire email, and review content in the visual preview tab. The code editor does not offer any drag & drop or WYSIWYG functionality."),editorValue:_constants2.default.EDITORS.CODE}},selectedEditorValue=props.selectedEditorValue?props.selectedEditorValue:_constants2.default.EDITORS.DND,onEditorSelection=function(editor){props.onEditorSelectionCb(editor)},header=_react2.default.createElement("header",null,_react2.default.createElement("h3",{className:_editorSelectorCss2.default["header-title"]},"Select your editing experience"),_react2.default.createElement("p",{className:"small"},"You can choose to create a template using our",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/drag_drop.html",target:"_blank"}," design editor")," or by adding your HTML to our",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/drag_drop.html",target:"_blank"}," code editor."))),options=_react2.default.createElement("ul",{className:_editorSelectorCss2.default["editor-options-list"]},_underscore2.default.map(editorOptions,function(option,key){return _react2.default.createElement("li",{className:_editorSelectorCss2.default["editor-option-item"]+" "+(selectedEditorValue===option.editorValue?_editorSelectorCss2.default["option-item-selected"]:""),key:"editor-option-item-"+key},_react2.default.createElement("label",{htmlFor:"editor-option-"+option.editorValue,className:"editor-option-label"},_react2.default.createElement("div",{className:_editorSelectorCss2.default["option-item-icon"],title:option.title},option.icon),_react2.default.createElement("h3",{className:_editorSelectorCss2.default["option-item-title"]},option.title),option.description,_react2.default.createElement(_radioInput2.default,{shouldShowLabel:!1,registerFormInput:function(){return!0},id:"editor-option-"+option.editorValue,name:"editor-option-"+option.editorValue,value:option.editorValue,isChecked:selectedEditorValue===option.editorValue,onChange:function(){return onEditorSelection(option.editorValue)}})))}));return _react2.default.createElement("article",{"data-role":"editor-selector",className:_editorSelectorCss2.default["editor-selection-view"]},header,_react2.default.createElement("section",null,options))}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_icons=__webpack_require__(1114),_radioInput=__webpack_require__(229),_radioInput2=_interopRequireDefault(_radioInput),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_editorSelectorCss=__webpack_require__(1117),_editorSelectorCss2=_interopRequireDefault(_editorSelectorCss);EditorSelector.propTypes={selectedEditorValue:_react2.default.PropTypes.string.isRequired,onEditorSelectionCb:_react2.default.PropTypes.func.isRequired},module.exports={EditorSelector:EditorSelector}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function badgeContentsForEditorName(editorName){switch(editorName){case _constants2.default.EDITORS.CODE:return _react2.default.createElement("span",null,_react2.default.createElement(_code2.default,null)," Code");case _constants2.default.GLOBAL_TEMPLATE:case _constants2.default.EDITORS.DND:return _react2.default.createElement("span",null,_react2.default.createElement(_paintbrush2.default,null)," Design");default:return"Old Editor"}}function getEditorName(props){return props.isGlobalTemplate?_constants2.default.GLOBAL_TEMPLATE:props.isCampaign?_editorTypeStore2.default.getCampaignEditorName(props.editorId):_editorTypeStore2.default.getTemplateEditorName(props.editorId)}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_paintbrush=__webpack_require__(511),_paintbrush2=_interopRequireDefault(_paintbrush),_code=__webpack_require__(512),_code2=_interopRequireDefault(_code),_featureToggle=__webpack_require__(103),EditorTypeLabel=_react2.default.createClass({displayName:"EditorTypeLabel",getInitialState:function(){return{editorName:getEditorName(this.props)}},componentDidMount:function(){_editorTypeStore2.default.addChangeListener(this.editorTypeStoreChanged)},componentWillUnmount:function(){_editorTypeStore2.default.removeChangeListener(this.editorTypeStoreChanged)},editorTypeStoreChanged:function(){this.setState({editorName:getEditorName(this.props)})},render:function(){return _react2.default.createElement("div",{"data-role":"editor-type-label"},_react2.default.createElement("small",null,_react2.default.createElement("em",null,badgeContentsForEditorName(this.state.editorName))))}});EditorTypeLabel.propTypes={editorId:_react2.default.PropTypes.number,isCampaign:_react2.default.PropTypes.bool},exports.default=(0,_featureToggle.FeatureToggle)(_featureToggle.NullCmp,EditorTypeLabel,_constants2.default.FEATURES.BIFURCATED)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PreviewModeToggler(props){return _react2.default.createElement(_tabs.Tabs,null,_react2.default.createElement(_tabs.TabTitleWrapper,{hasTopBorder:props.hasTopBorder,hasBottomBorder:!0,isInModal:props.isInModal,className:"preview-selection"},_react2.default.createElement(_tabs.TabTitle,{onClick:props.onDesktopClick},_react2.default.createElement(_desktop2.default,null)),_react2.default.createElement(_tabs.TabTitle,{onClick:props.onMobileClick},_react2.default.createElement(_mobile2.default,null)),_react2.default.createElement(_tabs.TabTitle,{onClick:props.onTextClick},_react2.default.createElement(_text2.default,null))),props.children,_react2.default.createElement(_tabs.TabPanelWrapper,null,_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_desktop4.default,{content:props.htmlContent,withBorder:props.withContentBorder,allowScripts:props.allowScripts,showAbNav:props.showAbNav})),_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_mobile4.default,{content:props.htmlContent,withBorder:props.withContentBorder,allowScripts:props.allowScripts,showAbNav:props.showAbNav})),_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_text4.default,{content:props.plainContent,onChange:props.onPlainChange,readOnly:props.isPlainReadOnly,withBorder:props.withContentBorder,showAbNav:props.showAbNav,isInModal:props.isInModal}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_desktop=__webpack_require__(1131),_desktop2=_interopRequireDefault(_desktop),_mobile=__webpack_require__(1132),_mobile2=_interopRequireDefault(_mobile),_text=__webpack_require__(1133),_text2=_interopRequireDefault(_text),_tabs=__webpack_require__(130),_desktop3=__webpack_require__(1138),_desktop4=_interopRequireDefault(_desktop3),_mobile3=__webpack_require__(1182),_mobile4=_interopRequireDefault(_mobile3),_text3=__webpack_require__(1185),_text4=_interopRequireDefault(_text3);PreviewModeToggler.propTypes={children:_propTypes2.default.node,onDesktopClick:_propTypes2.default.func,onMobileClick:_propTypes2.default.func,onTextClick:_propTypes2.default.func,onPlainChange:_propTypes2.default.func,isPlainReadOnly:_propTypes2.default.bool,isInModal:_propTypes2.default.bool,hasTopBorder:_propTypes2.default.bool,withContentBorder:_propTypes2.default.bool,htmlContent:_propTypes2.default.string,plainContent:_propTypes2.default.string,allowScripts:_propTypes2.default.bool,showAbNav:_propTypes2.default.bool},PreviewModeToggler.defaultProps={children:null,onDesktopClick:function(){},onMobileClick:function(){},onTextClick:function(){},onPlainChange:function(){},isPlainReadOnly:!1,isInModal:!1,hasTopBorder:!1,withContentBorder:!1,htmlContent:"",plainContent:"",allowScripts:!1,showAbNav:!1},exports.default=PreviewModeToggler},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function setLinkTargets(iframe){var target=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_blank";$(iframe).contents().find("a").attr("target",target)}function getLoadingIndicator(){return _server2.default.renderToString(_react2.default.createElement("html",null,_react2.default.createElement("head",null,_react2.default.createElement("link",{rel:"stylesheet",type:"text/css",href:"//uiux.s3.amazonaws.com/style-guide/css/style-guide.css"})),_react2.default.createElement("body",null,_react2.default.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"}},_react2.default.createElement(_sgLoader2.default,null)))))}function setIFrameContent(iframe,props){var _props$content=props.content,content=void 0===_props$content?"":_props$content;if(iframe.contentWindow){props.hasContentLoaded||(content=getLoadingIndicator());var frameDoc=iframe.contentWindow.document;frameDoc.open(),frameDoc.write(annotateHTML(content)),frameDoc.close(),setLinkTargets(iframe)}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_server=__webpack_require__(514),_server2=_interopRequireDefault(_server),_htmlparserToHtml=__webpack_require__(1142),_htmlparserToHtml2=_interopRequireDefault(_htmlparserToHtml),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),_sideBySideStore=__webpack_require__(515),_sideBySideStore2=_interopRequireDefault(_sideBySideStore),_htmlParser=__webpack_require__(1144),_htmlParser2=_interopRequireDefault(_htmlParser),_functionalUtils=__webpack_require__(177),_findNodeByIndex=__webpack_require__(1177),_findNodeByIndex2=_interopRequireDefault(_findNodeByIndex),_sgLoader=__webpack_require__(176),_sgLoader2=_interopRequireDefault(_sgLoader),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss),codeClicked=_constants2.default.ACTIONS.SIDE_BY_SIDE.CODE_CLICKED,annotateHTML=(0,_functionalUtils.pipe)(_htmlParser2.default,_htmlparserToHtml2.default,_sanitizerUtils2.default.sanitize),removeDataAttributes=function(content){return(0,_htmlParser2.default)(content,{includeDataAttributes:!1})},stripAnnotationsFromHTML=(0,_functionalUtils.pipe)(removeDataAttributes,_htmlparserToHtml2.default),lastScrollPosition=0,getPosition=function(node){var top=0;do{top+=node.offsetTop}while(node=node.offsetParent);return top},onClick=function(content){return function(_ref){var target=_ref.target,_getIndices=(0,_findNodeByIndex.getIndices)(target),startIndex=_getIndices.startIndex,endIndex=_getIndices.endIndex;_editorActions2.default.previewNodeClicked(stripAnnotationsFromHTML(content),startIndex,endIndex)}},scrollToNode=function(frame,nodeMap,index){var targetNode=(0,_findNodeByIndex2.default)(nodeMap,index),offset=getPosition(targetNode);lastScrollPosition=offset,frame.scrollTo(0,offset)},onLoad=function(content){return function(event){var frame=event.target.contentWindow||event.target.contentDocument;lastScrollPosition&&frame.scrollTo(0,lastScrollPosition),frame.document.body.addEventListener("click",onClick(content));var rootNode=frame.document.querySelector("body"),nodeMap=(0,_findNodeByIndex.createNodeMap)(rootNode);_sideBySideStore2.default.on(codeClicked,function(_ref2){var index=_ref2.index;return scrollToNode(frame,nodeMap,index)})}},Frame=function(_React$Component){function Frame(){return _classCallCheck(this,Frame),_possibleConstructorReturn(this,(Frame.__proto__||Object.getPrototypeOf(Frame)).apply(this,arguments))}return _inherits(Frame,_React$Component),_createClass(Frame,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"componentWillUnmount",value:function(){lastScrollPosition=0}},{key:"update",value:function(){setIFrameContent(this.iframe,this.props)}},{key:"render",value:function(){var _classnames,_this2=this,iframeClass=(0,_classnames3.default)(this.props.className,(_classnames={},_defineProperty(_classnames,_editorCss2.default["is-resize-height"],this.props.shouldResizeHeight),_defineProperty(_classnames,_editorCss2.default["is-shows-ab"],this.props.showAbNav),_classnames));return _react2.default.createElement("iframe",{className:iframeClass,onLoad:onLoad(this.props.content),sandbox:"allow-same-origin "+(this.props.allowScripts?"allow-scripts allow-popups":""),ref:function(iframe){_this2.iframe=iframe}})}}]),Frame}(_react2.default.Component);Frame.propTypes={content:_propTypes2.default.string,className:_propTypes2.default.string,allowScripts:_propTypes2.default.bool,shouldResizeHeight:_propTypes2.default.bool,showAbNav:_propTypes2.default.bool},Frame.defaultProps={className:"",content:"",hasContentLoaded:!0,allowScripts:!1,shouldResizeHeight:!1,showAbNav:!1},exports.default=Frame},,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeEmptyStyles=exports.unsupportedAttributes=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_server=__webpack_require__(514),unsupportedAttributes=["xmlns","align","valign","bgcolor","border"],removeEmptyStyles=function(styles){return _underscore2.default.pairs(styles).reduce(function(result,_ref){var _ref2=_slicedToArray(_ref,2),property=_ref2[0],value=_ref2[1];return value||0===value?_extends({},result,_defineProperty({},property,value)):result},{})},replaceUnsupportedAttributes=function replaceUnsupportedAttributes(component){var properties=_extends({},component.props);return Array.isArray(component.props.children)?properties.children=properties.children.map(replaceUnsupportedAttributes):component.props.children instanceof _react2.default.Component&&(properties.children=replaceUnsupportedAttributes(component.props.children)),Object.keys(properties).forEach(function(prop){unsupportedAttributes.includes(prop)&&(properties["data-unsupported-attr-"+prop]=properties[prop],delete properties[prop])}),_react2.default.createElement(component.type,_extends({},properties,{style:removeEmptyStyles(component.props.style)}))},serialize=function(component){return(0,_server.renderToStaticMarkup)(replaceUnsupportedAttributes(component)).replace(/data-unsupported-attr-/g,"")};exports.default=serialize,exports.unsupportedAttributes=unsupportedAttributes,exports.removeEmptyStyles=removeEmptyStyles},,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _serializedColumns(props,totalProps,contentProps){return'\n    <table border="0" cellpadding="0" cellspacing="0" align="center" width="100%" role="module" data-type="columns">\n      <tr>\n        <td style="'+_jsxHtmlTranslationUtils2.default.getStyleString(props.tdProps.style)+'" bgcolor="'+props.tdProps.style.backgroundColor+'">\n            '+serializeColumnContents(props,totalProps,contentProps)+"\n        </td>\n      </tr>\n    </table>\n  "}function serializeColumnContents(props,totalProps,contentProps){var numberOfColumns=props.innerModules.length;return _underscore2.default.reduce(props.innerModules,function(memo,propsArr,i){return memo+'\n      \x3c!--[if mso]>\n      <table width="'+((100/props.innerModules.length).toFixed(3)-1)+'%" align="left"><tr><td>\n      <![endif]--\x3e\n      <table style="'+ModuleSerializerUtils.getColumnPaddingStyleString(props.innerModules.length,props.columnPaddingPx,i)+'"\n          align="left"\n          valign="top"\n          height="100%"\n          class="column column-'+i+" of-"+numberOfColumns+" "+(0==propsArr.length||propsArr[0].type==_constants2.default.EDITOR.MODULES.EMPTY?"empty":"")+'">\n        <tr>\n          <td class="columns--column-content">\n            '+ModuleSerializerUtils.serializeBodyModules(propsArr,totalProps,contentProps)+"\n          </td>\n        </tr>\n      </table>\n      \x3c!--[if mso]>\n      </td></tr></table>\n      </center>\n      <![endif]--\x3e\n    "},"")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_button=__webpack_require__(552),_bodyContainer=__webpack_require__(1232),_bodyContainer2=_interopRequireDefault(_bodyContainer),_code=__webpack_require__(536),_image=__webpack_require__(242),_preheader=__webpack_require__(1233),_text=__webpack_require__(538),_spacer=__webpack_require__(1234),_divider=__webpack_require__(1235),_social=__webpack_require__(553),ModuleSerializerUtils=function(){function ModuleSerializerUtils(){_classCallCheck(this,ModuleSerializerUtils)}return _createClass(ModuleSerializerUtils,null,[{key:"serializeModules",value:function(bodyProps,contentContainerProps,propsArr){return(0,_bodyContainer2.default)(bodyProps,contentContainerProps,ModuleSerializerUtils.serializeBodyModules(propsArr,propsArr,contentContainerProps))}},{key:"serializeBodyModules",value:function(propsArrToIterate,totalProps,contentProps){return _underscore2.default.reduce(propsArrToIterate,function(memo,props){return memo+ModuleSerializerUtils.serializeModule(props,totalProps,contentProps)},"")}},{key:"serializeModule",value:function(props,totalProps,contentProps){switch(props.type){case _constants2.default.EDITOR.MODULES.BUTTON:return(0,_button.serializedButton)(props);case _constants2.default.EDITOR.MODULES.CODE:return(0,_code.serializedCode)(props);case _constants2.default.EDITOR.MODULES.COLUMNS:return _serializedColumns(props,totalProps,contentProps);case _constants2.default.EDITOR.MODULES.IMAGE:return(0,_image.serializedImage)(props,totalProps,contentProps);case _constants2.default.EDITOR.MODULES.TEXT:return(0,_text.serializedText)(props);case _constants2.default.EDITOR.MODULES.SPACER:return(0,_spacer.serializedSpacer)(props);case _constants2.default.EDITOR.MODULES.DIVIDER:return(0,_divider.serializedDivider)(props);case _constants2.default.EDITOR.MODULES.SOCIAL:return(0,_social.serializedSocial)(props);case _constants2.default.EDITOR.MODULES.PREHEADER:return(0,_preheader.serializedPreheader)(props);case _constants2.default.EDITOR.MODULES.EMPTY:return"";default:return console.warn("Unrecognized module type passed to module serializer: "+props.type),""}}},{key:"serializedColumns",value:function(props){return _serializedColumns(props)}},{key:"getColumnPaddingStyleString",value:function(numCols,padPx,i){return"padding: 0px "+(i<numCols-1||1==numCols?padPx:0)+"px 0px "+(0==i&&numCols>1?0:padPx)+"px;"}},{key:"isStructuralChange",value:function(oldHtml,newHtml){function dfs(stack,structure,depth){if(0!=stack.length){var cur=stack.pop();structure.push(depth+"-"+cur.nodeType),cur.children&&cur.children.length>0&&_underscore2.default.each(cur.children,function(c){stack.push(c),dfs(stack,structure,depth+1)})}}function getStructure(html){return _underscore2.default.tap([],function(s){return _underscore2.default.each($(html),function(e){return dfs([e],s,0)})})}function stringifier(arr){return arr.join(", ")}return stringifier(getStructure(oldHtml))!=stringifier(getStructure(newHtml))}}]),ModuleSerializerUtils}();exports.default=ModuleSerializerUtils},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ButtonModule(props){var align=props.deepTdProps.style.textAlign,rootProps=props.getRootProps?props.getRootProps():{};return props.deepTdProps.style.backgroundColor||(props.deepTdProps.style.backgroundColor="inherit"),_react2.default.createElement("table",_extends({border:"0",cellPadding:"0",cellSpacing:"0",className:"module","data-role":"module-button","data-type":"button",role:"module",style:{tableLayout:"fixed"},width:"100%"},rootProps),_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{align:align,bgcolor:props.shallowTdProps.style.backgroundColor,className:"outer-td",style:(0,_serialize.removeEmptyStyles)(_underscore2.default.pick(props.shallowTdProps.style,"padding","backgroundColor"))},_react2.default.createElement("table",_extends({border:"0",cellPadding:"0",cellSpacing:"0",className:_buttonCss2.default["deep-table"]+" wrapper-mobile"},props.deepTableProps),_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",_extends({align:"center",bgcolor:props.aProps.style.backgroundColor,className:"inner-td"},props.deepTdProps),_react2.default.createElement("a",props.aProps,props.buttonText)))))))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DraggableButtonModule=exports.ButtonModule=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_serialize=__webpack_require__(338),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_button=__webpack_require__(239),_buttonCss=__webpack_require__(1230),_buttonCss2=_interopRequireDefault(_buttonCss);ButtonModule.defaultProps=function(){return(0,_button.updateInnerHtml)({type:_constants2.default.EDITOR.MODULES.BUTTON,isCodeEditable:!0,shallowTdProps:{style:{backgroundColor:"",padding:"0px 0px 0px 0px",textAlign:"center"}},deepTdProps:{style:{borderRadius:"6px",fontSize:"16px",textAlign:"center",backgroundColor:"inherit"}},deepTableProps:{style:{textAlign:"center"}},aProps:{href:"",style:{backgroundColor:"#333333",border:"1px solid #333333",borderColor:"#333333",borderRadius:"6px",borderWidth:"1px",color:"#ffffff",display:"inline-block",fontFamily:"arial,helvetica,sans-serif",fontSize:"16px",fontWeight:"normal",letterSpacing:"0px",lineHeight:"16px",padding:"12px 18px 12px 18px",textAlign:"center",textDecoration:"none"},target:"_blank"},buttonText:"Button Text"})};var createDraggableButtonModule=function(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-button-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-button"})," Button"))},DraggableButtonModule=(0,_draggableModuleMaker2.default)(createDraggableButtonModule,_constants2.default.EDITOR.MODULES.BUTTON,ButtonModule.defaultProps);exports.default=ButtonModule,exports.ButtonModule=ButtonModule,exports.DraggableButtonModule=DraggableButtonModule},function(module,exports,__webpack_require__){var content=__webpack_require__(1241);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInitialProps(){return{type:_constants2.default.EDITOR.MODULES.TEXT,isCodeEditable:!0,tdProps:{style:{backgroundColor:"",padding:"18px 0px 18px 0px",lineHeight:"22px",textAlign:"inherit"}},innerHtml:placeholderText}}function getInnerContent(props){return props.isSelected?props.getWysiwygEditor():props.innerHtml?_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:props.innerHtml}}):_react2.default.createElement("div",{className:_textCss2.default["too-small-to-click"],"data-role":"too-small-placeholder"},_react2.default.createElement("i",{className:"sg-icon sg-icon-text "+_textCss2.default["text-icon"]}),_react2.default.createElement("div",null,"Add Text"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DraggableTextModule=exports.TextModule=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getInitialProps=getInitialProps;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_wysiwygable=__webpack_require__(1249),_wysiwygable2=_interopRequireDefault(_wysiwygable),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_textCss=__webpack_require__(1252),_textCss2=_interopRequireDefault(_textCss),placeholderText="\n  <div>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aliquam tincidunt elementum sem non luctus. Ut dolor nisl, facilisis non magna quis, elementum ultricies tortor. In mattis, purus ut tincidunt egestas, ligula nulla accumsan justo, vitae bibendum orci ligula id ipsum. Nunc elementum tincidunt libero, in ullamcorper magna volutpat a.</div>\n".trim();exports.TextModule=(0,_wysiwygable2.default)(_react2.default.createClass({displayName:"TextModule",render:function(){return _react2.default.createElement("table",_extends({"data-role":"module-text"},this.props.getRootProps()),_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",this.props.tdProps,getInnerContent(this.props)))))}})),exports.DraggableTextModule=(0,_draggableModuleMaker2.default)(function(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-text-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-text"})," Text"))},_constants2.default.EDITOR.MODULES.TEXT,getInitialProps)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function doesConditionHaveValues(condition){return _underscore2.default.all([condition.field,condition.operator],function(c){return""!==c})}function getListSelectData(props){function mapper(lists){return _underscore2.default.map(lists,function(l){return{name:l.name,value:l.id}})}if(!props.scopedCampaignId)return mapper(_listStore2.default.getLists());var campaignLists=_campaignUtils2.default.getCampaignLists(props.scopedCampaignId);return campaignLists.unshift({name:"All Contacts",id:""}),mapper(campaignLists)}function getEngagementCampaigns(props){return props.scopedCampaignId?[_campaignsStore.CampaignsStore.getById(props.scopedCampaignId)]:_campaignsStore.CampaignsStore.getCampaignsWithStatuses([_constants2.default.CAMPAIGNS.STATUSES.CANCELED,_constants2.default.CAMPAIGNS.STATUSES.SCHEDULED,_constants2.default.CAMPAIGNS.STATUSES.SENT])}function formConditionsToApiConditions(conditions){if(conditions.length<1)return[];var apiConditions=[].concat(_toConsumableArray(conditions));return apiConditions[0].andOr="",_underscore2.default.map(apiConditions,function(c){return{field:c.field,value:c.paramValue,operator:c.operator,and_or:c.andOr}})}function apiConditionsToFormConditions(conditions){return _underscore2.default.map(conditions,function(c){return _underscore2.default.extend({},defaultConditionItemState,{field:c.field,paramType:_segmentConditionStore2.default.getParamType(c.field),paramValue:c.value,operator:c.operator,operators:""!==c.field?_segmentConditionStore2.default.getOperatorSelectData(c.field):[],andOr:c.and_or})})}function setConditionOperatorState(condition){condition.operators=_segmentConditionStore2.default.getOperatorSelectData(condition.field);var isOperatorUnchanged=_underscore2.default.find(condition.operators,function(operator){return operator.value===condition.operator});condition.operator=isOperatorUnchanged?condition.operator:condition.operators[0]&&condition.operators[0].value||""}function getDefaultCondition(){var fieldSelectData=_segmentConditionStore2.default.getConditionFieldSelectData(),defaultCondition=_underscore2.default.clone(defaultConditionItemState);return defaultCondition.field=fieldSelectData.length>0?fieldSelectData[0].value:"",setConditionOperatorState(defaultCondition),defaultCondition.paramType=_segmentConditionStore2.default.getParamType(defaultCondition.field),defaultCondition}function getInitialConditionsStateVal(props){return props.initialConditions.length>0?apiConditionsToFormConditions(props.initialConditions):[getDefaultCondition()]}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_radioInput=__webpack_require__(229),_radioInput2=_interopRequireDefault(_radioInput),_textInput=__webpack_require__(18),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_buttons=__webpack_require__(8),_campaignUtils=__webpack_require__(155),_campaignUtils2=_interopRequireDefault(_campaignUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_reactClassUtils=__webpack_require__(7),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_segmentActions=__webpack_require__(186),_segmentActions2=_interopRequireDefault(_segmentActions),_notificationActions=__webpack_require__(100),_notificationActions2=_interopRequireDefault(_notificationActions),_campaignsStore=__webpack_require__(61),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_segmentConditionStore=__webpack_require__(1275),_segmentConditionStore2=_interopRequireDefault(_segmentConditionStore),_segmentLogicItem=__webpack_require__(1276),_segmentLogicItem2=_interopRequireDefault(_segmentLogicItem),_segmentBuilderCss=__webpack_require__(1281),_segmentBuilderCss2=_interopRequireDefault(_segmentBuilderCss),defaultConditionItemState={andOr:"and",field:"",operators:[],operator:"",paramType:"",paramValue:"",shouldValidate:!1},SegmentBuilder=(_class=function(_React$Component){function SegmentBuilder(props){_classCallCheck(this,SegmentBuilder);var _this=_possibleConstructorReturn(this,(SegmentBuilder.__proto__||Object.getPrototypeOf(SegmentBuilder)).call(this,props)),lists=getListSelectData(props),listToSegment=props.initialSegmentedList||(lists.length>0?lists[0].value:""),fieldSelectData=_segmentConditionStore2.default.getConditionFieldSelectData();return _this.state={engagementCampaigns:getEngagementCampaigns(props),conditions:getInitialConditionsStateVal(props),fieldSelectData:fieldSelectData,showConditions:fieldSelectData.length>0,listToSegment:listToSegment,lists:lists,isSegmentingAll:!props.initialSegmentedList,segmentName:props.initialSegmentName||"",haveAllRequestsLoaded:!1},_this}return _inherits(SegmentBuilder,_React$Component),_createClass(SegmentBuilder,[{key:"componentDidMount",value:function(){var _this2=this;_campaignsStore.CampaignsStore.addChangeListener(this.campaignsStoreChanged),_segmentConditionStore2.default.addChangeListener(this.segmentConditionStoreChanged),_listStore2.default.addChangeListener(this.listStoreChanged);var promises=[];this.props.scopedCampaignId&&promises.push(_campaignsActions2.default.fetchCampaignQueries(this.props.scopedCampaignId)),promises.push(_campaignsActions2.default.fetchAll(!0)),promises.push(_campaignsActions2.default.fetchAllStatuses()),promises.push(_customFieldActions2.default.fetch()),promises.push(_listActions2.default.fetchAllQueries()),$.when.apply(null,promises).always(function(){return _this2.setState({haveAllRequestsLoaded:!0})}).fail(function(){return _notificationActions2.default.add(_constants2.default.NOTIFICATIONS.FAILED_TO_LOAD_ERROR,"danger")}),this.props.onSubmitContextChange(this.onSubmit)}},{key:"componentWillReceiveProps",value:function(nextProps){this.props.initialSegmentName!==nextProps.initialSegmentName&&""===this.state.segmentName&&this.setState({segmentName:nextProps.initialSegmentName})}},{key:"componentWillUnmount",value:function(){_campaignsStore.CampaignsStore.removeChangeListener(this.campaignsStoreChanged),_segmentConditionStore2.default.removeChangeListener(this.segmentConditionStoreChanged),_listStore2.default.removeChangeListener(this.listStoreChanged),this.props.onSubmitContextChange(void 0)}},{key:"onSubmit",value:function(){var _this3=this;return this.props.isValid()?this.props.trySubmit(function(){var promise=_this3.props.segmentId?_segmentActions2.default.update(_this3.props.segmentId,_this3.state.segmentName,formConditionsToApiConditions(_this3.state.conditions)).then(function(){return _segmentActions2.default.fetchSegmentAndCount(_this3.props.segmentId)}):_segmentActions2.default.create(_this3.state.segmentName,formConditionsToApiConditions(_this3.state.conditions),_this3.state.listToSegment).then(function(res){return _segmentActions2.default.fetchSegmentAndCount(res.segment.id)});return _this3.props.segmentId||_analyticsUtils2.default.track("segment_created",{source:_this3.props.analyticsSource,conditions_count:_this3.state.conditions.length}),promise}):(this.props.setShouldValidate(!0),this.setState({conditions:_underscore2.default.map(this.state.conditions,function(cond){return _underscore2.default.tap(cond,function(c){c.shouldValidate=!0})})}),$.Deferred())}},{key:"onConditionTypeChange",value:function(e){var i=$(e.target).data("index"),condition=this.state.conditions[i],oldVal=condition.field,newVal=e.target.value;condition.field=newVal,setConditionOperatorState(condition),condition.paramType=_segmentConditionStore2.default.getParamType(newVal);var defaultParamValue=condition.paramType.match(/clicked|opened/i)?(getEngagementCampaigns(this.props)[0]||{id:""}).id.toString():"";condition.paramValue=condition.paramType===_segmentConditionStore2.default.getParamType(oldVal)?condition.paramValue:defaultParamValue,condition.shouldValidate=!1,this.setState({conditions:this.state.conditions})}},{key:"onOperatorChange",value:function(e){var i=$(e.target).data("index"),val=e.target.value,condition=this.state.conditions[i];condition.operator=val,condition.shouldValidate=!1,this.setState({conditions:this.state.conditions})}},{key:"onParamChange",value:function(e){var i=$(e.target).data("index"),val=e.target.value;this.state.conditions[i].paramValue=val,this.setState({conditions:this.state.conditions})}},{key:"onAndOrChange",value:function(e){var condition=this.state.conditions[$(e.target).data("index")];condition.andOr="or"===condition.andOr?"and":"or",this.setState({conditions:this.state.conditions})}},{key:"onDeleteCondition",value:function(e){var i=$(e.target).data("index");this.state.conditions.splice(i,1);var newConditions=this.state.conditions;1===newConditions.length&&(newConditions[0].showX=!1),newConditions[0].andOr="",newConditions[0].showAndOr=!1,this.setState({conditions:newConditions})}},{key:"getSegmentNameCollectionForValidation",value:function(){var items=_underscore2.default.map(_listStore2.default.getAllQueries(),function(q){return q.name});return this.props.segmentId||items.push(this.state.segmentName),{items:items,test:function(q){return q}}}},{key:"campaignsStoreChanged",value:function(){this.setState({conditions:getInitialConditionsStateVal(this.props),lists:getListSelectData(this.props),engagementCampaigns:getEngagementCampaigns(this.props)})}},{key:"segmentConditionStoreChanged",value:function(){var newState={conditions:getInitialConditionsStateVal(this.props),fieldSelectData:_segmentConditionStore2.default.getConditionFieldSelectData(),showConditions:!0};_underscore2.default.each(this.state.conditions,function(c){c&&""!==c.field&&0===c.operators.length&&(c.operators=_segmentConditionStore2.default.getOperatorSelectData(c.field))}),newState.conditions=this.state.conditions,this.setState(newState)}},{key:"listStoreChanged",value:function(){this.setState({conditions:getInitialConditionsStateVal(this.props),lists:getListSelectData(this.props)})}},{key:"addNewCondition",value:function(){var newConditions=this.state.conditions.concat(getDefaultCondition());_underscore2.default.each(newConditions,function(c){c.showX=!0}),this.setState({conditions:newConditions})}},{key:"handleIsSegmentingAllChanged",value:function(e){var isSegmentingAll="all"===e.target.value;this.setState({isSegmentingAll:isSegmentingAll,listToSegment:isSegmentingAll?void 0:this.state.listToSegment})}},{key:"listToSegmentChanged",value:function(e){this.setState({listToSegment:e.target.value})}},{key:"segmentNameChanged",value:function(e){this.setState({segmentName:e.target.value})}},{key:"render",value:function(){var _this4=this,sharedInputProps={registerFormInput:this.props.registerFormInput,unregisterFormInput:this.props.unregisterFormInput},add=_react2.default.createElement(_buttons.SecondaryButton,{"data-role":"add",onClick:this.addNewCondition},_react2.default.createElement("span",{className:_segmentBuilderCss2.default["btn-plus"]},"+"),_react2.default.createElement("span",{className:_segmentBuilderCss2.default["btn-add-condition"]},"  Add Condition"));return _react2.default.createElement("article",{"data-role":"segment-builder"},_react2.default.createElement("div",{className:"segment-builder-form-wrapper"},this.props.segmentId?_react2.default.createElement("p",null,"Changing the conditions of this segment will change the recipients of any scheduled or draft campaigns ","you're"," sending to this segment."):_react2.default.createElement("p",null,"With segmentation, you can find individuals within your contact database who  share similar traits, for example, ",'"females older than 25"'," or ",'"paid customers in the USA,"'," so that you can send them relevant, targeted content."),_react2.default.createElement(_radioInput2.default,{name:"radio-segment-which-list",id:"radio-segment-all",value:"all",isChecked:this.state.isSegmentingAll,isDisabled:this.props.isListDisabled,labelText:_react2.default.createElement("span",null,"Segment ",_react2.default.createElement(_tooltip2.default,{hasUnderline:!0,content:"Consider adding contacts to named lists for better organization."},"all contacts")),onChange:this.handleIsSegmentingAllChanged}),_react2.default.createElement(_radioInput2.default,{name:"radio-segment-which-list",id:"radio-segment-some-list",value:"some-list",isChecked:!this.state.isSegmentingAll,isDisabled:this.props.isListDisabled,labelText:"Segment an existing list",onChange:this.handleIsSegmentingAllChanged}),_react2.default.createElement("section",{className:"row"},_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement(_textInput.TextInput,{labelText:"Segment Name",displayName:"Segment name",name:"segment-name",validations:["required","unique"],getCollection:this.getSegmentNameCollectionForValidation,shouldValidate:this.props.shouldInputsInitiallyValidate,value:this.state.segmentName,onChange:this.segmentNameChanged,registerFormInput:this.props.registerFormInput})),_react2.default.createElement("div",{className:"col-md-4"},!this.state.isSegmentingAll&&_react2.default.createElement(_select2.default,{options:{minimumResultsForSearch:-1,width:"100%"},name:"list-to-segment",validations:["required"],value:this.state.listToSegment,data:this.state.lists,disabled:!!this.props.segmentId,showLabel:!0,displayName:"Select List to Segment",onChange:this.listToSegmentChanged,registerFormInput:this.props.registerFormInput,unregisterFormInput:this.props.unregisterFormInput}))),_react2.default.createElement("div",{className:"segment-conditions"},_underscore2.default.map(this.state.conditions,function(condition,i){return _react2.default.createElement(_segmentLogicItem2.default,_extends({},sharedInputProps,{onAndOrChange:_this4.onAndOrChange,onConditionTypeChange:_this4.onConditionTypeChange,onOperatorChange:_this4.onOperatorChange,onDeleteCondition:_this4.onDeleteCondition,onParamChange:_this4.onParamChange,index:i,key:i,showConditions:_this4.state.showConditions,showX:_this4.state.conditions.length>1,shouldValidate:_this4.props.shouldInputsInitiallyValidate&&condition.shouldValidate,isLoading:!_this4.state.haveAllRequestsLoaded,engagementCampaigns:_this4.state.engagementCampaigns,condition:condition,fieldSelectData:_this4.state.fieldSelectData}))}),_underscore2.default.all(this.state.conditions,function(c){return doesConditionHaveValues(c)})?add:null)))}}]),SegmentBuilder}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onConditionTypeChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onConditionTypeChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onOperatorChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onOperatorChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onParamChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onParamChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onAndOrChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onAndOrChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onDeleteCondition",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onDeleteCondition"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getSegmentNameCollectionForValidation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getSegmentNameCollectionForValidation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"campaignsStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"campaignsStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"segmentConditionStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"segmentConditionStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"listStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"listStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addNewCondition",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"addNewCondition"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleIsSegmentingAllChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleIsSegmentingAllChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"listToSegmentChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"listToSegmentChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"segmentNameChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"segmentNameChanged"),_class.prototype),_class);SegmentBuilder.propTypes={analyticsSource:_propTypes2.default.string.isRequired,initialConditions:_propTypes2.default.array,initialSegmentName:_propTypes2.default.string,initialSegmentedList:_propTypes2.default.string,isListDisabled:_propTypes2.default.bool,shouldInputsInitiallyValidate:_propTypes2.default.bool,scopedCampaignId:_propTypes2.default.string,segmentId:_propTypes2.default.string,isValid:_propTypes2.default.func.isRequired,setShouldValidate:_propTypes2.default.func.isRequired,onSubmitContextChange:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired,trySubmit:_propTypes2.default.func.isRequired},SegmentBuilder.defaultProps={initialConditions:[],initialSegmentName:"",initialSegmentedList:void 0,isListDisabled:!1,shouldInputsInitiallyValidate:!1,scopedCampaignId:void 0,segmentId:void 0},SegmentBuilder.contextTypes={router:_react2.default.PropTypes.object},exports.default=(0,_formDecorator2.default)(SegmentBuilder)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function goBack(route){_locationUtils2.default.router.push(route)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_backArrow=__webpack_require__(1286),_backArrow2=_interopRequireDefault(_backArrow),_buttons=__webpack_require__(8),_sgLoader=__webpack_require__(176),_sgLoader2=_interopRequireDefault(_sgLoader),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_tiaraUtils=__webpack_require__(171),_tiaraUtils2=_interopRequireDefault(_tiaraUtils),_reactClassUtils=__webpack_require__(7),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss),_toolbarCss=__webpack_require__(566),_toolbarCss2=_interopRequireDefault(_toolbarCss),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),Toolbar=(_class=function(_React$Component){function Toolbar(props){_classCallCheck(this,Toolbar);var _this=_possibleConstructorReturn(this,(Toolbar.__proto__||Object.getPrototypeOf(Toolbar)).call(this,props));return _this.state={isSaving:!1,isSaved:!1},_this}return _inherits(Toolbar,_React$Component),_createClass(Toolbar,[{key:"componentDidMount",value:function(){_tiaraUtils2.default.hide(),_tiaraUtils2.default.hideFeedbackTab(),this.saveInterval=setInterval(this.onSave,_constants2.default.EDITOR_AUTOSAVE_MILLIS)}},{key:"componentWillUnmount",value:function(){_tiaraUtils2.default.show(),_tiaraUtils2.default.showFeedbackTab(),clearInterval(this.saveInterval)}},{key:"onGoBack",value:function(){this.props.hasEditorLoaded&&this.onSave(!0),goBack(this.props.backRoute)}},{key:"onSave",value:function(){var _this2=this,isOnBack=arguments.length>0&&void 0!==arguments[0]&&arguments[0],request=this.props.onSave();!0!==isOnBack&&(this.setState({isSaving:!0}),request.done(function(){_this2.setState({isSaved:!0})}),request.always(function(){_this2.setState({isSaving:!1}),setTimeout(function(){_this2.setState({isSaved:!1})},2e3)}))}},{key:"render",value:function(){var _this3=this,iconProp="save-draft",saveBtnContent=this.props.saveButtonText||"Save Draft";this.state.isSaving?(iconProp="",saveBtnContent=_react2.default.createElement("span",null,_react2.default.createElement(_sgLoader2.default,{className:"is-small loader-on-dark"})," Saving...")):this.state.isSaved&&(iconProp="check",saveBtnContent="Saved");return _react2.default.createElement("div",{className:_toolbarCss2.default.header+" "+_editorCss2.default["nav-bar"],"data-toolbar":!0},_react2.default.createElement("nav",{className:_toolbarCss2.default.nav},_react2.default.createElement("span",{className:_toolbarCss2.default["back-arrow-container"]+" "+_toolbarCss2.default["nav-item"],onClick:this.onGoBack,"data-role":"go-back"},_react2.default.createElement(_backArrow2.default,null)),this.props.children),_react2.default.createElement("span",{className:_toolbarCss2.default["save-container"]},_react2.default.createElement(_buttons.SecondaryButtonDark,{icon:iconProp,onClick:this.onSave,disabled:this.state.isSaving,"data-role":"save-draft",buttonClassName:"btn-with-icon"},saveBtnContent)),this.props.onSend?_react2.default.createElement("span",{className:_toolbarCss2.default["send-container"]},_react2.default.createElement(_buttons.PrimaryButtonDark,{icon:this.props.isValidating?"":"airplane-fill",disabled:this.state.isSaving,onClick:this.props.onSend,"data-role":"send-or-schedule-btn",buttonClassName:(this.props.isValidating?"is-loading":"")+" btn-with-icon"},function(){return _this3.props.isValidating?_react2.default.createElement("span",null,_react2.default.createElement(_sgLoader2.default,{className:"is-small loader-on-dark"})," Validating..."):(_this3.props.sendImmediately?"Send":"Schedule")+" Campaign"}())):null)}}]),Toolbar}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onGoBack",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onGoBack"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onSave",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSave"),_class.prototype),_class);Toolbar.propTypes={backRoute:_react2.default.PropTypes.string.isRequired,onSend:_react2.default.PropTypes.func,onSave:_react2.default.PropTypes.func.isRequired,saveButtonText:_react2.default.PropTypes.string,sendImmediately:_react2.default.PropTypes.bool,isValidating:_react2.default.PropTypes.bool,hasEditorLoaded:_react2.default.PropTypes.bool,children:_react2.default.PropTypes.node},Toolbar.defaultProps={onSend:void 0,saveButtonText:"Save Draft",sendImmediately:!1,isValidating:!1,hasEditorLoaded:!0,children:null},exports.default=Toolbar},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function comparePlainAndHTML(plain,html){return _plainTextUtils2.default.htmlToPlain(html)===plain}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_previewCss=__webpack_require__(1290),_previewCss2=_interopRequireDefault(_previewCss),_buttons=__webpack_require__(8),_switch=__webpack_require__(133),_confirmation=__webpack_require__(34),_previewContentHeaderBar=__webpack_require__(178),_previewContentHeaderBar2=_interopRequireDefault(_previewContentHeaderBar),_previewModeToggler=__webpack_require__(328),_previewModeToggler2=_interopRequireDefault(_previewModeToggler),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_reactClassUtils=__webpack_require__(7),_plainTextUtils=__webpack_require__(154),_plainTextUtils2=_interopRequireDefault(_plainTextUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),Preview=(_class=function(_React$Component){function Preview(props){_classCallCheck(this,Preview);var _this=_possibleConstructorReturn(this,(Preview.__proto__||Object.getPrototypeOf(Preview)).call(this,props));return _this.state={showEditTextBtn:!1,userCanEdit:props.hasPlainTextLock&&!!props.hasPlainTextLock||!1,hasPlainTextLock:props.hasPlainTextLock&&!!props.hasPlainTextLock||!1,isSyncModalVisible:!1},_this}return _inherits(Preview,_React$Component),_createClass(Preview,[{key:"componentDidMount",value:function(){$(window).on("resize",_editorActions2.default.onWindowResize)}},{key:"componentWillUnmount",value:function(){$(window).off("resize",_editorActions2.default.onWindowResize)}},{key:"onEditBtnClick",value:function(){this.state.userCanEdit||_analyticsUtils2.default.trackEditor("edit_plain_text",{source:_analyticsUtils2.default.getEditorType(this.props.isDnd)}),this.setState({isSyncModalVisible:this.shouldShowSyncModal(),userCanEdit:!this.state.userCanEdit})}},{key:"getShouldShowHeader",value:function(){return this.props.shouldShowPreheader||this.props.shouldShowSubject||this.props.shouldShowSender}},{key:"showEditTextBtn",value:function(){this.setState({showEditTextBtn:!0})}},{key:"hideEditTextBtn",value:function(){this.setState({showEditTextBtn:!1})}},{key:"shouldShowSyncModal",value:function(){return!this.state.userCanEdit&&!this.props.comparePlainAndHTML(this.props.plainContent,this.props.htmlContent)}},{key:"syncHtmlToPlainAndCloseModal",value:function(){this.props.onSyncHtmlToPlain(),this.hideSyncModal()}},{key:"showSyncModal",value:function(){this.setState({isSyncModalVisible:!0})}},{key:"hideSyncModal",value:function(){this.setState({isSyncModalVisible:!1})}},{key:"render",value:function(){return _react2.default.createElement("section",{id:"editor-preview","data-role":"editor-preview"},this.state.showEditTextBtn?_react2.default.createElement("div",{className:_previewCss2.default["edit-plain-text-toggle"]},_react2.default.createElement("h4",{className:_previewCss2.default["edit-plain-text-label"]},"Edit Plain Text  "),_react2.default.createElement(_switch.OnOffSwitch,{onClick:this.onEditBtnClick,isChecked:this.state.userCanEdit,id:"edit-plain-text-toggle"})):null,_react2.default.createElement(_previewModeToggler2.default,{onDesktopClick:this.hideEditTextBtn,onMobileClick:this.hideEditTextBtn,onTextClick:this.showEditTextBtn,onPlainChange:this.props.onPlainTextEdit,isPlainReadOnly:!this.state.userCanEdit,htmlContent:this.props.htmlContent,plainContent:this.props.plainContent,allowScripts:!this.props.isDnd,showAbNav:this.props.showABNav},this.getShouldShowHeader()&&_react2.default.createElement(_previewContentHeaderBar2.default,{name:this.props.name,nickname:this.props.nickname,subject:this.props.subject,preheader:this.props.preheader,shouldShowPreheader:this.props.shouldShowPreheader,shouldShowSubject:this.props.shouldShowSubject,shouldShowSender:this.props.shouldShowSender})),_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.isSyncModalVisible,onCancel:this.hideSyncModal},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Text-Only Version"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Your HTML content is different than the plain text content.  Would you like to import from HTML?"),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{"data-dismiss-modal":!0,"data-role":"cancel-html-to-plain-sync"},"Ignore"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.syncHtmlToPlainAndCloseModal,"data-role":"confirm-html-to-plain-sync"},"Import"))))}}]),Preview}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onEditBtnClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onEditBtnClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getShouldShowHeader",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getShouldShowHeader"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showEditTextBtn",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showEditTextBtn"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideEditTextBtn",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideEditTextBtn"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"shouldShowSyncModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"shouldShowSyncModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"syncHtmlToPlainAndCloseModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"syncHtmlToPlainAndCloseModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showSyncModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showSyncModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideSyncModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideSyncModal"),_class.prototype),_class);Preview.propTypes={name:_react2.default.PropTypes.string,nickname:_react2.default.PropTypes.string,subject:_react2.default.PropTypes.string,preheader:_react2.default.PropTypes.string,plainContent:_react2.default.PropTypes.string,htmlContent:_react2.default.PropTypes.string,onSyncHtmlToPlain:_react2.default.PropTypes.func.isRequired,onPlainTextEdit:_react2.default.PropTypes.func.isRequired,isDnd:_react2.default.PropTypes.bool,comparePlainAndHTML:_react2.default.PropTypes.func,showABNav:_react2.default.PropTypes.bool,hasPlainTextLock:_react2.default.PropTypes.oneOfType([_react2.default.PropTypes.number,_react2.default.PropTypes.bool]),shouldShowPreheader:_propTypes2.default.bool,shouldShowSubject:_propTypes2.default.bool,shouldShowSender:_propTypes2.default.bool},Preview.defaultProps={name:"",nickname:"",subject:"",preheader:"",plainContent:"",htmlContent:"",isDnd:!0,comparePlainAndHTML:comparePlainAndHTML,showABNav:!1,hasPlainTextLock:!1,shouldShowSender:!0,shouldShowSubject:!0,shouldShowPreheader:!0},exports.default=Preview},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Button(props){return _react2.default.createElement("span",{onClick:props.onClick,"data-role":props["data-role"],className:_navToggleButtonCss2.default.btn+" "+_toolbarCss2.default["nav-item"]+" "+(props.isActive?_navToggleButtonCss2.default.active:"")},props.children)}function DesignButton(props){return _react2.default.createElement(Button,_extends({"data-role":"design-button"},props),_react2.default.createElement("span",{className:_navToggleButtonCss2.default.paintbrush},_react2.default.createElement(_paintbrush2.default,null)),_react2.default.createElement("strong",{className:_navToggleButtonCss2.default["toggle-name"]},"Design"))}function CodeButton(props){return _react2.default.createElement(Button,_extends({"data-role":"code-button"},props),_react2.default.createElement("span",{className:_navToggleButtonCss2.default.code},_react2.default.createElement(_code2.default,null)),_react2.default.createElement("strong",{className:_navToggleButtonCss2.default["toggle-name"]},"Code"))}function PreviewButton(props){return _react2.default.createElement(Button,_extends({"data-role":"preview-button"},props),_react2.default.createElement("span",{className:_navToggleButtonCss2.default.eye},_react2.default.createElement(_eye2.default,null)),_react2.default.createElement("strong",{className:_navToggleButtonCss2.default["toggle-name"]},"Preview"))}function LoadingButton(props){return _react2.default.createElement(Button,_extends({"data-role":"loading-button"},props),_react2.default.createElement("strong",{className:_navToggleButtonCss2.default["toggle-name"]},"Loading"))}function NavToggleButton(props){switch(props.editorType){case _constants2.default.EDITORS.CODE:return _react2.default.createElement(CodeButton,props);case _constants2.default.EDITORS.DND:return _react2.default.createElement(DesignButton,props);default:return _react2.default.createElement(LoadingButton,{isActive:!1,onClick:function(){}})}}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_paintbrush=__webpack_require__(511),_paintbrush2=_interopRequireDefault(_paintbrush),_eye=__webpack_require__(1292),_eye2=_interopRequireDefault(_eye),_code=__webpack_require__(512),_code2=_interopRequireDefault(_code),_navToggleButtonCss=__webpack_require__(1295),_navToggleButtonCss2=_interopRequireDefault(_navToggleButtonCss),_toolbarCss=__webpack_require__(566),_toolbarCss2=_interopRequireDefault(_toolbarCss);Button.propTypes={isActive:_react2.default.PropTypes.bool.isRequired,onClick:_react2.default.PropTypes.func.isRequired},NavToggleButton.propTypes={editorType:_react2.default.PropTypes.string},module.exports={NavToggleButton:NavToggleButton,PreviewButton:PreviewButton}},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_accordion=__webpack_require__(107),_addModulesPanel=__webpack_require__(1317),_addModulesPanel2=_interopRequireDefault(_addModulesPanel),_moduleStylesPanel=__webpack_require__(1321),_moduleStylesPanel2=_interopRequireDefault(_moduleStylesPanel),_globalStylesPanel=__webpack_require__(1465),_globalStylesPanel2=_interopRequireDefault(_globalStylesPanel),_advancedPanel=__webpack_require__(1468),_advancedPanel2=_interopRequireDefault(_advancedPanel),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_buildAccordionCss=__webpack_require__(1471),_buildAccordionCss2=_interopRequireDefault(_buildAccordionCss),BuildAccordion=_react2.default.createClass({displayName:"BuildAccordion",propTypes:{exportArtifactName:_react2.default.PropTypes.string.isRequired,getExportContent:_react2.default.PropTypes.func.isRequired,isDisabled:_react2.default.PropTypes.bool},getDefaultProps:function(){return{exportArtifactName:"",getExportContent:function(){}}},componentDidMount:function(){_moduleStore2.default.addChangeListener(this.moduleStoreChanged)},componentWillUnmount:function(){_moduleStore2.default.removeChangeListener(this.moduleStoreChanged)},getInitialState:function(){var openPanels=["addModules"],selectedIndex=_moduleStore2.default.getSelectedModuleMuid();return void 0!==selectedIndex&&openPanels.push("moduleStyles"),{openPanelNames:openPanels,selectedModuleIndex:selectedIndex}},moduleStoreChanged:function(){var selectedIndex=_moduleStore2.default.getSelectedModuleMuid(),indexChanged=void 0===selectedIndex&&void 0!==this.state.selectedIndex||JSON.stringify(selectedIndex)!==JSON.stringify(this.state.selectedModuleIndex);if(void 0===selectedIndex)return this.setState({openPanelNames:indexChanged?_underscore2.default.without(this.state.openPanelNames,"moduleStyles"):this.state.openPanelNames,selectedModuleIndex:selectedIndex});this.setState({openPanelNames:indexChanged?_underscore2.default.union(this.state.openPanelNames,["moduleStyles"]):this.state.openPanelNames,selectedModuleIndex:selectedIndex})},onPanelToggle:function(panelName,doesAllowMultipleOpenPanels){this.setState({openPanelNames:_accordion.AccordionUtils.getOpenPanelsOnToggle(panelName,doesAllowMultipleOpenPanels,this.state.openPanelNames)})},render:function(){return _react2.default.createElement(_accordion.Accordion,{onPanelToggleCb:this.onPanelToggle,openPanelNames:this.state.openPanelNames,isDisabled:this.props.isDisabled,"data-role":"build-accordion",shouldShowCaretsOnLeft:!0,doesAllowMultipleOpenPanels:!0,hasBottomMargin:!0,isEditor:!0},_react2.default.createElement(_accordion.AccordionPanel,{name:"moduleStyles",hasChild:!0},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Module Styles")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_moduleStylesPanel2.default,null))),_react2.default.createElement(_accordion.AccordionPanel,{name:"addModules",className:_buildAccordionCss2.default["add-modules"]},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Add Modules")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_addModulesPanel2.default,null))),_react2.default.createElement(_accordion.AccordionPanel,{name:"globalStyles",hasChild:!0},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Global Styles")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_globalStylesPanel2.default,null))),_react2.default.createElement(_accordion.AccordionPanel,{name:"advanced",hasChild:!0},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Advanced")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_advancedPanel2.default,{baseUrl:this.props.baseUrl,exportArtifactName:this.props.exportArtifactName,getExportContent:this.props.getExportContent}))))}});exports.default=BuildAccordion},,,,,,function(module,exports,__webpack_require__){"use strict";function PctRangeSlider(props){return _react2.default.createElement(RangeSlider,_extends({},props,{min:1,max:90,dataRole:"range-slider"}),_react2.default.createElement("div",{className:"input-range-percent"},props.value,"%"))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),RangeSlider=_react2.default.createClass({displayName:"RangeSlider",propTypes:{name:_react2.default.PropTypes.string.isRequired,value:_react2.default.PropTypes.number.isRequired,onChange:_react2.default.PropTypes.func.isRequired,min:_react2.default.PropTypes.number.isRequired,max:_react2.default.PropTypes.number.isRequired,dataRole:_react2.default.PropTypes.string,getRangeStyle:_react2.default.PropTypes.func,initialWidth:_react2.default.PropTypes.number},getStyle:function(){var width=this.props.initialWidth||0;return this.refs.slider&&this.refs.slider.clientWidth>0&&(width=this.refs.slider.clientWidth),{backgroundPosition:width*this.props.value/this.props.max+"px"}},render:function(){return _react2.default.createElement("div",{className:"input-range-wrap"},_react2.default.createElement("input",{name:this.props.name,type:"range",min:this.props.min,max:this.props.max,"data-role":this.props.dataRole,ref:"slider",onChange:this.props.onChange,value:this.props.value,style:this.props.getRangeStyle?this.props.getRangeStyle():this.getStyle()}),this.props.children)}});module.exports={PctRangeSlider:PctRangeSlider,RangeSlider:RangeSlider}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_accordion=__webpack_require__(107),_buttons=__webpack_require__(8),_imageManagerActions=__webpack_require__(105),_imageManagerActions2=_interopRequireDefault(_imageManagerActions),CodeImageAccordion=_react2.default.createClass({displayName:"CodeImageAccordion",getInitialState:function(){return{openPanelNames:["codeImageStyles"],selectedModuleIndex:0}},onPanelToggle:function(panelName,doesAllowMultipleOpenPanels){this.setState({openPanelNames:_accordion.AccordionUtils.getOpenPanelsOnToggle(panelName,doesAllowMultipleOpenPanels,this.state.openPanelNames)})},render:function(){return _react2.default.createElement(_accordion.Accordion,{onPanelToggleCb:this.onPanelToggle,openPanelNames:this.state.openPanelNames,isDisabled:this.props.isDisabled,shouldShowCaretsOnLeft:!0,doesAllowMultipleOpenPanels:!0,isEditor:!0},_react2.default.createElement(_accordion.AccordionPanel,{name:"codeImageStyles",hasChild:!1},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Images")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement("div",{"data-role":"code-image-panel"},_react2.default.createElement("p",{className:"small"},"To insert images from your Marketing Campaigns image library, simply upload your image, copy the image URL, and paste it into the appropriate image tag's source."),_react2.default.createElement("br",null),_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:_imageManagerActions2.default.openImageManager},"Manage Image Library")))))}});exports.default=CodeImageAccordion},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isInputFocused(){var $focused=$(":focus");return $focused.is("input")||$focused.is("textarea")||$focused.hasClass("cke_editable")}function UndoRedoHandled(ComposedCmp){function onKeydown(e){if(!isInputFocused())return _.contains([91,93,227,17],e.which)&&(isCommandKeyPressed=!0),!isCommandKeyPressed&&!e.ctrlKey||90!=e.which||(e.shiftKey?_editorActions2.default.redo():_editorActions2.default.undo(),!1)}function onKeyup(e){if(!isInputFocused())return _.contains([91,93,227,17],e.which)&&(isCommandKeyPressed=!1),!0}var isCommandKeyPressed=!1;return _react2.default.createClass({componentDidMount:function(){$(document).on("keydown",onKeydown),$(document).on("keyup",onKeyup)},componentWillUnmount:function(){$(document).off("keydown",onKeydown),$(document).off("keyup",onKeyup)},render:function(){return _react2.default.createElement(ComposedCmp,this.props)}})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions);exports.default=UndoRedoHandled},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function LegacyTabPanelWrapper(props){return _react2.default.createElement("div",{"data-role":"tabs-panel",className:_editorCss2.default["tabs-panel"],style:props.isScrolledPastHeader?props.style:{}},props.children)}function SbsTabPanelWrapper(props){return props.isDnd||!_currentUserStore2.default.getHasFeature("nlvx_side_by_side")?_react2.default.createElement(LegacyTabPanelWrapper,props):_react2.default.createElement("section",null,_react2.default.createElement("div",{"data-role":"tabs-panel",className:(0,_classnames2.default)(_editorCss2.default["tabs-panel-sbs"],_defineProperty({},_editorCss2.default["is-hidden"],!props.isVisible)),style:props.isScrolledPastHeader?props.style:{},onClick:props.onOpen},props.children),_react2.default.createElement("div",{className:(0,_classnames2.default)(_editorCss2.default["settings-panel-mask"],_defineProperty({},_editorCss2.default["is-hidden"],!props.isVisible)),onClick:function(){return props.toggleTabPanelVisility(!1)}}))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss);LegacyTabPanelWrapper.propTypes={isScrolledPastHeader:_propTypes2.default.bool.isRequired,style:_propTypes2.default.object,children:_propTypes2.default.node.isRequired},SbsTabPanelWrapper.propTypes={isDnd:_propTypes2.default.bool.isRequired,isScrolledPastHeader:_propTypes2.default.bool.isRequired,style:_propTypes2.default.object,children:_propTypes2.default.node.isRequired,isVisible:_propTypes2.default.bool.isRequired,toggleTabPanelVisility:_propTypes2.default.func.isRequired,onOpen:_propTypes2.default.func.isRequired},exports.default=SbsTabPanelWrapper},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SbsTabTitleWrapper(props){return _react2.default.createElement(_tabs.TabTitleWrapper,{isEditor:!0,numTabsClass:props.isPreview||!props.isCampaign?"is-3-up":"is-4-up",className:"code-editor-tabs",onTitleClick:props.onTitleClick,activeTabIndex:props.activeTabIndex},_react2.default.createElement(_tabs.TabTitle,{id:_constants2.default.EDITOR.TABS.SETTINGS},"Settings"),props.isDnd&&_react2.default.createElement(_tabs.TabTitle,{id:_constants2.default.EDITOR.TABS.BUILD},"Build"),!props.isTransactionalTemplate&&_react2.default.createElement(_tabs.TabTitle,{id:_constants2.default.EDITOR.TABS.TAGS},"Tags"),props.isCampaign&&_react2.default.createElement(_tabs.TabTitle,{id:_constants2.default.EDITOR.TABS.AB_TESTING},"A/B Testing"))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_tabs=__webpack_require__(130),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);SbsTabTitleWrapper.defaultProps={isTransactionalTemplate:!1},SbsTabTitleWrapper.propTypes={isDnd:_propTypes2.default.bool.isRequired,onTitleClick:_propTypes2.default.func.isRequired,activeTabIndex:_propTypes2.default.number.isRequired,isCampaign:_propTypes2.default.bool.isRequired,isPreview:_propTypes2.default.bool.isRequired,isTransactionalTemplate:_propTypes2.default.bool.isRequired},exports.default=SbsTabTitleWrapper},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function shouldUseSideBySide(){return _currentUserStore2.default.getHasFeature("nlvx_side_by_side")}function getSbsClassName(baseClassName){var isDnd=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return shouldUseSideBySide()&&!isDnd?_editorCss2.default[baseClassName+"-sbs"]+" sbs-container":_editorCss2.default[baseClassName]}function EditorContentWrapper(props){return _react2.default.createElement("div",{className:getSbsClassName("content",props.isDnd)},props.children)}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss);EditorContentWrapper.propTypes={isDnd:_propTypes2.default.bool.isRequired,children:_propTypes2.default.node.isRequired},exports.default=EditorContentWrapper},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function onClose(e,onCloseCb){e.stopPropagation(),onCloseCb(!1)}function TabControls(props){return props.isDnd?null:_react2.default.createElement("section",null,_react2.default.createElement("div",{className:"settings-tab"},props.iconClass?_react2.default.createElement("i",{className:"sg-icon "+props.iconClass}):null,_react2.default.createElement("span",null,props.titleWhenClosed)),_react2.default.createElement("div",{className:"close-button",onClick:function(e){return onClose(e,props.onClose)}},_react2.default.createElement("div",{className:"circle"},_react2.default.createElement("i",{className:"sg-icon sg-icon-x"}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_featureToggle=__webpack_require__(103);TabControls.propTypes={isDnd:_propTypes2.default.bool.isRequired,onClose:_propTypes2.default.func.isRequired,iconClass:_propTypes2.default.string,titleWhenClosed:_propTypes2.default.string.isRequired},TabControls.defaultProps={iconClass:void 0},exports.default=(0,_featureToggle.FeatureToggle)(_featureToggle.NullCmp,TabControls,"nlvx_side_by_side")},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Breadcrumbs(props){var items=_react2.default.Children.map(props.children,function(c,i){return c&&_react2.default.createElement("li",{key:i},_react2.default.createElement(c.type,c.props))});return _react2.default.createElement("ol",{className:"breadcrumb"},items,_react2.default.createElement("li",{key:"last-breadcrumb"}))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes);Breadcrumbs.propTypes={children:_propTypes2.default.node},Breadcrumbs.defaultProps={children:null},exports.default=Breadcrumbs},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ByteUtils=function(){function ByteUtils(){_classCallCheck(this,ByteUtils)}return _createClass(ByteUtils,null,[{key:"bytesPerGiga",value:function(count){return count*(1<<30)}},{key:"bytesPerMega",value:function(count){return count*(1<<20)}},{key:"bytesPerKilo",value:function(count){return 1024*count}},{key:"getHumanReadable",value:function(byteCount){for(var showDigitsCount=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,humanUnits=["B","KB","MB","GB","TB","PB","EB"],i=0;byteCount.toString().length>showDigitsCount;)byteCount>>=10,i++;return""+byteCount+humanUnits[i]}}]),ByteUtils}();exports.default=ByteUtils},function(module,exports,__webpack_require__){"use strict";module.exports=["id","first_name","last_name","email","created_at","updated_at","last_emailed","last_clicked","last_opened","lists","t_0","n_0","d_0","t_1","n_1","d_1","t_2","n_2","d_2","t_3","n_3","d_3","t_4","n_4","d_4","t_5","n_5","d_5","t_6","n_6","d_6","t_7","n_7","d_7","t_8","n_8","d_8","t_9","n_9","d_9","t_10","n_10","d_10","t_11","n_11","d_11","t_12","n_12","d_12","t_13","n_13","d_13","t_14","n_14","d_14","t_15","n_15","d_15","t_16","n_16","d_16","t_17","n_17","d_17","t_18","n_18","d_18","t_19","n_19","d_19"]},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CenterModal(props){var classname=(0,_classnames2.default)("center-modal","is-visible",{"is-large":props.isLarge});return _react2.default.createElement("div",{className:classname},props.hasCloseButton?_react2.default.createElement("i",{className:"sg-icon sg-icon-x","data-role":"close-center-modal",onClick:props.onCancel}):null,props.title?_react2.default.createElement("h1",null,props.title):null,props.children)}function CenterModalFooter(props){return _react2.default.createElement("div",{className:"modal-footer",style:{display:props.shouldShowFooter?"block":"none"}},props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_modal=__webpack_require__(227);CenterModal.propTypes={children:_propTypes2.default.node,hasCloseButton:_propTypes2.default.bool,title:_propTypes2.default.string,onCancel:_propTypes2.default.func.isRequired,isLarge:_propTypes2.default.bool},CenterModal.defaultProps={children:null,hasCloseButton:!0,title:"",isLarge:!1},CenterModalFooter.propTypes={children:_propTypes2.default.node,shouldShowFooter:_propTypes2.default.bool},CenterModalFooter.defaultProps={children:null,shouldShowFooter:!0},module.exports={CenterModal:(0,_modal.Modal)(CenterModal),CenterModalFooter:CenterModalFooter}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_tourProgress={},_hasFetchedTour=!1,_steps=[],TOUR_STEP_STATUS={COMPLETE:"complete",INCOMPLETE:"incomplete",ERROR:"error"},initState=function(){_hasFetchedTour=!1,_tourProgress={isTourEnabled:!0},_steps=[]},setProgress=function(tourProgress){_tourProgress=tourProgress,buildSteps(),_hasFetchedTour=!0},disable=function(){_tourProgress.isTourEnabled=!1},getStepStatus=function(count,messages){var status={code:TOUR_STEP_STATUS.ERROR,text:messages.ERROR||"Error loading step data."};return count>0?(status.code=TOUR_STEP_STATUS.COMPLETE||"Complete",status.text=messages.COMPLETE):0==count&&(status.code=TOUR_STEP_STATUS.INCOMPLETE||"Incomplete",status.text=messages.INCOMPLETE),status},buildSteps=function(){_steps=[{imageClass:"step-one",name:"Create a Sender Identity",description:"Set up and verify a sender identity to use with your campaigns.",status:getStepStatus(_tourProgress.senderIdentitiesCount,{COMPLETE:"Complete",INCOMPLETE:"Incomplete",ERROR:"Unable to load your sender identities data."}),callToAction:{link:"/marketing_campaigns/ui/senders",text:"Create New Sender"}},{imageClass:"step-two",name:"Upload Contacts",description:"Add and update your contacts via CSV upload or manually add one at a time.",status:getStepStatus(_tourProgress.recipientsCount,{COMPLETE:"Complete",INCOMPLETE:"Incomplete",ERROR:"Unable to load your contacts data."}),callToAction:{link:"/marketing_campaigns/contacts",text:"Upload Contacts"}},{imageClass:"step-three",name:"Set Up Your Unsubscribe Groups",description:"Create groups in our Unsubscribe Groups that represent types of email that you regularly send to your recipients. If a recipient chooses to unsubscribe, they will have the option of selecting which of these groups they want to unsubscribe from.",status:getStepStatus(_tourProgress.asmGroupsCount,{COMPLETE:"Complete",INCOMPLETE:"Incomplete",ERROR:"Unable to load your unsubscribe groups data."}),callToAction:{link:"https://app.sendgrid.com/suppressions/advanced_suppression_manager",text:"Set Up Unsubscribe Groups"}},{imageClass:"step-four",name:"Create your Campaign",description:"You are all set to create and send your first campaign! Feel free to create reusable templates in our template editor, or or import your own html.",status:getStepStatus(_tourProgress.campaignsCount,{COMPLETE:"Complete",INCOMPLETE:"Incomplete",ERROR:"Unable to load your campaigns data."}),callToAction:{link:"/marketing_campaigns/ui/campaigns",text:"Create New Campaign"}}]},TourStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedTour:function(){return _hasFetchedTour},getSteps:function(){return _steps},isTourEnabled:function(){return _tourProgress.isTourEnabled},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.TOUR.FETCHED:setProgress(action.tourProgress),TourStore.emitChange();break;case _constants2.default.ACTIONS.TOUR.DISABLED:disable(),TourStore.emitChange()}}});initState(),TourStore.dispatchToken=_appDispatcher2.default.register(TourStore.dispatcherCb),module.exports={TourStore:TourStore,TOUR_STEP_STATUS:TOUR_STEP_STATUS}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getSearchResultsText(props){if(props.searchResultsText)return props.searchResultsText;var resultsPart="result"+(props.totalSearchResults>1?"s":"");if(props.shouldShowResultDetails){var lowerBound=0===props.totalSearchResults?0:props.resultIndexLowerBound+1,upperBound=0===props.totalSearchResults?0:Math.min(props.totalSearchResults,props.resultIndexUpperBound);return lowerBound>0&&lowerBound<upperBound?"Showing "+lowerBound+" to "+upperBound+" of "+props.totalSearchResults+" "+resultsPart+".":lowerBound>0&&lowerBound===upperBound?"Showing "+upperBound+" of "+props.totalSearchResults+" "+resultsPart+".":"No results match your query."}return props.totalSearchResults?props.totalSearchResults+" search "+resultsPart+".":"No results match your query."}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_textInput=__webpack_require__(18),_searchCss=__webpack_require__(1579),_searchCss2=_interopRequireDefault(_searchCss),Search=function(_React$Component){function Search(){return _classCallCheck(this,Search),_possibleConstructorReturn(this,(Search.__proto__||Object.getPrototypeOf(Search)).apply(this,arguments))}return _inherits(Search,_React$Component),_createClass(Search,[{key:"render",value:function(){var _this2=this,searchResults=_react2.default.createElement("div",{className:"input-search-results","data-role":"search-results"},_react2.default.createElement("p",{className:"search-results-title"},'Search for "'+this.props.value+'"'),this.props.isLoading?_react2.default.createElement("span",{className:"loading"}):_react2.default.createElement("ul",{className:"search-results"},_underscore2.default.map(this.props.searchResults,function(result,index){return _react2.default.createElement("li",{key:"search-result-"+index,className:"search-result"},result[_this2.props.searchResultDisplayProperty])})));return _react2.default.createElement(_textInput.SearchTextInput,this.props,this.props.shouldShowResultsMenu&&(this.props.searchResults.length||this.props.isLoading)&&searchResults)}}]),Search}(_react2.default.Component);Search.propTypes={shouldShowResultsMenu:_propTypes2.default.bool.isRequired,searchResultDisplayProperty:_propTypes2.default.string.isRequired,value:_propTypes2.default.string.isRequired,labelText:_propTypes2.default.string.isRequired,searchResults:_propTypes2.default.array.isRequired,isLoading:_propTypes2.default.bool},Search.defaultProps={isLoading:!1};var ActiveSearchBar=function(_React$Component2){function ActiveSearchBar(){return _classCallCheck(this,ActiveSearchBar),_possibleConstructorReturn(this,(ActiveSearchBar.__proto__||Object.getPrototypeOf(ActiveSearchBar)).apply(this,arguments))}return _inherits(ActiveSearchBar,_React$Component2),_createClass(ActiveSearchBar,[{key:"render",value:function(){return _react2.default.createElement("div",{className:_searchCss2.default["active-search-wrapper"],"data-role":"active-search-bar"},_react2.default.createElement("p",{className:_searchCss2.default["text-wrapper"]},_react2.default.createElement("span",{className:_searchCss2.default["search-results-text"]},getSearchResultsText(this.props)),_react2.default.createElement("a",{"data-scroll-top":!0,onClick:this.props.onClearSearchCb,href:"#"},"Clear")))}}]),ActiveSearchBar}(_react2.default.Component);ActiveSearchBar.propTypes={onClearSearchCb:_propTypes2.default.func.isRequired,totalSearchResults:_propTypes2.default.number.isRequired,searchResultsText:_propTypes2.default.string,resultIndexLowerBound:_propTypes2.default.number,resultIndexUpperBound:_propTypes2.default.number,shouldShowResultDetails:_propTypes2.default.bool},ActiveSearchBar.defaultProps={searchResultsText:void 0,resultIndexLowerBound:0,resultIndexUpperBound:0,shouldShowResultDetails:!1},module.exports={Search:Search,ActiveSearchBar:ActiveSearchBar}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),baseUrl="/marketing_campaigns/",NotificationEmailsActions={fetch:function(){$.ajax({url:baseUrl+"notifications.json",method:"GET",dataType:"json",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION_EMAILS.FETCHED,notificationEmails:json})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.NOTIFICATION_EMAILS.FETCH_ERROR,notificationType:"danger"}),console.error("Ajax error while trying to fetch notification emails."),console.log(arguments)}})},create:function(model){return $.ajax({url:baseUrl+"notification_emails.json",method:"POST",data:model,success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION_EMAILS.CREATED,notificationEmail:_underscore2.default.extend({id:json},model)}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.NOTIFICATION_EMAILS.CREATE_SUCCESS,notificationType:"success"})},error:function(response){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON.message||_constants2.default.NOTIFICATIONS.NOTIFICATION_EMAILS.CREATE_ERROR,notificationType:"danger"})}})},delete:function(id){$.ajax({url:baseUrl+"notification_emails/"+id+".json",method:"DELETE",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION_EMAILS.DELETED,id:id}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.NOTIFICATION_EMAILS.DELETE_SUCCESS,notificationType:"success"})},error:function(response){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON.message||_constants2.default.NOTIFICATIONS.NOTIFICATION_EMAILS.DELETE_ERROR,notificationType:"danger"})}})}};module.exports=NotificationEmailsActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_clone=__webpack_require__(234),_clone2=_interopRequireDefault(_clone),_collection=[],_hasFetchedCollection=!1,initState=function(){_hasFetchedCollection=!1,_collection=[]},setCollection=function(collection){_collection=collection,_hasFetchedCollection=!0},setTemplateVersionContent=function(newVersion){var templateIndex=_underscore2.default.findIndex(_collection,function(t){return t.id===newVersion.template_id});if(-1!==templateIndex){var versionIndex=_underscore2.default.findIndex(_collection[templateIndex]&&_collection[templateIndex].versions||[],function(v){return v.id===newVersion.id});versionIndex>-1?_collection[templateIndex].versions[versionIndex]=newVersion:_collection[templateIndex].versions.push(newVersion)}},addTemplate=function(template){var oldTemplate=_underscore2.default.find(_collection,function(t){return t.id===template.id});void 0===oldTemplate?_collection.unshift(template):_collection[_collection.indexOf(oldTemplate)]=template},updateTemplate=function(template){return addTemplate(template)},removeTemplate=function(rejectThisId){return _collection=_underscore2.default.reject(_collection,function(t){return t.id===rejectThisId})},activateTemplateVersion=function(activatedTemplateVersion){var template=_underscore2.default.find(_collection,function(t){return t.id===activatedTemplateVersion.template_id});template&&_underscore2.default.each(template.versions,function(v){return v.active=v.id===activatedTemplateVersion.id?1:0})},deleteTemplateVersion=function(deletedVersion){var template=_underscore2.default.find(_collection,function(t){return t.id===deletedVersion.template_id});template&&(template.versions=_underscore2.default.reject(template.versions,function(v){return v.id===deletedVersion.id}))},TransactionalTemplateStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return _hasFetchedCollection},getCollection:function(){return _clone2.default.deep(_collection)},getById:function(id){return _clone2.default.deep(_underscore2.default.find(_collection,function(o){return o.id===id}))},getTemplateVersionById:function(templateId,versionId){var template=this.getById(templateId);return _underscore2.default.find(template&&template.versions||[],function(version){return version.id===versionId})},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.CREATED:addTemplate(action.transactionalTemplate),TransactionalTemplateStore.emitChange();break;case _constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.FETCHED:setCollection(action.transactionalTemplates),TransactionalTemplateStore.emitChange();break;case _constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.UPDATED:updateTemplate(action.transactionalTemplate),TransactionalTemplateStore.emitChange();break;case _constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.DELETED:removeTemplate(action.id),TransactionalTemplateStore.emitChange();break;case _constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_CREATED:setTemplateVersionContent(action.templateVersion),TransactionalTemplateStore.emitChange();break;case _constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_ACTIVATED:activateTemplateVersion(action.templateVersion),TransactionalTemplateStore.emitChange();break;case _constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_CONTENT_FETCHED:setTemplateVersionContent(action.version),TransactionalTemplateStore.emitChange();break;case _constants2.default.ACTIONS.TRANSACTIONAL_TEMPLATES.VERSION_DELETED:deleteTemplateVersion(action.templateVersion),TransactionalTemplateStore.emitChange()}}});initState(),TransactionalTemplateStore.dispatchToken=_appDispatcher2.default.register(TransactionalTemplateStore.dispatcherCb),module.exports=TransactionalTemplateStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EditorModalTitle(props){return props.hasRichTitle?props.title:props.title?_react2.default.createElement("h2",null,props.title):null}function EditorModal(props){var offset="calc(100% - "+(props.hasAlert?171:99)+"px)";return _react2.default.createElement("div",{className:"center-modal is-visible is-large has-padding"},_react2.default.createElement("div",null,_react2.default.createElement(EditorModalTitle,{hasRichTitle:props.hasRichTitle,title:props.title})),_react2.default.createElement("div",{style:{height:offset}},_react2.default.createElement(_codeEditor2.default,{className:_codeEditableCss2.default["code-edit-window"],value:props.value,onChange:props.onChange,height:"100%"}),props.children,_react2.default.createElement("footer",{className:"modal-footer"},_react2.default.createElement("div",{className:"btn-list"},_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:props.onCancel,"data-role":"editor-modal-cancel"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:props.onUpdate,"data-role":"editor-modal-update",disabled:props.disabled},props.confirmText)))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_modal=__webpack_require__(227),_buttons=__webpack_require__(8),_codeEditor=__webpack_require__(532),_codeEditor2=_interopRequireDefault(_codeEditor),_codeEditableCss=__webpack_require__(1617),_codeEditableCss2=_interopRequireDefault(_codeEditableCss);EditorModalTitle.propTypes={hasRichTitle:_propTypes2.default.bool,title:_propTypes2.default.node},EditorModalTitle.defaultProps={hasRichTitle:!1,title:null},EditorModal.propTypes={children:_propTypes2.default.node,hasRichTitle:_propTypes2.default.bool,hasAlert:_propTypes2.default.bool,title:_propTypes2.default.node,value:_propTypes2.default.string,onCancel:_propTypes2.default.func.isRequired,onChange:_propTypes2.default.func,onUpdate:_propTypes2.default.func,confirmText:_propTypes2.default.string,disabled:_propTypes2.default.bool},EditorModal.defaultProps={children:null,hasRichTitle:!1,hasAlert:!1,title:null,value:void 0,onChange:function(){},onUpdate:function(){},confirmText:"Update",disabled:!1},exports.default=(0,_modal.Modal)(EditorModal)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),PageTransitionActions={transition:function(params){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.PAGE_TRANSITIONS.TRANSITIONED,transition:params})}};module.exports=PageTransitionActions},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _arguments=arguments,_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),EditorTypeActions={fetch:function(){_editorTypeStore2.default.getHasFetchedEditors()||$.ajax({url:"/marketing_campaigns/editor_types.json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.EDITORS.FETCHED,campaignEditors:json.campaign_editors,templateEditors:json.template_editors})},error:function(){console.log(_arguments)}})}};exports.default=EditorTypeActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setLastTransition(t){_transition=t}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_transition=void 0,PageTransitionStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getLastTransition:function(){return _transition},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.removeListener(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.PAGE_TRANSITIONS.TRANSITIONED:setLastTransition(action.transition),PageTransitionStore.emitChange();break;case _constants2.default.ACTIONS.CURRENT_USER.FETCHED:_appDispatcher2.default.waitFor([_currentUserStore2.default.dispatchToken]),setLastTransition(_underscore2.default.extend({},_transition,{isMakoUnauthorized:!_currentUserStore2.default.getHasAccess()})),PageTransitionStore.emitChange()}}});PageTransitionStore.dispatchToken=_appDispatcher2.default.register(PageTransitionStore.dispatcherCb),function(){_transition={scopeGroup:_constants2.default.SCOPES.MARKETING_CAMPAIGNS.GROUP,fromPage:_locationUtils2.default.getReferrer(),title:"Marketing Campaigns",isMakoUnauthorized:!1}}(),module.exports=PageTransitionStore},function(module,exports,__webpack_require__){var content=__webpack_require__(1045);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getValidationMessages(component){return component.props.validationMessages||{}}function isEmpty(v){return _underscore2.default.contains([void 0,null,""],v)}function isWhitespace(v){return isEmpty((""+v).trim())}function hasSpaces(v){return/\s/.test(v)}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),_timeUtils=__webpack_require__(493),_timeUtils2=_interopRequireDefault(_timeUtils),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),getName=function(cmp){return cmp.props.displayName.toLowerCase()},URL_REGEX=/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/,validationFns={required:{isValid:function(v){return!isEmpty(v)&&!isWhitespace(v)},message:function(cmp){return getName(cmp)+" must have a value."}},email:{isValid:function(v){return isEmpty(v)||/\S+@\S+\.\S+/.test(v)&&!hasSpaces(v)},message:function(){return"Please provide a valid email address."}},unique:{isValid:function(v,collection){return _underscore2.default.filter(collection.items,function(item){return item===collection.test(v)}).length<=1},message:function(cmp){return getValidationMessages(cmp).unique||getName(cmp)+" must be unique."}},alphanumeric:{isValid:function(v){return isEmpty(v)||/^[\w|\s]*$/.test(v)},message:function(cmp){return getName(cmp)+" must be alphanumeric."}},noSpaces:{isValid:function(v){return isEmpty(v)||!hasSpaces(v)},message:function(cmp){return getName(cmp)+" cannot contain spaces."}},notIn:{isValid:function(v,collection){return!_underscore2.default.contains(collection.items,collection.test(v))},message:function(cmp){return getValidationMessages(cmp).notIn||getName(cmp)+" contains a reserved value."}},number:{isValid:function(v){return!isNaN(parseInt(v))||isEmpty(v)},message:function(cmp){return getName(cmp)+" must be a valid number."}},positiveInteger:{isValid:function(v){return isEmpty(v)||parseInt(v).toString()===(""+v).toString()&&parseInt(v)>0},message:function(cmp){return getName(cmp)+" must be a positive whole number."}},date:{isValid:function(v){return isEmpty(v)||$.isNumeric(v)||_dateUtils2.default.canParse(v)},message:function(cmp){return getName(cmp)+" must be a valid date."}},time:{isValid:function(v){return _timeUtils2.default.isTime(v)},message:function(cmp){return getName(cmp)+" must be a valid time."}},url:{isValid:function(v){return isEmpty(v)||URL_REGEX.test(v)},message:function(cmp){return getName(cmp)+" must be a valid URL."}}},Validated=function(ComposedCmp){return function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.isValid=_this.isValid.bind(_this),_this.getValidationErrors=_this.getValidationErrors.bind(_this),_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"isValid",value:function(){return 0==this.getValidationErrors(this.props.value).length}},{key:"getValidationErrors",value:function(value){var _this2=this;return _underscore2.default.reduce(this.props.validations,function(memo,validation){var validationFn=validationFns[validation];return validationFn?validationFn.isValid(value,_this2.props.getCollection?_this2.props.getCollection(validation):[])||memo.push(_stringUtils2.default.capitalize(validationFn.message(_this2))):console.warn("Warning, non existent validation: "+validation+" was used."),memo},[])}},{key:"render",value:function(){var decoratorProps={isValid:this.isValid,getValidationErrors:this.getValidationErrors};return _react2.default.createElement(ComposedCmp,_extends({},decoratorProps,this.props))}}]),_class}(_react2.default.Component)};module.exports=Validated},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),TimeUtils=function(){function TimeUtils(){_classCallCheck(this,TimeUtils)}return _createClass(TimeUtils,null,[{key:"isTime",value:function(v){return/^(0?[1-9]|1[0-2]):[0-5][0-9] [A|a|P|p][M|m]$/.test(v)}}]),TimeUtils}();module.exports=TimeUtils},,,,,,function(module,exports){module.exports=jQuery},,function(module,exports,__webpack_require__){"use strict";function SideModalActions(props){return _react2.default.createElement("div",{className:"btn-list"},props.children)}function ConfModalActions(props){return _react2.default.createElement("div",{className:"conf-alert-actions"},props.children)}var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);module.exports={ConfModalActions:ConfModalActions,SideModalActions:SideModalActions}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ConfModalBody(props){return _react2.default.createElement("div",{className:"conf-alert-body"},_react2.default.createElement("p",{className:"conf-alert-text"},props.children))}function SideModalBody(props){var classname=(0,_classnames3.default)(_defineProperty({},_bodyCss2.default.flex,props.isFlex));return _react2.default.createElement("div",{className:classname},props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_bodyCss=__webpack_require__(1062),_bodyCss2=_interopRequireDefault(_bodyCss);ConfModalBody.propTypes={children:_propTypes2.default.node},ConfModalBody.defaultProps={children:null},SideModalBody.propTypes={children:_propTypes2.default.node,isFlex:_propTypes2.default.bool},SideModalBody.defaultProps={children:null,isFlex:!1},module.exports={ConfModalBody:ConfModalBody,SideModalBody:SideModalBody}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ConfModalHeader(props){var classname=(0,_classnames2.default)("conf-alert-header",{"conf-alert-header-with-icon":props.icon});return _react2.default.createElement("h2",{className:classname},props.icon?_react2.default.createElement("i",{className:"sg-icon sg-icon-"+props.icon}):null,props.children)}function SideModalHeader(props){return _react2.default.createElement("div",{className:_headerCss2.default.header},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement("h2",null,props.onGoBackCb&&_react2.default.createElement("a",{href:"javascript:void(0)",className:"back-arrow "+_headerCss2.default.back,onClick:props.onGoBackCb}),props.header)),_react2.default.createElement("div",{className:"col-md-6"},props.children)))}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_headerCss=__webpack_require__(1064),_headerCss2=_interopRequireDefault(_headerCss);ConfModalHeader.propTypes={children:_propTypes2.default.node,icon:_propTypes2.default.string},ConfModalHeader.defaultProps={children:null,icon:""},SideModalHeader.propTypes={children:_propTypes2.default.node,header:_propTypes2.default.node,onGoBackCb:_propTypes2.default.func},SideModalHeader.defaultProps={children:null,header:null,onGoBackCb:void 0},module.exports={ConfModalHeader:ConfModalHeader,SideModalHeader:SideModalHeader}},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_campaignsStore=__webpack_require__(61),_baseStore=__webpack_require__(124),_baseStore2=_interopRequireDefault(_baseStore),filters=void 0,statType=void 0,emptyFilters={name:"",status:_constants2.default.CAMPAIGNS.STATUS_FILTERS.ALL,categories:[]},initState=function(){filters=emptyFilters,statType=_constants2.default.CAMPAIGNS.DATA_VIEWS.PERCENTAGE},updateFilter=function(updatedFilters){filters=_extends({},filters,updatedFilters),filters.categories=_underscore2.default.uniq(filters.categories)},setStatType=function(type){statType=type},isNameMatched=function(campaign){return!filters.name||-1!==campaign.name.toLowerCase().indexOf(filters.name.toLowerCase())||campaign.id.toString()===filters.name},isStatusMatched=function(campaign){return filters.status===_constants2.default.CAMPAIGNS.STATUS_FILTERS.ALL||_campaignsStore.CampaignsStore.getStatusNameById(campaign.campaign_status_id)===filters.status},isCategoryMatched=function(campaign){var isMatch=0===filters.categories.length;return _underscore2.default.each(campaign.categories,function(c){_underscore2.default.contains(filters.categories,c.name)&&(isMatch=!0)}),isMatch},filterList=function(campaigns){return _underscore2.default.filter(campaigns,function(campaign){return isNameMatched(campaign)&&isStatusMatched(campaign)&&isCategoryMatched(campaign)})},CampaignListControlsStore=_underscore2.default.extend({},_baseStore2.default,{getFilteredCampaignsList:function(){return filterList(_campaignsStore.CampaignsStore.getCollection())},getFilters:function(){return filters},getStatType:function(){return statType},_test_initState:function(){initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.FILTERED:updateFilter(action.filters),CampaignListControlsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.CLEAR_FILTERS:updateFilter(emptyFilters),CampaignListControlsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.STAT_SWITCHED:setStatType(action.type),CampaignListControlsStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.DELETED:case _constants2.default.ACTIONS.CAMPAIGNS.UNSCHEDULED:case _constants2.default.ACTIONS.CAMPAIGNS.FETCHED_ALL_CAMPAIGN_CATEGORIES:case _constants2.default.ACTIONS.CAMPAIGNS.FETCHED:_appDispatcher2.default.waitFor([_campaignsStore.CampaignsStore.dispatchToken]),CampaignListControlsStore.emitChange()}}});initState(),CampaignListControlsStore.dispatchToken=_appDispatcher2.default.register(CampaignListControlsStore.dispatcherCb),exports.default=CampaignListControlsStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function initState(){_userCategoryCollection=[],_hasFetchedCollection=!1}function setCategories(userCategories){_userCategoryCollection=userCategories,_hasFetchedCollection=!0}function editCategories(categoryNames){_underscore2.default.each(categoryNames,function(categoryName){_userCategoryCollection.push({name:categoryName})}),_userCategoryCollection=_underscore2.default.uniq(_userCategoryCollection,!1,function(c){return c.name})}Object.defineProperty(exports,"__esModule",{value:!0});var _eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_userCategoryCollection=void 0,_hasFetchedCollection=void 0,CategoryStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return _hasFetchedCollection},getUserCategoriesAsSelectOptions:function(){return _underscore2.default.map(_userCategoryCollection,function(_ref){var name=_ref.name;return{name:name,value:name}})},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CATEGORIES.EDIT_CATEGORIES:editCategories(action.categoryNames),CategoryStore.emitChange();break;case _constants2.default.ACTIONS.CATEGORIES.FETCHED_USER_CATEGORIES:setCategories(action.categories),CategoryStore.emitChange()}}});initState(),CategoryStore.dispatchToken=_appDispatcher2.default.register(CategoryStore.dispatcherCb),exports.default=CategoryStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getEditorUrl(campaignId,editorType){return editorType?"/marketing_campaigns/ui/campaigns/"+campaignId+"/edit":"/marketing_campaigns/campaigns/"+campaignId+"/edit"}function getEditLinkProps(campaignId,editorType){var editorUrl=getEditorUrl(campaignId,editorType);return editorType?{to:editorUrl}:{href:editorUrl}}function duplicate(campaignId,editorType){_campaignsActions2.default.duplicate(campaignId).then(function(newCampaign){_analyticsUtils2.default.track("campaign_created",{source:editorType?"duplicated":"duplicated_old"}),_locationUtils2.default.set(getEditorUrl(newCampaign.id,editorType),!!editorType)})}function toTemplate(campaignId,editorType){_campaignsActions2.default.toTemplate(campaignId,"dnd"===editorType?"design":editorType).then(function(mktgTempl){var mktgUrl=mktgTempl.editor?"/marketing_campaigns/ui/marketing_templates/"+mktgTempl.id+"/edit":"/marketing_campaigns/templates/"+mktgTempl.id+"/edit#visual-editor";_analyticsUtils2.default.track("marketing_template_created",{source:"from_campaign"}),_locationUtils2.default.set(mktgUrl,!!editorType)})}function exportCampaign(campaignId){_campaignsActions2.default.getById(campaignId).then(function(campaign){_exportUtils2.default.downloadExport(campaign.contents.A.content,campaign.name)})}function CampaignActionsMenu(props){return _react2.default.createElement(_actionsMenu.ActionsMenu,null,props.isDraft&&_react2.default.createElement(_actionsMenu.ActionsMenuItem,_extends({iconClass:"sg-icon sg-icon-pencil","data-role":"edit-campaign"},getEditLinkProps(props.campaignId,props.editorType)),"Edit"),props.isInProgress&&_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-x","data-role":"cancel-campaign",onClick:function(){return props.onCancelClick(props.campaignId)}},"Cancel Sending"),props.isScheduled&&_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-x","data-role":"unschedule-campaign",onClick:function(){return _campaignsActions2.default.unschedule(props.campaignId)}},"Unschedule"),_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-copy","data-role":"duplicate-campaign",onClick:function(){return duplicate(props.campaignId,props.editorType)}},"Duplicate"),_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-create","data-role":"create-template",onClick:function(){return toTemplate(props.campaignId,props.editorType)}},"Create Template"),_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-export","data-role":"export",onClick:function(){return exportCampaign(props.campaignId)}},"Export HTML"),(props.isCanceled||props.isSent)&&_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-pie-chart","data-role":"view-stats",href:"/marketing_campaigns/campaigns/"+props.campaignId+"/stats"},"Stats"),_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-view","data-role":"preview",to:"/marketing_campaigns/ui/campaigns/"+props.campaignId+"/preview"},"Preview"),_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-trash","data-role":"open-delete-campaign-modal",onClick:function(){return props.onDeleteClick(props.campaignId)}},"Delete"))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.getEditLinkProps=getEditLinkProps,exports.CampaignActionsMenu=CampaignActionsMenu;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_exportUtils=__webpack_require__(175),_exportUtils2=_interopRequireDefault(_exportUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_actionsMenu=__webpack_require__(151),_withCampaignStatus=__webpack_require__(174),_withCampaignStatus2=_interopRequireDefault(_withCampaignStatus);CampaignActionsMenu.propTypes={campaignId:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired,editorType:_propTypes2.default.oneOf(["code","dnd",null]),isCanceled:_propTypes2.default.bool.isRequired,isDraft:_propTypes2.default.bool.isRequired,isInProgress:_propTypes2.default.bool.isRequired,isScheduled:_propTypes2.default.bool.isRequired,isSent:_propTypes2.default.bool.isRequired,onCancelClick:_propTypes2.default.func.isRequired,onDeleteClick:_propTypes2.default.func.isRequired},CampaignActionsMenu.defaultProps={editorType:null},exports.default=(0,_withCampaignStatus2.default)(CampaignActionsMenu)},function(module,exports,__webpack_require__){var content=__webpack_require__(1105);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),CategoryActions={fetchUserCategories:function(){$.get("/marketing_campaigns/campaigns/user/categories.json").done(function(response){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CATEGORIES.FETCHED_USER_CATEGORIES,categories:response})}).fail(function(error){console.warn("Error fetching user categories.",error)})}};exports.default=CategoryActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Paintbrush(){return _react2.default.createElement("i",{className:_paintbrushCss2.default.icon})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_paintbrushCss=__webpack_require__(1125),_paintbrushCss2=_interopRequireDefault(_paintbrushCss);exports.default=Paintbrush},function(module,exports,__webpack_require__){"use strict";function Code(){return _react2.default.createElement("svg",{width:"18px",height:"12px",viewBox:"0 0 18 12"},_react2.default.createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},_react2.default.createElement("g",{transform:"translate(-243.000000, -30.000000)",fill:"#647481"},_react2.default.createElement("g",{transform:"translate(22.000000, 16.000000)"},_react2.default.createElement("g",{transform:"translate(221.000000, 14.000000)"},_react2.default.createElement("path",{d:"M6.00685737,0.259196771 L0,6.00012508 L6.00685737,11.7406532 L7.16545446,10.4880689 L2.50188452,6.0001248 L7.16545446,1.51198083 L6.00685737,0.259196771 Z M11.9931426,11.7408032 L18,5.99987492 L11.9931426,0.259346758 L10.8345455,1.51193112 L15.4981155,5.9998752 L10.8345455,10.4880192 L11.9931426,11.7408032 Z"}))))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.default=Code},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ABTabs(props){return _react2.default.createElement("ul",{className:"tab-wrapper is-ab-testing is-"+props.splitCount+"-up","data-role":"abNavBar"},_underscore2.default.map(_underscore2.default.first(_constants2.default.CAMPAIGNS.SPLITS,props.splitCount),function(s){var liClass=(0,_classnames2.default)("tab",{"is-active":props.activeSplit===s});return _react2.default.createElement("li",{className:liClass,key:s,onClick:function(){return props.onClick(s)}},_react2.default.createElement("span",{className:"badge "+_constants2.default.EDITOR.COLOR_SPLIT_MAP[s]},s))}))}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);ABTabs.propTypes={activeSplit:_propTypes2.default.string.isRequired,splitCount:_propTypes2.default.number.isRequired,onClick:_propTypes2.default.func.isRequired},exports.default=ABTabs},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),SideBySideStore=_extends({},_eventemitter2.default.prototype,{dispatcherCb:function(action){SideBySideStore.emit(action.actionType,action)}});SideBySideStore.dispatchToken=_appDispatcher2.default.register(SideBySideStore.dispatcherCb),exports.default=SideBySideStore},,,,,,,,,,,,,function(module,exports,__webpack_require__){var content=__webpack_require__(1181);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getAceOpts(props){return _extends({},ACE_EDITOR_DEFAULT_OPTIONS,props.editorOptions)}function setWindowScrolling(){var shouldScroll=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],$body=$("body");shouldScroll?$body.removeClass(_codeEditorCss2.default["is-not-scrollable"]):$body.addClass(_codeEditorCss2.default["is-not-scrollable"])}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAce=__webpack_require__(529),_reactAce2=_interopRequireDefault(_reactAce),_brace=__webpack_require__(530),_brace2=_interopRequireDefault(_brace);__webpack_require__(1190),__webpack_require__(1194),__webpack_require__(1195),__webpack_require__(1196);var _classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_reactClassUtils=__webpack_require__(7),_memoryUtils=__webpack_require__(127),MemoryUtils=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_memoryUtils),_tiaraUtils=__webpack_require__(171),_tiaraUtils2=_interopRequireDefault(_tiaraUtils),_codeEditorToolbar=__webpack_require__(1197),_codeEditorToolbar2=_interopRequireDefault(_codeEditorToolbar),_sideBySideStore=__webpack_require__(515),_sideBySideStore2=_interopRequireDefault(_sideBySideStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_codeEditorCss=__webpack_require__(534),_codeEditorCss2=_interopRequireDefault(_codeEditorCss);_brace2.default.acequire("brace/ext/searchbox"),_brace2.default.acequire("brace/ext/language_tools");var Range=_brace2.default.acequire("ace/range").Range,storageProps=["scrollPosition","cursorPosition"],previewNodeClicked=_constants2.default.ACTIONS.SIDE_BY_SIDE.PREVIEW_NODE_CLICKED,ACE_EDITOR_DEFAULT_OPTIONS={highlightSelectedWord:!0,animatedScroll:!1,showGutter:!0,scrollPastEnd:!1,highlightGutterLine:!0,showFoldWidgets:!0,showLineNumbers:!0,useSoftTabs:!0,wrap:!0},CodeEditor=(_class=function(_React$Component){function CodeEditor(){return _classCallCheck(this,CodeEditor),_possibleConstructorReturn(this,(CodeEditor.__proto__||Object.getPrototypeOf(CodeEditor)).apply(this,arguments))}return _inherits(CodeEditor,_React$Component),_createClass(CodeEditor,[{key:"componentWillMount",value:function(){$(window).scrollTop(0)}},{key:"componentDidMount",value:function(){var _this2=this;setWindowScrolling(!1),this.addClickEventListener(),_tiaraUtils2.default.hide().then(function(){return _this2.aceEditor.editor.resize()}).catch($.noop),MemoryUtils.performWithSavedState("CodeEditor",function(state){state&&(_this2.aceEditor.editor.session.setScrollTop(state.scrollPosition||0),_this2.aceEditor.editor.moveCursorToPosition(state.cursorPosition||{row:0,column:0}),_this2.aceEditor.editor.focus())},storageProps),_sideBySideStore2.default.on(previewNodeClicked,this.setSelection)}},{key:"shouldComponentUpdate",value:function(nextProps){return this.props.showAbNav!==nextProps.showAbNav||this.props.value!==nextProps.value}},{key:"componentDidUpdate",value:function(){this.aceEditor.editor.resize()}},{key:"componentWillUnmount",value:function(){setWindowScrolling(!0),MemoryUtils.saveState("CodeEditor",{scrollPosition:this.aceEditor.editor.session.getScrollTop(),cursorPosition:this.aceEditor.editor.getCursorPosition()})}},{key:"onChange",value:function(content){this.props.onChange(content)}},{key:"onClick",value:function(){var editor=this.aceEditor.editor,cursorPosition=editor.getCursorPosition(),index=editor.session.doc.positionToIndex(cursorPosition);_editorActions2.default.codeClicked(index)}},{key:"setSelection",value:function(action){if(this.aceEditor){var editor=this.aceEditor.editor,start=action.start,end=action.end,startPosition=editor.session.doc.indexToPosition(start),endPosition=editor.session.doc.indexToPosition(end),range=new Range(startPosition.row,startPosition.column,endPosition.row,endPosition.column);editor.selection.setSelectionRange(range),editor.centerSelection(),editor.focus()}}},{key:"addClickEventListener",value:function(){this.aceEditor.editor.container.querySelector(".ace_content").addEventListener("click",this.onClick)}},{key:"showSearchBar",value:function(){this.aceEditor.editor.execCommand("find")}},{key:"render",value:function(){var _this3=this,editorClass=(0,_classnames3.default)(this.props.className,_codeEditorCss2.default["is-resize-height"],_defineProperty({},_codeEditorCss2.default["is-shows-ab"],this.props.showAbNav));return _react2.default.createElement("div",{className:_codeEditorCss2.default.wrapper+" code-editor-wrapper"},this.props.shouldShowToolbar&&_react2.default.createElement(_codeEditorToolbar2.default,{onClickSearch:this.showSearchBar}),_react2.default.createElement(_reactAce2.default,{ref:function(aceEditor){_this3.aceEditor=aceEditor},className:editorClass,mode:"html",theme:"tomorrow_night",onChange:this.onChange,name:"code-editor",editorProps:{$blockScrolling:1/0},tabSize:2,setOptions:getAceOpts(this.props),height:this.props.height,width:"100%",highlightActiveLine:!0,enableLiveAutocompletion:!0,enableBasicAutocompletion:!0,value:this.props.value}))}}]),CodeEditor}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setSelection",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"setSelection"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addClickEventListener",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"addClickEventListener"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showSearchBar",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showSearchBar"),_class.prototype),_class);CodeEditor.propTypes={editorOptions:_react2.default.PropTypes.object,onChange:_react2.default.PropTypes.func.isRequired,className:_react2.default.PropTypes.string,value:_react2.default.PropTypes.string,showAbNav:_react2.default.PropTypes.bool,height:_react2.default.PropTypes.string,shouldShowToolbar:_react2.default.PropTypes.bool},CodeEditor.defaultProps={className:void 0,editorOptions:{},value:"",showAbNav:!1,height:"",shouldShowToolbar:!1},exports.default=CodeEditor},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setLimitFor(key,limit){switch(collection[key]=limit,key){case _constants2.default.CAMPAIGNS.LIMIT.IMAGES:hasFetchedImageLimit=!0}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_baseStore=__webpack_require__(124),_baseStore2=_interopRequireDefault(_baseStore),collection=void 0,hasFetchedImageLimit=!1,CustomLimitStore=_underscore2.default.extend({},_baseStore2.default,{getCollection:function(){return JSON.parse(JSON.stringify(collection))},getHasFetchedImageLimit:function(){return hasFetchedImageLimit},getLimitForImages:function(){return collection[_constants2.default.CAMPAIGNS.LIMIT.IMAGES]},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.IMAGE_MANAGER.FETCHED_LIMIT:setLimitFor(_constants2.default.CAMPAIGNS.LIMIT.IMAGES,action.limit),CustomLimitStore.emitChange();break;case _constants2.default.ACTIONS.IMAGE_MANAGER.FETCHED_LIMIT_FAILED:setLimitFor(_constants2.default.CAMPAIGNS.LIMIT.IMAGES,99999),CustomLimitStore.emitChange()}}});CustomLimitStore.dispatchToken=_appDispatcher2.default.register(CustomLimitStore.dispatcherCb),function(){collection={},hasFetchedImageLimit=!1}(),exports.default=CustomLimitStore},function(module,exports,__webpack_require__){var content=__webpack_require__(1198);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function convertGarbage($moduleElem){return{type:_constants2.default.EDITOR.MODULES.CODE,isCodeEditable:!0,innerHtml:_jsxHtmlTranslationUtils2.default.get$elemHtml($moduleElem)}}function codeModuleElemToProps($moduleElem){if("code"!=$moduleElem.attr("data-type"))return convertGarbage($moduleElem);var props={type:_constants2.default.EDITOR.MODULES.CODE,isCodeEditable:!0};return _underscore2.default.tap(props,function(p){return p.innerHtml=(0,_code.serializedCodeInnerHtml)(p,$moduleElem)})}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_code=__webpack_require__(536),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);exports.default=codeModuleElemToProps},function(module,exports,__webpack_require__){"use strict";function serializedCode(props){return('\n    <table class="module" role="module" data-type="code" border="0" cellpadding="0" cellspacing="0" width="100%" style="table-layout: fixed;">\n      <tr>\n        <td height="100%" valign="top">\n          '+_sanitizerUtils2.default.sanitize(props.innerHtml)+"\n        </td>\n      </tr>\n    </table>\n  ").trim()}function serializedCodeInnerHtml(props){var $moduleElem=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return _sanitizerUtils2.default.sanitize(props.innerHtml||$moduleElem&&$($moduleElem.find("td")[0]).html()).trim()}var _sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_sanitizerUtils);module.exports={serializedCode:serializedCode,serializedCodeInnerHtml:serializedCodeInnerHtml}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function convertGarbage($moduleElem){return{type:_constants2.default.EDITOR.MODULES.TEXT,isCodeEditable:!0,tdProps:{style:{backgroundColor:"",padding:"0px 0px 0px 0px",lineHeight:""}},innerHtml:_jsxHtmlTranslationUtils2.default.get$elemHtml($moduleElem)}}function textModuleElemToProps($moduleElem){var $el=$((0,_cssUtils.scopeSelectorsInNode)($moduleElem));if("text"!==$el.attr("data-type"))return convertGarbage($el);var $td=$($el.find("td")[0]),tdStyle=_underscore2.default.extend(_jsxHtmlTranslationUtils2.default.getStyleProps($td.attr("style")),{backgroundColor:$td.attr("bgcolor")}),props={type:_constants2.default.EDITOR.MODULES.TEXT,isCodeEditable:!0,tdProps:{style:tdStyle},innerHtml:$td.html()};return _extends({},props,{innerHtml:(0,_text.serializedTextInnerHtml)(props,$el)})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_text=__webpack_require__(538),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_cssUtils=__webpack_require__(1206);exports.default=textModuleElemToProps},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function serializedText(props){return'\n    <table class="module" role="module" data-type="text" border="0" cellpadding="0" cellspacing="0" width="100%" style="table-layout: fixed;">\n      <tr>\n        <td style="'+_jsxHtmlTranslationUtils2.default.getStyleString(props.tdProps.style)+'"\n            height="100%"\n            valign="top"\n            bgcolor="'+props.tdProps.style.backgroundColor+'">\n            '+_sanitizerUtils2.default.sanitize(props.innerHtml)+"\n        </td>\n      </tr>\n    </table>\n  "}function serializedTextInnerHtml(props){var $moduleElem=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,innerHtml=props.innerHtml;return innerHtml||(innerHtml=$moduleElem&&$($moduleElem.find("td")[0]).html()),_sanitizerUtils2.default.sanitize(innerHtml).trim()}var _sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils);module.exports={serializedText:serializedText,serializedTextInnerHtml:serializedTextInnerHtml}},,function(module,exports){},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function traverse(props,eachFn){function preorderTraverse(propsArr,parentMuid,columnIdx){var i=0;_underscore2.default.each(propsArr||[],function(modProps){modProps&&(eachFn(modProps,propsArr,i++,parentMuid,columnIdx),modProps.innerModules&&_underscore2.default.each(modProps.innerModules,function(innerModules,colIdx){return preorderTraverse(innerModules,modProps.muid,colIdx)}))})}preorderTraverse(props)}function getParentMuid(props,childMuid){var parentMuid=void 0;return traverse(props,function(p,_,__,pm){p.muid===childMuid&&(parentMuid=pm)}),parentMuid}function getModulePropsForMuid(props,muid){var modProps=void 0;return traverse(props,function(p){p.muid===muid&&(modProps=p)}),modProps}function getColumnIdxOfMuid(props,muid){if(getParentMuid(props,muid)){var columnIdx=void 0;return traverse(props,function(p,_,__,___,i){p.muid===muid&&(columnIdx=i)}),columnIdx}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.traverse=traverse,exports.getParentMuid=getParentMuid,exports.getModulePropsForMuid=getModulePropsForMuid,exports.getColumnIdxOfMuid=getColumnIdxOfMuid;var _underscore=__webpack_require__(2),_underscore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_underscore)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function serializedButton(props){return(0,_serialize2.default)(_react2.default.createElement(_button.ButtonModule,props))}function serializedButtonInnerHtml(props){var _parseCodeEditable=(0,_button2.parseCodeEditable)(props),aProps=_parseCodeEditable.aProps,buttonText=_parseCodeEditable.buttonText;return(0,_serialize2.default)(_react2.default.createElement("a",aProps,buttonText))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.serializedButtonInnerHtml=exports.serializedButton=void 0;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_button=__webpack_require__(348),_button2=__webpack_require__(239),_serialize=__webpack_require__(338),_serialize2=_interopRequireDefault(_serialize);exports.default=serializedButton,exports.serializedButton=serializedButton,exports.serializedButtonInnerHtml=serializedButtonInnerHtml},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function socialIcon(props,title){var isDesignView=arguments.length>2&&void 0!==arguments[2]&&arguments[2],key=title.toLowerCase(),aPropsStyle=_underscore2.default.extend({},props.aProps.style),onClickHandler=isDesignView?'onclick="return false;"':"",hrefValue=isDesignView?"javascript:void(0);":props.aProps.icons[key].href;return""===props.aProps.backgroundColor?aPropsStyle.backgroundColor=props.aProps.icons[key].color:aPropsStyle.backgroundColor=props.aProps.backgroundColor,isDesignView||props.aProps.icons[key].href?'<td style="padding: 0px 5px;">\n        <a role="social-icon-link" '+onClickHandler+' href="'+hrefValue+'" target="_blank" alt="'+title+'"\n          data-nolink="'+!props.aProps.icons[key].href+'"\n          title="'+title+" "+(props.aProps.icons[key].href?"":"[Missing Link]")+'"\n          style="'+_jsxHtmlTranslationUtils2.default.getStyleString(aPropsStyle)+'">\n          <img role="social-icon" alt="'+title+'" title="'+title+" "+(props.aProps.icons[key].href?"":"[Missing Link]")+'"\n            height="'+props.iProps.style.size+'"\n            width="'+props.iProps.style.size+'"\n            style="height: '+props.iProps.style.size+"px, width: "+props.iProps.style.size+'px"\n            src="'+props.aProps.icons[key].src+'" />\n        </a>\n      </td>':""}function serializedSocial(props){return'\n    <table class="module" role="module" data-type="social" align="'+props.align+'" border="0" cellpadding="0" cellspacing="0" width="100%" style="table-layout: fixed;">\n      <tbody>\n        <tr>\n          <td valign="top" style="'+_jsxHtmlTranslationUtils2.default.getStyleString(props.shallowTdProps.style)+'">\n            <table align="'+props.align+'">\n              <tbody>\n                <tr>\n                  '+socialIcon(props,"Facebook")+"\n                  "+socialIcon(props,"Twitter")+"\n                  "+socialIcon(props,"Instagram")+"\n                  "+socialIcon(props,"Google")+"\n                  "+socialIcon(props,"Pinterest")+"\n                  "+socialIcon(props,"LinkedIn")+"\n                </tr>\n              </tbody>\n            </table>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n  "}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils);module.exports={serializedSocial:serializedSocial,socialIcon:socialIcon}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getRootClassName(props,state){return[_moduleCss2.default["controllable-module"],_underscore2.default.contains([_constants2.default.EDITOR.MODULES.PREHEADER,_constants2.default.EDITOR.MODULES.EMPTY],props.moduleProps.type)?_moduleCss2.default["empty-module"]:"",state.isSelected?_moduleCss2.default["is-selected"]:"",state.isUserDraggingMe?_moduleCss2.default["is-user-dragging-me"]:"",state.isChildSelected?_moduleCss2.default["is-child-selected"]:""].join(" ")}function toggleEditMode(){_editorActions2.default.editModuleHtmlClicked()}function getModuleProps(props){return _react2.default.Children.only(props.children).props}function getModulePropsType(props){return getModuleProps(props).type}function collect(connect,monitor){return{connectDragSource:connect.dragSource(),connectDragPreview:connect.dragPreview(),isDragging:monitor.isDragging()}}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDnd=__webpack_require__(146),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactClassUtils=__webpack_require__(7),_moduleControls=__webpack_require__(1239),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_moduleCss=__webpack_require__(349),_moduleCss2=_interopRequireDefault(_moduleCss),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_moduleDropArea=__webpack_require__(1242),_moduleDropArea2=_interopRequireDefault(_moduleDropArea),ModuleWrapper=(_class=function(_React$Component){function ModuleWrapper(props){_classCallCheck(this,ModuleWrapper);var _this=_possibleConstructorReturn(this,(ModuleWrapper.__proto__||Object.getPrototypeOf(ModuleWrapper)).call(this,props));return _this.state={isSelected:_this.getIsSelected(),isChildSelected:_this.getIsChildSelected(),isUserDraggingMe:_this.getIsUserDraggingMe(),isLastHovered:_this.getIsLastHovered()},_this}return _inherits(ModuleWrapper,_React$Component),_createClass(ModuleWrapper,[{key:"componentDidMount",value:function(){_moduleStore2.default.addChangeListener(this.onModuleStoreChange),this.stringifiedModuleProps=JSON.stringify(this.props.moduleProps)}},{key:"shouldComponentUpdate",value:function(nextProps,nextState){return this.stringifiedModuleProps!==JSON.stringify(nextProps.moduleProps)||!_underscore2.default.isEqual(this.state,nextState)||this.props.isUserDragging!==nextProps.isUserDragging||this.props.isTopDropArea!==nextProps.isTopDropArea||this.props.isInnerModule!==nextProps.isInnerModule}},{key:"componentDidUpdate",value:function(){this.stringifiedModuleProps=JSON.stringify(this.props.moduleProps)}},{key:"componentWillUnmount",value:function(){_moduleStore2.default.removeChangeListener(this.onModuleStoreChange)}},{key:"onModuleStoreChange",value:function(){var isSelected=this.getIsSelected(),isChildSelected=this.getIsChildSelected(),isUserDraggingMe=this.getIsUserDraggingMe(),isLastHovered=this.getIsLastHovered();this.state.isSelected===isSelected&&this.state.isChildSelected===isChildSelected&&this.state.isUserDraggingMe===isUserDraggingMe&&this.state.isLastHovered===isLastHovered||this.setState({isSelected:isSelected,isChildSelected:isChildSelected,isUserDraggingMe:isUserDraggingMe,isLastHovered:isLastHovered})}},{key:"onClick",value:function(controlName){var moduleProps=this.props.moduleProps;switch(controlName){case _constants2.default.EDITOR.MODULE_CONTROLS.MOVE:_editorActions2.default.moduleSelected(moduleProps.muid);break;case _constants2.default.EDITOR.MODULE_CONTROLS.EDIT_CODE:_editorActions2.default.moduleSelected(moduleProps.muid),toggleEditMode();break;case _constants2.default.EDITOR.MODULE_CONTROLS.COPY:_editorActions2.default.moduleDuplicated(moduleProps);break;case _constants2.default.EDITOR.MODULE_CONTROLS.DELETE:_editorActions2.default.moduleDeleted(moduleProps.muid)}}},{key:"getModule",value:function(){var child=_react2.default.Children.only(this.props.children),controlProps={isSelected:this.state.isSelected,isUserDragging:this.props.isUserDragging};return _react2.default.createElement(child.type,_extends({},child.props,controlProps),child.props.children)}},{key:"getIsChildSelected",value:function(){var selectedMuid=_moduleStore2.default.getSelectedModuleMuid();return!!selectedMuid&&_moduleStore2.default.getParentMuid(selectedMuid)===this.props.moduleProps.muid}},{key:"getIsLastHovered",value:function(){var hoveredMuid=_moduleStore2.default.getHoveredMuid();return!!hoveredMuid&&this.props.moduleProps.muid===hoveredMuid}},{key:"getIsUserDraggingMe",value:function(){var draggedMuid=_moduleStore2.default.getDraggedModuleMuid();return!!draggedMuid&&draggedMuid===this.props.moduleProps.muid}},{key:"getIsSelected",value:function(){var selectedMuid=_moduleStore2.default.getSelectedModuleMuid();return!!selectedMuid&&selectedMuid===this.props.moduleProps.muid}},{key:"selectModule",value:function(e){e&&e.stopPropagation(),this.getIsSelected()||(_editorActions2.default.moduleSelected(this.props.moduleProps.muid),_editorActions2.default.navigateToTab(_constants2.default.EDITOR.TABS.BUILD))}},{key:"render",value:function(){var _this2=this;return _react2.default.createElement("div",{ref:function(el){_this2.moduleEl=el}},this.props.connectDragPreview(_react2.default.createElement("article",{className:getRootClassName(this.props,this.state),"data-role":"module-wrapper"},_react2.default.createElement("section",{"data-role":"drag-preview-container"},_react2.default.createElement("header",null,_react2.default.createElement(_moduleControls.ModuleControls,null,_react2.default.createElement(_moduleControls.ControlSet,null,_react2.default.createElement(_moduleControls.ControlOption,{name:_constants2.default.EDITOR.MODULE_CONTROLS.MOVE,onClickCb:this.onClick,onDragCb:this.onClick,connectDragSource:this.props.connectDragSource},_react2.default.createElement("i",{className:"sg-icon sg-icon-drag"}))),_react2.default.createElement(_moduleControls.ControlSet,{className:this.props.isInnerModule&&_moduleCss2.default["hover-controls"]},this.props.isInnerModule&&_react2.default.createElement(_moduleControls.ControlOption,{name:"elipsis-hover",onClickCb:this.onClick,className:_moduleCss2.default["unhover-control"]},"..."),this.props.moduleProps.isCodeEditable&&_react2.default.createElement(_moduleControls.ControlOption,{name:_constants2.default.EDITOR.MODULE_CONTROLS.EDIT_CODE,onClickCb:this.onClick,className:_moduleCss2.default["hover-control"]},_react2.default.createElement("i",{className:"sg-icon sg-icon-code"})),_react2.default.createElement(_moduleControls.ControlOption,{name:_constants2.default.EDITOR.MODULE_CONTROLS.COPY,onClickCb:this.onClick,className:_moduleCss2.default["hover-control"]},_react2.default.createElement("i",{className:"sg-icon sg-icon-copy"})),_react2.default.createElement(_moduleControls.ControlOption,{name:_constants2.default.EDITOR.MODULE_CONTROLS.DELETE,onClickCb:this.onClick,className:_moduleCss2.default["hover-control"]},_react2.default.createElement("i",{className:"sg-icon sg-icon-trash"}))))),_react2.default.createElement("main",{onClick:this.selectModule,"data-role":"module-selector"},this.getModule())))),_react2.default.createElement("footer",{className:_moduleCss2.default["drop-area-wrapper"]},_react2.default.createElement(_moduleDropArea2.default,_extends({},this.props.moduleProps,{isLastHovered:this.state.isLastHovered,muid:this.props.moduleProps.muid,isUserDragging:this.props.isUserDragging,isTopDropArea:this.props.isTopDropArea,isInnerDropArea:this.props.isInnerModule}))))}}]),ModuleWrapper}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onModuleStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onModuleStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getModule",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getModule"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getIsChildSelected",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getIsChildSelected"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getIsLastHovered",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getIsLastHovered"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getIsUserDraggingMe",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getIsUserDraggingMe"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getIsSelected",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getIsSelected"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectModule",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectModule"),_class.prototype),_class);ModuleWrapper.propTypes={isUserDragging:_propTypes2.default.bool.isRequired,isTopDropArea:_propTypes2.default.bool,isInnerModule:_propTypes2.default.bool,moduleProps:_propTypes2.default.object.isRequired,connectDragSource:_propTypes2.default.func.isRequired,connectDragPreview:_propTypes2.default.func.isRequired,children:_propTypes2.default.element},ModuleWrapper.defaultProps={isTopDropArea:!1,isInnerModule:!1,children:null};var moduleSource={beginDrag:function(props){_editorActions2.default.moduleDragStarted(props.moduleProps.muid);var newProps=_underscore2.default.extend({},getModuleProps(props));return newProps.isBeingMoved=!0,newProps},endDrag:function(){_editorActions2.default.moduleDragEnded()}};exports.default=(0,_reactDnd.DragSource)(getModulePropsType,moduleSource,collect)(ModuleWrapper)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),ControlOption=_react2.default.createClass({displayName:"ControlOption",propTypes:{name:_react2.default.PropTypes.string.isRequired,onClickCb:_react2.default.PropTypes.func.isRequired,className:_react2.default.PropTypes.string},onClick:function(e){e.stopPropagation(),this.props.onClickCb(this.props.name)},render:function(){var option=_react2.default.createElement("li",{"data-role":this.props.name,"data-control-option":!0,onClick:this.onClick,className:this.props.className},this.props.children);return this.props.name===_constants2.default.EDITOR.MODULE_CONTROLS.MOVE?this.props.connectDragSource(option,{dropEffect:"move"}):option}});exports.default=ControlOption},function(module,exports,__webpack_require__){var content=__webpack_require__(1243);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.collect=exports.spec=exports.innerDropTypes=exports.dropTypes=void 0;var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),dropTypes=exports.dropTypes=_underscore2.default.values(_constants2.default.EDITOR.MODULES),innerDropTypes=exports.innerDropTypes=_underscore2.default.reject(dropTypes,function(type){return _underscore2.default.contains([_constants2.default.EDITOR.MODULES.COLUMNS,_constants2.default.EDITOR.MODULES.IMAGETEXT],type)});exports.spec={drop:function(props,monitor){var droppedItemProps=monitor.getItem();if(droppedItemProps.isBeingMoved)return _editorActions2.default.moduleMoved(droppedItemProps,props.muid);_editorActions2.default.moduleDropped(droppedItemProps,props.muid),_underscore2.default.isFunction(droppedItemProps.onDrop)&&droppedItemProps.onDrop(droppedItemProps)},hover:function(props){_moduleStore2.default.getHoveredMuid()!==props.muid&&_editorActions2.default.moduleHovered(props.muid)},canDrop:function(props,monitor){return!props.isInnerDropArea||_underscore2.default.contains(innerDropTypes,monitor.getItemType())}},exports.collect=function(connect,monitor){return{connectDropTarget:connect.dropTarget(),isOver:monitor.isOver({shallow:!1}),canDrop:monitor.canDrop(),itemType:monitor.getItemType()}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInitialProps(){return{type:_constants2.default.EDITOR.MODULES.COLUMNS,isCodeEditable:!1,innerModules:[[{type:_constants2.default.EDITOR.MODULES.EMPTY,muid:_moduleParserUtils2.default.genMuid()}],[{type:_constants2.default.EDITOR.MODULES.EMPTY,muid:_moduleParserUtils2.default.genMuid()}]],tdProps:{style:{backgroundColor:"",padding:"0px 0px 0px 0px"}},columnPaddingPx:0}}function DraggableColumnsModule(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-columns-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-columns"})," Columns"))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_moduleDropAreaCss=__webpack_require__(556),_moduleDropAreaCss2=_interopRequireDefault(_moduleDropAreaCss),_moduleParserUtils=__webpack_require__(132),_moduleParserUtils2=_interopRequireDefault(_moduleParserUtils),ColumnsModule=_react2.default.createClass({displayName:"ColumnsModule",render:function(){return _react2.default.createElement("table",_extends({className:_moduleDropAreaCss2.default["columns-module"],"data-role":"module-columns"},this.props.getRootProps()),_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",this.props.tdProps,_react2.default.createElement("table",{className:_moduleDropAreaCss2.default["columns-inner"]},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,this.props.children)))))))}});module.exports={ColumnsModule:ColumnsModule,DraggableColumnsModule:(0,_draggableModuleMaker2.default)(DraggableColumnsModule,_constants2.default.EDITOR.MODULES.COLUMNS,getInitialProps)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function cleanInnerHtml(html){return html.replace(/<style[\s\S]*?\/style>/gi,"").replace(/<style[\s\S]*/gi,"")}function getInitialProps(){return{type:_constants2.default.EDITOR.MODULES.CODE,isCodeEditable:!0,innerHtml:"",onDrop:_editorActions2.default.editModuleHtmlClicked}}function Placeholder(props){return _react2.default.createElement("div",null,props.isEmpty?null:_react2.default.createElement("div",{className:_codeCss2.default["code-contents"]},props.children),_react2.default.createElement("div",{className:_codeCss2.default[props.isEmpty?"placeholder":"overlay"],"data-role":"code-module-"+(props.isEmpty?"placeholder":"overlay")},_react2.default.createElement("i",{className:"sg-icon sg-icon-code "+_codeCss2.default.icon}),props.isEmpty?_react2.default.createElement("div",null,"Add HTML"):_react2.default.createElement("div",null,"Edit HTML")))}function DraggableCodeModule(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-code-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-code"})," Code"))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_codeCss=__webpack_require__(1245),_codeCss2=_interopRequireDefault(_codeCss),CodeModule=_react2.default.createClass({displayName:"CodeModule",render:function(){return _react2.default.createElement("table",_extends({"data-role":"module-code"},this.props.getRootProps(),{onDoubleClick:_editorActions2.default.editModuleHtmlClicked}),_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",{className:_codeCss2.default.wrapper},this.props.innerHtml.trim().length>0?_react2.default.createElement(Placeholder,null,_react2.default.createElement("div",{dangerouslySetInnerHTML:{__html:cleanInnerHtml(this.props.innerHtml)}})):_react2.default.createElement(Placeholder,{isEmpty:!0})))))}});module.exports={CodeModule:CodeModule,DraggableCodeModule:(0,_draggableModuleMaker2.default)(DraggableCodeModule,_constants2.default.EDITOR.MODULES.CODE,getInitialProps)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function checkHeightPlusPadding(props,size){return(parseInt(props.deepTableProps.style.height)||0)+(parseInt(_jsxHtmlTranslationUtils2.default.getSplitPx(props.shallowTdProps.style.padding)[0])||0)+(parseInt(_jsxHtmlTranslationUtils2.default.getSplitPx(props.shallowTdProps.style.padding)[2])||0)<=size}function getInitialProps(){return{type:_constants2.default.EDITOR.MODULES.DIVIDER,isCodeEditable:!1,shallowTdProps:{style:{padding:"0px 0px 0px 0px",backgroundColor:""}},deepTableProps:{style:{height:"10px"}},deepTdProps:{style:{backgroundColor:"#000000"}}}}function DraggableDividerModule(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-divider-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-divider"})," Divider"))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_dividerCss=__webpack_require__(1254),_dividerCss2=_interopRequireDefault(_dividerCss),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),DividerModule=_react2.default.createClass({displayName:"DividerModule",render:function(){var shouldInsertPlaceholder=checkHeightPlusPadding(this.props,0),shouldAddExtraHeight=checkHeightPlusPadding(this.props,_constants2.default.EDITOR.MIN_MODULE_HEIGHT),placeholder=_react2.default.createElement("div",{className:_dividerCss2.default["too-small-to-click"],"data-role":"too-small-placeholder"},_react2.default.createElement("i",{className:"sg-icon sg-icon-divider "+_dividerCss2.default["divider-icon"]}),_react2.default.createElement("div",null,"Add Divider Height"));return _react2.default.createElement("table",_extends({"data-role":"module-divider"},this.props.getRootProps()),_react2.default.createElement("tbody",null,shouldAddExtraHeight?_react2.default.createElement("tr",{className:_dividerCss2.default.filler}):null,_react2.default.createElement("tr",null,_react2.default.createElement("td",this.props.shallowTdProps,_react2.default.createElement("table",_extends({},this.props.deepTableProps,{className:_dividerCss2.default["deep-table"]}),_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",this.props.deepTdProps,shouldInsertPlaceholder?placeholder:null)))))),shouldAddExtraHeight?_react2.default.createElement("tr",{className:_dividerCss2.default.filler}):null))}});module.exports={DividerModule:DividerModule,DraggableDividerModule:(0,_draggableModuleMaker2.default)(DraggableDividerModule,_constants2.default.EDITOR.MODULES.DIVIDER,getInitialProps)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function checkPadding(props,size){var paddingBottom=_jsxHtmlTranslationUtils2.default.getSplitPx(props.tdProps.style.padding)[2];return _underscore2.default.isNaN(parseInt(paddingBottom))||parseInt(paddingBottom)<=size}function getInitialProps(){return{type:_constants2.default.EDITOR.MODULES.SPACER,isCodeEditable:!1,tdProps:{style:{padding:"0px 0px 30px 0px",backgroundColor:""}}}}function DraggableSpacerModule(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-spacer-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-spacer"})," Spacer"))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_spacerCss=__webpack_require__(1256),_spacerCss2=_interopRequireDefault(_spacerCss),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),SpacerModule=_react2.default.createClass({displayName:"SpacerModule",render:function(){var shouldInsertPlaceholder=checkPadding(this.props,0),shouldAddExtraHeight=checkPadding(this.props,_constants2.default.EDITOR.MIN_MODULE_HEIGHT),placeholder=_react2.default.createElement("div",{className:_spacerCss2.default["too-small-to-click"],"data-role":"too-small-placeholder"},_react2.default.createElement("i",{className:"sg-icon sg-icon-spacer "+_spacerCss2.default["spacer-icon"]}),_react2.default.createElement("div",null,"Add Spacing"));return _react2.default.createElement("table",_extends({"data-role":"module-spacer"},this.props.getRootProps()),_react2.default.createElement("tbody",null,shouldAddExtraHeight?_react2.default.createElement("tr",{className:_spacerCss2.default.filler}):null,_react2.default.createElement("tr",null,_react2.default.createElement("td",this.props.tdProps,shouldInsertPlaceholder?placeholder:null)),shouldAddExtraHeight?_react2.default.createElement("tr",{className:_spacerCss2.default.filler}):null))}});module.exports={SpacerModule:SpacerModule,DraggableSpacerModule:(0,_draggableModuleMaker2.default)(DraggableSpacerModule,_constants2.default.EDITOR.MODULES.SPACER,getInitialProps)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInitialProps(){return{type:_constants2.default.EDITOR.MODULES.SOCIAL,isCodeEditable:!1,shallowTdProps:{style:{padding:"0px 0px 0px 0px",backgroundColor:"",fontSize:"6px",lineHeight:"10px"}},aProps:{style:{WebkitBorderRadius:"2px",MozBorderRadius:"2px",borderRadius:"2px",display:"inline-block"},backgroundColor:"",icons:_constants2.default.EDITOR.SOCIAL_ICON_DEFAULTS},iProps:{style:{size:30}},align:"center"}}function DraggableSocialModule(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-social-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-social"})," Social"))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_social=__webpack_require__(553),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_socialCss=__webpack_require__(1258),_socialCss2=_interopRequireDefault(_socialCss),SocialModule=function(props){var iconContent=[(0,_social.socialIcon)(props,"Facebook",!0),(0,_social.socialIcon)(props,"Twitter",!0),(0,_social.socialIcon)(props,"Instagram",!0),(0,_social.socialIcon)(props,"Google",!0),(0,_social.socialIcon)(props,"Pinterest",!0),(0,_social.socialIcon)(props,"LinkedIn",!0)];return iconContent=iconContent.join(""),_react2.default.createElement("table",_extends({"data-role":"module-social"},props.getRootProps()),_react2.default.createElement("tbody",null,_react2.default.createElement("tr",null,_react2.default.createElement("td",props.shallowTdProps,_react2.default.createElement("table",{cellPadding:"0",cellSpacing:"0",border:"0",align:props.align},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",{className:_socialCss2.default["social-icons"],dangerouslySetInnerHTML:{__html:iconContent}})))))))};SocialModule.propTypes={shallowTdProps:_propTypes2.default.object.isRequired,getRootProps:_propTypes2.default.func,align:_propTypes2.default.string.isRequired},SocialModule.defaultProps={getRootProps:function(){}},module.exports={SocialModule:SocialModule,DraggableSocialModule:(0,_draggableModuleMaker2.default)(DraggableSocialModule,_constants2.default.EDITOR.MODULES.SOCIAL,getInitialProps)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function initState(){recipients=[],recipientCount=0,fetchedPromise=$.Deferred()}function deleteRecipients(ids){recipients=_underscore2.default.reject(recipients,function(recipient){return _underscore2.default.contains(ids,recipient.profile.id)}),recipientCount-=ids.length}function deleteRecipient(id){deleteRecipients([id])}function setRecipients(recips){recipients=recips,fetchedPromise.resolve()}function setRecipientCount(count){recipientCount=count}var _eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_clone=__webpack_require__(234),_clone2=_interopRequireDefault(_clone),recipients=void 0,recipientCount=void 0,fetchedPromise=void 0,RecipientStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetched:function(){return"pending"!==fetchedPromise.state()},getRecipient:function(id){var recipient=_underscore2.default.find(recipients,function(r){return r.profile.id===id});if(void 0!==recipient)return _clone2.default.deep(recipient)},getCount:function(){return recipientCount},getRecipients:function(){return recipients},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.removeListener(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.LIST.FETCHED:setRecipientCount(action.list.count),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.GOT_BY_ID:setRecipients([action.recipient]),setRecipientCount(1),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.GOT_ALL_CONTACTS:setRecipients(action.recipients),setRecipientCount(action.count),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.GOT_BY_LIST_ID:setRecipients(action.recipients),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.FETCHED_WITH_CONDITIONS:setRecipients(action.recipients),setRecipientCount(action.recipientCount),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.UPDATED:setRecipients([action.recipient]),setRecipientCount(1),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.REMOVED_FROM_LIST:deleteRecipient(action.recipient.profile.id),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.DELETED:deleteRecipient(action.id),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.DELETED_MANY:case _constants2.default.ACTIONS.RECIPIENTS.REMOVED_MANY:deleteRecipients(action.ids),RecipientStore.emitChange();break;case _constants2.default.ACTIONS.RECIPIENTS.CMP_UNMOUNTED:initState(),RecipientStore.emitChange()}}});initState(),RecipientStore.dispatchToken=_appDispatcher2.default.register(RecipientStore.dispatcherCb),module.exports=RecipientStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function RecipientListItem(props){var dateAdded=_dateUtils2.default.formatValue(new Date(props.recipient.meta.date_added),"MM/DD/YY"),lastOpened=_dateUtils2.default.formatValue(new Date(props.recipient.meta.last_opened),"MM/DD/YY"),lastClicked=_dateUtils2.default.formatValue(new Date(props.recipient.meta.last_clicked),"MM/DD/YY");return _react2.default.createElement("tr",null,_react2.default.createElement("td",{className:"contact"},_react2.default.createElement(_reactRouter.Link,{to:"marketing_campaigns/ui/recipients/"+props.recipient.profile.id,"data-scroll-top":!0},props.recipient.profile.email)),_react2.default.createElement("td",{className:"stats"},dateAdded),_react2.default.createElement("td",{className:"stats"},lastOpened),_react2.default.createElement("td",{className:"stats"},lastClicked))}function RecipientListTable(props){var colHeader=props.statType?"Realtime unique "+props.statType:"Contacts";return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-12"},_react2.default.createElement("table",{className:"table-wrap"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",null,colHeader),_react2.default.createElement("th",null,"Date Added"),_react2.default.createElement("th",null,"Last Opened"),_react2.default.createElement("th",null,"Last Clicked"))),_react2.default.createElement("tbody",null,_underscore2.default.map(props.recipients,function(r){return _react2.default.createElement(RecipientListItem,{recipient:r,key:r.profile.id})}))))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-12"},_react2.default.createElement(_paginator2.default,{numPages:Math.ceil(props.recipientCount/props.pageSize),initialActivePageNumber:props.pageNum,onPageUpdate:props.setPageNum}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_paginator=__webpack_require__(230),_paginator2=_interopRequireDefault(_paginator);RecipientListItem.propTypes={recipient:_propTypes2.default.shape({profile:_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,email:_propTypes2.default.string.isRequired}),meta:_propTypes2.default.shape({date_added:_propTypes2.default.string.isRequired,last_opened:_propTypes2.default.string.isRequired,last_clicked:_propTypes2.default.string.isRequired})}).isRequired},RecipientListTable.propTypes={statType:_propTypes2.default.oneOf(["clicks","opens"]).isRequired,recipients:_propTypes2.default.arrayOf(_propTypes2.default.shape({profile:_propTypes2.default.shape({id:_propTypes2.default.string,email:_propTypes2.default.string})})).isRequired,pageNum:_propTypes2.default.number.isRequired,recipientCount:_propTypes2.default.number.isRequired,pageSize:_propTypes2.default.number.isRequired,setPageNum:_propTypes2.default.func.isRequired},exports.default=RecipientListTable},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AddNewModal(props){return _react2.default.createElement(_side.SideModal,{onCancel:props.onCancel,show:props.shouldShow},_react2.default.createElement(_side.SideModalHeader,{header:props.header},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{onClick:props.onCancel},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{onClick:props.onSubmit},"Save"))),_react2.default.createElement(_side.SideModalBody,null,props.children))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_side=__webpack_require__(60),_buttons=__webpack_require__(8);AddNewModal.propTypes={children:_propTypes2.default.node,onCancel:_propTypes2.default.func.isRequired,onSubmit:_propTypes2.default.func.isRequired,shouldShow:_propTypes2.default.bool.isRequired,header:_propTypes2.default.string},AddNewModal.defaultProps={children:null,header:"Create New Segment"},exports.default=AddNewModal},function(module,exports,__webpack_require__){var content=__webpack_require__(1289);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PanelTitle(props){return _react2.default.createElement("div",null,props.children)}function PanelContent(props){return _react2.default.createElement("div",null,props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_enforceChildType=__webpack_require__(244),_enforceChildType2=_interopRequireDefault(_enforceChildType),AccordionPanel=_react2.default.createClass({displayName:"AccordionPanel",propTypes:{className:_react2.default.PropTypes.string,name:_react2.default.PropTypes.string.isRequired,isPanelOpen:_react2.default.PropTypes.bool,onPanelToggleCb:_react2.default.PropTypes.func,hasChild:_react2.default.PropTypes.bool},getDefaultProps:function(){return{className:""}},componentDidMount:function(){this.showOrHidePanelContent()},componentDidUpdate:function(){this.showOrHidePanelContent()},showOrHidePanelContent:function(){if(this.props.isPanelOpen){if(this.isOpen)return;return $(this.refs.panelContent).slideDown(300),this.isOpen=!0}!1!==this.isOpen&&($(this.refs.panelContent).slideUp(300),this.isOpen=!1)},getChildContent:function(childType){return _react2.default.Children.map(this.props.children,function(child){if(child.type===childType)return child.props.children})},render:function(){var _this=this;return _react2.default.createElement("section",{className:"accordion-panel "+(this.props.isPanelOpen?"is-visible":"")+" "+(this.props.hasChild?"has-child":"")+" "+this.props.className,"data-role":"accordion-panel-"+this.props.name},_react2.default.createElement("div",{className:"accordion-title",onClick:function(){return _this.props.onPanelToggleCb(_this.props.name)}},this.getChildContent(PanelTitle)),_react2.default.createElement("div",{ref:"panelContent",className:"accordion-content"},this.getChildContent(PanelContent)))}});module.exports={AccordionPanel:(0,_enforceChildType2.default)(AccordionPanel,[PanelTitle,PanelContent]),PanelTitle:PanelTitle,PanelContent:PanelContent}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_accordion=__webpack_require__(107),_customFieldList=__webpack_require__(1305),_customFieldList2=_interopRequireDefault(_customFieldList),TagsAccordion=_react2.default.createClass({displayName:"TagsAccordion",getInitialState:function(){return{openPanelNames:["substitution-tags"]}},onPanelToggle:function(panelName,doesAllowMultipleOpenPanels){this.setState({openPanelNames:_accordion.AccordionUtils.getOpenPanelsOnToggle(panelName,doesAllowMultipleOpenPanels,this.state.openPanelNames)})},render:function(){return _react2.default.createElement(_accordion.Accordion,{onPanelToggleCb:this.onPanelToggle,openPanelNames:this.state.openPanelNames,shouldShowCaretsOnLeft:!0,doesAllowMultipleOpenPanels:!0,hasBottomMargin:!0,isEditor:!0},_react2.default.createElement(_accordion.AccordionPanel,{name:"substitution-tags"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Substitution Tags")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_customFieldList2.default,null))))}});exports.default=TagsAccordion},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_alignmentSelectorCss=__webpack_require__(1323),_alignmentSelectorCss2=_interopRequireDefault(_alignmentSelectorCss),marginsToAlignments={"0 auto 0 0":"left","0 auto":"center","0 0 0 auto":"right"},alignmentsToMargins=(0,_underscore.invert)(marginsToAlignments),generateAlignmentCalculation=function(value){var marginMode=!!marginsToAlignments[value];return{alignment:marginsToAlignments[value]||value,calculateAlignment:function(alignment){return marginMode?alignmentsToMargins[alignment]:alignment}}},AlignmentSelector=function(_ref){var value=_ref.value,onChange=_ref.onChange,_generateAlignmentCal=generateAlignmentCalculation(value),alignment=_generateAlignmentCal.alignment,calculateAlignment=_generateAlignmentCal.calculateAlignment;return _react2.default.createElement("div",{className:""+_alignmentSelectorCss2.default["alignment-selections"],"data-align":alignment,"data-role":"alignment-selection"},_react2.default.createElement("span",{className:_alignmentSelectorCss2.default["left-align"],onClick:function(){return onChange(calculateAlignment("left"))}},_react2.default.createElement("i",{className:"sg-icon sg-icon-align-left"})),_react2.default.createElement("span",{className:_alignmentSelectorCss2.default["center-align"],onClick:function(){return onChange(calculateAlignment("center"))}},_react2.default.createElement("i",{className:"sg-icon sg-icon-align-center"})),_react2.default.createElement("span",{className:_alignmentSelectorCss2.default["right-align"],onClick:function(){return onChange(calculateAlignment("right"))}},_react2.default.createElement("i",{className:"sg-icon sg-icon-align-right"})))};exports.default=AlignmentSelector},,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),ColorSwatch=function(_ref){var _cn,color=_ref.color,current=_ref.current,_onClick=_ref.onClick,removeColor=_ref.removeColor,swatch=void 0;return _react2.default.createElement("article",{className:(0,_classnames2.default)(_colorPaletteCss2.default["color-swatch"],(_cn={},_defineProperty(_cn,_colorPaletteCss2.default["current-color-swatch"],current),_defineProperty(_cn,_colorPaletteCss2.default["saved-color-swatch"],removeColor),_cn)),ref:function(_ref2){swatch=_ref2},style:{background:color},onClick:function(event){event.target===swatch&&_onClick(color,event)}},removeColor&&_react2.default.createElement("button",{className:_colorPaletteCss2.default["remove-color"],onClick:removeColor},_react2.default.createElement("i",{className:"sg-icon sg-icon-x"})))};ColorSwatch.propTypes={color:_propTypes2.default.string.isRequired,current:_propTypes2.default.bool,removeColor:_propTypes2.default.func,onClick:_propTypes2.default.func},ColorSwatch.defaultProps={current:!1,onClick:function(){},storageKey:void 0,removeColor:void 0},exports.default=ColorSwatch},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),availableFonts=[{name:"Arial",value:"arial,helvetica,sans-serif"},{name:"Comic Sans MS",value:"comic sans ms,cursive"},{name:"Courier New",value:"courier new,courier,monospace"},{name:"Georgia",value:"georgia,serif"},{name:"Lucida Sans Unicode",value:"lucida sans unicode,lucida grande,sans-serif"},{name:"Tahoma",value:"tahoma,geneva,sans-serif"},{name:"Times New Roman",value:"times new roman,times,serif"},{name:"Trebuchet MS",value:"trebuchet ms,helvetica,sans-serif"},{name:"Verdana",value:"verdana,geneva,sans-serif"}],FontFamilySelect=function(_ref){var value=_ref.value,onChange=_ref.onChange;return _react2.default.createElement(_select2.default,{name:"font-family",displayName:"Font Family",placeholder:"Select Font",data:availableFonts,value:value,onChange:onChange})};exports.default=FontFamilySelect},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_segmentActions=__webpack_require__(186),_segmentActions2=_interopRequireDefault(_segmentActions),_recipientActions=__webpack_require__(106),ContactCountActions={fetchAllCountAndFetchQueryCounts:function(queriesToCount){queriesToCount&&queriesToCount.length&&((0,_listActions.fetchAllCount)(),queriesToCount.forEach(function(q){""!==q.id&&("list"===q.type&&_listActions2.default.fetchListAndCount(q.id),"segment"===q.type&&_segmentActions2.default.fetchSegmentAndCount(q.id))}))},updateAllCounts:function(){(0,_listActions.fetchAllCount)(),_listActions2.default.fetchAllQueries(!0)},deleteSomethingAndUpdateCounts:function(targetToDelete,shouldDeleteQueryContacts){return(0,_listActions.deleteQuery)(targetToDelete,shouldDeleteQueryContacts).then(function(){(0,_listActions.delayRequestForContactCounts)(ContactCountActions.updateAllCounts)})},addContactAndUpdateCounts:function(list,recipient,queriesToCount){return(0,_recipientActions.manualAddToList)(list,recipient).then(function(){(0,_listActions.delayRequestForContactCounts)(ContactCountActions.fetchAllCountAndFetchQueryCounts,[queriesToCount])})}};exports.default=ContactCountActions},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _dropzoneContainer=__webpack_require__(1509),_dropzoneContainer2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_dropzoneContainer);exports.default=_dropzoneContainer2.default},function(module,exports,__webpack_require__){"use strict";function validateFileSizes(files,props){var validFiles=_underscore2.default.reject(files,function(file){return file.size>props.fileSizeLimit});return{validFiles:validFiles,errs:validFiles.length===files.length?[]:[ERRS.FILE_SIZE]}}function validateFileTypes(files,_ref){var _ref$validFileTypes=_ref.validFileTypes,validFileTypes=void 0===_ref$validFileTypes?[]:_ref$validFileTypes,_ref$validFileExtensi=_ref.validFileExtensions,validFileExtensions=void 0===_ref$validFileExtensi?validFileTypes.map(getExtensionFromFileType):_ref$validFileExtensi,validFiles=_underscore2.default.filter(files,function(file){if(_underscore2.default.contains(validFileTypes,file.type))return!0;var _iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=validFileExtensions[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var extension=_step.value;if(file.name.includes("."+extension))return!0}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return!1});return{validFiles:validFiles,errs:validFiles.length===files.length?[]:[ERRS.FILE_TYPE]}}function validateSingleUploadLimit(files,props){var validFiles=files.slice(0,props.singleUploadLimit);return{validFiles:validFiles,errs:validFiles.length===files.length?[]:[ERRS.SINGLE_UPLOAD_LIMIT]}}function validateTotalUploadLimit(files,props){var validFiles=void 0,errs=void 0;return void 0===props.totalUploadLimit||files.length+props.totalUploadCount<=props.totalUploadLimit?(validFiles=files,errs=[]):(validFiles=files.slice(0,props.totalUploadLimit-props.totalUploadCount),errs=[ERRS.TOTAL_UPLOAD_LIMIT]),{validFiles:validFiles,errs:errs}}function validateAll(files,props){var fns=[validateFileTypes,validateFileSizes,validateSingleUploadLimit,validateTotalUploadLimit],validationResults=_underscore2.default.map(fns,function(fn){return fn(files,props)});return{validFiles:_underscore2.default.intersection.apply(null,_underscore2.default.map(validationResults,function(r){return r.validFiles})),errs:_underscore2.default.union.apply(null,_underscore2.default.map(validationResults,function(r){return r.errs}))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ERRS=void 0,exports.validateFileSizes=validateFileSizes,exports.validateFileTypes=validateFileTypes,exports.validateSingleUploadLimit=validateSingleUploadLimit,exports.validateTotalUploadLimit=validateTotalUploadLimit,exports.default=validateAll;var _underscore=__webpack_require__(2),_underscore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_underscore),ERRS=exports.ERRS={FILE_SIZE:"fileSize",FILE_TYPE:"fileType",SINGLE_UPLOAD_LIMIT:"singleUploadLimit",TOTAL_UPLOAD_LIMIT:"totalUploadLimit"},getExtensionFromFileType=function(type){return type.slice(type.indexOf("/")+1)}},function(module,exports,__webpack_require__){var content=__webpack_require__(1520);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),CampaignsStatTypeActions={fetch:function(){$.ajax({url:"/marketing_campaigns/overview/stat_types.json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.STAT_TYPES.FETCHED,statTypes:json})},error:function(){console.error("Ajax error while trying to fetch campaign stat types."),console.log(arguments)}})},activateType:function(type){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.STAT_TYPES.ACTIVATETYPE,type:type})},deactivateType:function(type){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.STAT_TYPES.DEACTIVATETYPE,type:type})}};module.exports=CampaignsStatTypeActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),baseUrl="/marketing_campaigns/tour",TourActions={fetch:function(){$.ajax({url:baseUrl+".json",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TOUR.FETCHED,tourProgress:json})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.TOUR.FETCH_ERROR,notificationType:"danger"}),console.error("Ajax error while trying to fetch tour progress."),console.log(arguments)}})},disable:function(){$.ajax({url:baseUrl+".json",method:"PUT",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.TOUR.DISABLED}),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.TOUR.DISABLE_SUCCESS,notificationType:"success"})},error:function(response){console.error("Ajax error while trying to disable the tour."),console.log(arguments),_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:response.responseJSON.message||_constants2.default.NOTIFICATIONS.TOUR.DISABLE_ERROR,notificationType:"danger"})}})}};module.exports=TourActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_buttons=__webpack_require__(8),InlineEditableForm=_react2.default.createClass({displayName:"InlineEditableForm",propTypes:{makeEditable:_react2.default.PropTypes.func.isRequired,makeUneditable:_react2.default.PropTypes.func.isRequired},onCancelHandler:function(e){e&&e.preventDefault(),this.props.onCancel&&this.props.onCancel(),this.props.makeUneditable()},onSubmit:function(e){this.props.onSubmit&&this.props.onSubmit(e)&&this.props.makeUneditable()},render:function(){var formButtons=this.props.isEditable?_react2.default.createElement("div",{className:"button-group"},_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.onCancelHandler,type:"reset","data-role":"cancel-inline-edit"},"Cancel")," ",_react2.default.createElement(_buttons.PrimaryButton,{type:"submit","data-role":"submit-inline-edit"},"Save")):_react2.default.createElement("div",{className:"button-group"},this.props.children?_react2.default.createElement(_buttons.PrimaryButton,{type:"button","data-role":"start-inline-edit",onClick:this.props.makeEditable},"Edit"):null);return _react2.default.createElement(_form2.default,{onSubmit:this.onSubmit,className:"inline-editable"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8"},_react2.default.createElement("h2",null,this.props.title)),_react2.default.createElement("div",{className:"col-md-4 buttons-container"},formButtons)),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8 inputs-container"},this.props.children)))}});exports.default=InlineEditableForm},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_search=__webpack_require__(374),SearchForm=(0,_formDecorator2.default)(_react2.default.createClass({displayName:"SearchForm",getInitialState:function(){return{searchQuery:this.props.initialQuery}},componentWillReceiveProps:function(newProps){newProps.initialQuery!=this.state.searchQuery&&this.setState({searchQuery:newProps.initialQuery})},onSearchChange:function(e){this.setState({searchQuery:$(e.target).val()})},onSearchSubmit:function(){var _this=this;if(0==this.state.searchQuery.length)return this.props.onClearSearch();this.props.trySubmit(function(){return _this.props.onSearch(_this.state.searchQuery)}),this.props.isValid()||this.props.onInvalidSearch(this.state.searchQuery)},render:function(){return _react2.default.createElement(_form2.default,{onSubmit:this.onSearchSubmit},_react2.default.createElement(_search.Search,_defineProperty({labelText:"Search by email address",shouldShowResultsMenu:!1,onChange:this.onSearchChange,displayName:"Email address",value:this.state.searchQuery,validations:[],shouldValidate:this.props.shouldInputsInitiallyValidate,registerFormInput:this.props.registerFormInput},"labelText","Search by email address")))}}));exports.default=SearchForm},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_formInputs=__webpack_require__(129),_selectable=__webpack_require__(1581),_recipientItem=__webpack_require__(1582),_removeModal=__webpack_require__(603),_removeModal2=_interopRequireDefault(_removeModal),_deleteModal=__webpack_require__(604),_deleteModal2=_interopRequireDefault(_deleteModal),_reactClassUtils=__webpack_require__(7),RecipientListTable=(_class=function(_React$Component){function RecipientListTable(props){_classCallCheck(this,RecipientListTable);var _this=_possibleConstructorReturn(this,(RecipientListTable.__proto__||Object.getPrototypeOf(RecipientListTable)).call(this,props));return _this.state={isSelectAllChecked:props.isSelectAllInitiallyChecked,removeModalActive:!1,deleteModalActive:!1,selectedRecipientId:void 0},_this}return _inherits(RecipientListTable,_React$Component),_createClass(RecipientListTable,[{key:"componentWillReceiveProps",value:function(newProps){if(!_underscore2.default.contains([void 0,this.state.isSelectAllChecked],newProps.isSelectAllInitiallyChecked))return this.toggleAllCheckboxes();var allRecipIDs=_underscore2.default.map(newProps.recipients,function(r){return r.profile.id}),newIDs=_underscore2.default.intersection(allRecipIDs,this.props.selectedKeys);return newIDs.length!==this.props.selectedKeys.length?this.updateSelectedRecipients(newIDs):void 0}},{key:"toggleAllCheckboxes",value:function(){var isChecked=!this.state.isSelectAllChecked,newIDs=isChecked?_underscore2.default.map(this.props.recipients,function(r){return r.profile.id}):[];this.setState({isSelectAllChecked:isChecked}),this.props.onSelectAllChanged(isChecked),this.updateSelectedRecipients(newIDs)}},{key:"toggleCheckboxSelection",value:function(id){var newIDs=this.props.toggleSelectedKey(id);this.updateSelectedRecipients(newIDs)}},{key:"updateSelectedRecipients",value:function(newIDs){return this.props.setSelectedKeys(newIDs),this.props.onSelectedChanged&&this.props.onSelectedChanged(newIDs)}},{key:"showRemoveModal",value:function(selectedRecipientId){this.setState({removeModalActive:!0,selectedRecipientId:selectedRecipientId})}},{key:"showDeleteModal",value:function(selectedRecipientId){this.setState({deleteModalActive:!0,selectedRecipientId:selectedRecipientId})}},{key:"handleCancelRemove",value:function(){this.setState({removeModalActive:!1,selectedRecipientId:void 0})}},{key:"handleCancelDelete",value:function(){this.setState({deleteModalActive:!1,selectedRecipientId:void 0})}},{key:"handleConfirmRemove",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.handleConfirmDelete():(this.props.onRemoveRecipientFromList(this.state.selectedRecipientId),this.handleCancelRemove())}},{key:"handleConfirmDelete",value:function(){this.props.onDeleteRecipient(this.state.selectedRecipientId),this.handleCancelDelete()}},{key:"render",value:function(){var _this2=this;return _react2.default.createElement("section",null,_react2.default.createElement("table",{className:"table-wrap has-checkboxes"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",{className:"table-checkbox"},_react2.default.createElement(_formInputs.CheckboxInput,{isChecked:this.state.isSelectAllChecked,"data-role":"select-all-recipients",id:"select-all-recipients-checkbox",isTableHeader:!0,onClick:this.toggleAllCheckboxes})),_react2.default.createElement("th",null,"Contacts"),_react2.default.createElement("th",null,"Date Added"),_react2.default.createElement("th",{className:"actions"},"Actions"))),_react2.default.createElement("tbody",null,this.props.recipients.map(function(r){var id=r.profile.id,isSelected=_underscore2.default.contains(_this2.props.selectedKeys,id);return _react2.default.createElement(_recipientItem.RecipientItem,{key:"recipient-"+id,recipient:r,isSelected:isSelected,onDelete:_this2.showDeleteModal,onRemoveFromList:_this2.showRemoveModal,toggleCheckboxSelection:_this2.toggleCheckboxSelection,canRemoveFromList:_this2.props.canRemoveRecipientsFromList})}))),_react2.default.createElement(_removeModal2.default,{show:this.state.removeModalActive,handleCancelRemove:this.handleCancelRemove,handleConfirmRemove:this.handleConfirmRemove}),_react2.default.createElement(_deleteModal2.default,{show:this.state.deleteModalActive,handleCancelDelete:this.handleCancelDelete,handleConfirmDelete:this.handleConfirmDelete}))}}]),RecipientListTable}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"toggleAllCheckboxes",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleAllCheckboxes"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleCheckboxSelection",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleCheckboxSelection"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateSelectedRecipients",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"updateSelectedRecipients"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showRemoveModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showRemoveModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelRemove",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelRemove"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelDelete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleConfirmRemove",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleConfirmRemove"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleConfirmDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleConfirmDelete"),_class.prototype),_class);RecipientListTable.propTypes={isSelectAllInitiallyChecked:_propTypes2.default.bool,onSelectAllChanged:_propTypes2.default.func.isRequired,onSelectedChanged:_propTypes2.default.func.isRequired,toggleSelectedKey:_propTypes2.default.func.isRequired,setSelectedKeys:_propTypes2.default.func.isRequired,selectedKeys:_propTypes2.default.arrayOf(_propTypes2.default.string),onDeleteRecipient:_propTypes2.default.func.isRequired,onRemoveRecipientFromList:_propTypes2.default.func,recipients:_propTypes2.default.arrayOf(_propTypes2.default.shape({profile:_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,email:_propTypes2.default.string.isRequired}),meta:_propTypes2.default.shape({date_added:_propTypes2.default.string})})),canRemoveRecipientsFromList:_propTypes2.default.bool},RecipientListTable.defaultProps={isSelectAllInitiallyChecked:!1,recipients:[],selectedKeys:[],onRemoveRecipientFromList:void 0,canRemoveRecipientsFromList:!0},exports.default=(0,_selectable.SelectableSet)(RecipientListTable)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactClassUtils=__webpack_require__(7),_buttons=__webpack_require__(8),_confirmation=__webpack_require__(34),_checkboxInput=__webpack_require__(152),_checkboxInput2=_interopRequireDefault(_checkboxInput),RemoveModal=(_class=function(_React$Component){function RemoveModal(props){_classCallCheck(this,RemoveModal);var _this=_possibleConstructorReturn(this,(RemoveModal.__proto__||Object.getPrototypeOf(RemoveModal)).call(this,props));return _this.state={shouldDeleteContacts:!1},_this}return _inherits(RemoveModal,_React$Component),_createClass(RemoveModal,[{key:"onClickDeleteContactsToggle",value:function(){this.setState({shouldDeleteContacts:!this.state.shouldDeleteContacts})}},{key:"getRemoveMessageText",value:function(){return this.props.isBulkAction?"Are you sure you want to remove these contacts from this list?":"Are you sure you want to remove this contact from the list?"}},{key:"getDeleteMessageText",value:function(){return this.props.isBulkAction?"Permanently delete all selected contacts from my account.":"Permanently delete this contact from my account."}},{key:"getTitleText",value:function(){return this.props.isBulkAction?"Remove Contacts?":"Remove Contact?"}},{key:"handleConfirmRemove",value:function(){this.props.handleConfirmRemove(this.state.shouldDeleteContacts),this.setState({shouldDeleteContacts:!1})}},{key:"handleCancelRemove",value:function(){this.setState({shouldDeleteContacts:!1}),this.props.handleCancelRemove()}},{key:"render",value:function(){return _react2.default.createElement(_confirmation.ConfirmationModal,{show:this.props.show,onCancel:this.handleCancelRemove},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},this.getTitleText()),_react2.default.createElement(_confirmation.ConfModalBody,null,this.getRemoveMessageText(),_react2.default.createElement("br",null),_react2.default.createElement("br",null),_react2.default.createElement(_checkboxInput2.default,{id:"toggle-delete-contacts","data-role":"toggle-delete-contacts",onClick:this.onClickDeleteContactsToggle,isChecked:this.state.shouldDeleteContacts,labelText:this.getDeleteMessageText()})),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{"data-dismiss-modal":!0,"data-role":"cancel-remove"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.handleConfirmRemove,"data-dismiss-modal":!0,"data-role":"confirm-remove"},"Confirm")))}}]),RemoveModal}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onClickDeleteContactsToggle",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onClickDeleteContactsToggle"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getRemoveMessageText",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getRemoveMessageText"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getDeleteMessageText",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getDeleteMessageText"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getTitleText",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getTitleText"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleConfirmRemove",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleConfirmRemove"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelRemove",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelRemove"),_class.prototype),_class);RemoveModal.propTypes={show:_propTypes2.default.bool.isRequired,handleCancelRemove:_propTypes2.default.func.isRequired,handleConfirmRemove:_propTypes2.default.func.isRequired,isBulkAction:_propTypes2.default.bool},RemoveModal.defaultProps={isBulkAction:!1},exports.default=RemoveModal},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getDeleteMessageText(props){return props.isBulkAction?"Are you sure you want to delete these contacts from your account?":"Are you sure you want to delete this contact from your account?"}function getTitleText(props){return props.isBulkAction?"Delete Contacts?":"Delete Contact?"}function DeleteModal(props){return _react2.default.createElement(_confirmation.ConfirmationModal,{show:props.show,onCancel:props.handleCancelDelete},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},getTitleText(props)),_react2.default.createElement(_confirmation.ConfModalBody,null,getDeleteMessageText(props)),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{"data-dismiss-modal":!0,"data-role":"cancel-delete"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:props.handleConfirmDelete,"data-dismiss-modal":!0,"data-role":"confirm-delete"},"Confirm")))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_buttons=__webpack_require__(8),_confirmation=__webpack_require__(34);DeleteModal.propTypes={show:_propTypes2.default.bool.isRequired,handleCancelDelete:_propTypes2.default.func.isRequired,handleConfirmDelete:_propTypes2.default.func.isRequired,isBulkAction:_propTypes2.default.bool},DeleteModal.defaultProps={isBulkAction:!1},exports.default=DeleteModal},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_collection=[],_hasFetchedCollection=!1,initState=function(){_hasFetchedCollection=!1,_collection=[]},setCollection=function(collection){_collection=collection,_hasFetchedCollection=!0},addItem=function(item){_collection.push(item)},removeItem=function(id){_collection=_underscore2.default.reject(_collection,function(item){return item.id==id})},NotificationEmailsStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return _hasFetchedCollection},getCollection:function(){return _collection},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.NOTIFICATION_EMAILS.FETCHED:setCollection(action.notificationEmails),NotificationEmailsStore.emitChange();break;case _constants2.default.ACTIONS.NOTIFICATION_EMAILS.CREATED:addItem(action.notificationEmail),NotificationEmailsStore.emitChange();break;case _constants2.default.ACTIONS.NOTIFICATION_EMAILS.DELETED:removeItem(action.id),NotificationEmailsStore.emitChange()}}});initState(),NotificationEmailsStore.dispatchToken=_appDispatcher2.default.register(NotificationEmailsStore.dispatcherCb),module.exports=NotificationEmailsStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_pageTransitionActions=__webpack_require__(459),_pageTransitionActions2=_interopRequireDefault(_pageTransitionActions),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_jsCookie=__webpack_require__(306),_jsCookie2=_interopRequireDefault(_jsCookie),isValidXHR=function(jqXHR){return!!jqXHR||(console.warn("Valid jqXHR is required."),!1)},Ajax=function(){function Ajax(){_classCallCheck(this,Ajax)}return _createClass(Ajax,null,[{key:"handleMakoUnauthorized",value:function(jqXHR){var params=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(isValidXHR(jqXHR)){var onFail=function(xhr){403===xhr.status&&(params.scopeGroup=params.scopeGroup||_constants2.default.SCOPES.MARKETING_CAMPAIGNS.GROUP,params.fromPage=window.location.href,params.isMakoUnauthorized=!0,_pageTransitionActions2.default.transition(params),_locationUtils2.default.router.replace("/marketing_campaigns/ui/error/401"))};return jqXHR.then(function(){return!1},onFail),jqXHR}}},{key:"handleSubuserImpersonation",value:function(jqXHR){if(isValidXHR(jqXHR)){var impersonatingUsername=_jsCookie2.default.get("sendgrid-impersonating-username");if(impersonatingUsername)return jqXHR.setRequestHeader("On-behalf-of",impersonatingUsername),jqXHR}}},{key:"handle",value:function(jqXHR){var handlers=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],params=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(isValidXHR(jqXHR)&&!(handlers.length<=0))return _underscore2.default.each(handlers,function(handler){return handler(jqXHR,params)}),jqXHR}}]),Ajax}();module.exports=Ajax},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_accordion=__webpack_require__(107),_textInput=__webpack_require__(18),SettingsAccordion=_react2.default.createClass({displayName:"SettingsAccordion",propTypes:{onChange:_react2.default.PropTypes.func.isRequired,name:_react2.default.PropTypes.string.isRequired,showPreheader:_react2.default.PropTypes.bool.isRequired,onPreheaderChange:_react2.default.PropTypes.func.isRequired,preheader:_react2.default.PropTypes.string.isRequired,subject:_react2.default.PropTypes.string,showSubject:_react2.default.PropTypes.bool.isRequired},getInitialState:function(){return{openPanelNames:["template-settings"]}},onPanelToggle:function(panelName,doesAllowMultipleOpenPanels){this.setState({openPanelNames:_accordion.AccordionUtils.getOpenPanelsOnToggle(panelName,doesAllowMultipleOpenPanels,this.state.openPanelNames)})},render:function(){return _react2.default.createElement(_accordion.Accordion,{onPanelToggleCb:this.onPanelToggle,openPanelNames:this.state.openPanelNames,shouldShowCaretsOnLeft:!0,doesAllowMultipleOpenPanels:!0,isEditor:!0},_react2.default.createElement(_accordion.AccordionPanel,{name:"template-settings"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Template Settings")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement("section",{className:"template-settings"},_react2.default.createElement(_textInput.TextInput,{name:"name",displayName:"Template Name",validations:["required"],value:this.props.name,onChange:this.props.onChange,"data-role":"template-name"}),this.props.showSubject?_react2.default.createElement(_textInput.TextInput,{name:"subject",displayName:"Email Subject",validations:["required"],value:this.props.subject,onChange:this.props.onChange,"data-role":"email-subject"}):null,this.props.showPreheader?_react2.default.createElement(_textInput.TextArea,{name:"preheader","data-role":"template-preheader",displayName:"Email Preheader",value:this.props.preheader,onChange:this.props.onPreheaderChange}):null))))}});exports.default=SettingsAccordion},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_baseStore=__webpack_require__(124),_baseStore2=_interopRequireDefault(_baseStore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_plainTextUtils=__webpack_require__(154),_plainTextUtils2=_interopRequireDefault(_plainTextUtils),contentTemplate={html_content:"Loading...",plain_content:"Loading...",subject:"Loading...",name:"Loading..."},_contents=void 0,initState=function(){_contents=_underscore2.default.clone(contentTemplate)},TemplateContentsStore=_underscore2.default.extend({},_baseStore2.default,{editContents:function(field,val){_contents[field]=val},setContentsFromDB:function(contents){_contents=contents},getSerializedContents:function(){return TemplateContentsStore.editContents("html_content",_moduleStore2.default.getSerializedModuleContents()),_underscore2.default.clone(_contents)},getContents:function(){return _underscore2.default.clone(_contents)},clear:function(){initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.TEMPLATES.EDITOR.EDIT_TEMPLATE_CONTENTS:TemplateContentsStore.editContents(action.field,action.value),TemplateContentsStore.emitChange();break;case _constants2.default.ACTIONS.TEMPLATES.EDITOR.SYNC_TEMPLATE_CONTENTS:TemplateContentsStore.editContents("html_content",action.value),action.syncPlainContent&&TemplateContentsStore.editContents("plain_content",_plainTextUtils2.default.htmlToPlain(action.value)),TemplateContentsStore.emitChange();break;case _constants2.default.ACTIONS.TEMPLATES.CONTENT_FETCHED:TemplateContentsStore.setContentsFromDB(action.template),TemplateContentsStore.emitChange()}}});initState(),TemplateContentsStore.dispatchToken=_appDispatcher2.default.register(TemplateContentsStore.dispatcherCb),exports.default=TemplateContentsStore},function(module,exports,__webpack_require__){var content=__webpack_require__(1620);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function RecipientsInfo(props){if(!_listStore2.default.getHasFetchedCollection())return _react2.default.createElement("span",null,"Loading lists and segments...");if(!_listStore2.default.getHasFetchedCollectionWithCounts())return _react2.default.createElement("span",null,"Loading counts...");if(!props.recipients)return null;var HIDDEN_QUERIES_COUNT=props.recipients.length-2,getTooltipForAdditionalQueries=function(){return props.recipients.length>2?_react2.default.createElement("li",{className:"query-item hidden-queries"},_react2.default.createElement(_tooltip2.default,{content:getQueryNames(2,props.recipients.length)},"+ "+HIDDEN_QUERIES_COUNT+" more")):null},getQueryNames=function(start,end){var shouldShowTooltip=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _react2.default.createElement("ul",{className:"query-list"},_underscore2.default.map(props.recipients.slice(start,end),function(queryName,i){return _react2.default.createElement("li",{key:i,className:"query-item"},queryName)}),shouldShowTooltip?getTooltipForAdditionalQueries():null)};return getQueryNames(0,2,!0)}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore);exports.default=RecipientsInfo},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_buttons=__webpack_require__(8),_confirmationOverlayCss=__webpack_require__(1629),_confirmationOverlayCss2=_interopRequireDefault(_confirmationOverlayCss),ConfirmationOverlay=function(props){return _react2.default.createElement("div",{className:_confirmationOverlayCss2.default["confirmation-overlay"],"data-role":props.dataRole},_react2.default.createElement("header",{className:"title"},_react2.default.createElement("h2",null,props.titleText)),_react2.default.createElement("main",{className:"message"},_react2.default.createElement("p",null,props.messageText),props.children),_react2.default.createElement("footer",{className:"actions"},props.cancelCb?_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:props.cancelCb},props.cancelButtonText):null,props.confirmCb?_react2.default.createElement(_buttons.CustomButton,{buttonClassName:function(){return props.isDangerousConfirmation?"btn-small btn-danger":"btn-small btn-primary"}(),onClick:props.confirmCb},props.confirmButtonText):null))};ConfirmationOverlay.propTypes={cancelCb:_react2.default.PropTypes.func,confirmCb:_react2.default.PropTypes.func,isDangerousConfirmation:_react2.default.PropTypes.bool,cancelButtonText:_react2.default.PropTypes.string,confirmButtonText:_react2.default.PropTypes.string,titleText:_react2.default.PropTypes.string,messageText:_react2.default.PropTypes.string},ConfirmationOverlay.defaultProps={cancelButtonText:"Cancel",confirmButtonText:"Confirm",isDangerousConfirmation:!1},exports.default=ConfirmationOverlay},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),MaintenanceMessageActions={fetch:function(){$.ajax({url:"https://uiux.s3.amazonaws.com/nlvx/"+(_locationUtils2.default.isInStaging()?"staging_":"")+"maintenance_message.json",method:"GET"}).done(function(message){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.MAINTENANCE_MESSAGE.FETCHED,message:message})})}};exports.default=MaintenanceMessageActions},function(module,exports,__webpack_require__){__webpack_require__(614),module.exports=__webpack_require__(819)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function renderApp(NewRouter){_reactDom2.default.render(_react2.default.createElement(NewRouter,null),document.querySelectorAll('[data-role="main-app-container"]')[0])}var _reactRouter=__webpack_require__(27),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDom=__webpack_require__(208),_reactDom2=_interopRequireDefault(_reactDom),_appRouter=__webpack_require__(929),_appRouter2=_interopRequireDefault(_appRouter),_fullScreenContainer=__webpack_require__(1650),_fullScreenContainer2=_interopRequireDefault(_fullScreenContainer),_maintenanceMessageActions=__webpack_require__(612),_maintenanceMessageActions2=_interopRequireDefault(_maintenanceMessageActions);(0,_interopRequireDefault(__webpack_require__(1657)).default)(),$(document).ready(function(){_reactRouter.browserHistory.listen(function(){return _maintenanceMessageActions2.default.fetch()}),_reactDom2.default.render(_react2.default.createElement(_fullScreenContainer2.default,null),document.querySelectorAll("[data-role=mc-full-screen-container]")[0]),renderApp(_appRouter2.default)})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AppRouter(){return _react2.default.createElement(_reactRouter.Router,{history:_reactRouter.browserHistory,onUpdate:_appRouterHelper.onRouterUpdate},_react2.default.createElement(_reactRouter.Route,{path:"/",component:_app.App},_react2.default.createElement(_reactRouter.Route,{path:"templates",component:(0,_clearNotificationsOnUnmount2.default)(_app7.App)},_react2.default.createElement(_reactRouter.Route,{path:":id/versions/:version_id/preview",component:_preview.Preview}),_react2.default.createElement(_reactRouter.Route,{path:":id/new",component:_newView4.NewView})),_react2.default.createElement(_reactRouter.Route,{path:"templates/ui",component:_app.App},_react2.default.createElement(_reactRouter.Route,{path:":id/versions/:version_id/edit",component:(0,_clearNotificationsOnUnmount2.default)(_transactionalEditor2.default)},_react2.default.createElement(_reactRouter.Route,{path:"image_manager",component:_imageManager2.default}),_react2.default.createElement(_reactRouter.Route,{path:"htmlhead",component:_editHtmlHead2.default}),_react2.default.createElement(_reactRouter.Route,{path:"importhtml",component:_importHtml2.default}),_react2.default.createElement(_reactRouter.Route,{path:"edit_module_html",component:_editModuleHtml2.default}))),_react2.default.createElement(_reactRouter.Redirect,{from:"marketing_campaigns/ui",to:"marketing_campaigns/ui/campaigns"}),_react2.default.createElement(_reactRouter.Route,{path:"marketing_campaigns/ui",component:_app.MCApp},_react2.default.createElement(_reactRouter.IndexRedirect,{to:"campaigns"}),_react2.default.createElement(_reactRouter.Route,{path:"custom_fields",component:(0,_clearNotificationsOnUnmount2.default)(_app2.App)},_react2.default.createElement(_reactRouter.Route,{path:"new",component:_newView2.NewView})),_react2.default.createElement(_reactRouter.Route,{path:"campaigns",component:(0,_clearNotificationsOnUnmount2.default)(_index2.default)},_react2.default.createElement(_reactRouter.Route,{path:"new",component:_newView.NewView}),_react2.default.createElement(_reactRouter.Route,{path:":id/preview",component:_previewModal2.default})),_react2.default.createElement(_reactRouter.Route,{path:"campaigns/:id"},_react2.default.createElement(_reactRouter.Route,{path:"edit",component:(0,_clearNotificationsOnUnmount2.default)(_campaignEditor2.default)},_react2.default.createElement(_reactRouter.Route,{path:"image_manager",component:_imageManager2.default}),_react2.default.createElement(_reactRouter.Route,{path:"htmlhead",component:_editHtmlHead2.default}),_react2.default.createElement(_reactRouter.Route,{path:"importhtml",component:_importHtml2.default}),_react2.default.createElement(_reactRouter.Route,{path:"send",component:_sendConfirmation2.default}),_react2.default.createElement(_reactRouter.Route,{path:"edit_module_html",component:_editModuleHtml2.default}))),_react2.default.createElement(_reactRouter.Route,{path:"campaigns/:id/recipients"},_react2.default.createElement(_reactRouter.Route,{path:"opened",component:(0,_clearNotificationsOnUnmount2.default)(_campaignStatSegments.OpensView)}),_react2.default.createElement(_reactRouter.Route,{path:"clicked",component:(0,_clearNotificationsOnUnmount2.default)(_campaignStatSegments.ClicksView)}),_react2.default.createElement(_reactRouter.IndexRedirect,{to:"opened"})),_react2.default.createElement(_reactRouter.Route,{path:"contacts",component:(0,_clearNotificationsOnUnmount2.default)(_contacts2.default)}),_react2.default.createElement(_reactRouter.Route,{path:"contacts/segment(/:listId)",component:(0,_clearNotificationsOnUnmount2.default)(_newSegment2.default)}),_react2.default.createElement(_reactRouter.Route,{path:"contacts/manual_add",component:(0,_clearNotificationsOnUnmount2.default)(_manualAdd2.default)}),_react2.default.createElement(_reactRouter.Route,{path:"contacts/upload_csv",component:(0,_clearNotificationsOnUnmount2.default)(_uploadCsv2.default)}),_react2.default.createElement(_reactRouter.Route,{path:"marketing_templates",component:(0,_clearNotificationsOnUnmount2.default)(_app8.App)},_react2.default.createElement(_reactRouter.Route,{path:":id/preview",component:_preview2.Preview}),_react2.default.createElement(_reactRouter.Route,{path:"new",component:_newView5.NewView})),_react2.default.createElement(_reactRouter.Route,{path:"marketing_templates/:id/edit",component:(0,_clearNotificationsOnUnmount2.default)(_marketingTemplateEditor2.default)},_react2.default.createElement(_reactRouter.Route,{path:"image_manager",component:_imageManager2.default}),_react2.default.createElement(_reactRouter.Route,{path:"htmlhead",component:_editHtmlHead2.default}),_react2.default.createElement(_reactRouter.Route,{path:"importhtml",component:_importHtml2.default}),_react2.default.createElement(_reactRouter.Route,{path:"edit_module_html",component:_editModuleHtml2.default})),_react2.default.createElement(_reactRouter.Route,{path:"senders",component:(0,_clearNotificationsOnUnmount2.default)(_sendersList2.default)},_react2.default.createElement(_reactRouter.Route,{path:"new",component:_editModal2.default}),_react2.default.createElement(_reactRouter.Route,{path:":id/edit",component:_editModal2.default})),_react2.default.createElement(_reactRouter.Route,{path:"welcome",component:(0,_clearNotificationsOnUnmount2.default)(_app3.WelcomeApp)}),_react2.default.createElement(_reactRouter.Route,{path:"tour",component:(0,_clearNotificationsOnUnmount2.default)(_app3.TourApp)}),_react2.default.createElement(_reactRouter.Route,{path:"overview",component:(0,_clearNotificationsOnUnmount2.default)(_app3.OverviewApp)}),_react2.default.createElement(_reactRouter.Route,{path:"recipients",component:_app4.App},_react2.default.createElement(_reactRouter.Route,{path:":id",component:(0,_clearNotificationsOnUnmount2.default)(_recipient2.default)})),_react2.default.createElement(_reactRouter.Route,{path:"segments",component:_app5.App},_react2.default.createElement(_reactRouter.Route,{path:":id",component:(0,_clearNotificationsOnUnmount2.default)(_segment2.default)})),_react2.default.createElement(_reactRouter.Route,{path:"all_contacts",component:(0,_clearNotificationsOnUnmount2.default)(_allContacts2.default)}),_react2.default.createElement(_reactRouter.Route,{path:"lists/:id",component:(0,_clearNotificationsOnUnmount2.default)(_list.List)}),_react2.default.createElement(_reactRouter.Route,{path:"notifications",component:(0,_clearNotificationsOnUnmount2.default)(_app6.App)},_react2.default.createElement(_reactRouter.Route,{path:"new",component:_newView3.NewView})),_react2.default.createElement(_reactRouter.Route,{path:"error",component:(0,_clearNotificationsOnUnmount2.default)(_errorsApp.App)},_react2.default.createElement(_reactRouter.Route,{path:"401",component:_errorsApp.ErrorPage401}),_react2.default.createElement(_reactRouter.Route,{path:"404",component:_errorsApp.ErrorPage404}),_react2.default.createElement(_reactRouter.Route,{path:"500",component:_errorsApp.ErrorPage500}))),_react2.default.createElement(_reactRouter.Redirect,{from:"*",to:"/marketing_campaigns/ui/error/404"})))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=AppRouter;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_appRouterHelper=__webpack_require__(930),_clearNotificationsOnUnmount=__webpack_require__(941),_clearNotificationsOnUnmount2=_interopRequireDefault(_clearNotificationsOnUnmount),_app=__webpack_require__(942),_errorsApp=__webpack_require__(1043),_editModal=__webpack_require__(1049),_editModal2=_interopRequireDefault(_editModal),_sendersList=__webpack_require__(1070),_sendersList2=_interopRequireDefault(_sendersList),_index=__webpack_require__(1081),_index2=_interopRequireDefault(_index),_newView=__webpack_require__(1112),_previewModal=__webpack_require__(1127),_previewModal2=_interopRequireDefault(_previewModal),_campaignStatSegments=__webpack_require__(1270),_campaignEditor=__webpack_require__(1285),_campaignEditor2=_interopRequireDefault(_campaignEditor),_contacts=__webpack_require__(1482),_contacts2=_interopRequireDefault(_contacts),_newSegment=__webpack_require__(1498),_newSegment2=_interopRequireDefault(_newSegment),_manualAdd=__webpack_require__(1499),_manualAdd2=_interopRequireDefault(_manualAdd),_uploadCsv=__webpack_require__(1505),_uploadCsv2=_interopRequireDefault(_uploadCsv),_app2=__webpack_require__(1539),_newView2=__webpack_require__(1544),_app3=__webpack_require__(1545),_app4=__webpack_require__(1565),_recipient=__webpack_require__(1566),_recipient2=_interopRequireDefault(_recipient),_app5=__webpack_require__(1574),_segment=__webpack_require__(1575),_segment2=_interopRequireDefault(_segment),_allContacts=__webpack_require__(1578),_allContacts2=_interopRequireDefault(_allContacts),_list=__webpack_require__(1583),_app6=__webpack_require__(1586),_newView3=__webpack_require__(1589),_app7=__webpack_require__(1590),_preview=__webpack_require__(1600),_newView4=__webpack_require__(1604),_transactionalEditor=__webpack_require__(1605),_transactionalEditor2=_interopRequireDefault(_transactionalEditor),_app8=__webpack_require__(1606),_preview2=__webpack_require__(1612),_newView5=__webpack_require__(1613),_marketingTemplateEditor=__webpack_require__(1615),_marketingTemplateEditor2=_interopRequireDefault(_marketingTemplateEditor),_editHtmlHead=__webpack_require__(1616),_editHtmlHead2=_interopRequireDefault(_editHtmlHead),_editModuleHtml=__webpack_require__(1621),_editModuleHtml2=_interopRequireDefault(_editModuleHtml),_importHtml=__webpack_require__(1622),_importHtml2=_interopRequireDefault(_importHtml),_sendConfirmation=__webpack_require__(1625),_sendConfirmation2=_interopRequireDefault(_sendConfirmation),_imageManager=__webpack_require__(1634),_imageManager2=_interopRequireDefault(_imageManager)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function onRouterUpdate(){var router=_locationUtils2.default.router;if(router){var pathParts=_underscore2.default.map(router.routes,function(r){return r.path});if(!(pathParts.length>2&&"error"===pathParts[2])){var isMCPath=pathParts[1].match("marketing_campaigns"),isMakoUnauthorized=!_currentUserStore2.default.getHasAccess(),pageTransitionOpts={scopeGroup:isMCPath?_constants2.default.SCOPES.MARKETING_CAMPAIGNS.GROUP:_constants2.default.SCOPES.TRANSACTIONAL_TEMPLATES.GROUP,title:isMCPath?_constants2.default.SCOPES.MARKETING_CAMPAIGNS.TITLE:_constants2.default.SCOPES.TRANSACTIONAL_TEMPLATES.TITLE,isMakoUnauthorized:isMakoUnauthorized,fromPage:router.location.pathname};_pageTransitionActions2.default.transition(pageTransitionOpts),isMakoUnauthorized&&router.replace("/marketing_campaigns/ui/error/401")}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.onRouterUpdate=onRouterUpdate;var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_pageTransitionActions=__webpack_require__(459),_pageTransitionActions2=_interopRequireDefault(_pageTransitionActions),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils);exports.default=onRouterUpdate},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var NOTIFICATIONS={SENDER_IDENTITIES:{FETCH_ERROR:"Unable to load your sender identities.",CREATE_SUCCESS:"Your sender identity was successfully created.",CREATE_ERROR:"Your sender identity could not be created.",DELETE_SUCCESS:"Your sender identity was successfully deleted.",DELETE_ERROR:"Your sender identity could not be deleted.",UPDATE_SUCCESS:"Your sender identity was successfully updated.",UPDATE_ERROR:"Your sender identity could not be updated.",VERIFICATION_EMAIL_SUCCESS:"A verification email has been resent.",VERIFICATION_EMAIL_ERROR:"Unable to resend verification email. :("},IP_POOLS:{FETCH_ERROR:"Unable to load your IP pools."},CAMPAIGNS:{FETCH_ERROR:"Unable to load your campaigns.",GET_BY_ID_ERROR:"Unable to load your campaign data.",CANCEL_ERROR:"Unfortunately your campaign has already been sent and cannot be canceled.",DELETE_SUCCESS:"Your campaign was successfully deleted.",DELETE_ERROR:"Your campaign could not be deleted.",DELETE_BULK_SUCCESS:"Success! You've deleted your campaign(s).",DELETE_BULK_ERROR:"We're sorry, we were unable to delete your campaign(s). Please retry in a few minutes.",SAVE_SUCCESS:"You've successfully saved this campaign.",SEND_SUCCESS:"Congrats! You've sent your campaign.",TEST_SEND_SUCCESS:"Congrats! You've sent your test.",SEND_ERROR:"We encountered an error sending your campaign. Please try again.",SAVE_ERROR:"Error saving campaign. Please try again.",SCHEDULE_SUCCESS:"Congrats! You've scheduled your campaign.",SCHEDULE_ERROR:"We encountered an error scheduling your campaign. Please try again.",VALIDATION_ERROR:"We encountered an error while validating your campaign.",UNSCHEDULE_ERROR:"We were unable to unschedule your campaign.",UNDO_SEND_ERROR:"We were unable to undo the send for your campaign.",FORBIDDEN_SAVE_ERROR:"This campaign can no longer be edited.",CREATE:{NO_TEMPLATE_SELECTED:"Please choose a template.",NO_HTML_ENTERED:"Please enter custom html."},AB:{GET_DATA_ERROR:"Error loading AB menu options data."}},CUSTOM_FIELDS:{FETCH_ERROR:"Unable to load your custom fields.",CREATE_SUCCESS:"Your custom field was successfully created.",CREATE_ERROR:"Your custom field could not be created.",DELETE_SUCCESS:"Your custom field was successfully deleted.",DELETE_ERROR:"Your custom field could not be deleted."},TOUR:{FETCH_ERROR:"Unable to load your tour progress.",DISABLE_SUCCESS:"You've successfully disabled the tour.",DISABLE_ERROR:"The tour could not be disabled at this time."},LIST:{EXPORTED:"We're prepping your export now! Depending on the number of contacts, this may take a while. You'll receive an email notification to download the file when we're done.",FETCH_ERROR:"Unable to load list details",UPDATE_NAME_ERROR:"Unable to update list name.",DELETE_ERROR:"Your list could not be deleted.",EXPORT_ERROR:"Unable to export the selected list."},LISTS:{FETCH_ERROR:"Unable to load your list data."},RECIPIENTS:{GET_ALL_CONTACTS_ERROR:"Unable to load all contacts.",GET_BY_ID_ERROR:"Unable to load the requested contact.",GET_BY_LIST_ID_ERROR:"Unable to load the requested contacts in list.",REMOVE_SUCCESS:"Your contact was successfully removed from the list.",REMOVE_ERROR:"Your contact could not be removed from the list.",DELETE_SUCCESS:"Your contact was successfully deleted.",DELETE_ERROR:"Your contact could not be deleted.",DELETE_MANY_SUCCESS:"Your contacts were successfully deleted.",DELETE_MANY_ERROR:"Your contacts could not be deleted.",REMOVE_MANY_SUCCESS:"Your contacts were successfully removed from the list.",REMOVE_MANY_ERROR:"Your contacts could not be removed from the list.",UPDATE_SUCCESS:"Your contact was successfully updated.",UPDATE_ERROR:"Your contact could not be updated.",LIST_EXPORT_ERROR:"Unable to export list as csv.",DELETE_ALL_ERROR:"Unable to delete all contacts."},SEGMENT:{CREATED:"Your segment was successfully created.",EXPORTED:"We're prepping your export now! Depending on the number of contacts, this may take a while. You'll receive an email notification to download the file when we're done.",FETCH_ERROR:"Unable to load segment details.",DELETE_ERROR:"Your segment could not be deleted.",EXPORT_ERROR:"Unable to export the selected segment."},SEGMENTS:{FAILED_TO_LOAD_ERROR:"Unable to load the requested segment."},NOTIFICATION_EMAILS:{FETCH_ERROR:"Unable to load your notification recipients.",DELETE_SUCCESS:"Success! You've deleted this notification recipient.",DELETE_ERROR:"Your notification recipient could not be deleted.",CREATE_SUCCESS:"Success! You've added a new notification recipient.",CREATE_ERROR:'Your notification recipient could not be created."'},MARKETING_TEMPLATES:{FETCH_ERROR:"Unable to load your marketing templates.",DELETE_SUCCESS:"Success! Your template was deleted.",DELETE_ERROR:"Your marketing template could not be deleted.",CAMPAIGN_CREATION_SUCCESS:"Your new campaign was successfully created.",CAMPAIGN_CREATION_ERROR:"Unable to create a campaign from the selected marketing template.",SAVE:"The template was successfully saved.",SAVE_ERROR:"We're sorry, we were unable to save your template. Please retry in a few minutes. "},TRANSACTIONAL_TEMPLATES:{FETCH_ERROR:"Unable to load your transactional templates.",VERSION_DELETE_SUCCESS:"Your template version was successfully deleted.",VERSION_DELETE_ERROR:"Your template version could not be deleted.",SAVE:"The template was successfully saved.",SAVE_ERROR:"We're sorry, we were unable to save your template. Please retry in a few minutes. "},CURRENT_USER:{FETCH_ERROR:"Unable to load your profile data.",FETCH_TIMEZONE_ERROR:"Unable to load your timezone settings."},SUPPRESSION_GROUPS:{FETCH_ERROR:"Unable to load your unsubscribe groups."},SESSION_EXPIRED:"Your session has expired and you have been logged out of your SendGrid account.",UPLOADS:{CSV_PARSE_FAILED:"We encountered an error attempting to process your CSV file. Please ensure the file is a valid CSV file before trying again.",CSV_NO_EMAIL:'We were unable to detect an email column in the CSV file headers. The email column must always have a header of "email".',CSV_FAILED:"Unable to save your csv.",CSV_SUCCESS:"We're processing your upload. When it's complete, we'll send an email to your",CSV_UPLOAD_ACTION_TEXT_SUCCESS:"notification email address(es)."}};exports.default=NOTIFICATIONS},function(module,exports,__webpack_require__){"use strict";var ACTIONS={MAINTENANCE_MESSAGE:{FETCHED:"maintenanceMessageFetched"},NOTIFICATION:{CLEAR:"notificationClear",CLEAR_ALL:"notificationClearAll",CLEAR_ALL_FOR_ROUTE:"notificationClearAllForRoute",SET:"notificationSet"},SENDER_IDENTITIES:{CREATED:"senderIdentityCreated",DELETED:"senderIdentityDeleted",FETCHED:"senderIdentityFetched",GOT_BY_ID:"senderIdentityGotById",UPDATED:"senderIdentityUpdated"},IP_POOLS:{FETCHED:"ipPoolsFetched"},CUSTOM_FIELDS:{CREATED:"customFieldCreated",DELETED:"customFieldDeleted",FETCHED:"customFieldsFetched"},RESERVED_FIELDS:{FETCHED:"reservedFieldsFetched"},RECIPIENTS:{GOT_ALL_CONTACTS:"recipientsGotAllContacts",GOT_BY_ID:"recipientGotByID",GOT_BY_LIST_ID:"recipientsGotByListId",SEARCHED_BY_EMAIL:"recipientsSearchedByEmail",FETCHED_WITH_CONDITIONS:"recipientsFetchedWithConditions",DELETED:"recipientDeleted",REMOVED_FROM_LIST:"recipientRemoved",DELETED_MANY:"recipientDeletedMany",REMOVED_MANY:"recipientRemovedMany",UPDATED:"recipientUpdated",CMP_UNMOUNTED:"actionRecipientsCmpUnmounted"},LIST:{FETCHED:"listFetchedByID",UPDATED_NAME:"listNameUpdated"},LISTS:{FETCHED:"listsFetched"},SEGMENT:{FETCHED:"segmentFetchedByID"},SEGMENTS:{CREATED:"segmentCreated",UPDATED:"segmentUpdated"},QUERIES:{FETCHED:"queriesFetched",ALL_COUNT_FETCHED:"queriesAllCountFetched",DELETED_BATCH:"queriesDeletedBatch",DELETED:"queryDeleted",LOADING_QUERY_COUNT:"queryCountIsLoading"},TOUR:{FETCHED:"tourFetched",DISABLED:"tourDisabled"},CAMPAIGNS:{FETCHED_ALL:"campaignsFetchedAll",FETCHED:"campaignsFetched",FETCHED_CAMPAIGN_QUERIES:"campaignsFetchedCampaignQueries",FETCHED_STATUSES:"campaignsFetchedStatuses",FILTERED:"campaignListFiltered",CLEAR_FILTERS:"campaignListClearFilters",STAT_SWITCHED:"campaignListStatTypeSwitched",CREATED:"campaignCreated",DELETED:"campaignDeleted",UNSCHEDULED:"campaignUnscheduled",CANCELED:"campaignCanceled",FETCHED_ALL_CAMPAIGN_CATEGORIES:"campaignsFetchedAllCatgeories",GOT_BY_ID:"campaignGotById",SAVED:"campaignSaved",SEND:"campaignSent",SEND_TEST:"campaignTestSent",STAT_TYPES:{FETCHED:"campaignsStatTypesFetched",ACTIVATETYPE:"campaignsStatActivated",DEACTIVATETYPE:"campaignsStatDeactivated"},TOTAL_STATS:{FETCHED:"campaignsTotalStatsFetched"},STATS:{FETCHED:"campaignsStatsFetched"},AB:{GOT_DATA:"gotABData"},EDITOR:{ACTIVE_MODULE_UPDATED:"editorActiveModuleUpdated",ALL_MODULES_OF_TYPE_UPDATED:"editorAllModulesOfTypeUpdated",BODY_PROPS_UPDATED:"editorBodyPropsUpdated",CONTENT_CONTAINER_PROPS_UPDATED:"editorContentContainerPropsUpdated",MODULE_UPDATED_AT_INDEX:"editorModuleUpdatedAtIndex",EDIT_CAMPAIGN_CONTENTS:"editCampaignContents",SYNC_CAMPAIGN_CONTENTS:"syncCampaignContents",SYNC_HTML_TO_PLAIN:"syncHtmlToPlain",EDIT_CAMPAIGN_SETTINGS:"editCampaignSettings",EDIT_CAMPAIGN_SETTINGS_VALUE:"editCampaignSettingsValue",EDIT_SCHEDULE_SETTINGS:"editScheduleSettings",EDIT_RECIPIENT_SETTINGS:"editRecipientSettings",PREHEADER_UPDATED:"editorPreheaderUpdated",MODULE_SELECTED:"editorModuleSelected",MODULE_DESELECTED:"editorModuleDeselected",MODULE_DROPPED:"editorModuleDropped",MODULE_MOVED:"editorModuleMoved",MODULE_HOVERED:"editorModuleHovered",MODULE_DELETED:"editorModuleDeleted",MODULE_DUPLICATED:"editorModuleDuplicated",MODULE_DRAG_STARTED:"editorModuleDragStarted",MODULE_DRAG_ENDED:"editorModuleDragEnded",WYSIWYGABLE_FOCUSED:"editorWysiwygableFocused",WYSIWYGABLE_BLURRED:"editorWysiwygableBlurred",SWITCH_ACTIVE_SPLIT:"switchActiveSplit",EDIT_SPLIT_COUNT_DESIGN:"editSplitCountDesign",EDIT_SPLIT_COUNT_CODE:"editSplitCountCode",EDIT_VARIATION_TYPE_DESIGN:"editVariationTypeDesign",EDIT_VARIATION_TYPE_CODE:"editVariationTypeCode",EDIT_CAMPAIGN_AB_SETTINGS:"editCampaignABSettings",TOGGLE_AB_SWITCH_DESIGN:"toggleABSwitchDesign",TOGGLE_AB_SWITCH_CODE:"toggleABSwitchCode",EDIT_HEAD_MODAL_CLOSED:"editHeadModalClosed",IMPORT_HTML_MODAL_CLOSED:"importHtmlModalClosed",HTML_IMPORTED:"editorHtmlImported",UNDO:"editorUndo",REDO:"editorRedo",WINDOW_RESIZE:"windowResize"}},CATEGORIES:{FETCHED_USER_CATEGORIES:"categoriesFetchedUser",EDIT_CATEGORIES:"editCategories"},TEMPLATES:{CONTENT_FETCHED:"templateContentFetched",EDITOR:{EDIT_TEMPLATE_CONTENTS:"editTemplateContents",SYNC_TEMPLATE_CONTENTS:"syncTemplateContents"}},MARKETING_TEMPLATES:{FETCHED:"marketingTemplatesFetched",DELETED:"marketingTemplateDeleted",CAMPAIGN_CREATED:"marketingTemplatesCampaignCreated",TEMPLATE_CREATED:"marketingTemplateCreated",CONTENT_FETCHED:"marketingTemplateContentFetched"},NOTIFICATION_EMAILS:{FETCHED:"emailNotificationsFetched",DELETED:"emailNotificationsDeleted",CREATED:"emailNotificationsCreated"},TRANSACTIONAL_TEMPLATES:{CREATED:"transactionalTemplatesCreated",FETCHED:"transactionalTemplatesFetched",UPDATED:"transactionalTemplatesUpdated",VERSION_CREATED:"transactionalTemplatesVersionCreated",VERSION_ACTIVATED:"transactionalTemplatesVersionActivated",VERSION_DELETED:"transactionalTemplatesVersionDeleted",VERSION_UPDATED:"transactionalTemplatesVersionUpdated",DELETED:"transactionalTemplatesDeleted",VERSION_CONTENT_FETCHED:"transactionalTemplateContentFetched"},SUPPRESSION_GROUPS:{FETCHED:"suppressionGroupsFetched"},EDITORS:{FETCHED:"editorsFetched"},CURRENT_USER:{FETCHED:"currentUserFetched",FETCHED_IS_FREE:"currentUserFetchedIsFree",FETCHED_PRICING_MODEL:"currentUserFetchedPricingModel",FETCHED_SIGNUP_STATUS:"currentUserSignupStatusFetched",FETCHED_TIMEZONE:"currentUserTimezoneFetched"},PAGE_TRANSITIONS:{TRANSITIONED:"transitioned"},IMAGE_MANAGER:{FETCHED:"imageManagerFetchCollection",FETCHED_LIMIT:"imageManagerFetchLimit",FETCHED_LIMIT_FAILED:"imageManagerFetchLimitFailed",LOAD_FAILED:"imageManagerLoadFailed",UPLOAD_STARTED:"imageManagerUploadStart",UPLOAD_ENDED:"imageManagerUploadEnd",UPLOAD_PROGRESS_CHANGED:"imageManagerUploadProgressChange",UPLOAD_FAILED:"imageManagerUploadFailed",LIBRARY_IMAGE_SELECTED:"imageManagerImageSelected",LIBRARY_IMAGE_DESELECTED:"imageManagerImageDeselected",LIBRARY_IMAGE_DELETED:"imageManagerImageDeleted",LIBRARY_IMAGE_ADDED:"imageManagerImageAdded",OPENED:"imageManagerOpened",CLOSED:"imageManagerClosed"},UPLOAD_PROGRESS:"actionsUploadProgress",SIDE_BY_SIDE:{PREVIEW_NODE_CLICKED:"sideBySidePreviewNodeClicked",CODE_CLICKED:"sideBySideCodeClicked"}};module.exports=ACTIONS},function(module,exports,__webpack_require__){"use strict";var CAMPAIGNS={SPLITS:["A","B","C","D","E","F"],STATUSES:{SENT:"Sent",DRAFT:"Draft",IN_PROGRESS:"In Progress",PAUSED:"Paused",CANCELED:"Canceled",SCHEDULED:"Scheduled"},STATUS_FILTERS:{ALL:"All"},LIMIT:{IMAGES:"images"},DATA_VIEWS:{RAW:"raw",PERCENTAGE:"percentage"}};module.exports=CAMPAIGNS},function(module,exports,__webpack_require__){"use strict";var EDITOR={SYSTEM_SUBSTITUTION_TAGS:["Sender_Name","Sender_Address","Sender_City","Sender_State","Sender_Zip","Unsubscribe","Unsubscribe_Preferences","Weblink"],TABS:{SETTINGS:"editorSettingsTab",BUILD:"editorBuildTab",TAGS:"editorTagsTab",AB_TESTING:"editorABTestingTab",IMAGES:"editorImagesTab"},MODULES:{BUTTON:"editorModulesButton",CODE:"editorModulesCode",COLUMNS:"editorModulesColumns",DIVIDER:"editorModulesDivider",EMPTY:"editorModulesEmpty",IMAGE:"editorModulesImage",IMAGETEXT:"editorModulesImageText",PREHEADER:"editorModulesPreheader",TEXT:"editorModulesText",SOCIAL:"editorModulesSocial",SPACER:"editorModulesSpacer"},AB_TEST_STATUSES:{ACTIVE:"on",INACTIVE:"off"},EDIT_MODES:{WYSIWYG:"wysiwyg",CODE:"code"},MIN_MODULE_HEIGHT:5,MODULE_CONTROLS:{MOVE:"move",EDIT_DND:"editDnD",EDIT_CODE:"editCode",COPY:"copy",DELETE:"delete"},DURATIONS:[{name:"30 Minutes",value:1800},{name:"1 Hour",value:3600},{name:"4 Hours",value:14400},{name:"12 Hours",value:43200},{name:"24 Hours",value:86400}],VERSIONS:[{name:2,value:2},{name:3,value:3},{name:4,value:4},{name:5,value:5},{name:6,value:6}],COLOR_SPLIT_MAP:{A:"crown",B:"screample",C:"ron-burgundy",D:"carrot",E:"mango",F:"spruce"},get SOCIAL_ICON_DEFAULTS(){return{facebook:{src:"https://marketing-image-production.s3.amazonaws.com/social/white/facebook.png",color:"#3B579D"},twitter:{color:"#7AC4F7",src:"https://marketing-image-production.s3.amazonaws.com/social/white/twitter.png"},instagram:{color:"#7F4B30",src:"https://marketing-image-production.s3.amazonaws.com/social/white/instagram.png"},google:{color:"#D44132",src:"https://marketing-image-production.s3.amazonaws.com/social/white/google-plus.png"},pinterest:{color:"#CB2027",src:"https://marketing-image-production.s3.amazonaws.com/social/white/pinterest.png"},linkedin:{color:"#0077B5",src:"https://marketing-image-production.s3.amazonaws.com/social/white/linkedin.png"}}}};module.exports=EDITOR},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),Routes=function(){function Routes(){_classCallCheck(this,Routes)}return _createClass(Routes,null,[{key:"MAKO_HOST",get:function(){return window.MAKO_HOST||"https://app.sendgrid.com"}},{key:"MAKO_API_HOST",get:function(){return window.MAKO_API_HOST||"https://api.sendgrid.com/v3/"}}]),Routes}();exports.default=Routes},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={MARKETING_CAMPAIGNS:{TITLE:"Marketing Campaigns",GROUP:"Marketing Campaigns",READ:"marketing_campaigns.read"},TRANSACTIONAL_TEMPLATES:{TITLE:"Template Engine",GROUP:"Template Engine",READ:"templates.read"}}},function(module,exports,__webpack_require__){"use strict";var LINKS={EDIT_HTML_HEAD:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/beta_editors.html#-Edit-HTML-Head",CODE_MODULE:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/beta_editors.html#-Code-module",EDIT_MODULE_HTML:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/beta_editors.html#-Editing-Module-HTML",DETECT_DND_MODULES_ERROR:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/beta_editors.html#-Why-did-I-get-the-error-We-were-unable-to-detect-any-drag--drop-modules",IMPORT_HTML:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/beta_editors.html#-Import-HTML"};module.exports=LINKS},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default={MAX_LENGTH:{EMAIL:254,CUSTOM_FIELD:32766}}},,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function ClearNotificationsOnUnmount(ComposedCmp){return function(_React$Component){function _class(){return _classCallCheck(this,_class),_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).apply(this,arguments))}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentWillUnmount",value:function(){setTimeout(_notificationActions2.default.clearAllForRoute)}},{key:"render",value:function(){return _react2.default.createElement(ComposedCmp,this.props)}}]),_class}(_react2.default.Component)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_notificationActions=__webpack_require__(100),_notificationActions2=_interopRequireDefault(_notificationActions);exports.default=ClearNotificationsOnUnmount},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function checkSawWelcomePage(localStorageState,router){localStorageState.sawWelcomePage||_jsCookie2.default.get("saw_welcome_page")||router.push("/marketing_campaigns/ui/welcome")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.MCApp=exports.App=void 0;var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_jsCookie=__webpack_require__(306),_jsCookie2=_interopRequireDefault(_jsCookie),_reactDnd=__webpack_require__(146),_reactDndHtml5Backend=__webpack_require__(482),_reactDndHtml5Backend2=_interopRequireDefault(_reactDndHtml5Backend),_reactClassUtils=__webpack_require__(7),_memoryUtils=__webpack_require__(127),_appBootstrapper=__webpack_require__(1040),_appBootstrapper2=_interopRequireDefault(_appBootstrapper),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),MainApp=(_class=function(_React$Component){function MainApp(){return _classCallCheck(this,MainApp),_possibleConstructorReturn(this,(MainApp.__proto__||Object.getPrototypeOf(MainApp)).apply(this,arguments))}return _inherits(MainApp,_React$Component),_createClass(MainApp,[{key:"componentDidMount",value:function(){var _this2=this;(0,_memoryUtils.performWithSavedState)("app",function(state){return checkSawWelcomePage(state,_this2.context.router)},["sawWelcomePage"],!0),_currentUserStore2.default.addChangeListener(this.currentUserStoreChanged)}},{key:"componentWillUnmount",value:function(){_currentUserStore2.default.removeChangeListener(this.currentUserStoreChanged)}},{key:"currentUserStoreChanged",value:function(){_currentUserStore2.default.getHasAccess()||this.context.router.replace("/marketing_campaigns/ui/error/401")}},{key:"render",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement(_appBootstrapper2.default,null),this.props.children)}}]),MainApp}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"currentUserStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"currentUserStoreChanged"),_class.prototype),_class);MainApp.propTypes={children:_propTypes2.default.node},MainApp.defaultProps={children:null},MainApp.contextTypes={router:_propTypes2.default.object};var MCApp=(exports.App=(0,_reactDnd.DragDropContext)(_reactDndHtml5Backend2.default)(MainApp),exports.MCApp=function(_React$Component2){function MCApp(){return _classCallCheck(this,MCApp),_possibleConstructorReturn(this,(MCApp.__proto__||Object.getPrototypeOf(MCApp)).apply(this,arguments))}return _inherits(MCApp,_React$Component2),_createClass(MCApp,[{key:"render",value:function(){return this.props.children}}]),MCApp}(_react2.default.Component));MCApp.propTypes={children:_propTypes2.default.node},MCApp.defaultProps={children:null}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function set(key,obj){(arguments.length>2&&void 0!==arguments[2]&&arguments[2]?local:session).setItem(key,JSON.stringify(obj))}function get(key){var isLocal=arguments.length>1&&void 0!==arguments[1]&&arguments[1],storedValue=(isLocal?local:session).getItem(key);try{return JSON.parse(storedValue)}catch(e){return storedValue}}function remove(key){(arguments.length>1&&void 0!==arguments[1]&&arguments[1]?local:session).removeItem(key)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.set=set,exports.get=get,exports.remove=remove;var local=window.localStorage,session=window.sessionStorage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getTiaraLinkSelector(app){return"welcome"===app?".subpage-link[href$=marketing_campaigns\\/]":"marketing_templates"===app?'.subpage-link[href*="/marketing_campaigns/ui/marketing_templates"]':'.subpage-link[href*="/'+app+'"]'}function get$Links(app){var $links=$(getTiaraLinkSelector(app));return"templates"===app?$links.not('[href*="/marketing_campaigns/ui/marketing_templates"]'):$links}function getBasePath(app){return"templates"===app?"/":"/marketing_campaigns/ui/"}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.getTiaraLinkSelector=getTiaraLinkSelector;var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_jsCookie=__webpack_require__(306),_jsCookie2=_interopRequireDefault(_jsCookie),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_jqueryUtils=__webpack_require__(1041),_jqueryUtils2=_interopRequireDefault(_jqueryUtils),_reactClassUtils=__webpack_require__(7),_currentUserActions=__webpack_require__(1042),_currentUserActions2=_interopRequireDefault(_currentUserActions),_editorTypeActions=__webpack_require__(489),_editorTypeActions2=_interopRequireDefault(_editorTypeActions),apps=["campaigns","senders","custom_fields","welcome","tour","overview","notifications","marketing_templates","templates"],addAuthTokenToAjaxRequest=function(){var makoAuthToken=_jsCookie2.default.get("mako_auth_token");$.ajaxPrefilter(function(options,originalOptions,jqXHR){originalOptions.url.match(_constants2.default.ROUTES.MAKO_API_HOST)&&jqXHR.setRequestHeader("AUTHORIZATION","token "+makoAuthToken)})},routeAjaxErrors=function(router){var errorPage=void 0;$(document).off("ajaxComplete.routeAjaxErrs"),$(document).on("ajaxComplete.routeAjaxErrs",function(event,jqXHR,settings){(settings.url.match(/\/marketing_campaigns/)||settings.url.match(/\/templates/))&&(404===jqXHR.status&&(errorPage=404),401===jqXHR.status&&_currentUserActions2.default.handleSessionExpiry(),errorPage&&router.replace("/marketing_campaigns/ui/error/"+errorPage))})},loadCurrentUser=function(){if(_currentUserActions2.default.fetchTimezone(),_currentUserActions2.default.fetchPricingModel(),_currentUserActions2.default.fetchIsFree(),!window.tiara)return void console.warn("Problem loading tiara, unable to load user info");$.whenAll([window.tiara.email,window.tiara.profile,window.tiara.username,window.tiara.scopes,window.tiara.feature_toggles,window.tiara.credits]).then(function(email,profile,username,scopes,featureToggles,credits){function isOk(thenArg){return thenArg[2].status&&_underscore2.default.includes([2,3],Math.floor(thenArg[2].status/100))}var currentUser={email:isOk(email)?email[0].email:null,profile:isOk(profile)?profile[0]:null,username:isOk(username)?username[0].username:null,scopes:isOk(scopes)?scopes[0].scopes:null,featureToggles:isOk(featureToggles)?featureToggles[0]:null,credits:isOk(credits)?credits[0]:null};_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CURRENT_USER.FETCHED,currentUser:currentUser})}),$.when(window.tiara.signup_status).then(function(signupStatus){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CURRENT_USER.FETCHED_SIGNUP_STATUS,signupStatus:signupStatus})})},updateTiaraLinks=function(router){_underscore2.default.each(apps,function(app){var $links=get$Links(app),clickHandler=function(e){e&&e.preventDefault(),router.push(""+getBasePath(app)+app),window.SendGridTiara&&window.SendGridTiara.updateNav()};$links.length>0&&($links.off("click.ui.tiara"),$links.on("click.ui.tiara",clickHandler))}),window.tiara.username.then(function(_ref){var userId=_ref.user_id,$contactsLink=get$Links("contacts");(function(n){return!(n%2)})(userId)&&($contactsLink.attr("href","contacts"),$contactsLink.off("click.ui.tiara"),$contactsLink.on("click.ui.tiara",function(e){e&&e.preventDefault(),router.push("/marketing_campaigns/ui/contacts"),window.SendGridTiara&&window.SendGridTiara.updateNav()}))})},handleScrollToTopLinks=function(){$(document).on("click.ui.scrolltop",":not([disabled])[data-scroll-top]",function(){window.scrollTo(0,0)})},debounceAnalyticsTracking=function(){window.trackAnalyticsDebounced=function(){return!1},setTimeout(function(){window.trackAnalyticsDebounced=_underscore2.default.debounce(window.analytics?window.analytics.track:function(){return!1},500)},3e3)},AppBootstrapper=(_class=function(_React$Component){function AppBootstrapper(){return _classCallCheck(this,AppBootstrapper),_possibleConstructorReturn(this,(AppBootstrapper.__proto__||Object.getPrototypeOf(AppBootstrapper)).apply(this,arguments))}return _inherits(AppBootstrapper,_React$Component),_createClass(AppBootstrapper,[{key:"componentDidMount",value:function(){this.bootstrap()}},{key:"bootstrap",value:function(){_jqueryUtils2.default.enhance(),addAuthTokenToAjaxRequest(),routeAjaxErrors(this.context.router),loadCurrentUser(),updateTiaraLinks(this.context.router),handleScrollToTopLinks(),debounceAnalyticsTracking(),_locationUtils2.default.setRouter(this.context.router),_editorTypeActions2.default.fetch()}},{key:"render",value:function(){return null}}]),AppBootstrapper}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"bootstrap",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"bootstrap"),_class.prototype),_class);AppBootstrapper.contextTypes={router:_propTypes2.default.object.isRequired},exports.default=AppBootstrapper},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_underscore),JqueryUtils=function(){function JqueryUtils(){_classCallCheck(this,JqueryUtils)}return _createClass(JqueryUtils,null,[{key:"enhance",value:function(){$.whenAll||($.whenAll=function(deferreds){var wrappedDeferreds=[];return _underscore2.default.each(deferreds,function(def,i){wrappedDeferreds.push($.Deferred()),def&&def.always?def.always(wrappedDeferreds[i].resolve):wrappedDeferreds[i].resolve(def)}),$.when.apply($,wrappedDeferreds).promise()})}}]),JqueryUtils}();exports.default=JqueryUtils},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_tiaraUtils=__webpack_require__(171),_tiaraUtils2=_interopRequireDefault(_tiaraUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),BASE_URL=_constants2.default.ROUTES.MAKO_API_HOST+"/user",CurrentUserActions={fetchTimezone:function(){function success(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CURRENT_USER.FETCHED_TIMEZONE,timezone:json})}function error(xhr){if(401===xhr.status)return void _tiaraUtils2.default.logout();_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CURRENT_USER.FETCH_TIMEZONE_ERROR,notificationType:"danger"})}return $.getJSON(BASE_URL+"/timezone").then(success,error)},handleSessionExpiry:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.SESSION_EXPIRED,shouldClearOnRouteChange:!0,notificationAction:_locationUtils2.default.navigateToLogin,notificationActionText:"Click here to log back in.",notificationType:"danger"})},fetchIsFree:function(){return $.getJSON("/marketing_campaigns/is_free_user").then(function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CURRENT_USER.FETCHED_IS_FREE,isFree:json.is_free})})},fetchPricingModel:function(){function success(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CURRENT_USER.FETCHED_PRICING_MODEL,pricingModel:json.pricing_model})}function error(err){403===err.status&&_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CURRENT_USER.FETCHED_PRICING_MODEL,pricingModel:"contacts"})}return $.getJSON(_constants2.default.ROUTES.MAKO_API_HOST+"/billing/marketing_campaigns/pricing_model").then(success,error)}};exports.default=CurrentUserActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_=__webpack_require__(1044),_2=_interopRequireDefault(_),_3=__webpack_require__(1047),_4=_interopRequireDefault(_3),_5=__webpack_require__(1048),_6=_interopRequireDefault(_5),App=_react2.default.createClass({displayName:"App",render:function(){return _react2.default.createElement("div",{"data-role":"errors-app"},this.props.children)}});module.exports={App:App,ErrorPage401:_2.default,ErrorPage404:_4.default,ErrorPage500:_6.default}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getIframeTitle(lastTransition){return lastTransition.title?lastTransition.title:lastTransition.fromPage?lastTransition.fromPage.match("marketing_campaigns")?_constants2.default.SCOPES.MARKETING_CAMPAIGNS.TITLE:_constants2.default.SCOPES.TRANSACTIONAL_TEMPLATES.TITLE:""}function getIframeSrc(lastTransition){return[_constants2.default.ROUTES.MAKO_HOST,"/errors/access_denied","?title="+getIframeTitle(lastTransition)+"&scope_group_name="+lastTransition.scopeGroup+"&previous_route="+lastTransition.fromPage+"&noFeedback=true"].join("")}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.getIframeTitle=getIframeTitle;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_pageTransitionStore=__webpack_require__(490),_pageTransitionStore2=_interopRequireDefault(_pageTransitionStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_errorPage=__webpack_require__(324),_errorPage2=_interopRequireDefault(_errorPage),_reactClassUtils=__webpack_require__(7),_errorPageCss=__webpack_require__(491),_errorPageCss2=_interopRequireDefault(_errorPageCss),Err401=(_class=function(_React$Component){function Err401(){_classCallCheck(this,Err401);var _this=_possibleConstructorReturn(this,(Err401.__proto__||Object.getPrototypeOf(Err401)).call(this));return _this.state={lastTransition:_pageTransitionStore2.default.getLastTransition()},_this}return _inherits(Err401,_React$Component),_createClass(Err401,[{key:"componentDidMount",value:function(){_pageTransitionStore2.default.addChangeListener(this.pageTransitionStoreChanged)}},{key:"componentWillUnmount",value:function(){_pageTransitionStore2.default.removeChangeListener(this.pageTransitionStoreChanged)}},{key:"pageTransitionStoreChanged",value:function(){this.setState({lastTransition:_pageTransitionStore2.default.getLastTransition()})}},{key:"render",value:function(){return this.state.lastTransition.isMakoUnauthorized?_react2.default.createElement("iframe",{className:_errorPageCss2.default["mako-iframe"],src:getIframeSrc(this.state.lastTransition),"data-role":"unauthorized-content-container"}):_react2.default.createElement(_errorPage2.default,{errorCode:401,errorMessage:"Unauthorized",errorDescription:"Looks like you don't have the right credentials."})}}]),Err401}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"pageTransitionStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"pageTransitionStoreChanged"),_class.prototype),_class);exports.default=Err401},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'[data-role=errors-app]{margin:200px auto}[data-role=errors-app] .errorPage-css__error-page___1Ag7N{text-align:center}[data-role=errors-app] .errorPage-css__logo___11mo9{display:inline-block;background:url("https://sendgrid.com/brand/sg-logo.png") no-repeat 0 0;background-size:contain;width:9.492rem;height:2rem;margin-bottom:2.813rem}[data-role=errors-app] .errorPage-css__headline___3xu69{text-shadow:0 2px 6px rgba(41,70,97,.3);margin-bottom:1.25rem;font-size:2.813rem}[data-role=errors-app] .errorPage-css__subhead___2vRqs{line-height:1.875rem;margin-bottom:2.375rem;font-size:1.5rem}[data-role=errors-app] .errorPage-css__mako-iframe___6hUWM{width:100%;min-height:650px;position:absolute;top:0}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/error_pages/__css__/errorPage.css.scss","/opt/sendgrid/nlvx-ui/src/views/error_pages/__css__/src/views/error_pages/__css__/errorPage.css.scss"],names:[],mappings:"AAAA,uBCCE,iBAAkB,CAgCnB,0DA9BG,iBAAkB,CACnB,oDAGC,qBACA,uEACA,wBACA,eACA,YACA,sBAAuB,CACxB,wDAGC,wCACA,sBACA,kBAAmB,CACpB,uDAGC,qBACA,uBACA,gBAAiB,CAClB,2DAGC,WACA,iBACA,kBACA,KAAM,CACP",file:"errorPage.css.scss",sourcesContent:['[data-role=errors-app]{margin:200px auto}[data-role=errors-app] .error-page{text-align:center}[data-role=errors-app] .logo{display:inline-block;background:url("https://sendgrid.com/brand/sg-logo.png") no-repeat 0 0;background-size:contain;width:9.492rem;height:2rem;margin-bottom:2.813rem}[data-role=errors-app] .headline{text-shadow:0px 2px 6px rgba(41,70,97,0.3);margin-bottom:1.25rem;font-size:2.813rem}[data-role=errors-app] .subhead{line-height:1.875rem;margin-bottom:2.375rem;font-size:1.5rem}[data-role=errors-app] .mako-iframe{width:100%;min-height:650px;position:absolute;top:0}\n',"[data-role=errors-app] {\n  margin: 200px auto;\n  .error-page {\n    text-align: center;\n  }\n\n  .logo {\n    display: inline-block;\n    background: url('https://sendgrid.com/brand/sg-logo.png') no-repeat 0 0;\n    background-size: contain;\n    width: 9.492rem;\n    height: 2rem;\n    margin-bottom: 2.813rem;\n  }\n\n  .headline {\n    text-shadow: 0px 2px 6px rgba(41, 70, 97, 0.3);\n    margin-bottom: 1.25rem;\n    font-size: 2.813rem;\n  }\n\n  .subhead {\n    line-height: 1.875rem;\n    margin-bottom: 2.375rem;\n    font-size: 1.5rem;\n  }\n\n  .mako-iframe {\n    width: 100%;\n    min-height: 650px;\n    position: absolute;\n    top: 0; // iframe looks bad w/o this because of the 200px top margin\n  }\n}\n"],sourceRoot:""}]),exports.locals={"error-page":"errorPage-css__error-page___1Ag7N",logo:"errorPage-css__logo___11mo9",headline:"errorPage-css__headline___3xu69",subhead:"errorPage-css__subhead___2vRqs","mako-iframe":"errorPage-css__mako-iframe___6hUWM"}},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_errorPage=__webpack_require__(324),_errorPage2=_interopRequireDefault(_errorPage),_404=function(){return _react2.default.createElement(_errorPage2.default,{errorCode:404,errorMessage:"Page Not Found",errorDescription:"Looks like you've fallen off the grid."})};module.exports=_404},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_errorPage=__webpack_require__(324),_errorPage2=_interopRequireDefault(_errorPage),_500=function(){return _react2.default.createElement(_errorPage2.default,{errorCode:500,errorMessage:"Application Error",errorDescription:"Looks like the Marketing Campaigns application sneezed."})};module.exports=_500},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_textInput=__webpack_require__(18),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_side=__webpack_require__(60),_buttons=__webpack_require__(8),_senderActions=__webpack_require__(172),_senderActions2=_interopRequireDefault(_senderActions),_senderStore=__webpack_require__(228),_senderStore2=_interopRequireDefault(_senderStore),_reactClassUtils=__webpack_require__(7),_states=__webpack_require__(1068),_states2=_interopRequireDefault(_states),_countries=__webpack_require__(1069),EditModal=(_class=function(_React$Component){function EditModal(props){_classCallCheck(this,EditModal);var _this=_possibleConstructorReturn(this,(EditModal.__proto__||Object.getPrototypeOf(EditModal)).call(this,props));return _this.state={model:_senderStore2.default.getSender(_this.props.routeParams.id)||{country:"United States"},shouldInputsValidate:_this.props.shouldInputsInitiallyValidate},_this}return _inherits(EditModal,_React$Component),_createClass(EditModal,[{key:"componentDidMount",value:function(){_senderStore2.default.addChangeListener(this.senderStoreChanged)}},{key:"componentWillReceiveProps",value:function(newProps){newProps.shouldInputsInitiallyValidate!==this.state.shouldInputsValidate&&this.setState({shouldInputsValidate:newProps.shouldInputsInitiallyValidate})}},{key:"componentWillUnmount",value:function(){_senderStore2.default.removeChangeListener(this.senderStoreChanged)}},{key:"senderStoreChanged",value:function(){var model=_senderStore2.default.getSender(this.props.routeParams.id);model&&this.setState({model:model})}},{key:"inputChanged",value:function(e){if(e){var newModel=_underscore2.default.clone(this.state.model);newModel[e.target.name]=e.target.value,this.setState({model:newModel})}}},{key:"goBack",value:function(){this.context.router.push("/marketing_campaigns/ui/senders")}},{key:"handleSubmit",value:function(){var _this2=this;this.props.trySubmit(function(){var actionFn=_this2.state.model.id?_senderActions2.default.update:_senderActions2.default.create;$.when(actionFn(_this2.state.model)).fail(function(response){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];console.warn("EditModal failed to sync."),console.log(response,args),response.responseJSON.messages&&console.log(response.responseJSON.messages.join(".  "))}).always(function(){_this2.goBack()})})}},{key:"render",value:function(){var _this3=this,sharedInputProps={onChange:this.inputChanged,registerFormInput:this.props.registerFormInput,shouldValidate:this.state.shouldInputsValidate,getCollection:function(){return[]}},select2Options={minimumResultsForSearch:1,width:"100%",formatNoMatches:'<span class="format-no-matches">No matches found</span>'},modalBodyContent=_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-12 col-xs-12"},_react2.default.createElement("p",{className:"spam-compliance"},"You're required to include your contact information, including a physical mailing address, inside every promotional email you send in order to comply with anti-spam laws such as ",_react2.default.createElement("a",{href:"https://en.wikipedia.org/wiki/CAN-SPAM_Act_of_2003",target:"_blank"},"CAN-SPAM")," and ",_react2.default.createElement("a",{href:"https://en.wikipedia.org/wiki/Fighting_Internet_and_Wireless_Spam_Act",target:"_blank"},"CASL."),"You'll find replacement tags for this information in the footer of all the templates SendGrid provides. ",_react2.default.createElement("br",null),_react2.default.createElement("a",{href:"http://sendgrid.com/email_policy",rel:"noopener noreferrer",target:"_blank"},"Learn more »")))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8 col-xs-12"},_react2.default.createElement(_textInput.TextInput,_extends({displayName:"From Name",name:"from_name",id:"sender_identity_from_name",value:this.state.model.from_name,validations:["required"]},sharedInputProps)),_react2.default.createElement(_textInput.TextInput,_extends({displayName:"From Email Address",name:"from_email",id:"sender_identity_from_email",type:"email",value:this.state.model.from_email,validations:["required","email"],infoContent:_react2.default.createElement("span",null,"If your email domain doesn't match your ",_react2.default.createElement("a",{href:"https://app.sendgrid.com/settings/whitelabel"},"whitelabels"),", you'll need to verify this email address before using this sender. We'll send this email address a verification email after you save this sender."),tooltipContent:"Verification is required.  Using a domain that's already whitelabeled with SendGrid will automatically verify your sender identity. Otherwise we must send a verification email to this From Address before you can use it in a campaign.",tooltipPosition:"down",tooltipLength:"xlarge"},sharedInputProps)),_react2.default.createElement(_textInput.TextInput,_extends({displayName:"Reply To",name:"reply_to",id:"sender_identity_reply_to",type:"email",value:this.state.model.reply_to,validations:["required","email"]},sharedInputProps)),_react2.default.createElement(_textInput.TextInput,_extends({labelText:"Company Address",displayName:"Street Address 1",name:"address",id:"sender_identity_address",value:this.state.model.address,validations:["required"]},sharedInputProps)))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-4 col-xs-12"},_react2.default.createElement(_textInput.TextInput,_extends({displayName:"City",name:"city",id:"sender_identity_city",value:this.state.model.city,validations:["required"]},sharedInputProps))),_react2.default.createElement("div",{className:"col-md-4 col-xs-12"},_react2.default.createElement(_select2.default,_extends({displayName:"State",name:"state",validations:[]},sharedInputProps,{value:this.state.model.state,showLabel:!0,options:select2Options,data:_underscore2.default.map(_states2.default,function(v,k){return{value:v,name:k}}),ref:function(c){return _this3.props.registerFormInput(c)}})))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-4 col-xs-12"},_react2.default.createElement(_textInput.TextInput,_extends({displayName:"Zip Code",name:"zip",id:"sender_identity_zip",value:this.state.model.zip,validations:[]},sharedInputProps))),_react2.default.createElement("div",{className:"col-md- col-md-4 col-xs-12"},_react2.default.createElement(_select2.default,_extends({displayName:"Country",name:"country",validations:["required"],showLabel:!0},sharedInputProps,{value:this.state.model.country,options:select2Options,data:_underscore2.default.map(_countries.Countries,function(country){return{value:country.name,name:country.name,disabled:!!country.disabled}}),ref:function(c){return _this3.props.registerFormInput(c)}})))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8 col-xs-12"},_react2.default.createElement(_textInput.TextInput,_extends({displayName:"Nickname",name:"nickname",id:"sender_identity_nickname",infoContent:"Nickname is for your reference only; this field will not be displayed to recipients.",value:this.state.model.nickname,validations:["required"]},sharedInputProps)))));return _react2.default.createElement(_side.SideRouteModal,{onCancel:this.goBack},_react2.default.createElement(_form2.default,{onSubmit:this.handleSubmit,id:"sender_identity_form"},_react2.default.createElement(_side.SideModalHeader,{header:(this.state.model.id?"Edit":"Add a")+" Sender"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{type:"submit"},"Save"))),_react2.default.createElement(_side.SideModalBody,null,modalBodyContent)))}}]),EditModal}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"senderStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"senderStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"inputChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"inputChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"goBack",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"goBack"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmit"),_class.prototype),_class);EditModal.contextTypes={router:_react2.default.PropTypes.object},EditModal.propTypes={routeParams:_propTypes2.default.object.isRequired,shouldInputsInitiallyValidate:_propTypes2.default.bool.isRequired,registerFormInput:_propTypes2.default.func.isRequired,trySubmit:_propTypes2.default.func.isRequired},exports.default=(0,_formDecorator2.default)(EditModal)},function(module,exports,__webpack_require__){var content=__webpack_require__(1051);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.tooltip-css__is-down___1eiEJ:after{top:0;left:50%;content:""}.tooltip-css__is-up___2OLYu:after{top:100%;left:50%;content:""}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/tooltip.css.scss"],names:[],mappings:"AAEA,oCACI,MACA,SACA,UAAW,CACd,kCAGG,SACA,SACA,UAAW,CACd",file:"tooltip.css.scss",sourcesContent:["// temporary while Jason adds is-down modifier to HTML tooltips\n\n.is-down::after {\n    top: 0;\n    left: 50%;\n    content: '';\n}\n\n.is-up::after {\n    top: 100%;\n    left: 50%;\n    content: '';\n}\n"],sourceRoot:""}]),exports.locals={"is-down":"tooltip-css__is-down___1eiEJ","is-up":"tooltip-css__is-up___2OLYu"}},,,,function(module,exports,__webpack_require__){var content=__webpack_require__(1056);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".textInput-css__editor-accordion-wrap___2v8EE{display:flex;width:100%}.textInput-css__editor-accordion-wrap___2v8EE label{margin:auto 0}.textInput-css__editor-accordion-wrap___2v8EE .textInput-css__editor-accordion-input___3zotx{width:60px}.textInput-css__editor-accordion-wrap___2v8EE .textInput-css__editor-accordion-input___3zotx::-webkit-inner-spin-button,.textInput-css__editor-accordion-wrap___2v8EE .textInput-css__editor-accordion-input___3zotx::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.textInput-css__editor-accordion-wrap___2v8EE.textInput-css__is-wide___36vbT .textInput-css__editor-accordion-input___3zotx{width:145px}.textInput-css__shadow___31ZQH{padding-right:20px;visibility:hidden;opacity:0;height:1px;position:absolute;z-index:-1;pointer-events:none}.textInput-css__icon___3DDvG{position:absolute;top:19px;right:0}.textInput-css__textarea___13MW1{padding-right:20px;border-radius:0}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/__css__/src/views/components/style-guide/__css__/textInput.css.scss"],names:[],mappings:"AAAA,8CACE,aACA,UAAW,CAFb,oDAKI,aAAc,CALlB,6FASI,UAAW,CATf,gPAaQ,wBACA,QAAS,CAdjB,4HAmBI,WAAY,CACb,+BAKD,mBACA,kBACA,UACA,WACA,kBACA,WACA,mBAAoB,CACrB,6BAGC,kBACA,SACA,OAAQ,CACT,iCAGC,mBACA,eAAkB,CACnB",file:"textInput.css.scss",sourcesContent:[".editor-accordion-wrap {\n  display: flex;\n  width: 100%;\n\n  label {\n    margin: auto 0;\n  }\n\n  .editor-accordion-input {\n    width: 60px; // just big enough for 3 digits, like 555 to have enough space\n\n    &::-webkit-outer-spin-button,\n    &::-webkit-inner-spin-button {\n        -webkit-appearance: none;\n        margin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n    }\n  }\n\n  &.is-wide .editor-accordion-input {\n    width: 145px;\n  }\n}\n\n// used to make textareas much faster\n.shadow {\n  padding-right: 20px;\n  visibility: hidden;\n  opacity: 0;\n  height: 1px;\n  position: absolute;\n  z-index: -1;\n  pointer-events: none;\n}\n\n.icon {\n  position: absolute;\n  top: 19px;\n  right: 0;\n}\n\n.textarea {\n  padding-right: 20px;\n  border-radius: 0px;\n}\n"],sourceRoot:""}]),exports.locals={"editor-accordion-wrap":"textInput-css__editor-accordion-wrap___2v8EE","editor-accordion-input":"textInput-css__editor-accordion-input___3zotx","is-wide":"textInput-css__is-wide___36vbT",shadow:"textInput-css__shadow___31ZQH",icon:"textInput-css__icon___3DDvG",textarea:"textInput-css__textarea___13MW1"}},,function(module,exports,__webpack_require__){var content=__webpack_require__(1059);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,"p.select2-css__validation-error-text___2jL_O{font-size:11px}.select2-css__select-2-tooltip___3jy71{top:0}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/select2.css.scss"],names:[],mappings:"AACA,6CACE,cAAe,CAChB,uCAIC,KAAQ,CACT",file:"select2.css.scss",sourcesContent:["/* Have to be xtra specific with this beast due to bad generic css rules on p elements */\np.validation-error-text {\n  font-size: 11px;\n}\n\n// remove when style-guide has a select2 with icon\n.select-2-tooltip {\n  top: 0px;\n}\n"],sourceRoot:""}]),exports.locals={"validation-error-text":"select2-css__validation-error-text___2jL_O","select-2-tooltip":"select2-css__select-2-tooltip___3jy71"}},,,function(module,exports,__webpack_require__){var content=__webpack_require__(1063);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".body-css__flex___3V4Me{height:100%;display:flex;justify-content:center;align-items:center}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/modal/__css__/src/views/components/style-guide/modal/__css__/body.css.scss"],names:[],mappings:"AAAA,wBACE,YACA,aACA,uBACA,kBAAmB,CACpB",file:"body.css.scss",sourcesContent:[".flex {\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n"],sourceRoot:""}]),exports.locals={flex:"body-css__flex___3V4Me"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1065);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".header-css__header___3GH02 h2 .header-css__back___1AHoL{display:inline-block;vertical-align:middle;padding-right:5px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/modal/__css__/src/views/components/style-guide/modal/__css__/header.css.scss"],names:[],mappings:"AAAA,yDACE,qBACA,sBAEA,iBAAkB,CACnB",file:"header.css.scss",sourcesContent:[".header h2 .back {\n  display: inline-block;\n  vertical-align: middle;\n\n  padding-right: 5px;\n}\n"],sourceRoot:""}]),exports.locals={header:"header-css__header___3GH02",back:"header-css__back___1AHoL"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1067);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".side-css__side___3YBO2{width:100%;height:100%}.side-css__persistent-modal___Us1bv{box-shadow:none}.side-css__wide-content___FjRWl.side-modal{padding:45px 75px 90px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/modal/__css__/src/views/components/style-guide/modal/__css__/side.css.scss"],names:[],mappings:"AAAA,wBACE,WACA,WAAY,CACb,oCAGC,eAAgB,CACjB,2CAIG,sBAAuB,CACxB",file:"side.css.scss",sourcesContent:[".side {\n  width: 100%;\n  height: 100%;\n}\n\n.persistent-modal {\n  box-shadow: none;\n}\n\n.wide-content {\n  &:global(.side-modal) {\n    padding: 45px 75px 90px;\n  }\n}\n"],sourceRoot:""}]),exports.locals={side:"side-css__side___3YBO2","persistent-modal":"side-css__persistent-modal___Us1bv","wide-content":"side-css__wide-content___FjRWl"}},function(module,exports,__webpack_require__){"use strict";module.exports={State:"",Alabama:"AL",Alaska:"AK",Arizona:"AZ",Arkansas:"AR",California:"CA",Colorado:"CO",Connecticut:"CT",Delaware:"DE","District of Columbia":"DC",Florida:"FL",Georgia:"GA",Hawaii:"HI",Idaho:"ID",Illinois:"IL",Indiana:"IN",Iowa:"IA",Kansas:"KS",Kentucky:"KY",Louisiana:"LA",Maine:"ME",Maryland:"MD",Massachusetts:"MA",Michigan:"MI",Minnesota:"MN",Mississippi:"MS",Missouri:"MO",Montana:"MT",Nebraska:"NE",Nevada:"NV","New Hampshire":"NH","New Jersey":"NJ","New Mexico":"NM","New York":"NY","North Carolina":"NC","North Dakota":"ND",Ohio:"OH",Oklahoma:"OK",Oregon:"OR",Pennsylvania:"PA","Rhode Island":"RI","South Carolina":"SC","South Dakota":"SD",Tennessee:"TN",Texas:"TX",Utah:"UT",Vermont:"VT",Virginia:"VA",Washington:"WA","West Virginia":"WV",Wisconsin:"WI",Wyoming:"WY"}},function(module,exports,__webpack_require__){"use strict";module.exports={Countries:[{name:"United States",code:"US"},{name:"-------------",code:"",disabled:!0},{name:"Afghanistan",code:"AF"},{name:"Åland Islands",code:"AX"},{name:"Albania",code:"AL"},{name:"Algeria",code:"DZ"},{name:"American Samoa",code:"AS"},{name:"AndorrA",code:"AD"},{name:"Angola",code:"AO"},{name:"Anguilla",code:"AI"},{name:"Antarctica",code:"AQ"},{name:"Antigua and Barbuda",code:"AG"},{name:"Argentina",code:"AR"},{name:"Armenia",code:"AM"},{name:"Aruba",code:"AW"},{name:"Australia",code:"AU"},{name:"Austria",code:"AT"},{name:"Azerbaijan",code:"AZ"},{name:"Bahamas",code:"BS"},{name:"Bahrain",code:"BH"},{name:"Bangladesh",code:"BD"},{name:"Barbados",code:"BB"},{name:"Belarus",code:"BY"},{name:"Belgium",code:"BE"},{name:"Belize",code:"BZ"},{name:"Benin",code:"BJ"},{name:"Bermuda",code:"BM"},{name:"Bhutan",code:"BT"},{name:"Bolivia",code:"BO"},{name:"Bosnia and Herzegovina",code:"BA"},{name:"Botswana",code:"BW"},{name:"Bouvet Island",code:"BV"},{name:"Brazil",code:"BR"},{name:"British Indian Ocean Territory",code:"IO"},{name:"Brunei Darussalam",code:"BN"},{name:"Bulgaria",code:"BG"},{name:"Burkina Faso",code:"BF"},{name:"Burundi",code:"BI"},{name:"Cambodia",code:"KH"},{name:"Cameroon",code:"CM"},{name:"Canada",code:"CA"},{name:"Cape Verde",code:"CV"},{name:"Cayman Islands",code:"KY"},{name:"Central African Republic",code:"CF"},{name:"Chad",code:"TD"},{name:"Chile",code:"CL"},{name:"China",code:"CN"},{name:"Christmas Island",code:"CX"},{name:"Cocos (Keeling) Islands",code:"CC"},{name:"Colombia",code:"CO"},{name:"Comoros",code:"KM"},{name:"Congo",code:"CG"},{name:"Congo, The Democratic Republic of the",code:"CD"},{name:"Cook Islands",code:"CK"},{name:"Costa Rica",code:"CR"},{name:"Cote D'Ivoire",code:"CI"},{name:"Croatia",code:"HR"},{name:"Cuba",code:"CU"},{name:"Cyprus",code:"CY"},{name:"Czech Republic",code:"CZ"},{name:"Denmark",code:"DK"},{name:"Djibouti",code:"DJ"},{name:"Dominica",code:"DM"},{name:"Dominican Republic",code:"DO"},{name:"Ecuador",code:"EC"},{name:"Egypt",code:"EG"},{name:"El Salvador",code:"SV"},{name:"Equatorial Guinea",code:"GQ"},{name:"Eritrea",code:"ER"},{name:"Estonia",code:"EE"},{name:"Ethiopia",code:"ET"},{name:"Falkland Islands (Malvinas)",code:"FK"},{name:"Faroe Islands",code:"FO"},{name:"Fiji",code:"FJ"},{name:"Finland",code:"FI"},{name:"France",code:"FR"},{name:"French Guiana",code:"GF"},{name:"French Polynesia",code:"PF"},{name:"French Southern Territories",code:"TF"},{name:"Gabon",code:"GA"},{name:"Gambia",code:"GM"},{name:"Georgia",code:"GE"},{name:"Germany",code:"DE"},{name:"Ghana",code:"GH"},{name:"Gibraltar",code:"GI"},{name:"Greece",code:"GR"},{name:"Greenland",code:"GL"},{name:"Grenada",code:"GD"},{name:"Guadeloupe",code:"GP"},{name:"Guam",code:"GU"},{name:"Guatemala",code:"GT"},{name:"Guernsey",code:"GG"},{name:"Guinea",code:"GN"},{name:"Guinea-Bissau",code:"GW"},{name:"Guyana",code:"GY"},{name:"Haiti",code:"HT"},{name:"Heard Island and Mcdonald Islands",code:"HM"},{name:"Holy See (Vatican City State)",code:"VA"},{name:"Honduras",code:"HN"},{name:"Hong Kong",code:"HK"},{name:"Hungary",code:"HU"},{name:"Iceland",code:"IS"},{name:"India",code:"IN"},{name:"Indonesia",code:"ID"},{name:"Iran, Islamic Republic Of",code:"IR"},{name:"Iraq",code:"IQ"},{name:"Ireland",code:"IE"},{name:"Isle of Man",code:"IM"},{name:"Israel",code:"IL"},{name:"Italy",code:"IT"},{name:"Jamaica",code:"JM"},{name:"Japan",code:"JP"},{name:"Jersey",code:"JE"},{name:"Jordan",code:"JO"},{name:"Kazakhstan",code:"KZ"},{name:"Kenya",code:"KE"},{name:"Kiribati",code:"KI"},{name:"Korea, Democratic People'S Republic of",code:"KP"},{name:"Korea, Republic of",code:"KR"},{name:"Kuwait",code:"KW"},{name:"Kyrgyzstan",code:"KG"},{name:"Lao People'S Democratic Republic",code:"LA"},{name:"Latvia",code:"LV"},{name:"Lebanon",code:"LB"},{name:"Lesotho",code:"LS"},{name:"Liberia",code:"LR"},{name:"Libyan Arab Jamahiriya",code:"LY"},{name:"Liechtenstein",code:"LI"},{name:"Lithuania",code:"LT"},{name:"Luxembourg",code:"LU"},{name:"Macao",code:"MO"},{name:"Macedonia, The Former Yugoslav Republic of",code:"MK"},{name:"Madagascar",code:"MG"},{name:"Malawi",code:"MW"},{name:"Malaysia",code:"MY"},{name:"Maldives",code:"MV"},{name:"Mali",code:"ML"},{name:"Malta",code:"MT"},{name:"Marshall Islands",code:"MH"},{name:"Martinique",code:"MQ"},{name:"Mauritania",code:"MR"},{name:"Mauritius",code:"MU"},{name:"Mayotte",code:"YT"},{name:"Mexico",code:"MX"},{name:"Micronesia, Federated States of",code:"FM"},{name:"Moldova, Republic of",code:"MD"},{name:"Monaco",code:"MC"},{name:"Mongolia",code:"MN"},{name:"Montserrat",code:"MS"},{name:"Morocco",code:"MA"},{name:"Mozambique",code:"MZ"},{name:"Myanmar",code:"MM"},{name:"Namibia",code:"NA"},{name:"Nauru",code:"NR"},{name:"Nepal",code:"NP"},{name:"Netherlands",code:"NL"},{name:"Netherlands Antilles",code:"AN"},{name:"New Caledonia",code:"NC"},{name:"New Zealand",code:"NZ"},{name:"Nicaragua",code:"NI"},{name:"Niger",code:"NE"},{name:"Nigeria",code:"NG"},{name:"Niue",code:"NU"},{name:"Norfolk Island",code:"NF"},{name:"Northern Mariana Islands",code:"MP"},{name:"Norway",code:"NO"},{name:"Oman",code:"OM"},{name:"Pakistan",code:"PK"},{name:"Palau",code:"PW"},{name:"Palestinian Territory, Occupied",code:"PS"},{name:"Panama",code:"PA"},{name:"Papua New Guinea",code:"PG"},{name:"Paraguay",code:"PY"},{name:"Peru",code:"PE"},{name:"Philippines",code:"PH"},{name:"Pitcairn",code:"PN"},{name:"Poland",code:"PL"},{name:"Portugal",code:"PT"},{name:"Puerto Rico",code:"PR"},{name:"Qatar",code:"QA"},{name:"Reunion",code:"RE"},{name:"Romania",code:"RO"},{name:"Russian Federation",code:"RU"},{name:"RWANDA",code:"RW"},{name:"Saint Helena",code:"SH"},{name:"Saint Kitts and Nevis",code:"KN"},{name:"Saint Lucia",code:"LC"},{name:"Saint Pierre and Miquelon",code:"PM"},{name:"Saint Vincent and the Grenadines",code:"VC"},{name:"Samoa",code:"WS"},{name:"San Marino",code:"SM"},{name:"Sao Tome and Principe",code:"ST"},{name:"Saudi Arabia",code:"SA"},{name:"Senegal",code:"SN"},{name:"Serbia and Montenegro",code:"CS"},{name:"Seychelles",code:"SC"},{name:"Sierra Leone",code:"SL"},{name:"Singapore",code:"SG"},{name:"Slovakia",code:"SK"},{name:"Slovenia",code:"SI"},{name:"Solomon Islands",code:"SB"},{name:"Somalia",code:"SO"},{name:"South Africa",code:"ZA"},{name:"South Georgia and the South Sandwich Islands",code:"GS"},{name:"Spain",code:"ES"},{name:"Sri Lanka",code:"LK"},{name:"Sudan",code:"SD"},{name:"Suriname",code:"SR"},{name:"Svalbard and Jan Mayen",code:"SJ"},{name:"Swaziland",code:"SZ"},{name:"Sweden",code:"SE"},{name:"Switzerland",code:"CH"},{name:"Syrian Arab Republic",code:"SY"},{name:"Taiwan, Province of China",code:"TW"},{name:"Tajikistan",code:"TJ"},{name:"Tanzania, United Republic of",code:"TZ"},{name:"Thailand",code:"TH"},{name:"Timor-Leste",code:"TL"},{name:"Togo",code:"TG"},{name:"Tokelau",code:"TK"},{name:"Tonga",code:"TO"},{name:"Trinidad and Tobago",code:"TT"},{name:"Tunisia",code:"TN"},{name:"Turkey",code:"TR"},{name:"Turkmenistan",code:"TM"},{name:"Turks and Caicos Islands",code:"TC"},{name:"Tuvalu",code:"TV"},{name:"Uganda",code:"UG"},{name:"Ukraine",code:"UA"},{name:"United Arab Emirates",code:"AE"},{name:"United Kingdom",code:"GB"},{name:"United States",code:"US"},{name:"United States Minor Outlying Islands",code:"UM"},{name:"Uruguay",code:"UY"},{name:"Uzbekistan",code:"UZ"},{name:"Vanuatu",code:"VU"},{name:"Venezuela",code:"VE"},{name:"Viet Nam",code:"VN"},{name:"Virgin Islands, British",code:"VG"},{name:"Virgin Islands, U.S.",code:"VI"},{name:"Wallis and Futuna",code:"WF"},{name:"Western Sahara",code:"EH"},{name:"Yemen",code:"YE"},{name:"Zambia",code:"ZM"},{name:"Zimbabwe",code:"ZW"}]}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_senderStore=__webpack_require__(228),_senderStore2=_interopRequireDefault(_senderStore),_senderActions=__webpack_require__(172),_senderActions2=_interopRequireDefault(_senderActions),_notificationActions=__webpack_require__(100),_notificationActions2=_interopRequireDefault(_notificationActions),_senderListItem=__webpack_require__(1080),_senderListItem2=_interopRequireDefault(_senderListItem),_buttons=__webpack_require__(8),_confirmation=__webpack_require__(34),_reactClassUtils=__webpack_require__(7),SendersList=(_class=function(_React$Component){function SendersList(){_classCallCheck(this,SendersList);var _this=_possibleConstructorReturn(this,(SendersList.__proto__||Object.getPrototypeOf(SendersList)).call(this));return _this.state={collection:_senderStore2.default.getSenders(),spamModalActive:!1},_this}return _inherits(SendersList,_React$Component),_createClass(SendersList,[{key:"componentDidMount",value:function(){_senderStore2.default.addChangeListener(this.senderStoreChanged),_senderActions2.default.fetch(),this.displayVerifiedFlash()}},{key:"componentWillUnmount",value:function(){_senderStore2.default.removeChangeListener(this.senderStoreChanged),this.setState({spamModalActive:!1})}},{key:"senderStoreChanged",value:function(){this.setState({collection:_senderStore2.default.getSenders()})}},{key:"displayVerifiedFlash",value:function(){var isVerified=this.props.location.query&&this.props.location.query.verified;isVerified&&("true"===isVerified?_notificationActions2.default.add("Sender Identity successfully verified.","success"):_notificationActions2.default.add("Sender Identity could not be verified.","danger"))}},{key:"showSpamModal",value:function(){this.setState({spamModalActive:!0})}},{key:"handleCancelSpam",value:function(){this.setState({spamModalActive:!1})}},{key:"render",value:function(){var _this2=this;return _react2.default.createElement("div",{"data-role":"senders-application",id:"sender_identities_view"},_react2.default.createElement("div",null,_react2.default.createElement("header",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_pageTitle2.default,{title:"Sender Management"},_react2.default.createElement("i",{onClick:this.showSpamModal,"data-toggle":"tooltip",className:"sg-icon sg-icon-info-circle"}))),_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement("div",{className:"actions pull-right"},_react2.default.createElement(_buttons.PrimaryButton,{to:"/marketing_campaigns/ui/senders/new"},"Create New Sender"))))),_react2.default.createElement("div",{className:"list-view"},_react2.default.createElement("table",{className:"table-wrap"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",null,"Senders"),_react2.default.createElement("th",null,"Address"),_react2.default.createElement("th",null,"Nickname"),_react2.default.createElement("th",null,"Verified"),_react2.default.createElement("th",{className:"actions"},"Actions"))),_senderStore2.default.getHasFetchedCollection()?_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:"list-item",transitionEnterTimeout:500,transitionLeaveTimeout:500,component:"tbody","data-role":"list-view"},_underscore2.default.sortBy(this.state.collection,"id").map(function(sender){return _react2.default.createElement(_senderListItem2.default,{model:sender,didAttemptVerification:_this2.props.location.query&&_this2.props.location.query.id===sender.id,key:sender.id})})):null)),_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.spamModalActive,onCancel:this.handleCancelSpam},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"info-circle"},"About Spam Compliance"),_react2.default.createElement(_confirmation.ConfModalBody,null,"You are required to include your contact information, including a physical mailing address, inside every promotional email you send in order to comply with the  ",_react2.default.createElement("a",{target:"_blank",href:"http://business.ftc.gov/documents/bus61-can-spam-act-compliance-guide-business"},"U.S. CAN-SPAM Act"),",  ",_react2.default.createElement("a",{target:"_blank",href:"http://laws-lois.justice.gc.ca/eng/annualstatutes/2010_23/FullText.html"},"CASL"),",   and other anti-spam laws of the countries your recipients live in.","You'll"," find replacement tags for this information in the footer of all the templates SendGrid provides."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.handleCancelSpam},"Close"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{href:"//sendgrid.com/email_policy",target:"_blank"},"Learn more"))),this.props.children)}}]),SendersList}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"senderStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"senderStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"displayVerifiedFlash",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"displayVerifiedFlash"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showSpamModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showSpamModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelSpam",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelSpam"),_class.prototype),_class);SendersList.propTypes={children:_propTypes2.default.string,location:_propTypes2.default.object},SendersList.defaultProps={children:null,location:{}},module.exports=SendersList},,,,,,,,function(module,exports,__webpack_require__){var content=__webpack_require__(1079);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".pageTitle-css__title-heading___3H2vL{display:inline-block;max-width:80%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;vertical-align:middle}.pageTitle-css__title-heading___3H2vL:first-letter{text-transform:capitalize}.pageTitle-css__segment-heading___1ufZe{display:flex;flex-wrap:nowrap}.pageTitle-css__segment-heading___1ufZe a{margin-top:7px}.pageTitle-css__segment-title___2baIz{overflow:visible;text-overflow:clip;white-space:pre-wrap;overflow-wrap:break-word;max-width:100%}.pageTitle-css__arrow___2KdwM{vertical-align:middle}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/pageTitle.css.scss"],names:[],mappings:"AAAA,sCACE,qBACA,cACA,uBACA,gBACA,mBACA,qBAAsB,CANxB,mDASI,yBAA0B,CAC3B,wCAID,aACA,gBAAiB,CAFnB,0CAKI,cAAe,CAChB,sCAID,iBACA,mBACA,qBACA,yBACA,cAAe,CAChB,8BAGC,qBAAsB,CACvB",file:"pageTitle.css.scss",sourcesContent:[".title-heading {\n  display: inline-block;\n  max-width: 80%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  white-space: nowrap;\n  vertical-align: middle;\n\n  &::first-letter {\n    text-transform: capitalize;\n  }\n}\n\n.segment-heading {\n  display: flex;\n  flex-wrap: nowrap;\n\n  a {\n    margin-top: 7px;\n  }\n}\n\n.segment-title {\n  overflow: visible;\n  text-overflow: initial;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n  max-width: 100%;\n}\n\n.arrow {\n  vertical-align: middle;\n}\n"],sourceRoot:""}]),exports.locals={"title-heading":"pageTitle-css__title-heading___3H2vL","segment-heading":"pageTitle-css__segment-heading___1ufZe","segment-title":"pageTitle-css__segment-title___2baIz",arrow:"pageTitle-css__arrow___2KdwM"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_senderActions=__webpack_require__(172),_senderActions2=_interopRequireDefault(_senderActions),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_actionsMenu=__webpack_require__(151),_reactClassUtils=__webpack_require__(7),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),SenderListItem=(_class=function(_React$Component){function SenderListItem(){_classCallCheck(this,SenderListItem);var _this=_possibleConstructorReturn(this,(SenderListItem.__proto__||Object.getPrototypeOf(SenderListItem)).call(this));return _this.state={deleteModalActive:!1},_this}return _inherits(SenderListItem,_React$Component),_createClass(SenderListItem,[{key:"componentWillUnmount",value:function(){this.setState({deleteModalActive:!1})}},{key:"handleResendClick",value:function(){_senderActions2.default.verify(this.props.model.id)}},{key:"handleDeleteClick",value:function(){_senderActions2.default.delete(this.props.model.id)}},{key:"handleCancelDelete",value:function(){this.setState({deleteModalActive:!1})}},{key:"showDeleteConfirmation",value:function(){this.setState({deleteModalActive:!0})}},{key:"render",value:function(){var verifiedClassName=(this.props.model.verified?"icon-check":"icon-close")+(this.props.didAttemptVerification?" sender-icon-verified-animation":""),resendVerifyLink=this.props.model.verified?null:_react2.default.createElement(_actionsMenu.ActionsMenuItem,{onClick:this.handleResendClick,iconClass:"sg-icon sg-icon-mail","data-role":"resend-sender-verification"},"Resend Verification");return _react2.default.createElement("tr",null,_react2.default.createElement("td",null,_react2.default.createElement("span",{className:"from-name"},this.props.model.from_name),_react2.default.createElement("span",{className:"from-email"},_react2.default.createElement("span",{className:"label label-default active"},_react2.default.createElement("i",{className:"glyphicon glyphicon-arrow-left"})," From")," ",this.props.model.from_email),_react2.default.createElement("span",{className:"from-email"},_react2.default.createElement("span",{className:"label label-default"},_react2.default.createElement("i",{className:"glyphicon glyphicon-arrow-right"})," Reply")," ",this.props.model.reply_to)),_react2.default.createElement("td",{className:"address"},_react2.default.createElement("div",null,this.props.model.displayAddress1),_react2.default.createElement("div",null,this.props.model.displayAddress2)),_react2.default.createElement("td",{"data-field-name":"nickname"},this.props.model.nickname),_react2.default.createElement("td",{className:"verified","data-role":"verification-status"},_react2.default.createElement("i",{className:verifiedClassName}),_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.deleteModalActive,onCancel:this.handleCancelDelete},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete Sender?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Please confirm you want to delete this sender."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.handleCancelDelete},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.handleDeleteClick},"Confirm")))),this.props.model.locked?_react2.default.createElement("td",{className:"actions"},_react2.default.createElement("div",{className:"senders-lock"},_react2.default.createElement(_tooltip2.default,{content:"This sender is locked because it is being used in an active campaign. Removing a sender from active campaigns may take up to 5 minutes to be reflected here."},_react2.default.createElement("i",{className:"glyphicon glyphicon-lock"})))):_react2.default.createElement(_actionsMenu.ActionsMenu,null,resendVerifyLink,_react2.default.createElement(_actionsMenu.ActionsMenuItem,{to:"/marketing_campaigns/ui/senders/"+this.props.model.id+"/edit",iconClass:"sg-icon sg-icon-pencil","data-role":"edit-sender"},"Edit"),_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteConfirmation,"data-role":"delete-sender"},"Delete")))}}]),SenderListItem}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handleResendClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleResendClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleDeleteClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleDeleteClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelDelete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteConfirmation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteConfirmation"),_class.prototype),_class);SenderListItem.propTypes={model:_propTypes2.default.object.isRequired,didAttemptVerification:_propTypes2.default.bool},SenderListItem.defaultProps={didAttemptVerification:!1},exports.default=SenderListItem},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function fetchCollection(){var isLean=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _campaignsActions2.default.fetchAll(isLean)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_reactRouter=__webpack_require__(27),_filters=__webpack_require__(1082),_filters2=_interopRequireDefault(_filters),_index=__webpack_require__(1085),_index2=_interopRequireDefault(_index),_header=__webpack_require__(1106),_header2=_interopRequireDefault(_header),_noCampaignsPlaceholder=__webpack_require__(1108),_noCampaignsPlaceholder2=_interopRequireDefault(_noCampaignsPlaceholder),_withCampaigns=__webpack_require__(1109),_withCampaigns2=_interopRequireDefault(_withCampaigns),_withDisplayControls=__webpack_require__(173),_withDisplayControls2=_interopRequireDefault(_withDisplayControls),_paginator=__webpack_require__(230),_paginator2=_interopRequireDefault(_paginator),_sgLoader=__webpack_require__(176),_sgLoader2=_interopRequireDefault(_sgLoader),_campaignsStore=__webpack_require__(61),_reactClassUtils=__webpack_require__(7),_memoryUtils=__webpack_require__(127),MemoryUtils=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_memoryUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_campaignListControlsActions=__webpack_require__(325),_campaignListControlsActions2=_interopRequireDefault(_campaignListControlsActions),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_categoryActions=__webpack_require__(510),_categoryActions2=_interopRequireDefault(_categoryActions),storageProps=["currentPage","searchQuery"],Loader=function(){return _react2.default.createElement("div",{style:{height:"100vh"}},_react2.default.createElement(_sgLoader2.default,{large:!0,centered:!0}))},getStateFromQueryString=function(props){var _LocationUtils$router=_locationUtils2.default.router.location.query,_LocationUtils$router2=_LocationUtils$router.name,name=void 0===_LocationUtils$router2?props.nameFilter:_LocationUtils$router2,_LocationUtils$router3=_LocationUtils$router.status,status=void 0===_LocationUtils$router3?props.statusFilter:_LocationUtils$router3,_LocationUtils$router4=_LocationUtils$router.categories,categories=void 0===_LocationUtils$router4?props.categoryFilter:_LocationUtils$router4,_LocationUtils$router5=_LocationUtils$router.statType,statType=void 0===_LocationUtils$router5?props.visibleStatType:_LocationUtils$router5;return categories=categories||[],{filters:{name:name,status:status,categories:Array.isArray(categories)?categories:[categories]},statType:statType}},CampaignsIndex=(_class=function(_React$Component){function CampaignsIndex(){_classCallCheck(this,CampaignsIndex);var _this=_possibleConstructorReturn(this,(CampaignsIndex.__proto__||Object.getPrototypeOf(CampaignsIndex)).call(this));return _this.state={currentPage:1,searchQuery:"",selectedCampaigns:{},selectedCampaignKeys:[]},_this}return _inherits(CampaignsIndex,_React$Component),_createClass(CampaignsIndex,[{key:"componentWillMount",value:function(){var _this2=this;MemoryUtils.performWithSavedState("CampaignsListView",function(state){_underscore2.default.isNumber(state.currentPage)&&void 0!==state.searchQuery&&_this2.setState(state)},storageProps),_categoryActions2.default.fetchUserCategories(),_campaignsActions2.default.fetchAllStatuses()}},{key:"componentDidMount",value:function(){var _this3=this,_getStateFromQueryStr=getStateFromQueryString(this.props),filters=_getStateFromQueryStr.filters,statType=_getStateFromQueryStr.statType;_campaignListControlsActions2.default.filter(filters),_campaignListControlsActions2.default.setStatType(statType),fetchCollection(!0).always(function(){fetchCollection(),_campaignsActions2.default.fetchAllCampaignCategories()}),MemoryUtils.registerUnloadCb(function(){MemoryUtils.saveState("CampaignsListView",{currentPage:_this3.state.currentPage,searchQuery:_this3.state.searchQuery})}),this.props.router.setRouteLeaveHook(this.props.route,function(){MemoryUtils.saveState("CampaignsListView",{currentPage:_this3.state.currentPage,searchQuery:_this3.state.searchQuery})})}},{key:"handlePageUpdate",value:function(currentPage){this.setState(function(prevState){return prevState.currentPage===currentPage?{}:(_analyticsUtils2.default.track("campaigns_page_change",{page:currentPage}),{currentPage:currentPage,selectedCampaigns:[],isSelectAllSelected:!1})})}},{key:"handleCampaignSelection",value:function(selectedCampaigns){var selectedCampaignKeys=Object.keys(selectedCampaigns);this.setState({selectedCampaigns:selectedCampaigns,selectedCampaignKeys:selectedCampaignKeys})}},{key:"handleBulkCampaignDeletion",value:function(){this.setState({selectedCampaigns:{},selectedCampaignKeys:[]})}},{key:"render",value:function(){var _props=this.props,children=_props.children,hasFetchedCampaigns=_props.hasFetchedCampaigns,_state=this.state,currentPage=_state.currentPage,selectedCampaigns=_state.selectedCampaigns;return hasFetchedCampaigns?this.hasNoCampaigns?_react2.default.createElement(_noCampaignsPlaceholder2.default,null,children):_react2.default.createElement("div",{className:"campaigns-index-app","data-role":"campaigns-index-app"},_react2.default.createElement("section",{className:"campaigns-index"},_react2.default.createElement(_header2.default,{selectedCampaigns:Object.keys(selectedCampaigns),onCampaignDeletion:this.handleBulkCampaignDeletion}),_react2.default.createElement(_filters2.default,null),_react2.default.createElement(_index2.default,{selectedCampaigns:selectedCampaigns,onCampaignSelection:this.handleCampaignSelection,filteredCampaigns:this.filteredCampaignsForPage}),_react2.default.createElement(_paginator2.default,{initialActivePageNumber:currentPage,onPageUpdate:this.handlePageUpdate,numPages:this.numberOfPages})),children):_react2.default.createElement(Loader,null)}},{key:"hasNoCampaigns",get:function(){return!this.props.campaigns.length}},{key:"paginationIndicies",get:function(){var begin=this.state.currentPage>0?(this.state.currentPage-1)*_campaignsStore.PAGE_LENGTH:0;return[begin,begin+_campaignsStore.PAGE_LENGTH]}},{key:"filteredCampaignsForPage",get:function(){var filteredCampaigns=this.props.filteredCampaigns;return filteredCampaigns.slice.apply(filteredCampaigns,_toConsumableArray(this.paginationIndicies))}},{key:"numberOfPages",get:function(){var filteredCampaigns=this.props.filteredCampaigns;return Math.ceil(filteredCampaigns.length/_campaignsStore.PAGE_LENGTH)}}]),CampaignsIndex}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handlePageUpdate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handlePageUpdate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCampaignSelection",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCampaignSelection"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleBulkCampaignDeletion",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleBulkCampaignDeletion"),_class.prototype),_class);CampaignsIndex.propTypes={nameFilter:_propTypes2.default.string.isRequired,statusFilter:_propTypes2.default.string.isRequired,categoryFilter:_propTypes2.default.array.isRequired,visibleStatType:_propTypes2.default.string.isRequired,router:_propTypes2.default.object.isRequired,route:_propTypes2.default.object.isRequired,children:_propTypes2.default.node,campaigns:_propTypes2.default.arrayOf(_propTypes2.default.shape(_campaignsStore.campaignPropType)).isRequired,hasFetchedCampaigns:_propTypes2.default.bool.isRequired,filteredCampaigns:_propTypes2.default.arrayOf(_propTypes2.default.shape(_campaignsStore.campaignPropType)).isRequired},CampaignsIndex.defaultProps={children:null,campaigns:[]},exports.default=(0,_reactRouter.withRouter)((0,_withCampaigns2.default)((0,_withDisplayControls2.default)(CampaignsIndex)))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Filters=void 0;var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_withDisplayControls=__webpack_require__(173),_withDisplayControls2=_interopRequireDefault(_withDisplayControls),_filtersCss=__webpack_require__(1083),_filtersCss2=_interopRequireDefault(_filtersCss),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_textInput=__webpack_require__(18),_buttons=__webpack_require__(8),_campaignsStore=__webpack_require__(61),_categoryStore=__webpack_require__(507),_categoryStore2=_interopRequireDefault(_categoryStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),Filters=function(_Component){function Filters(props){_classCallCheck(this,Filters);var _this=_possibleConstructorReturn(this,(Filters.__proto__||Object.getPrototypeOf(Filters)).call(this,props));return _this.state={categories:_categoryStore2.default.getUserCategoriesAsSelectOptions(),statuses:_campaignsStore.CampaignsStore.getStatusesAsSelectOptions()},_this.campaignsStoreChanged=_this.campaignsStoreChanged.bind(_this),_this.categoryStoreChanged=_this.categoryStoreChanged.bind(_this),_this}return _inherits(Filters,_Component),_createClass(Filters,[{key:"componentDidMount",value:function(){_campaignsStore.CampaignsStore.addChangeListener(this.campaignsStoreChanged),_categoryStore2.default.addChangeListener(this.categoryStoreChanged)}},{key:"componentWillUnmount",value:function(){_campaignsStore.CampaignsStore.removeChangeListener(this.campaignsStoreChanged),_categoryStore2.default.removeChangeListener(this.categoryStoreChanged)}},{key:"campaignsStoreChanged",value:function(){var statuses=_campaignsStore.CampaignsStore.getStatusesAsSelectOptions();this.setState({statuses:statuses})}},{key:"categoryStoreChanged",value:function(){var categories=_categoryStore2.default.getUserCategoriesAsSelectOptions();this.setState({categories:categories})}},{key:"handleStatusFilterChanged",value:function(val){this.props.onStatusFilterChanged(val)}},{key:"handleClearFilters",value:function(){this.props.clearAllFilters()}},{key:"render",value:function(){var _this2=this,_props=this.props,nameFilter=_props.nameFilter,onNameFilterChanged=_props.onNameFilterChanged,categoryFilter=_props.categoryFilter,onCategoryFilterChanged=_props.onCategoryFilterChanged,_state=this.state,categories=_state.categories,statuses=_state.statuses;return _react2.default.createElement("div",{className:"filter-wrap",id:"filter-example-basic"},_react2.default.createElement("div",{className:"filter-header"},_react2.default.createElement("p",{className:"filter-title"},"Filter Campaigns")),_react2.default.createElement("div",{className:"filter-list"},_react2.default.createElement("div",{className:_filtersCss2.default["filter-list-wrapper"]},_react2.default.createElement("div",{className:_filtersCss2.default["filter-campaign-name"]},_react2.default.createElement(_textInput.TextInput,{name:"name",labelText:"Campaign Name",placeholder:"Campaign Name",value:nameFilter,onChange:function(e){return onNameFilterChanged(e.target.value)}})),_react2.default.createElement("div",{className:_filtersCss2.default["filter-status"],"data-role":"filter-by-status"},_react2.default.createElement(_select2.default,{name:"status",displayName:"Status",value:this.props.statusFilter,data:statuses,showLabel:!0,hasLoadedData:_campaignsStore.CampaignsStore.getHasFetchedStatuses(),options:{minimumResultsForSearch:-1},onChange:function(e){return _this2.handleStatusFilterChanged($(e.target).val())}})),_react2.default.createElement("div",{className:_filtersCss2.default["filter-category"],"data-role":"filter-by-category"},_react2.default.createElement(_select2.default,{name:"category",displayName:"Categories",value:categoryFilter,data:categories,showLabel:!0,hasLoadedData:_campaignsStore.CampaignsStore.getHasFetchedCategories(),options:{multiple:!0},onChange:function(e){return onCategoryFilterChanged($(e.target).val())}})),_react2.default.createElement("div",{className:_filtersCss2.default["filter-clear"]},_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:function(){return _this2.handleClearFilters()}},"Clear")))))}}]),Filters}(_react.Component);Filters.propTypes={clearAllFilters:_propTypes2.default.func.isRequired,nameFilter:_propTypes2.default.string.isRequired,onNameFilterChanged:_propTypes2.default.func.isRequired,onStatusFilterChanged:_propTypes2.default.func.isRequired,onCategoryFilterChanged:_propTypes2.default.func.isRequired,categoryFilter:_propTypes2.default.arrayOf(_propTypes2.default.string),statusFilter:_propTypes2.default.string},Filters.defaultProps={categoryFilter:[],statusFilter:_constants2.default.CAMPAIGNS.STATUS_FILTERS.ALL};var FiltersWithDisplayControls=(0,_withDisplayControls2.default)(Filters);exports.default=FiltersWithDisplayControls,exports.Filters=Filters},function(module,exports,__webpack_require__){var content=__webpack_require__(1084);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".filters-css__filter-list-wrapper___-xk7d{display:flex;align-items:flex-start}.filters-css__filter-campaign-name___3sMS3{flex:2;margin-right:40px}.filters-css__filter-status___k1CPc{flex:1;margin-right:40px}.filters-css__filter-category___5dOKC{flex:2;margin-right:40px}.filters-css__filter-clear___1_KJi{flex:1;display:flex;justify-content:flex-end}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/campaigns/index/__css__/src/views/campaigns/index/__css__/filters.css.scss"],names:[],mappings:"AAAA,0CACE,aACA,sBAAuB,CACxB,2CAGC,OACA,iBAAkB,CACnB,oCAGC,OACA,iBAAkB,CACnB,sCAGC,OACA,iBAAkB,CACnB,mCAGC,OACA,aACA,wBAAyB,CAC1B",file:"filters.css.scss",sourcesContent:[".filter-list-wrapper {\n  display: flex;\n  align-items: flex-start;\n}\n\n.filter-campaign-name {\n  flex: 2;\n  margin-right: 40px;\n}\n\n.filter-status {\n  flex: 1;\n  margin-right: 40px;\n}\n\n.filter-category {\n  flex: 2;\n  margin-right: 40px;\n}\n\n.filter-clear {\n  flex: 1;\n  display: flex;\n  justify-content: flex-end;\n}"],sourceRoot:""}]),exports.locals={"filter-list-wrapper":"filters-css__filter-list-wrapper___-xk7d","filter-campaign-name":"filters-css__filter-campaign-name___3sMS3","filter-status":"filters-css__filter-status___k1CPc","filter-category":"filters-css__filter-category___5dOKC","filter-clear":"filters-css__filter-clear___1_KJi"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function setStatTypeToRaw(){_campaignListControlsActions2.default.setStatType(_constants2.default.CAMPAIGNS.DATA_VIEWS.RAW)}function setStatTypeToPercentage(){_campaignListControlsActions2.default.setStatType(_constants2.default.CAMPAIGNS.DATA_VIEWS.PERCENTAGE)}function getSelectedFromCampaigns(campaigns){var selectedCampaigns={};return _underscore2.default.each(campaigns,function(campaign){selectedCampaigns[campaign.id]=!0}),selectedCampaigns}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListView=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_campaignListControlsActions=__webpack_require__(325),_campaignListControlsActions2=_interopRequireDefault(_campaignListControlsActions),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_cancelModal=__webpack_require__(1086),_cancelModal2=_interopRequireDefault(_cancelModal),_deleteModal=__webpack_require__(1087),_deleteModal2=_interopRequireDefault(_deleteModal),_formInputs=__webpack_require__(129),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_index=__webpack_require__(1094),_index2=_interopRequireDefault(_index),_noResultsFoundMessage=__webpack_require__(1103),_noResultsFoundMessage2=_interopRequireDefault(_noResultsFoundMessage),_tableHeaderWithTooltip=__webpack_require__(1104),_tableHeaderWithTooltip2=_interopRequireDefault(_tableHeaderWithTooltip),_withDisplayControls=__webpack_require__(173),_withDisplayControls2=_interopRequireDefault(_withDisplayControls),_listViewCss=__webpack_require__(509),_listViewCss2=_interopRequireDefault(_listViewCss),ListView=exports.ListView=function(_React$Component){function ListView(){_classCallCheck(this,ListView);var _this=_possibleConstructorReturn(this,(ListView.__proto__||Object.getPrototypeOf(ListView)).call(this));return _this.state={cancelModalId:null,deleteModalId:null,isSelectAllSelected:!1},_this.onToggleCampaignSelection=_this.onToggleCampaignSelection.bind(_this),_this.toggleSelectAll=_this.toggleSelectAll.bind(_this),_this.handleStopSendClick=_this.handleStopSendClick.bind(_this),_this.handleCancelStopSend=_this.handleCancelStopSend.bind(_this),_this.handleConfirmStopSend=_this.handleConfirmStopSend.bind(_this),_this.handleDeleteClick=_this.handleDeleteClick.bind(_this),_this.handleCancelDelete=_this.handleCancelDelete.bind(_this),_this.handleConfirmDelete=_this.handleConfirmDelete.bind(_this),_this}return _inherits(ListView,_React$Component),_createClass(ListView,[{key:"onToggleCampaignSelection",value:function(id){var selectedCampaigns={};this.props.selectedCampaigns[id]?selectedCampaigns=_underscore2.default.omit(this.props.selectedCampaigns,id):(selectedCampaigns=_underscore2.default.clone(this.props.selectedCampaigns),selectedCampaigns[id]=!0),this.props.onCampaignSelection(selectedCampaigns)}},{key:"handleStopSendClick",value:function(id){this.setState({cancelModalId:id})}},{key:"handleCancelStopSend",value:function(){this.setState({cancelModalId:null})}},{key:"handleConfirmStopSend",value:function(){_campaignsActions2.default.cancel(this.state.cancelModalId),this.setState({cancelModalId:null})}},{key:"handleDeleteClick",value:function(id){this.setState({deleteModalId:id})}},{key:"handleCancelDelete",value:function(){this.setState({deleteModalId:null})}},{key:"handleConfirmDelete",value:function(){_campaignsActions2.default.delete(this.state.deleteModalId),this.setState({deleteModalId:null})}},{key:"toggleSelectAll",value:function(){var selectedCampaigns=this.state.isSelectAllSelected?{}:getSelectedFromCampaigns(this.props.filteredCampaigns);this.props.onCampaignSelection(selectedCampaigns),this.setState({isSelectAllSelected:!this.state.isSelectAllSelected})}},{key:"render",value:function(){var _this2=this,shouldShowTooltips=this.props.visibleStatType===_constants2.default.CAMPAIGNS.DATA_VIEWS.PERCENTAGE;return _react2.default.createElement("section",{className:_listViewCss2.default["list-view"]},_react2.default.createElement("table",{className:"table-wrap has-checkboxes"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",{className:"table-checkbox"},_react2.default.createElement(_formInputs.CheckboxInput,{"data-role":"toggle-select-all-campaigns",id:"toggle-select-all-campaigns",onClick:this.toggleSelectAll,isChecked:this.state.isSelectAllSelected})),_react2.default.createElement("th",null,"status"),_react2.default.createElement("th",null,"campaign name"),_react2.default.createElement(_tableHeaderWithTooltip2.default,{tooltipText:"DELIVERED/REQUESTS",shouldShowTooltip:shouldShowTooltips},"delivered"),_react2.default.createElement(_tableHeaderWithTooltip2.default,{tooltipText:"UNIQUE OPENS/DELIVERED",shouldShowTooltip:shouldShowTooltips},"unique opens"),_react2.default.createElement(_tableHeaderWithTooltip2.default,{tooltipText:"UNIQUE OPENS/DELIVERED",shouldShowTooltip:shouldShowTooltips},"unique clicks"),_react2.default.createElement(_tableHeaderWithTooltip2.default,{tooltipText:"UNSUBSCRIBES/DELIVERED",shouldShowTooltip:shouldShowTooltips},"unsubscribes"),_react2.default.createElement("th",{className:"actions"},_react2.default.createElement(_dropdownMenu.DropdownGear,null,_react2.default.createElement(_dropdownLink2.default,{"data-role":"view-raw-stats",onClick:setStatTypeToRaw},"View stats as numbers"),_react2.default.createElement(_dropdownLink2.default,{"data-role":"view-percentage-stats",onClick:setStatTypeToPercentage},"View stats as percentages"))))),_react2.default.createElement("tbody",null,this.props.filteredCampaigns.map(function(campaign){return _react2.default.createElement(_index2.default,_extends({key:campaign.id},campaign,{isSelected:!!_this2.props.selectedCampaigns[campaign.id],onSelect:_this2.onToggleCampaignSelection,handleStopSendClick:_this2.handleStopSendClick,handleDeleteClick:_this2.handleDeleteClick}))}))),this.state.cancelModalId&&_react2.default.createElement(_cancelModal2.default,{onCancel:this.handleCancelStopSend,onConfirm:this.handleConfirmStopSend}),this.state.deleteModalId&&_react2.default.createElement(_deleteModal2.default,{onCancel:this.handleCancelDelete,onConfirm:this.handleConfirmDelete}),!this.props.filteredCampaigns.length&&_react2.default.createElement(_noResultsFoundMessage2.default,null))}}]),ListView}(_react2.default.Component),ListViewWithDisplayControls=(0,_withDisplayControls2.default)(ListView);exports.default=ListViewWithDisplayControls,ListView.propTypes={filteredCampaigns:_propTypes2.default.arrayOf(_propTypes2.default.shape({id:_propTypes2.default.number.isRequired,name:_propTypes2.default.string.isRequired})).isRequired,selectedCampaigns:_propTypes2.default.object.isRequired,onCampaignSelection:_propTypes2.default.func.isRequired,visibleStatType:_propTypes2.default.string.isRequired}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CancelModal(props){return _react2.default.createElement(_confirmation.ConfirmationModal,{show:!0,onCancel:props.onCancel},_react2.default.createElement(_confirmation.ConfModalHeader,null,"Cancel Send?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Your campaign will immediately stop sending.",_react2.default.createElement("br",null),"This action cannot be undone."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:props.onCancel},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:props.onConfirm},"Confirm")))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8);CancelModal.propTypes={onCancel:_propTypes2.default.func.isRequired,onConfirm:_propTypes2.default.func.isRequired},exports.default=CancelModal},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DeleteModal(props){return _react2.default.createElement(_confirmation.ConfirmationModal,{show:!0,onCancel:props.onCancel},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete Campaign?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Are you sure you want to delete this campaign?"),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:props.onCancel},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:props.onConfirm},"Confirm")))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8);DeleteModal.propTypes={onCancel:_propTypes2.default.func.isRequired,onConfirm:_propTypes2.default.func.isRequired},exports.default=DeleteModal},function(module,exports,__webpack_require__){var content=__webpack_require__(1089);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,"div.checkboxInput-css__table-header-checkbox-wrap___1y040{margin-bottom:0}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/forms/__css__/src/views/components/style-guide/forms/__css__/checkboxInput.css.scss"],names:[],mappings:"AAAA,0DACE,eAAgB,CACjB",file:"checkboxInput.css.scss",sourcesContent:["div.table-header-checkbox-wrap {\n  margin-bottom: 0;\n}\n"],sourceRoot:""}]),exports.locals={"table-header-checkbox-wrap":"checkboxInput-css__table-header-checkbox-wrap___1y040"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1091);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".radioInput-css__radio-container___3sajG .sg-icon{margin-left:10px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/forms/__css__/src/views/components/style-guide/forms/__css__/radioInput.css.scss"],names:[],mappings:"AAAA,kDAEI,gBAAiB,CAClB",file:"radioInput.css.scss",sourcesContent:[".radio-container {\n  :global .sg-icon {\n    margin-left: 10px;\n  }\n}"],sourceRoot:""}]),exports.locals={"radio-container":"radioInput-css__radio-container___3sajG"}},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);__webpack_require__(1093);var SingleDateInput=_react2.default.createClass({displayName:"SingleDateInput",propTypes:{id:_react2.default.PropTypes.string.isRequired,name:_react2.default.PropTypes.string.isRequired,value:_react2.default.PropTypes.string,registerFormInput:_react2.default.PropTypes.func,onChange:_react2.default.PropTypes.func,labelText:_react2.default.PropTypes.string},componentDidMount:function(){var _this=this,id="#"+this.props.id;$(id).daterangepicker({singleDatePicker:!0,locale:{format:"M/D/YYYY"}}),$(id).on("hide.daterangepicker",function(e){_this.props.onChange(e)})},render:function(){this.props.registerFormInput&&this.props.registerFormInput(this);return _react2.default.createElement("div",{onChange:this.props.onChange,className:"input-text-wrap is-calendar has-value"},_react2.default.createElement("style",null,"\n      .daterangepicker td.active::after {\n        border: none;\n    }"),_react2.default.createElement("label",{className:"input-text-label",htmlFor:this.props.id},this.props.labelText),_react2.default.createElement("input",{type:"text",name:this.props.name,id:this.props.id,value:this.props.value}))}});module.exports=SingleDateInput},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListItem=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_campaignsStore=__webpack_require__(61),_listItemPresenter=__webpack_require__(1095),_listItemPresenter2=_interopRequireDefault(_listItemPresenter),ListItem=exports.ListItem=function(_React$PureComponent){function ListItem(){return _classCallCheck(this,ListItem),_possibleConstructorReturn(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).apply(this,arguments))}return _inherits(ListItem,_React$PureComponent),_createClass(ListItem,[{key:"render",value:function(){return _react2.default.createElement(_listItemPresenter2.default,{campaignId:this.props.id,campaignStatusId:this.props.campaign_status_id,campaignName:this.props.name,categories:this.props.categories.map(function(c){return c.name}),editorType:this.props.editor,needsWinnerPicked:this.props.needs_winner_picked,isAB:!!this.props.ab_test_id,stats:this.props.stats,scheduledAt:this.props.scheduled_at,sentAt:this.props.sent_at,updatedAt:this.props.updated_at,isSelected:this.props.isSelected,onSelect:this.props.onSelect,onStopSendClick:this.props.handleStopSendClick,onDeleteClick:this.props.handleDeleteClick})}}]),ListItem}(_react2.default.PureComponent);ListItem.propTypes=_extends({},_campaignsStore.campaignPropType,{isSelected:_propTypes2.default.bool.isRequired,onSelect:_propTypes2.default.func.isRequired,handleStopSendClick:_propTypes2.default.func.isRequired,handleDeleteClick:_propTypes2.default.func.isRequired}),ListItem.defaultProps={stats:null,editor:null,categories:[],needs_winner_picked:!1,ab_test_id:null,scheduled_at:null,sent_at:null},exports.default=ListItem},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ListItemPresenter(props){function onSelect(){props.onSelect(props.campaignId)}var stats=props.stats||{};return _react2.default.createElement("tr",{"data-role":"campaign-list-item","data-campaign-id":props.campaignId,className:(0,_classnames2.default)({"is-selected":props.isSelected})},_react2.default.createElement("td",{className:"table-checkbox"},_react2.default.createElement(_formInputs.CheckboxInput,{id:"campaign-list-item-checkbox-"+props.campaignId,isChecked:props.isSelected,onClick:onSelect})),_react2.default.createElement("td",{className:"cell-label"},_react2.default.createElement(_status2.default,{campaignStatusId:props.campaignStatusId,needsWinnerPicked:props.needsWinnerPicked,isAB:props.isAB,scheduledAt:props.scheduledAt,sentAt:props.sentAt,timezone:props.userTimezone,updatedAt:props.updatedAt})),_react2.default.createElement("td",{className:"campaign-name"},_react2.default.createElement(_campaignName2.default,{campaignId:props.campaignId,campaignName:props.campaignName,campaignStatusId:props.campaignStatusId,editorType:props.editorType}),_react2.default.createElement(_categoryList2.default,{categories:props.categories})),_react2.default.createElement(_stat2.default,{campaignStatusId:props.campaignStatusId,className:"stats delivered",raw:stats.delivers,percent:stats.delivers_percentage}),_react2.default.createElement(_stat2.default,{campaignStatusId:props.campaignStatusId,className:"stats opens",raw:stats.opens_unique,percent:stats.opens_unique_percentage,to:"/marketing_campaigns/ui/campaigns/"+props.campaignId+"/recipients/opened"}),_react2.default.createElement(_stat2.default,{campaignStatusId:props.campaignStatusId,className:"stats clicks",raw:stats.clicks_unique,percent:stats.clicks_unique_percentage,to:"/marketing_campaigns/ui/campaigns/"+props.campaignId+"/recipients/clicked"}),_react2.default.createElement(_stat2.default,{campaignStatusId:props.campaignStatusId,className:"stats unsubscribes",raw:stats.unsubscribes_unique,percent:stats.unsubscribes_percentage}),_react2.default.createElement(_campaignActionsMenu2.default,{campaignStatusId:props.campaignStatusId,campaignId:props.campaignId,editorType:props.editorType,onCancelClick:props.onStopSendClick,onDeleteClick:props.onDeleteClick}))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_withCurrentUser=__webpack_require__(1096),_withCurrentUser2=_interopRequireDefault(_withCurrentUser),_formInputs=__webpack_require__(129),_stat=__webpack_require__(1097),_stat2=_interopRequireDefault(_stat),_status=__webpack_require__(1098),_status2=_interopRequireDefault(_status),_campaignName=__webpack_require__(1099),_campaignName2=_interopRequireDefault(_campaignName),_categoryList=__webpack_require__(1100),_categoryList2=_interopRequireDefault(_categoryList),_campaignActionsMenu=__webpack_require__(508),_campaignActionsMenu2=_interopRequireDefault(_campaignActionsMenu);ListItemPresenter.propTypes={campaignId:_propTypes2.default.number.isRequired,campaignStatusId:_propTypes2.default.number.isRequired,campaignName:_propTypes2.default.string.isRequired,categories:_propTypes2.default.arrayOf(_propTypes2.default.string),editorType:_propTypes2.default.string,needsWinnerPicked:_propTypes2.default.bool,isAB:_propTypes2.default.bool.isRequired,scheduledAt:_propTypes2.default.number,sentAt:_propTypes2.default.number,updatedAt:_propTypes2.default.string.isRequired,isSelected:_propTypes2.default.bool.isRequired,onSelect:_propTypes2.default.func.isRequired,onStopSendClick:_propTypes2.default.func.isRequired,onDeleteClick:_propTypes2.default.func.isRequired,stats:_propTypes2.default.shape({delivers:_propTypes2.default.number,delivers_percentage:_propTypes2.default.number,opens_unique:_propTypes2.default.number,opens_unique_percentage:_propTypes2.default.number,clicks_unique:_propTypes2.default.number,clicks_unique_percentage:_propTypes2.default.number,unsubscribes_unique:_propTypes2.default.number,unsubscribes_unique_percentage:_propTypes2.default.number}),userTimezone:_propTypes2.default.shape({code:_propTypes2.default.string,name:_propTypes2.default.string,offset:_propTypes2.default.string}).isRequired},ListItemPresenter.defaultProps={categories:[],editorType:null,needsWinnerPicked:!1,scheduledAt:0,sentAt:0,stats:{}},exports.default=(0,_withCurrentUser2.default)(ListItemPresenter)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function WithCurrentUser(ComposedCmp){return function(_React$Component){function WithCurrentUserInner(){_classCallCheck(this,WithCurrentUserInner);var _this=_possibleConstructorReturn(this,(WithCurrentUserInner.__proto__||Object.getPrototypeOf(WithCurrentUserInner)).call(this));return _this.state={timezone:_currentUserStore2.default.getUserTimezone()},_this.currentUserStoreChanged=_this.currentUserStoreChanged.bind(_this),_this}return _inherits(WithCurrentUserInner,_React$Component),_createClass(WithCurrentUserInner,[{key:"componentDidMount",value:function(){_currentUserStore2.default.addChangeListener(this.currentUserStoreChanged)}},{key:"componentWillUnmount",value:function(){_currentUserStore2.default.removeChangeListener(this.currentUserStoreChanged)}},{key:"currentUserStoreChanged",value:function(){this.setState({timezone:_currentUserStore2.default.getUserTimezone()})}},{key:"render",value:function(){var hocProps={userTimezone:this.state.timezone};return _react2.default.createElement(ComposedCmp,_extends({},this.props,hocProps))}}]),WithCurrentUserInner}(_react2.default.Component)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore);exports.default=WithCurrentUser},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getDisplayValue(props){var isSent=props.isSent,visibleStatType=props.visibleStatType,raw=props.raw,percent=props.percent;return isSent?visibleStatType===_constants2.default.CAMPAIGNS.DATA_VIEWS.RAW?raw.toLocaleString():percent.toFixed(2)+"%":_constants2.default.NO_STATS_STRING}function CampaignListItemStat(props){var displayValue=getDisplayValue(props);return _react2.default.createElement("td",{className:props.className},props.to&&props.isSent?_react2.default.createElement(_reactRouter.Link,{to:props.to},displayValue):displayValue,_react2.default.createElement("span",{className:"stats-line",style:{width:props.percent.toFixed(2)+"%"}}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CampaignListItemStat=CampaignListItemStat;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_withCampaignStatus=__webpack_require__(174),_withCampaignStatus2=_interopRequireDefault(_withCampaignStatus),_withDisplayControls=__webpack_require__(173),_withDisplayControls2=_interopRequireDefault(_withDisplayControls);CampaignListItemStat.propTypes={className:_propTypes2.default.string.isRequired,isSent:_propTypes2.default.bool.isRequired,raw:_propTypes2.default.number,percent:_propTypes2.default.number,to:_propTypes2.default.string,visibleStatType:_propTypes2.default.string.isRequired},CampaignListItemStat.defaultProps={raw:0,percent:0,to:void 0},exports.default=(0,_withDisplayControls2.default)((0,_withCampaignStatus2.default)(CampaignListItemStat))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getTooltipMessage(_ref){var isScheduled=_ref.isScheduled,isSent=_ref.isSent,scheduledAt=_ref.scheduledAt,sentAt=_ref.sentAt,updatedAt=_ref.updatedAt,timezone=_ref.timezone;return isScheduled?"Scheduled for "+_dateUtils2.default.convertDateToTimezone(1e3*scheduledAt,timezone):isSent?"Sent "+_dateUtils2.default.convertDateToTimezone(1e3*sentAt,timezone):"Updated "+(0,_momentTimezone2.default)(_dateUtils2.default.convertToISOTimestamp(updatedAt)).fromNow()}function CampaignListItemStatus(props){var statusLabelClassname=(0,_classnames2.default)("label",{"label-draft":props.isDraft,"label-scheduled":props.isScheduled,"label-pick-winner":props.isInProgress&&props.needsWinnerPicked,"label-progress":props.isInProgress&&!props.needsWinnerPicked,"label-canceled":props.isCanceled,"label-sent":props.isSent});return _react2.default.createElement("section",null,_react2.default.createElement(_tooltip2.default,{content:getTooltipMessage(props),position:"up",length:""},_react2.default.createElement("span",{"data-role":"campaign-status",className:statusLabelClassname},props.campaignStatusType)),props.isAB&&_react2.default.createElement("span",{className:"label label-ab-test"},"A/B Test"))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CampaignListItemStatus=CampaignListItemStatus;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_momentTimezone=__webpack_require__(226),_momentTimezone2=_interopRequireDefault(_momentTimezone),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_withCampaignStatus=__webpack_require__(174),_withCampaignStatus2=_interopRequireDefault(_withCampaignStatus);CampaignListItemStatus.propTypes={campaignStatusType:_propTypes2.default.string.isRequired,needsWinnerPicked:_propTypes2.default.bool,isAB:_propTypes2.default.bool.isRequired,isCanceled:_propTypes2.default.bool.isRequired,isDraft:_propTypes2.default.bool.isRequired,isInProgress:_propTypes2.default.bool.isRequired,isScheduled:_propTypes2.default.bool.isRequired,isSent:_propTypes2.default.bool.isRequired,scheduledAt:_propTypes2.default.number,sentAt:_propTypes2.default.number,timezone:_propTypes2.default.shape({code:_propTypes2.default.string.isRequired,name:_propTypes2.default.string.isRequired,offset:_propTypes2.default.string.isRequired}),updatedAt:_propTypes2.default.string.isRequired},CampaignListItemStatus.defaultProps={needsWinnerPicked:!1,scheduledAt:0,sentAt:0,timezone:null},exports.default=(0,_withCampaignStatus2.default)(CampaignListItemStatus)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getLinkProps(_ref){var isDraft=_ref.isDraft,editorType=_ref.editorType,campaignId=_ref.campaignId;return isDraft?editorType?{to:"/marketing_campaigns/ui/campaigns/"+campaignId+"/edit"}:{href:"/marketing_campaigns/campaigns/"+campaignId+"/edit"}:{href:"/marketing_campaigns/campaigns/"+campaignId+"/stats"}}function getEditorTooltip(editorType){return editorType===_constants2.default.EDITORS.CODE?"Created in Code Editor":editorType===_constants2.default.EDITORS.DND?"Created in Design Editor":"Created in Old Editor"}function CampaignName(props){var iconClass=(0,_classnames2.default)("sg-icon",{"sg-icon-editor-code":"code"===props.editorType,"sg-icon-editor-design":"dnd"===props.editorType,"sg-icon-editor-old":!props.editorType}),isTooLong=props.campaignName.length>MAX_LEN,displayName=isTooLong?(0,_stringUtils.truncate)(props.campaignName,MAX_LEN,!0):props.campaignName,link=_react2.default.createElement(_reactRouter.Link,getLinkProps(props),displayName),nameContent=isTooLong?_react2.default.createElement(_tooltip2.default,{content:props.campaignName,position:"up",length:""},link):link;return _react2.default.createElement("p",null,_react2.default.createElement("span",{className:"editor-type","data-editor-type":props.editorType||"old"},_react2.default.createElement(_tooltip2.default,{content:getEditorTooltip(props.editorType),position:"up",length:""},_react2.default.createElement("i",{className:iconClass}))),nameContent)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.CampaignName=CampaignName;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_stringUtils=__webpack_require__(40),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_withCampaignStatus=__webpack_require__(174),_withCampaignStatus2=_interopRequireDefault(_withCampaignStatus),MAX_LEN=27;CampaignName.propTypes={campaignId:_propTypes2.default.number.isRequired,campaignStatusId:_propTypes2.default.number.isRequired,campaignName:_propTypes2.default.string.isRequired,editorType:_propTypes2.default.oneOf(["code","dnd",null])},CampaignName.defaultProps={editorType:null},exports.default=(0,_withCampaignStatus2.default)(CampaignName)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function CategoryTooltipContent(props){var categories=props.categories,onCategoryFilterChanged=props.onCategoryFilterChanged,categoryFilter=props.categoryFilter;return _react2.default.createElement("span",null,categories.map(function(category,i){return _react2.default.createElement("span",{key:category},_react2.default.createElement("a",{href:"javascript:void 0",onClick:function(){return onCategoryFilterChanged([].concat(_toConsumableArray(categoryFilter),[category]))}},category),i===categories.length-1?"":", ")}))}function Category(_ref){var categories=_ref.categories,categoryFilter=_ref.categoryFilter,onCategoryFilterChanged=_ref.onCategoryFilterChanged;if(categories.length<1)return null;if(1===categories.length){var category=categories[0],isTooLong=category.length>MAX_LEN,displayName=isTooLong?(0,_stringUtils.truncate)(category,MAX_LEN,!0):category,badge=_react2.default.createElement("span",{className:"badge badge-category",onClick:function(){return onCategoryFilterChanged([].concat(_toConsumableArray(categoryFilter),[category]))}},displayName);return isTooLong?_react2.default.createElement(_tooltip2.default,{content:categories[0],position:"up",length:""},badge):badge}var tooltipContent=_react2.default.createElement(CategoryTooltipContent,{categories:categories,categoryFilter:categoryFilter,onCategoryFilterChanged:onCategoryFilterChanged});return _react2.default.createElement(_tooltip2.default,{content:tooltipContent,position:"right"},_react2.default.createElement("span",{className:"badge badge-category"},"+ "+categories.length+" more"))}function CategoryList(_ref2){var categories=_ref2.categories;if(categories.length<1)return null;var _ref3=Array.isArray(categories)?categories:[categories],_ref4=_toArray(_ref3),first=_ref4[0],rest=_ref4.slice(1);return _react2.default.createElement("p",{className:"categories "+_categoryListCss2.default["category-list"]},_react2.default.createElement(DisplayControlledCategory,{categories:[first]}),_react2.default.createElement(DisplayControlledCategory,{categories:rest}))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_stringUtils=__webpack_require__(40),_withDisplayControls=__webpack_require__(173),_withDisplayControls2=_interopRequireDefault(_withDisplayControls),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_categoryListCss=__webpack_require__(1101),_categoryListCss2=_interopRequireDefault(_categoryListCss),MAX_LEN=20;CategoryTooltipContent.propTypes={categories:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,categoryFilter:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,onCategoryFilterChanged:_propTypes2.default.func.isRequired},Category.propTypes={categories:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,categoryFilter:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,onCategoryFilterChanged:_propTypes2.default.func.isRequired};var DisplayControlledCategory=(0,_withDisplayControls2.default)(Category);CategoryList.propTypes={categories:_propTypes2.default.oneOfType([_propTypes2.default.arrayOf(_propTypes2.default.string),_propTypes2.default.string]).isRequired},exports.default=CategoryList},function(module,exports,__webpack_require__){var content=__webpack_require__(1102);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".categoryList-css__category-list___1ldPb .badge:not(:last-of-type),.categoryList-css__category-list___1ldPb [data-tooltip]:not(:last-of-type){margin-right:4px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/campaigns/index/listItem/src/views/campaigns/index/listItem/categoryList.css.scss"],names:[],mappings:"AAAA,8IAGI,gBAAiB,CAClB",file:"categoryList.css.scss",sourcesContent:[".category-list {\n  :global .badge:not(:last-of-type), :global [data-tooltip]:not(:last-of-type) {\n    // on styleguide this is achieved via whitespace btwn elements\n    margin-right: 4px;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"category-list":"categoryList-css__category-list___1ldPb"}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),NoResultsFoundMessage=function(){return _react2.default.createElement("div",{className:"table-state"},_react2.default.createElement("p",null,"No results found. Try expanding your filter using fewer criteria."))};exports.default=NoResultsFoundMessage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function TableHeaderWithTooltip(props){return _react2.default.createElement("th",{className:(0,_classnames2.default)(_defineProperty({},_listViewCss2.default["has-tooltip"],props.shouldShowTooltip))},props.shouldShowTooltip?_react2.default.createElement(_tooltip2.default,{content:props.tooltipText,position:"up",length:""},props.children):props.children)}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_listViewCss=__webpack_require__(509),_listViewCss2=_interopRequireDefault(_listViewCss);TableHeaderWithTooltip.propTypes={shouldShowTooltip:_propTypes2.default.bool,tooltipText:_propTypes2.default.string,children:_propTypes2.default.node},TableHeaderWithTooltip.defaultProps={shouldShowTooltip:!1,tooltipText:"",children:null},exports.default=TableHeaderWithTooltip},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".listView-css__table___2Fyv6{padding-bottom:200px}.listView-css__list-view___20SYJ .listView-css__has-tooltip___3kLHw{cursor:help}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/campaigns/index/__css__/src/views/campaigns/index/__css__/listView.css.scss"],names:[],mappings:"AAEA,6BACE,oBAAqB,CACtB,oEAIG,WAAY,CACb",file:"listView.css.scss",sourcesContent:["// make enough space for the gear's dropdown menu to avoid clipping it.\n// needs padding equal to the num px that the last dropdown menu flows past the bottom of the container envelope.\n.table {\n  padding-bottom: 200px;\n}\n\n.list-view {\n  .has-tooltip {\n    cursor: help;\n  }\n}"],sourceRoot:""}]),exports.locals={table:"listView-css__table___2Fyv6","list-view":"listView-css__list-view___20SYJ","has-tooltip":"listView-css__has-tooltip___3kLHw"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_reactClassUtils=__webpack_require__(7),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_buttons=__webpack_require__(8),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_deleteConfirmation=__webpack_require__(1107),_deleteConfirmation2=_interopRequireDefault(_deleteConfirmation),Header=(_class=function(_React$Component){function Header(props){_classCallCheck(this,Header);var _this=_possibleConstructorReturn(this,(Header.__proto__||Object.getPrototypeOf(Header)).call(this,props));return _this.state={isDeleteConfirmationVisible:!1},_this}return _inherits(Header,_React$Component),_createClass(Header,[{key:"showDeleteConfirmation",value:function(){this.setState({isDeleteConfirmationVisible:!0})}},{key:"hideDeleteConfirmation",value:function(){this.setState({isDeleteConfirmationVisible:!1})}},{key:"deleteCampaigns",value:function(){var _this2=this;_campaignsActions2.default.deleteBulk(this.props.selectedCampaigns).then(function(){_this2.props.onCampaignDeletion()}),this.hideDeleteConfirmation()}},{key:"exportCsv",value:function(){_campaignsActions2.default.statsExportBulk(this.props.selectedCampaigns)}},{key:"render",value:function(){return _react2.default.createElement("header",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_pageTitle2.default,{title:"Campaigns"})),_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement("div",{className:"btn-list actions pull-right"},this.props.selectedCampaigns.length>=1&&_react2.default.createElement(_dropdownMenu.DropdownMenu,{count:this.props.selectedCampaigns.length,labelContent:"Selected"},_react2.default.createElement(_dropdownLink2.default,{"data-role":"delete-selected-campaigns",onClick:this.showDeleteConfirmation,iconClass:"sg-icon sg-icon-trash"},"Delete"),_react2.default.createElement(_dropdownLink2.default,{"data-role":"export-selected-campaigns",onClick:this.exportCsv,iconClass:"sg-icon sg-icon-export"},"Export CSV")),_react2.default.createElement(_buttons.PrimaryButton,{"data-role":"create-campaign",to:"/marketing_campaigns/ui/campaigns/new"},"Create Campaign"))),_react2.default.createElement(_deleteConfirmation2.default,{isVisible:this.state.isDeleteConfirmationVisible,selectedCampaignCount:this.props.selectedCampaigns.length,onCancel:this.hideDeleteConfirmation,onConfirm:this.deleteCampaigns,isBulkAction:this.props.selectedCampaigns.length>1}))}}]),Header}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"showDeleteConfirmation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteConfirmation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideDeleteConfirmation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideDeleteConfirmation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteCampaigns",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteCampaigns"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"exportCsv",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"exportCsv"),_class.prototype),_class);Header.propTypes={selectedCampaigns:_propTypes2.default.arrayOf(_propTypes2.default.number).isRequired,onCampaignDeletion:_propTypes2.default.func.isRequired},exports.default=Header},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getTitle(props){return props.isBulkAction?"Delete Campaigns?":"Delete Campaign?"}function getMessage(props){return props.isBulkAction?"Are you sure you want to delete the "+props.selectedCampaignCount+" selected campaigns?":"Are you sure you want to delete this campaign?"}function DeleteConfirmation(props){return _react2.default.createElement(_confirmation.ConfirmationModal,{show:props.isVisible,onCancel:props.onCancel},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},getTitle(props)),_react2.default.createElement(_confirmation.ConfModalBody,null,getMessage(props)),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{"data-role":"cancel-delete",onClick:props.onCancel},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{"data-role":"confirm-delete",onClick:props.onConfirm},"Confirm")))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8);exports.default=DeleteConfirmation,DeleteConfirmation.propTypes={isVisible:_propTypes2.default.bool.isRequired,selectedCampaignCount:_propTypes2.default.number.isRequired,onCancel:_propTypes2.default.func.isRequired,onConfirm:_propTypes2.default.func.isRequired,isBulkAction:_propTypes2.default.bool},DeleteConfirmation.defaultProps={isBulkAction:!1}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_buttons=__webpack_require__(8),NoCampaignsPlaceholder=function(_ref){var children=_ref.children;return _react2.default.createElement("div",{className:"campaigns-index-app","data-role":"campaigns-index-app"},_react2.default.createElement(_pageTitle2.default,{title:"campaigns"}),_react2.default.createElement("div",{className:"table-state is-empty"},_react2.default.createElement("i",{className:"sg-icon sg-icon-airplane"}),_react2.default.createElement("h2",null,"Create your first campaign, it’s as easy as 1,2,3"),_react2.default.createElement("p",null,"This is where you’ll create your campaign content. Whether you’re building from scratch, using a template, or importing custom HTML, our flexible editor makes it easy to build engaging emails. In addition to content creation, you’ll also define campaign settings like recipients and scheduling."),_react2.default.createElement("div",{className:"btn-list"},_react2.default.createElement(_buttons.PrimaryButton,{"data-role":"create-campaign",to:"/marketing_campaigns/ui/campaigns/new"},"Create Your First Campaign"))),_react2.default.createElement("p",{className:"small is-center"},_react2.default.createElement("i",{className:"sg-icon sg-icon-help"})," ",_react2.default.createElement("strong",null,"Need help?")," ",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/getting_started.html"},"Get more info")," ","on creating campaigns. and updating contacts."),children)};NoCampaignsPlaceholder.propTypes={children:_propTypes2.default.element},NoCampaignsPlaceholder.defaultProps={children:null},exports.default=NoCampaignsPlaceholder},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function WithCampaigns(ComposedCmp){return function(_React$Component){function _class(){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this));return _this.state={campaigns:_campaignsStore.CampaignsStore.getCollection(),hasFetchedCampaigns:_campaignsStore.CampaignsStore.getHasFetchedCollection(),filteredCampaigns:_campaignListControlsStore2.default.getFilteredCampaignsList()},_this.campaignListControlsStoreChanged=_this.campaignListControlsStoreChanged.bind(_this),_this.campaignsStoreChanged=_this.campaignsStoreChanged.bind(_this),_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentDidMount",value:function(){_campaignListControlsStore2.default.addChangeListener(this.campaignListControlsStoreChanged),_campaignsStore.CampaignsStore.addChangeListener(this.campaignsStoreChanged)}},{key:"componentWillUnmount",value:function(){_campaignListControlsStore2.default.removeChangeListener(this.campaignListControlsStoreChanged),_campaignsStore.CampaignsStore.removeChangeListener(this.campaignsStoreChanged)}},{key:"campaignListControlsStoreChanged",value:function(){this.setState({filteredCampaigns:_campaignListControlsStore2.default.getFilteredCampaignsList()})}},{key:"campaignsStoreChanged",value:function(){this.setState({campaigns:_campaignsStore.CampaignsStore.getCollection(),hasFetchedCampaigns:_campaignsStore.CampaignsStore.getHasFetchedCollection(),filteredCampaigns:_campaignListControlsStore2.default.getFilteredCampaignsList()})}},{key:"render",value:function(){var hocProps={campaigns:this.state.campaigns,hasFetchedCampaigns:this.state.hasFetchedCampaigns,filteredCampaigns:this.state.filteredCampaigns};return _react2.default.createElement(ComposedCmp,_extends({},this.props,hocProps))}}]),_class}(_react2.default.Component)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_campaignListControlsStore=__webpack_require__(506),_campaignListControlsStore2=_interopRequireDefault(_campaignListControlsStore),_campaignsStore=__webpack_require__(61);exports.default=WithCampaigns},function(module,exports,__webpack_require__){var content=__webpack_require__(1111);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".paginator-css__page-link-disabled___3jXr2{color:#9e9e9e;cursor:default}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/__css__/src/views/components/style-guide/__css__/paginator.css.scss"],names:[],mappings:"AAAA,2CACE,cACA,cAAe,CAChB",file:"paginator.css.scss",sourcesContent:[".page-link-disabled {\n  color: #9e9e9e;\n  cursor: default;\n}\n"],sourceRoot:""}]),exports.locals={"page-link-disabled":"paginator-css__page-link-disabled___3jXr2"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_side=__webpack_require__(60),_buttons=__webpack_require__(8),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_filter=__webpack_require__(231),_filter2=_interopRequireDefault(_filter),_editorSelector=__webpack_require__(326),_featureToggle=__webpack_require__(103),_legacyNewView=__webpack_require__(1119),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_templateThumbnail=__webpack_require__(1124),_templateThumbnail2=_interopRequireDefault(_templateThumbnail),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_marketingTemplateActions=__webpack_require__(104),_marketingTemplateActions2=_interopRequireDefault(_marketingTemplateActions),_marketingTemplateStore=__webpack_require__(233),_marketingTemplateStore2=_interopRequireDefault(_marketingTemplateStore),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_functionalUtils=__webpack_require__(177),_reactClassUtils=__webpack_require__(7),TEMPLATE_FILTER_OPTIONS=[{name:"All",value:"ALL"},{name:"Custom",value:"CUSTOM",selected:!0},{name:"SendGrid Templates",value:"GLOBAL"}],BLANK_TEMPLATE_ID="__blank____",blankTemplate={isBlank:!0,id:BLANK_TEMPLATE_ID,name:"Blank Template"},NewView=(_class=function(_React$Component){function NewView(){_classCallCheck(this,NewView);var _this=_possibleConstructorReturn(this,(NewView.__proto__||Object.getPrototypeOf(NewView)).call(this));return _this.state={shouldShowEditorSelector:!1,userHasCreatedCampaign:!1,templates:_marketingTemplateStore2.default.getCollection(),activeTab:"template",selectedTemplateFilter:"Custom",selectedTemplateId:BLANK_TEMPLATE_ID,isSelectedTemplateSG:!1,pastedHtml:"",selectedEditor:_constants2.default.EDITORS.DND,hasFetchedEditorTypes:_editorTypeStore2.default.getHasFetchedEditors()},_this}return _inherits(NewView,_React$Component),_createClass(NewView,[{key:"componentDidMount",value:function(){_marketingTemplateStore2.default.addChangeListener(this.marketingTemplatesStoreChanged),_editorTypeStore2.default.addChangeListener(this.editorTypeStoreChanged),_marketingTemplateActions2.default.fetch()}},{key:"componentWillUnmount",value:function(){_marketingTemplateStore2.default.removeChangeListener(this.marketingTemplatesStoreChanged),_editorTypeStore2.default.removeChangeListener(this.editorTypeStoreChanged)}},{key:"onTemplateFilterChangeHandler",value:function(selectedTemplateFilter){this.setState({selectedTemplateFilter:selectedTemplateFilter})}},{key:"editorTypeStoreChanged",value:function(){this.setState({hasFetchedEditorTypes:_editorTypeStore2.default.getHasFetchedEditors()})}},{key:"pastedHtmlChanged",value:function(e){this.setState({pastedHtml:e.target.value})}},{key:"marketingTemplatesStoreChanged",value:function(){this.setState({templates:_marketingTemplateStore2.default.getCollection()})}},{key:"handleSubmit",value:function(){if(!this.state.shouldShowEditorSelector)return void this.setState({shouldShowEditorSelector:!0});var templateId=this.state.selectedTemplateId==BLANK_TEMPLATE_ID?null:this.state.selectedTemplateId,editorId=_editorTypeStore2.default.getCampaignEditorId(this.state.selectedEditor);templateId?_campaignsActions2.default.createFromTemplate(templateId,editorId,!0):_campaignsActions2.default.createFromHTML("",editorId,!0);var templateType=this.state.isSelectedTemplateSG?"sg_template":"user_template";_analyticsUtils2.default.track("campaign_created",{source:_analyticsUtils2.default.getEditorType(this.state.selectedEditor===_constants2.default.EDITORS.DND),content:templateId?templateType:"blank"}),this.setState({userHasCreatedCampaign:!0})}},{key:"goBack",value:function(){this.context.router.push("/marketing_campaigns/ui/campaigns")}},{key:"selectTemplateId",value:function(selectedTemplateId,isSelectedTemplateSG){this.setState({selectedTemplateId:selectedTemplateId,isSelectedTemplateSG:isSelectedTemplateSG})}},{key:"selectEditor",value:function(selectedEditor){this.setState({selectedEditor:selectedEditor})}},{key:"render",value:function(){var _this2=this;if(this.state.userHasCreatedCampaign)return _react2.default.createElement(_side.WideSideRouteModal,null,_react2.default.createElement(_loadingIndicator2.default,null));return _react2.default.createElement(_side.WideSideRouteModal,{onCancel:this.goBack},_react2.default.createElement(_form2.default,{onSubmit:this.handleSubmit,"data-role":"create-campaign-form"},_react2.default.createElement(_side.SideModalHeader,{header:"Create a Campaign",onGoBackCb:this.state.shouldShowEditorSelector?function(){return _this2.setState({shouldShowEditorSelector:!1})}:null},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0,"data-role":"close-create-campaign-modal"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{"data-role":"confirm-create-campaign",disabled:!this.state.hasFetchedEditorTypes,type:"submit"},"Continue"))),function(){if(_this2.state.shouldShowEditorSelector)return _react2.default.createElement(_side.SideModalBody,null,_react2.default.createElement(_editorSelector.EditorSelector,{selectedEditorValue:_this2.state.selectedEditor,onEditorSelectionCb:_this2.selectEditor}));var templatePipe=(0,_functionalUtils.pipe)(function(templates){return _underscore2.default.sortBy(templates,function(t){return-1*t.updated_at})},function(templates){return _underscore2.default.map(templates,function(t){return _react2.default.createElement(_templateThumbnail2.default,{handleDoubleClick:function(){_this2.selectTemplateId(t.id,t.global),_this2.handleSubmit()},template:t,key:t.id,isChecked:_this2.state.selectedTemplateId===t.id,onClick:function(){return _this2.selectTemplateId(t.id,t.global)}})})}),templateMap=_underscore2.default.reduce(_this2.state.templates,function(memo,t){return _underscore2.default.tap(memo,function(m){return m[t.global?"global":"custom"].push(t)})},{global:[],custom:[]}),templates=templatePipe([_underscore2.default.extend({},blankTemplate)]).concat(templatePipe(_underscore2.default.include(["All","Custom"],_this2.state.selectedTemplateFilter)?templateMap.custom:[])).concat(templatePipe(_underscore2.default.include(["All","SendGrid Templates"],_this2.state.selectedTemplateFilter)?templateMap.global:[]));return _react2.default.createElement(_side.SideModalBody,null,_react2.default.createElement("div",null,_react2.default.createElement(_filter2.default,{title:"Filter By",options:TEMPLATE_FILTER_OPTIONS,onClick:_this2.onTemplateFilterChangeHandler}),templates))}()))}}]),NewView}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onTemplateFilterChangeHandler",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onTemplateFilterChangeHandler"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"editorTypeStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"editorTypeStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"pastedHtmlChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"pastedHtmlChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"marketingTemplatesStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"marketingTemplatesStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"goBack",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"goBack"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectTemplateId",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectTemplateId"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectEditor",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectEditor"),_class.prototype),_class);NewView.contextTypes={router:_react2.default.PropTypes.object},module.exports={NewView:(0,_featureToggle.FeatureToggle)(_legacyNewView.LegacyNewView,NewView,_constants2.default.FEATURES.BIFURCATED)}},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),FilterOption=_react2.default.createClass({displayName:"FilterOption",propTypes:{index:_react2.default.PropTypes.string.isRequired,onClick:_react2.default.PropTypes.func.isRequired},render:function(){return _react2.default.createElement("li",{className:"filter-option colfax-light "+(this.props.isSelected?"selected":""),onClick:this.props.onClick,"data-filter-option-index":this.props.index},this.props.children)}});exports.default=FilterOption},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _editorDnd=__webpack_require__(1115),_editorDnd2=_interopRequireDefault(_editorDnd),_editorCode=__webpack_require__(1116),_editorCode2=_interopRequireDefault(_editorCode);module.exports={EditorDnd:_editorDnd2.default,EditorCode:_editorCode2.default}},function(module,exports,__webpack_require__){"use strict";function EditorDnd(){return _react2.default.createElement("svg",{className:"icon icon-editor-dnd",width:"60",height:"60",viewBox:"140 30 60 60"},_react2.default.createElement("g",{fill:"none"},_react2.default.createElement("path",{className:"window",d:"M198.25 83.75c0 2.485-2.015 4.5-4.5 4.5h-47.5c-2.484 0-4.5-2.016-4.5-4.5v-47.5c0-2.484 2.016-4.5 4.5-4.5h47.5c2.485 0 4.5 2.015 4.5 4.5v47.5zm1 0v-47.5c0-3.037-2.462-5.5-5.5-5.5h-47.5c-3.036 0-5.5 2.464-5.5 5.5v47.5c0 3.036 2.464 5.5 5.5 5.5h47.5c3.038 0 5.5-2.463 5.5-5.5zm-58-39.5h57.5c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-57.5c-.276 0-.5.224-.5.5s.224.5.5.5zm9.5-6.75c0 .414-.336.75-.75.75s-.75-.336-.75-.75.336-.75.75-.75.75.336.75.75zm1 0c0-.966-.784-1.75-1.75-1.75s-1.75.784-1.75 1.75.784 1.75 1.75 1.75 1.75-.784 1.75-1.75zm6.5 0c0 .414-.336.75-.75.75s-.75-.336-.75-.75.336-.75.75-.75.75.336.75.75zm1 0c0-.966-.784-1.75-1.75-1.75s-1.75.784-1.75 1.75.784 1.75 1.75 1.75 1.75-.784 1.75-1.75zm6.5 0c0 .414-.336.75-.75.75s-.75-.336-.75-.75.336-.75.75-.75.75.336.75.75zm1 0c0-.966-.784-1.75-1.75-1.75s-1.75.784-1.75 1.75.784 1.75 1.75 1.75 1.75-.784 1.75-1.75z",fill:"#445B6C"}),_react2.default.createElement("path",{className:"content",d:"M191.25 55.75h-42.5l.5.5v-7.5l-.5.5h42.5l-.5-.5v7.5l.5-.5zm0 1c.276 0 .5-.224.5-.5v-7.5c0-.276-.224-.5-.5-.5h-42.5c-.276 0-.5.224-.5.5v7.5c0 .276.224.5.5.5h42.5zm-35 4h-7.5c-.276 0-.5.224-.5.5v20c0 .276.224.5.5.5h7.5c.276 0 .5-.224.5-.5v-20c0-.276-.224-.5-.5-.5zm0 1l-.5-.5v20l.5-.5h-7.5l.5.5v-20l-.5.5h7.5zm35 6.5h-27.5l.5.5v-7.5l-.5.5h27.5l-.5-.5v7.5l.5-.5zm0 1c.276 0 .5-.224.5-.5v-7.5c0-.276-.224-.5-.5-.5h-27.5c-.276 0-.5.224-.5.5v7.5c0 .276.224.5.5.5h27.5zm0 11.5h-27.5l.5.5v-7.5l-.5.5h27.5l-.5-.5v7.5l.5-.5zm0 1c.276 0 .5-.224.5-.5v-7.5c0-.276-.224-.5-.5-.5h-27.5c-.276 0-.5.224-.5.5v7.5c0 .276.224.5.5.5h27.5z",fill:"#1A82E2"})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.default=EditorDnd},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),EditorCode=function(){return _react2.default.createElement("svg",{className:"icon icon-editor-code",width:"60",height:"52",viewBox:"0 0 60 52"},_react2.default.createElement("g",{fill:"none"},_react2.default.createElement("path",{className:"monitor",d:"M58.25 42.278c0 1.925-1.46 3.472-3.25 3.472H5c-1.788 0-3.25-1.548-3.25-3.472V5.223C1.75 3.297 3.21 1.75 5 1.75h50c1.79 0 3.25 1.546 3.25 3.473v37.055zm1 0V5.223C59.25 2.756 57.356.75 55 .75H5C2.646.75.75 2.757.75 5.223v37.055c0 2.464 1.897 4.472 4.25 4.472h50c2.355 0 4.25-2.007 4.25-4.472zM12.5 51.75h35c.276 0 .5-.224.5-.5s-.224-.5-.5-.5h-35c-.276 0-.5.224-.5.5s.224.5.5.5zm17-5.5v5c0 .276.224.5.5.5s.5-.224.5-.5v-5c0-.276-.224-.5-.5-.5s-.5.224-.5.5zm1.25-5c0 .414-.336.75-.75.75s-.75-.336-.75-.75.336-.75.75-.75.75.336.75.75zm1 0c0-.966-.784-1.75-1.75-1.75s-1.75.784-1.75 1.75S29.034 43 30 43s1.75-.784 1.75-1.75zm-30.5-4.5h57.5v-1H1.25v1z",fill:"#445B6C"}),_react2.default.createElement("path",{className:"content",d:"M23.742 12.985v12c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-12H20.25c-.277 0-.5-.224-.5-.5s.223-.5.5-.5h5.98c.275 0 .5.224.5.5s-.225.5-.5.5h-2.49zm-14.524 6.25v5.75c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-12.5c0-.276.224-.5.5-.5s.5.224.5.5v5.75h4.977v-5.75c0-.276.224-.5.5-.5s.5.224.5.5v12.5c0 .276-.224.5-.5.5s-.5-.224-.5-.5v-5.75H9.218zm30.92 5.75v-12.5c0-.5-.652-.69-.92-.268l-3.983 6.25h.843l-3.98-6.25c-.27-.422-.922-.232-.922.268v12.5c0 .276.224.5.5.5s.5-.224.5-.5v-12.5l-.92.27 3.98 6.25c.195.307.645.307.842 0l3.982-6.25-.92-.27v12.5c0 .276.223.5.5.5.275 0 .5-.224.5-.5zm11.144-.5h-5.978l.5.5v-12.5c0-.276-.224-.5-.5-.5s-.5.224-.5.5v12.5c0 .276.224.5.5.5h5.978c.276 0 .5-.224.5-.5s-.224-.5-.5-.5z",fill:"#1A82E2"})))};module.exports=EditorCode},function(module,exports,__webpack_require__){var content=__webpack_require__(1118);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".editorSelector-css__editor-selection-view___2vQ8O h6{font-family:ProximaNova-SemiBold;font-size:13px;margin-bottom:10px;color:gray;letter-spacing:.5px}.editorSelector-css__editor-selection-view___2vQ8O header{border:1px solid #e1e1e1;padding:30px 60px 10px;border-radius:2px}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-options-list___2jgkD{margin-top:20px;display:flex;flex-direction:row}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__beta-badge___GbYEN{position:absolute;top:8px;left:264px;padding:4px 3px 2px 4px;font-size:8px;line-height:8px;font-weight:200}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1{flex:1;border:1px solid #e1e1e1;float:left;width:48%;min-height:330px;text-align:center;border-radius:2px;transition:border .5s ease}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1 .editor-option-label{text-transform:none;font-family:ProximaNova-Light;cursor:pointer;padding:30px 30px 45px;letter-spacing:0}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1 input{cursor:pointer}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1 .editorSelector-css__option-item-icon___2euZ3{width:60px;height:60px;margin:0 auto 25px;position:relative}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1 .editorSelector-css__option-item-icon___2euZ3 svg{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1 .editorSelector-css__option-item-description___10K1U{letter-spacing:normal}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1:nth-child(2n){float:right}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1:nth-child(odd){float:left;margin-right:20px}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1.editorSelector-css__option-item-selected___1R7O6{border-color:#1a82e2}.editorSelector-css__editor-selection-view___2vQ8O .editorSelector-css__editor-option-item___2dhE1.editorSelector-css__option-item-selected___1R7O6 .editorSelector-css__option-item-title___2js01{color:#1a82e2}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/campaigns/createCampaignModal/__css__/src/views/campaigns/createCampaignModal/__css__/editorSelector.css.scss"],names:[],mappings:"AAAA,sDAEI,iCACA,eACA,mBACA,WACA,mBAAqB,CANzB,0DAUI,yBACA,uBACA,iBAAkB,CAZtB,oGAgBI,gBACA,aACA,kBAAmB,CAlBvB,2FAsBI,kBACA,QACA,WACA,wBACA,cACA,gBACA,eAAgB,CA5BpB,mGAgCI,OACA,yBACA,WACA,UACA,iBACA,kBACA,kBACA,0BAA6B,CAvCjC,wHA0CM,oBACA,8BACA,eACA,uBACA,gBAAmB,CA9CzB,yGAiDM,cAAe,CAjDrB,iJAoDM,WACA,YACA,mBACA,iBAAkB,CAvDxB,qJAyDQ,kBACA,QACA,SACA,8BAAgC,CA5DxC,wJAgEM,qBAAsB,CAhE5B,iHAmEM,WAAY,CAnElB,kHAsEM,WACA,iBAAkB,CAvExB,oJA0EM,oBAAqB,CA1E3B,mMA4EQ,aAAc,CACf",file:"editorSelector.css.scss",sourcesContent:[".editor-selection-view {\n  h6 {\n    font-family: 'ProximaNova-SemiBold';\n    font-size: 13px;\n    margin-bottom: 10px;\n    color: gray;\n    letter-spacing: 0.5px;\n  }\n\n  header {\n    border: 1px solid #E1E1E1;\n    padding: 30px 60px 10px;\n    border-radius: 2px;\n  }\n\n  .editor-options-list {\n    margin-top: 20px;\n    display: flex;\n    flex-direction: row;\n  }\n\n  .beta-badge {\n    position: absolute;\n    top: 8px;\n    left: 264px;\n    padding: 4px 3px 2px 4px;\n    font-size: 8px;\n    line-height: 8px;\n    font-weight: 200;\n  }\n\n  .editor-option-item {\n    flex: 1;\n    border: 1px solid #E1E1E1;\n    float: left;\n    width: 48%;\n    min-height: 330px;\n    text-align: center;\n    border-radius: 2px;\n    transition: border 500ms ease;\n    :global .editor-option-label {\n      // Need to reset label styles since we're just using the tag for its nice click handling, and don't want its usual styling.\n      text-transform: none;\n      font-family: 'ProximaNova-Light';\n      cursor: pointer;\n      padding: 30px 30px 45px;\n      letter-spacing: 0px;\n    }\n    input {\n      cursor: pointer;\n    }\n    .option-item-icon {\n      width: 60px;\n      height: 60px;\n      margin: 0 auto 25px;\n      position: relative;\n      svg {\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n      }\n    }\n    .option-item-description {\n      letter-spacing: normal;\n    }\n    &:nth-child(even) {\n      float: right;\n    }\n    &:nth-child(odd) {\n      float: left;\n      margin-right: 20px;\n    }\n    &.option-item-selected {\n      border-color: #1a82e2;\n      .option-item-title {\n        color: #1a82e2;\n      }\n    }\n  }\n}"],sourceRoot:""}]),exports.locals={"editor-selection-view":"editorSelector-css__editor-selection-view___2vQ8O","editor-options-list":"editorSelector-css__editor-options-list___2jgkD","beta-badge":"editorSelector-css__beta-badge___GbYEN","editor-option-item":"editorSelector-css__editor-option-item___2dhE1","option-item-icon":"editorSelector-css__option-item-icon___2euZ3","option-item-description":"editorSelector-css__option-item-description___10K1U","option-item-selected":"editorSelector-css__option-item-selected___1R7O6","option-item-title":"editorSelector-css__option-item-title___2js01"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_side=__webpack_require__(60),_buttons=__webpack_require__(8),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_filter=__webpack_require__(231),_filter2=_interopRequireDefault(_filter),_emptyCollectionMessage=__webpack_require__(232),_emptyCollectionMessage2=_interopRequireDefault(_emptyCollectionMessage),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_notificationActions=__webpack_require__(100),_notificationActions2=_interopRequireDefault(_notificationActions),_marketingTemplateActions=__webpack_require__(104),_marketingTemplateActions2=_interopRequireDefault(_marketingTemplateActions),_marketingTemplateStore=__webpack_require__(233),_marketingTemplateStore2=_interopRequireDefault(_marketingTemplateStore),_reactClassUtils=__webpack_require__(7),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),TEMPLATE_FILTER_OPTIONS=[{name:"All",value:"ALL"},{name:"Custom",value:"CUSTOM",selected:!0},{name:"SendGrid Templates",value:"GLOBAL"}],LegacyNewView=(_class=function(_React$Component){function LegacyNewView(){_classCallCheck(this,LegacyNewView);var _this=_possibleConstructorReturn(this,(LegacyNewView.__proto__||Object.getPrototypeOf(LegacyNewView)).call(this));return _this.state={templates:_marketingTemplateStore2.default.getCollection(),activeTab:"template",selectedTemplateFilter:"Custom",selectedTemplateId:null,pastedHtml:""},_this}return _inherits(LegacyNewView,_React$Component),_createClass(LegacyNewView,[{key:"componentDidMount",value:function(){_marketingTemplateStore2.default.addChangeListener(this.marketingTemplatesStoreChanged),_marketingTemplateActions2.default.fetch()}},{key:"componentWillUnmount",value:function(){_marketingTemplateStore2.default.removeChangeListener(this.marketingTemplatesStoreChanged)}},{key:"onTemplateFilterChangeHandler",value:function(selectedFilter){this.setState({selectedTemplateFilter:selectedFilter})}},{key:"setActiveTab",value:function(tab){this.setState({activeTab:tab})}},{key:"pastedHtmlChanged",value:function(e){this.setState({pastedHtml:e.target.value})}},{key:"marketingTemplatesStoreChanged",value:function(){this.setState({templates:_marketingTemplateStore2.default.getCollection()})}},{key:"createFromTemplate",value:function(){var templateId=this.state.selectedTemplateId;templateId?_campaignsActions2.default.createFromTemplate(templateId):_notificationActions2.default.add(_constants2.default.NOTIFICATIONS.CAMPAIGNS.CREATE.NO_TEMPLATE_SELECTED,"danger")}},{key:"createFromHTML",value:function(){var html=this.state.pastedHtml.trim();html.length>0?_campaignsActions2.default.createFromHTML(html):_notificationActions2.default.add(_constants2.default.NOTIFICATIONS.CAMPAIGNS.CREATE.NO_HTML_ENTERED,"danger")}},{key:"handleSubmit",value:function(){"template"===this.state.activeTab?this.createFromTemplate():this.createFromHTML(),this.goBack()}},{key:"goBack",value:function(){this.context.router.push("/marketing_campaigns/ui/campaigns")}},{key:"selectTemplateId",value:function(id){this.setState({selectedTemplateId:id})}},{key:"render",value:function(){var _this2=this,templates=_underscore2.default.chain(this.state.templates).filter(function(template){switch(_this2.state.selectedTemplateFilter){case"All":return!0;case"Custom":return!template.global;case"SendGrid Templates":default:return template.global}}).sortBy(function(template){return-1*template.updated_at}).sortBy(function(template){return template.global?1:0}).map(function(template){return _react2.default.createElement("div",{className:"thumbnail-wrapper",key:template.id},_react2.default.createElement("input",{name:"template",className:"thumbnail-radio-btn",type:"radio",id:template.id,checked:_this2.state.selectedTemplateId===template.id}),_react2.default.createElement("label",{id:"template_"+template.id,className:"template-thumbnail-item",htmlFor:template.id},_react2.default.createElement("div",{className:"preview",onClick:function(){return _this2.selectTemplateId(template.id)}},_react2.default.createElement("div",{className:"thumbnail_container"},_react2.default.createElement("div",{className:"template-image",style:template.thumbnail_url?{backgroundImage:'url("'+template.thumbnail_url+'")'}:null}))),_react2.default.createElement("div",{className:"template-name"},(template.name||"").toUpperCase())))}).value(),templateActiveClass="template"===this.state.activeTab?"active":"",htmlActiveClass="html"===this.state.activeTab?"active":"",modalBodyContent=_react2.default.createElement(_side.SideModalBody,null,_react2.default.createElement("ul",{className:"nav nav-tabs"},_react2.default.createElement("li",{className:"template-selection "+templateActiveClass},_react2.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return _this2.setActiveTab("template")},"data-role":"activate-templates-tab"},"Templates")),_react2.default.createElement("li",{className:"import-html "+htmlActiveClass},_react2.default.createElement("a",{href:"javascript:void(0)",onClick:function(){return _this2.setActiveTab("html")},"data-role":"activate-paste-html-tab"},"Paste HTML"))),_react2.default.createElement("div",{className:"tab-content"},_react2.default.createElement("div",{className:"tab-pane "+templateActiveClass},_react2.default.createElement(_filter2.default,{title:"Filter By",options:TEMPLATE_FILTER_OPTIONS,onClick:this.onTemplateFilterChangeHandler}),templates.length<=0&&_marketingTemplateStore2.default.getHasFetchedCollection()?_react2.default.createElement(_emptyCollectionMessage2.default,{className:"with-border"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-2 col-sm-3 col-xs-4"},_react2.default.createElement("i",{className:"sg-icon sg-icon-transactional-template"})),_react2.default.createElement("div",{className:"col-md-10 col-sm-9 col-xs-8"},_react2.default.createElement("h2",null,"Add a Template"),_react2.default.createElement("p",{className:"small"},"Get as creative as you want when  ",_react2.default.createElement(_reactRouter.Link,{to:"/marketing_campaigns/ui/marketing_templates"},"creating"),"  your own reusable marketing templates.")))):null,templates),_react2.default.createElement("div",{className:"tab-pane "+htmlActiveClass,id:"import_html"},_react2.default.createElement("textarea",{placeholder:"Enter your custom HTML here",onChange:this.pastedHtmlChanged,value:this.state.pastedHtml,"data-role":"paste-html-input"}))));return _react2.default.createElement(_side.WideSideRouteModal,{onCancel:this.goBack},_react2.default.createElement(_form2.default,{onSubmit:this.handleSubmit,"data-role":"create-campaign-form"},_react2.default.createElement(_side.SideModalHeader,{header:"Create a Campaign"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0,"data-role":"close-create-campaign-modal"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{type:"submit"},"Continue"))),modalBodyContent))}}]),LegacyNewView}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onTemplateFilterChangeHandler",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onTemplateFilterChangeHandler"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setActiveTab",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"setActiveTab"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"pastedHtmlChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"pastedHtmlChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"marketingTemplatesStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"marketingTemplatesStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createFromTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"createFromTemplate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createFromHTML",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"createFromHTML"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"goBack",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"goBack"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectTemplateId",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectTemplateId"),_class.prototype),_class);LegacyNewView.contextTypes={router:_react2.default.PropTypes.object},module.exports={LegacyNewView:LegacyNewView}},function(module,exports,__webpack_require__){var content=__webpack_require__(1121);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".emptyCollectionMessage-css__container___1OLOG{background:#fafafa;padding:25px 75px;text-align:left;width:100%;font-size:14px}.emptyCollectionMessage-css__with-border___3uMVh{border:1px solid #e1e1e1;border-radius:2px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/__css__/src/views/components/style-guide/__css__/emptyCollectionMessage.css.scss"],names:[],mappings:"AAEA,+CACE,mBACA,kBACA,gBACA,WACA,cAAe,CAChB,iDAGC,yBACA,iBAAkB,CACnB",file:"emptyCollectionMessage.css.scss",sourcesContent:["$container_bg: #fafafa;\n\n.container {\n  background: $container_bg;\n  padding: 25px 75px;\n  text-align: left;\n  width: 100%;\n  font-size: 14px;\n}\n\n.with-border {\n  border: 1px solid darken($container_bg, 10%);\n  border-radius: 2px;\n}"],sourceRoot:""}]),exports.locals={container:"emptyCollectionMessage-css__container___1OLOG","with-border":"emptyCollectionMessage-css__with-border___3uMVh"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1123);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".loadingIndicator-css__loading-indicator___1Q2tQ{position:fixed;top:50%;left:50%;width:100px;height:100px;transform:translate(-50%,-50%)}.loadingIndicator-css__loading-indicator___1Q2tQ .fade-appear{opacity:0}.loadingIndicator-css__loading-indicator___1Q2tQ .fade-appear.fade-appear-active{opacity:1;transition:opacity .5s linear}.loadingIndicator-css__loading-indicator___1Q2tQ .fade-enter{opacity:0}.loadingIndicator-css__loading-indicator___1Q2tQ .fade-enter.fade-enter-active{opacity:1;transition:opacity .5s linear}.loadingIndicator-css__loading-indicator___1Q2tQ .fade-leave{opacity:1}.loadingIndicator-css__loading-indicator___1Q2tQ .fade-leave.fade-leave-active{opacity:0;transition:opacity .5s linear}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/loadingIndicator.css.scss"],names:[],mappings:"AAAA,iDACE,eACA,QACA,SACA,YACA,aACA,8BAAgC,CANlC,8DASI,SAAU,CATd,iFAWM,UACA,6BAAgC,CAZtC,6DAgBI,SAAU,CAhBd,+EAkBM,UACA,6BAAgC,CAnBtC,6DAuBI,SAAU,CAvBd,+EAyBM,UACA,6BAAgC,CACjC",file:"loadingIndicator.css.scss",sourcesContent:[".loading-indicator {\n  position: fixed;\n  top: 50%;\n  left: 50%;\n  width: 100px;\n  height: 100px;\n  transform: translate(-50%, -50%);\n\n  :global .fade-appear {\n    opacity: 0;\n    &.fade-appear-active {\n      opacity: 1;\n      transition: opacity 500ms linear;\n    }\n  }\n  :global .fade-enter {\n    opacity: 0;\n    &.fade-enter-active {\n      opacity: 1;\n      transition: opacity 500ms linear;\n    }\n  }\n  :global .fade-leave {\n    opacity: 1;\n    &.fade-leave-active {\n      opacity: 0;\n      transition: opacity 500ms linear;\n    }\n  }\n}"],sourceRoot:""}]),exports.locals={"loading-indicator":"loadingIndicator-css__loading-indicator___1Q2tQ"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TemplateThumbnail(_ref){var handleDoubleClick=_ref.handleDoubleClick,template=_ref.template,isChecked=_ref.isChecked,onClick=_ref.onClick;return _react2.default.createElement("div",{className:"thumbnail-wrapper",key:template.id,onDoubleClick:handleDoubleClick},_react2.default.createElement("input",{name:"template",className:"thumbnail-radio-btn",type:"radio",id:template.id,checked:isChecked}),_react2.default.createElement("label",{id:"template_"+template.id,className:"template-thumbnail-item",htmlFor:template.id},_react2.default.createElement("div",{className:"preview",onClick:onClick},_react2.default.createElement("div",{className:"thumbnail_container"},_react2.default.createElement("div",{className:"template-image",style:template.thumbnail_url?{backgroundImage:'url("'+template.thumbnail_url+'")'}:null}))),_react2.default.createElement("div",{className:"template-name"},(template.name||"").toUpperCase()," ",template.isBlank?null:_react2.default.createElement(_editorTypeLabel2.default,{isGlobalTemplate:template.global,editorId:template.editor_id}))))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=TemplateThumbnail;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_editorTypeLabel=__webpack_require__(327),_editorTypeLabel2=_interopRequireDefault(_editorTypeLabel);TemplateThumbnail.propTypes={handleDoubleClick:_react2.default.PropTypes.func.isRequired,template:_react2.default.PropTypes.object.isRequired,isChecked:_react2.default.PropTypes.bool.isRequired,onClick:_react2.default.PropTypes.func.isRequired}},function(module,exports,__webpack_require__){var content=__webpack_require__(1126);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.paintbrush-css__icon___3qW_X{font-family:sgiconfont;speak:none;line-height:1;cursor:pointer;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.paintbrush-css__icon___3qW_X:before{content:"\\E629"}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/icons/__css__/src/views/components/icons/__css__/paintbrush.css.scss"],names:[],mappings:"AAAA,8BACE,uBACA,WACA,cACA,eAEA,mCACA,iCAAkC,CAPpC,qCAUI,eAAgB,CACjB",file:"paintbrush.css.scss",sourcesContent:['.icon {\n  font-family: sgiconfont;\n  speak: none;\n  line-height: 1;\n  cursor: pointer;\n\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  &:before {\n    content: "\\e629";\n  }\n}\n'],sourceRoot:""}]),exports.locals={icon:"paintbrush-css__icon___3qW_X"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_campaignsStore=__webpack_require__(61),_senderActions=__webpack_require__(172),_senderActions2=_interopRequireDefault(_senderActions),_senderStore=__webpack_require__(228),_senderStore2=_interopRequireDefault(_senderStore),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_presenter=__webpack_require__(1128),_presenter2=_interopRequireDefault(_presenter),_reactClassUtils=__webpack_require__(7),PreviewModal=(_class=function(_React$Component){function PreviewModal(props){_classCallCheck(this,PreviewModal);var _this=_possibleConstructorReturn(this,(PreviewModal.__proto__||Object.getPrototypeOf(PreviewModal)).call(this,props));return _this.state={campaign:_campaignsStore.CampaignsStore.getById(_this.props.routeParams.id)||{},sender:{},activeSplit:"A"},_this}return _inherits(PreviewModal,_React$Component),_createClass(PreviewModal,[{key:"componentDidMount",value:function(){_campaignsActions2.default.getById(this.props.routeParams.id),_campaignsStore.CampaignsStore.addChangeListener(this.campaignsStoreChanged),_senderStore2.default.addChangeListener(this.senderStoreChanged)}},{key:"componentWillUnmount",value:function(){_campaignsStore.CampaignsStore.removeChangeListener(this.campaignsStoreChanged),_senderStore2.default.removeChangeListener(this.senderStoreChanged)}},{key:"campaignsStoreChanged",value:function(){var campaign=_campaignsStore.CampaignsStore.getById(this.props.routeParams.id)||{};campaign.sender_identity&&_senderActions2.default.getById(campaign.sender_identity),this.setState({campaign:campaign})}},{key:"senderStoreChanged",value:function(){this.setState({sender:_senderStore2.default.getSender(this.state.campaign.sender_identity)})}},{key:"handleSplitChanged",value:function(activeSplit){this.setState({activeSplit:activeSplit})}},{key:"render",value:function(){return _react2.default.createElement(_presenter2.default,{activeSplit:this.state.activeSplit,campaignStatusId:this.state.campaign.campaign_status_id,campaignId:this.state.campaign.id,contents:this.state.campaign.contents,editorType:this.state.campaign.editor,senderName:this.state.sender.name,senderNickname:this.state.sender.nickname,onCancel:function(){return _locationUtils2.default.set("/marketing_campaigns/ui/campaigns")},onSplitChanged:this.handleSplitChanged})}}]),PreviewModal}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"campaignsStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"campaignsStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"senderStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"senderStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSplitChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSplitChanged"),_class.prototype),_class);PreviewModal.propTypes={routeParams:_propTypes2.default.shape({id:_propTypes2.default.oneOfType([_propTypes2.default.number,_propTypes2.default.string]).isRequired}).isRequired},exports.default=PreviewModal},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function PreviewModalPresenter(props){return props.contents?_react2.default.createElement(_side.SideRouteModal,{onCancel:props.onCancel,show:!0},_react2.default.createElement(_side.SideModalHeader,{header:"Preview"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button",onClick:props.onCancel},"Cancel"),props.isDraft&&_react2.default.createElement(_buttons.PrimaryButton,(0,_campaignActionsMenu.getEditLinkProps)(props.campaignId,props.editorType),"Edit"))),_react2.default.createElement(_side.SideModalBody,null,_underscore2.default.size(props.contents)>1&&_react2.default.createElement(_abTabs2.default,{splitCount:_underscore2.default.size(props.contents),activeSplit:props.activeSplit,onClick:function(s){return props.onSplitChanged(s)}}),_react2.default.createElement(_previewModeToggler2.default,{isPlainReadOnly:!0,isInModal:!0,hasTopBorder:1===_underscore2.default.size(props.contents),withContentBorder:!0,htmlContent:props.contents[props.activeSplit].content,plainContent:props.contents[props.activeSplit].plain_content},_react2.default.createElement(_previewContentHeaderBar2.default,{isInModal:!0,name:props.senderName,nickname:props.senderNickname,subject:props.contents[props.activeSplit].subject,preheader:_campaignUtils2.default.getPreheaderText(props.contents[props.activeSplit].content)})))):_react2.default.createElement(_side.SideRouteModal,{show:!0,onCancel:props.onCancel},_react2.default.createElement(_side.SideModalHeader,{header:"Preview"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{onClick:props.onCancel},"Cancel"))),_react2.default.createElement(_side.SideModalBody,{isFlex:!0},_react2.default.createElement(_loadingIndicator2.default,{isFullPage:!1})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_side=__webpack_require__(60),_buttons=__webpack_require__(8),_abTabs=__webpack_require__(513),_abTabs2=_interopRequireDefault(_abTabs),_previewContentHeaderBar=__webpack_require__(178),_previewContentHeaderBar2=_interopRequireDefault(_previewContentHeaderBar),_previewModeToggler=__webpack_require__(328),_previewModeToggler2=_interopRequireDefault(_previewModeToggler),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_withCampaignStatus=__webpack_require__(174),_withCampaignStatus2=_interopRequireDefault(_withCampaignStatus),_campaignUtils=__webpack_require__(155),_campaignUtils2=_interopRequireDefault(_campaignUtils),_campaignActionsMenu=__webpack_require__(508);PreviewModalPresenter.propTypes={activeSplit:_propTypes2.default.oneOf(["A","B","C","D","E","F"]).isRequired,campaignId:_propTypes2.default.number,editorType:_propTypes2.default.string,contents:_propTypes2.default.shape({A:_propTypes2.default.shape({content:_propTypes2.default.string}),B:_propTypes2.default.shape({content:_propTypes2.default.string}),C:_propTypes2.default.shape({content:_propTypes2.default.string}),D:_propTypes2.default.shape({content:_propTypes2.default.string}),E:_propTypes2.default.shape({content:_propTypes2.default.string}),F:_propTypes2.default.shape({content:_propTypes2.default.string})}),isDraft:_propTypes2.default.bool.isRequired,onCancel:_propTypes2.default.func.isRequired,onSplitChanged:_propTypes2.default.func.isRequired,senderName:_propTypes2.default.string,senderNickname:_propTypes2.default.string},PreviewModalPresenter.defaultProps={campaignId:0,campaignStatusId:0,editorType:null,contents:null,senderName:"",senderNickname:""},exports.default=(0,_withCampaignStatus2.default)(PreviewModalPresenter)},function(module,exports,__webpack_require__){var content=__webpack_require__(1130);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".previewContentHeaderBar-css__header-bar___320md{display:flex;flex-flow:row wrap;align-items:center;font-size:13px;font-weight:300;height:110px;background-color:#fff;border-bottom:1px solid #e9ecef;padding-left:20px}.previewContentHeaderBar-css__header-bar___320md .previewContentHeaderBar-css__header-content___1-lL5{letter-spacing:.5px;line-height:26px}.previewContentHeaderBar-css__header-bar___320md.previewContentHeaderBar-css__in-modal___3IkSG{margin:0 -105px;padding:0 105px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/__css__/src/views/components/editor/__css__/previewContentHeaderBar.css.scss"],names:[],mappings:"AAEA,iDACE,aACA,mBACA,mBACA,eACA,gBACA,aACA,sBACA,gCACA,iBAAkB,CATpB,sGAWI,oBACA,gBAAiB,CAZrB,+FAgBI,gBACA,eAnBiB,CAoBlB",file:"previewContentHeaderBar.css.scss",sourcesContent:["$modal-padding: 105px;\n\n.header-bar {\n  display: flex;\n  flex-flow: row wrap;\n  align-items: center;\n  font-size: 13px;\n  font-weight: 300;\n  height: 110px;\n  background-color: white;\n  border-bottom: 1px solid #e9ecef;\n  padding-left: 20px;\n  .header-content {\n    letter-spacing: 0.5px;\n    line-height: 26px;\n  }\n\n  &.in-modal {\n    margin: 0 ($modal-padding * -1);\n    padding: 0 $modal-padding;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"header-bar":"previewContentHeaderBar-css__header-bar___320md","header-content":"previewContentHeaderBar-css__header-content___1-lL5","in-modal":"previewContentHeaderBar-css__in-modal___3IkSG"}},function(module,exports,__webpack_require__){"use strict";function DesktopPreview(){return _react2.default.createElement("i",{className:"sg-icon sg-icon-desktop-view"})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.default=DesktopPreview},function(module,exports,__webpack_require__){"use strict";function MobilePreview(){return _react2.default.createElement("i",{className:"sg-icon sg-icon-mobile-view"})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.default=MobilePreview},function(module,exports,__webpack_require__){"use strict";function TextPreview(){return _react2.default.createElement("i",{className:"sg-icon sg-icon-text-only"})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.default=TextPreview},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getTabTitles(wrapperProps){var i=0,tabTitles=[];return _react2.default.Children.forEach(wrapperProps.children,function(child){var j=i++;child&&tabTitles.push(_react2.default.createElement(child.type,_extends({},child.props,{onTitleClick:wrapperProps.onTitleClick,isActive:wrapperProps.activeTabIndex===j,index:j,key:j})))}),tabTitles}function TabTitleWrapper(props){var _classnames,classname=(0,_classnames3.default)("tab-wrapper",props.className,(_classnames={"is-centered":props.isCentered,"zero-border":!props.hasBottomBorder},_defineProperty(_classnames,_tabTitleCss2.default["has-top-border"],props.hasTopBorder),_defineProperty(_classnames,"is-editor",props.isEditor),_defineProperty(_classnames,props.numTabsClass,props.isEditor),_defineProperty(_classnames,_tabTitleCss2.default["in-modal"],props.isInModal),_classnames));return _react2.default.createElement("ul",{className:classname},getTabTitles(props))}function TabTitle(props){function onClick(){props.onTitleClick(props.index),props.onClick(props.id)}return _react2.default.createElement("li",{className:"tab "+(props.isActive?"tab-active":""),onClick:onClick,"data-role":"tab-title",id:props.id},_react2.default.createElement("div",{className:"tab-title"},props.children),void 0===props.displayNumber?null:_react2.default.createElement("div",{className:"tab-number"},props.displayNumber))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_tabTitleCss=__webpack_require__(1135),_tabTitleCss2=_interopRequireDefault(_tabTitleCss);TabTitleWrapper.propTypes={isCentered:_propTypes2.default.bool,isEditor:_propTypes2.default.bool,isInModal:_propTypes2.default.bool,numTabsClass:_propTypes2.default.string,hasBottomBorder:_propTypes2.default.bool,hasTopBorder:_propTypes2.default.bool,className:_propTypes2.default.string},TabTitleWrapper.defaultProps={isCentered:!0,isEditor:!1,isInModal:!1,numTabsClass:"",hasBottomBorder:!1,hasTopBorder:!1,className:""},TabTitle.propTypes={children:_propTypes2.default.node,onClick:_propTypes2.default.func,displayNumber:_propTypes2.default.string,id:_propTypes2.default.string,onTitleClick:_propTypes2.default.func,index:_propTypes2.default.number,isActive:_propTypes2.default.bool},TabTitle.defaultProps={children:null,onClick:function(){},displayNumber:void 0,id:void 0,onTitleClick:function(){},index:void 0,isActive:!1},module.exports={TabTitle:TabTitle,TabTitleWrapper:TabTitleWrapper}},function(module,exports,__webpack_require__){var content=__webpack_require__(1136);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".tabTitle-css__has-top-border___38SCN{border-top:1px solid #e9ecef}.tabTitle-css__in-modal___23tRD{margin:0 -105px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/tabs/__css__/src/views/components/style-guide/tabs/__css__/tabTitle.css.scss"],names:[],mappings:"AAAA,sCACE,4BAA6B,CAC9B,gCAGC,eAAgB,CACjB",file:"tabTitle.css.scss",sourcesContent:[".has-top-border {\n  border-top: 1px solid #e9ecef;\n}\n\n.in-modal {\n  margin: 0 -105px;\n}\n"],sourceRoot:""}]),exports.locals={"has-top-border":"tabTitle-css__has-top-border___38SCN","in-modal":"tabTitle-css__in-modal___23tRD"}},function(module,exports,__webpack_require__){"use strict";function getTabPanels(wrapperProps){var i=0,tabPanels=[];return _react2.default.Children.forEach(wrapperProps.children,function(child){var j=i++;child&&tabPanels.push(_react2.default.createElement(child.type,_extends({},child.props,{isActive:wrapperProps.activeTabIndex===j,key:j}),child.props.children))}),tabPanels}function TabPanel(props){return props.isActive?_react2.default.createElement("div",{className:"tab-panel","data-role":"tab-panel"},props.children):null}function TabPanelWrapper(props){return _react2.default.createElement("div",{className:props.className,style:props.style,"data-role":props.dataRole},getTabPanels(props))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);module.exports={TabPanel:TabPanel,TabPanelWrapper:TabPanelWrapper}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Desktop(props){var classname=(0,_classnames3.default)(_desktopCss2.default["desktop-preview-content"],_defineProperty({},_previewsCss2.default["with-border"],props.withBorder));return _react2.default.createElement("article",{"data-role":"desktop-preview"},_react2.default.createElement("div",{className:classname},_react2.default.createElement(_frame2.default,{shouldResizeHeight:!0,content:props.content,showAbNav:props.showAbNav,allowScripts:props.allowScripts})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_frame=__webpack_require__(329),_frame2=_interopRequireDefault(_frame),_desktopCss=__webpack_require__(1179),_desktopCss2=_interopRequireDefault(_desktopCss),_previewsCss=__webpack_require__(528),_previewsCss2=_interopRequireDefault(_previewsCss);Desktop.propTypes={content:_propTypes2.default.string.isRequired,withBorder:_propTypes2.default.bool,allowScripts:_propTypes2.default.bool,showAbNav:_propTypes2.default.bool},Desktop.defaultProps={withBorder:!1,allowScripts:!1,showAbNav:!1},exports.default=Desktop},,,,,function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_underscore),ObjectUtils=function(){function ObjectUtils(){_classCallCheck(this,ObjectUtils)}return _createClass(ObjectUtils,null,[{key:"deepOmit",value:function(o){var keys=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return _underscore2.default.each(keys,function(key){var keyArray=key.split(".");if(1===keyArray.length)o=_underscore2.default.omit(o,key);else{var firstKey=keyArray.shift();o[firstKey]=ObjectUtils.deepOmit(o[firstKey],[keyArray.join(".")])}}),o}}]),ObjectUtils}();exports.default=ObjectUtils},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.Handler=void 0;var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_get=function get(object,property,receiver){null===object&&(object=Function.prototype);var desc=Object.getOwnPropertyDescriptor(object,property);if(void 0===desc){var parent=Object.getPrototypeOf(object);return null===parent?void 0:get(parent,property,receiver)}if("value"in desc)return desc.value;var getter=desc.get;if(void 0!==getter)return getter.call(receiver)},_htmlparser=__webpack_require__(179),defaultOptions={lowerCaseTags:!0,lowerCaseAttributeNames:!0,recognizeSelfClosing:!0},Handler=function(_DomHandler){function Handler(){var includeDataAttributes=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];_classCallCheck(this,Handler);var _this=_possibleConstructorReturn(this,(Handler.__proto__||Object.getPrototypeOf(Handler)).call(this,{withStartIndices:!0,withEndIndices:!0}));return _this.includeDataAttributes=includeDataAttributes,_this}return _inherits(Handler,_DomHandler),_createClass(Handler,[{key:"_setEnd",value:function(elem){elem.endIndex=this._parser.endIndex+1}},{key:"onprocessinginstruction",value:function(name,data){this._parser.endIndex=this._parser._tokenizer._index,_get(Handler.prototype.__proto__||Object.getPrototypeOf(Handler.prototype),"onprocessinginstruction",this).call(this,name,data)}},{key:"_addDomElement",value:function(elem){_get(Handler.prototype.__proto__||Object.getPrototypeOf(Handler.prototype),"_addDomElement",this).call(this,elem),this._setEnd(elem),elem.name&&elem.name.includes("%")||(elem.attribs||(elem.attribs={}),this.includeDataAttributes?(elem.attribs["data-start-index"]=elem.startIndex,elem.attribs["data-end-index"]=elem.endIndex):(delete elem.attribs["data-start-index"],delete elem.attribs["data-end-index"]))}},{key:"_elementCB",value:function(elem){elem.name&&elem.name.includes("%")||(elem.attribs["data-closing-end-index"]=elem.endIndex)}}]),Handler}(_htmlparser.DomHandler),parse=function(code){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},handler=new Handler(options.includeDataAttributes);return new _htmlparser.Parser(handler,_extends({},defaultOptions,options)).end(code),handler.dom};exports.default=parse,exports.Handler=Handler},,,,,,,,,function(module,exports){},,,,,,,,,function(module,exports){},,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}Object.defineProperty(exports,"__esModule",{value:!0});var getIndices=exports.getIndices=function(node){return{startIndex:parseInt(node.getAttribute("data-start-index"),10),endIndex:parseInt(node.getAttribute("data-end-index"),10)}},sortKeys=(exports.createNodeMap=function createNodeMap(node){var nodeMap=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map,_getIndices=getIndices(node),startIndex=_getIndices.startIndex;return nodeMap.set(startIndex,node),node.hasChildNodes()&&[].concat(_toConsumableArray(node.children)).forEach(function(child){return createNodeMap(child,nodeMap)}),nodeMap},function(nodeMap){return[].concat(_toConsumableArray(nodeMap.keys())).sort(function(a,b){return a-b})}),getFirstKey=function(keys){return keys.slice(0,1)[0]},getLastKey=function(keys){return keys.slice(-1)[0]},findNodeByIndex=function(nodeMap,index){var nodeAtExactIndex=nodeMap.get(index);if(nodeAtExactIndex)return nodeAtExactIndex;var sortedKeys=sortKeys(nodeMap),firstKey=getFirstKey(sortedKeys),previousKey=firstKey,_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;try{for(var _step,_iterator=sortedKeys[Symbol.iterator]();!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var key=_step.value;if(key>index)return nodeMap.get(previousKey);previousKey=key}}catch(err){_didIteratorError=!0,_iteratorError=err}finally{try{!_iteratorNormalCompletion&&_iterator.return&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}return nodeMap.get(getLastKey(sortedKeys))};exports.default=findNodeByIndex},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".editor-css__editor-page-container___1jx90{display:flex;flex-flow:column nowrap}.editor-css__editor-page-container___1jx90 .editor-css__nav-bar___1burD{order:1;flex:1 100%}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ{order:2}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9{will-change:left;min-width:361px;max-width:361px;border-right:1px solid #e9ecef;float:left;height:100%;position:fixed;left:0;background:#fff;z-index:100;transition:left .2s linear;box-shadow:10px 10px 20px -15px rgba(0,0,0,.75)}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .code-editor-tabs{width:80%}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .code-editor-tabs.is-2-up .tab{width:50%}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 [data-role=tabs] .close-button{position:absolute;right:15px;top:15px;padding:3px;cursor:pointer;border-radius:0 5px 5px 0}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 [data-role=tabs] .close-button .circle{display:flex;align-items:center;justify-content:center;border-radius:100%;border:1px solid #708090;padding:5px;opacity:.7;transition:opacity .1s linear}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 [data-role=tabs] .close-button .circle:hover{opacity:1}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 [data-role=tabs] .close-button .circle .sg-icon-x{font-size:10px;font-weight:700}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 [data-role=tabs] .settings-tab{display:none}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 [data-role=tabs] .settings-tab .sg-icon{transition:transform .3s linear}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9.editor-css__is-hidden___28upt{left:-321px;cursor:pointer}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9.editor-css__is-hidden___28upt:hover{left:-311px}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9.editor-css__is-hidden___28upt:hover .settings-tab .sg-icon{transform:rotate(90deg)}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9.editor-css__is-hidden___28upt [data-role=tabs]{visibility:hidden}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9.editor-css__is-hidden___28upt [data-role=tabs] .close-button{display:none}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9.editor-css__is-hidden___28upt [data-role=tabs] .settings-tab{visibility:visible;transform:rotate(90deg);transform-origin:top left 0;float:right;display:flex;justify-content:space-around;align-items:center;width:85px;color:#708090;margin:10px -87px 0;font-size:14px;height:40px}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1{min-width:361px;max-width:361px;border-right:1px solid #e9ecef;float:left;height:100%}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .editor-css__tab-panel-wrapper___wbE4X,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .editor-css__tab-panel-wrapper___wbE4X{overflow-y:auto;overflow-x:hidden;height:calc(100vh - 130px)}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .editor-css__tab-panel-wrapper___wbE4X.editor-css__is-fixed___1-znk,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .editor-css__tab-panel-wrapper___wbE4X.editor-css__is-fixed___1-znk{position:absolute;top:60px;bottom:0;width:100%;height:auto}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .editor-css__tab-panel-wrapper___wbE4X.editor-css__is-side-by-side___3k964,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .editor-css__tab-panel-wrapper___wbE4X.editor-css__is-side-by-side___3k964{position:absolute;height:calc(100% - 130px);width:100%}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 hr,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 hr{border:1px solid #e9ecef;border-bottom:0;margin:20px 0}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-title,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-title{padding:19px 70px 19px 40px}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-title h4,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-title h4{line-height:18px;color:#294661;margin:4px 0 0}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-content .accordion-panel .accordion-title,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-content .accordion-panel .accordion-title{background:#fbfbfc}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-content .accordion-panel h4,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-content .accordion-panel h4{font-weight:300;line-height:9px}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-panel.is-visible[data-role=accordion-panel-contentContaienr],.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-panel.is-visible[data-role=accordion-panel-emailBody],.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-panel.is-visible[data-role=accordion-panel-moduleStyles],.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-panel.is-visible[data-role=accordion-panel-contentContaienr],.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-panel.is-visible[data-role=accordion-panel-emailBody],.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-panel.is-visible[data-role=accordion-panel-moduleStyles]{border-bottom:2px solid #1a82e2}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-panel.is-visible[data-role=accordion-panel-contentContaienr] .accordion-content,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-panel.is-visible[data-role=accordion-panel-emailBody] .accordion-content,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel-sbs___2vOs9 .accordion-panel.is-visible[data-role=accordion-panel-moduleStyles] .accordion-content,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-panel.is-visible[data-role=accordion-panel-contentContaienr] .accordion-content,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-panel.is-visible[data-role=accordion-panel-emailBody] .accordion-content,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .accordion-panel.is-visible[data-role=accordion-panel-moduleStyles] .accordion-content{border-top:2px solid #1a82e2}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__isScrolledDown___2GDFZ{position:fixed;top:0}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__content___3bWxK{padding-left:361px}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__content-sbs___2ojsU{padding-left:40px;display:flex;flex-wrap:wrap}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__content-sbs___2ojsU #editor-preview,.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__content-sbs___2ojsU .code-editor-wrapper{flex:1}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__content-sbs___2ojsU .tab-wrapper{flex:0 0 100%}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__content-sbs___2ojsU .tab-wrapper .tab{border-bottom:1px solid #e9ecef}.editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__content-sbs___2ojsU nav{border-right:1px solid #e9ecef}.editor-css__editor-page-container___1jx90 .editor-css__footer___1A_Gb{order:3;flex:1 100%}.editor-css__editor-page-container___1jx90 .editor-css__is-resize-height___3Cbm8{height:calc(100vh - 240px)}.editor-css__editor-page-container___1jx90 .editor-css__is-resize-height___3Cbm8.editor-css__is-shows-ab___34bX5{height:calc(100vh - 300px)}.is-select2-open .editor-css__editor-page-container___1jx90 .editor-css__main-container___3RyNZ .editor-css__tabs-panel___2eLc1 .editor-css__tab-panel-wrapper___wbE4X{overflow:hidden}.editor-css__settings-panel-mask___35WRV{width:100%;height:100%;z-index:999;position:fixed;left:361px;top:0}.editor-css__settings-panel-mask___35WRV.editor-css__is-hidden___28upt{display:none}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/editor.css.scss"],names:[],mappings:"AAAA,2CACE,aACA,uBAAwB,CAF1B,wEAII,QACA,WAAY,CALhB,+EAQI,OAAQ,CARZ,mHAWM,iBACA,gBACA,gBACA,+BACA,WACA,YACA,eACA,OACA,gBACA,YACA,2BACA,+CAAiD,CAtBvD,qIAwBQ,SAAU,CAxBlB,kJA2BY,SAAU,CA3BtB,kJAiCU,kBACA,WACA,SACA,YACA,eACA,yBAA0B,CAtCpC,0JAwCY,aACA,mBACA,uBACA,mBACA,yBACA,YACA,WACA,6BAAgC,CA/C5C,gKAiDc,SAAU,CAjDxB,qKAoDc,eACA,eAAiB,CArD/B,kJA0DU,YAAa,CA1DvB,2JA4DY,+BAAkC,CA5D9C,iJAiEQ,YACA,cAAe,CAlEvB,uJAoEU,WAAY,CApEtB,8KAuEc,uBAAwB,CAvEtC,kKA4EU,iBAAkB,CA5E5B,gLA8EY,YAAa,CA9EzB,gLAiFY,mBACA,wBACA,4BACA,YACA,aACA,6BACA,mBACA,WACA,cACA,oBACA,eACA,WAAY,CA5FxB,kOAmGM,gBACA,gBACA,+BACA,WACA,WAAY,CAvGlB,gTA0GQ,gBACA,kBACA,0BAA2B,CA5GnC,0WA+GU,kBACA,SACA,SACA,WACA,WAAY,CAnHtB,wXAuHU,kBACA,0BACA,UAAW,CAzHrB,wOA8HQ,yBACA,gBACA,aAAc,CAhItB,oQAoIQ,2BAA4B,CApIpC,0QAuIU,iBACA,cACA,cAAiB,CAzI3B,4UA+IU,kBAAmB,CA/I7B,gTAmJU,gBACA,eAAgB,CApJ1B,gkCA2JQ,+BAAgC,CA3JxC,krCA8JU,4BAA6B,CA9JvC,mHAoKM,eACA,KAAQ,CArKd,4GAyKM,kBAAmB,CAzKzB,gHA4KM,kBACA,aACA,cAAe,CA9KrB,qQAmLQ,MAAO,CAnLf,6HAsLQ,aAAc,CAtLtB,kIAwLU,+BAAgC,CAxL1C,oHA6LQ,8BAA+B,CA7LvC,uEAmMI,QACA,WAAY,CApMhB,iFAwMI,0BAA2B,CAxM/B,iHA2MM,0BAA2B,CAC5B,uKAMD,eAAgB,CACjB,yCAID,WACA,YACA,YACA,eACA,WACA,KAAM,CANR,uEAQI,YAAa,CACd",file:"editor.css.scss",sourcesContent:['.editor-page-container {\n  display: flex;\n  flex-flow: column nowrap;\n  .nav-bar {\n    order: 1;\n    flex: 1 100%;\n  }\n  .main-container {\n    order: 2;\n\n    .tabs-panel-sbs {\n      will-change: left;\n      min-width: 361px; // hardcode this width to fit the tabs properly\n      max-width: 361px;\n      border-right: 1px solid #e9ecef;\n      float: left;\n      height: 100%;\n      position: fixed;\n      left: 0px;\n      background: white;\n      z-index: 100;\n      transition: left 200ms linear;\n      box-shadow: 10px 10px 20px -15px rgba(0,0,0,0.75);\n      :global .code-editor-tabs {\n        width: 80%;\n        &.is-2-up {\n          .tab {\n            width: 50%;\n          }\n        }\n      }\n      [data-role=tabs] {\n        :global .close-button {\n          position: absolute;\n          right: 15px;\n          top: 15px;\n          padding: 3px;\n          cursor: pointer;\n          border-radius: 0 5px 5px 0;\n          .circle {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            border-radius: 100%;\n            border: 1px solid slategray;\n            padding: 5px;\n            opacity: .7;\n            transition: opacity 100ms linear;\n            &:hover {\n              opacity: 1;\n            }\n            .sg-icon-x {\n              font-size: 10px;\n              font-weight: bold;\n            }\n          }\n        }\n        :global .settings-tab {\n          display: none;\n          .sg-icon {\n            transition: transform 300ms linear;\n          }\n        }\n      }\n      &.is-hidden {\n        left: -321px;\n        cursor: pointer;\n        &:hover {\n          left: -311px;\n          :global .settings-tab {\n            .sg-icon {\n              transform: rotate(90deg);\n            }\n          }\n        }\n        [data-role=tabs] {\n          visibility: hidden;\n          :global .close-button {\n            display: none;\n          }\n          :global .settings-tab {\n            visibility: visible;\n            transform: rotate(90deg);\n            transform-origin: top left 0;\n            float: right;\n            display: flex;\n            justify-content: space-around;\n            align-items: center;\n            width: 85px;\n            color: slategray;\n            margin: 10px -87px 0;\n            font-size: 14px;\n            height: 40px;\n          }\n        }\n      }\n    }\n\n    .tabs-panel, .tabs-panel-sbs {\n      min-width: 361px; // hardcode this width to fit the tabs properly\n      max-width: 361px;\n      border-right: 1px solid #e9ecef;\n      float: left;\n      height: 100%;\n\n      .tab-panel-wrapper {\n        overflow-y: auto;\n        overflow-x: hidden;\n        height: calc(100vh - 130px);\n\n        &.is-fixed {\n          position: absolute;\n          top: 60px;\n          bottom: 0;\n          width: 100%;\n          height: auto;\n        }\n\n        &.is-side-by-side {\n          position: absolute;\n          height: calc(100% - 130px);\n          width: 100%;\n        }\n      }\n\n      hr {\n        border: 1px solid #e9ecef;\n        border-bottom: 0;\n        margin: 20px 0;\n      }\n\n      :global .accordion-title {\n        padding: 19px 70px 19px 40px;\n\n        h4 {\n          line-height: 18px;\n          color: #294661;\n          margin: 4px 0 0 0;\n        }\n      }\n\n      :global .accordion-content .accordion-panel {\n        .accordion-title {\n          background: #fbfbfc;\n        }\n\n        h4 {\n          font-weight: 300;\n          line-height: 9px;\n        }\n      }\n\n      :global .accordion-panel.is-visible[data-role="accordion-panel-moduleStyles"],\n       :global .accordion-panel.is-visible[data-role="accordion-panel-emailBody"],\n       :global .accordion-panel.is-visible[data-role="accordion-panel-contentContaienr"]{\n        border-bottom: 2px solid #1a82e2;\n\n        :global .accordion-content {\n          border-top: 2px solid #1a82e2;\n        }\n      }\n    }\n\n    .isScrolledDown {\n      position: fixed;\n      top: 0px;\n    }\n\n    .content {\n      padding-left: 361px;\n    }\n    .content-sbs {\n      padding-left: 40px;\n      display: flex;\n      flex-wrap: wrap;\n      :global #editor-preview {\n        flex: 1;\n      }\n      :global .code-editor-wrapper {\n        flex: 1;\n      }\n      :global .tab-wrapper {\n        flex: 0 0 100%;\n        :global .tab {\n          border-bottom: 1px solid #e9ecef;\n        }\n      }\n\n      nav {\n        border-right: 1px solid #e9ecef;\n      }\n    }\n  }\n\n  .footer {\n    order: 3;\n    flex: 1 100%;\n  }\n\n  .is-resize-height {\n    height: calc(100vh - 240px);\n\n    &.is-shows-ab {\n      height: calc(100vh - 300px);\n    }\n  }\n}\n\n:global .is-select2-open {\n  :local .editor-page-container .main-container .tabs-panel .tab-panel-wrapper {\n    overflow: hidden;\n  }\n}\n\n.settings-panel-mask {\n  width: 100%;\n  height: 100%;\n  z-index: 999;\n  position: fixed;\n  left: 361px;\n  top: 0;\n  &.is-hidden {\n    display: none;\n  }\n}\n'],sourceRoot:""}]),exports.locals={"editor-page-container":"editor-css__editor-page-container___1jx90","nav-bar":"editor-css__nav-bar___1burD","main-container":"editor-css__main-container___3RyNZ","tabs-panel-sbs":"editor-css__tabs-panel-sbs___2vOs9","is-hidden":"editor-css__is-hidden___28upt","tabs-panel":"editor-css__tabs-panel___2eLc1","tab-panel-wrapper":"editor-css__tab-panel-wrapper___wbE4X","is-fixed":"editor-css__is-fixed___1-znk","is-side-by-side":"editor-css__is-side-by-side___3k964",isScrolledDown:"editor-css__isScrolledDown___2GDFZ",content:"editor-css__content___3bWxK","content-sbs":"editor-css__content-sbs___2ojsU",footer:"editor-css__footer___1A_Gb","is-resize-height":"editor-css__is-resize-height___3Cbm8","is-shows-ab":"editor-css__is-shows-ab___34bX5","settings-panel-mask":"editor-css__settings-panel-mask___35WRV"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1180);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".side-modal .desktop-css__desktop-preview-content___S9kEw{width:100%;margin:30px auto}.side-modal .desktop-css__desktop-preview-content___S9kEw iframe{min-height:568px}.desktop-css__desktop-preview-content___S9kEw{margin:0 auto}.desktop-css__desktop-preview-content___S9kEw iframe{width:100%}.sbs-container .desktop-css__desktop-preview-content___S9kEw{margin-top:0}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/preview/__css__/src/views/components/editor/preview/__css__/desktop.css.scss"],names:[],mappings:"AAAA,0DAEI,WACA,gBAAiB,CAHrB,iEAMM,gBAAiB,CAClB,8CAKH,aAAgB,CADlB,qDAII,UAAW,CACZ,6DAKC,YAAa,CACd",file:"desktop.css.scss",sourcesContent:[":global .side-modal {\n  :local .desktop-preview-content {\n    width: 100%;\n    margin: 30px auto;\n\n    iframe {\n      min-height: 568px;\n    }\n  }\n}\n\n.desktop-preview-content {\n  margin: 0px auto;\n\n  iframe {\n    width: 100%;\n  }\n}\n\n:global .sbs-container {\n  :local .desktop-preview-content {\n    margin-top: 0;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"desktop-preview-content":"desktop-css__desktop-preview-content___S9kEw"}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".previews-css__with-border___1pPxi{border:1px solid #e9ecef}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/preview/__css__/src/views/components/editor/preview/__css__/previews.css.scss"],names:[],mappings:"AAAA,mCACE,wBAAyB,CAC1B",file:"previews.css.scss",sourcesContent:[".with-border {\n  border: 1px solid #e9ecef;\n}\n"],sourceRoot:""}]),exports.locals={"with-border":"previews-css__with-border___1pPxi"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Mobile(props){var containerClass=(0,_classnames3.default)(_mobileCss2.default["mobile-preview"],_editorCss2.default["is-resize-height"],_defineProperty({},_editorCss2.default["is-shows-ab"],props.showAbNav));return _react2.default.createElement("article",{className:containerClass,"data-role":"mobile-preview"},_react2.default.createElement("div",{className:_mobileCss2.default.phone},_react2.default.createElement("div",{className:_mobileCss2.default.speaker}),_react2.default.createElement("div",{className:_mobileCss2.default.camera}),_react2.default.createElement("div",{className:_mobileCss2.default["mobile-preview-content"]},_react2.default.createElement(_frame2.default,{content:props.content,allowScripts:props.allowScripts,showAbNav:props.showAbNav})),_react2.default.createElement("div",{className:_mobileCss2.default["phone-btn"]})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_frame=__webpack_require__(329),_frame2=_interopRequireDefault(_frame),_mobileCss=__webpack_require__(1183),_mobileCss2=_interopRequireDefault(_mobileCss),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss);Mobile.propTypes={content:_propTypes2.default.string.isRequired,allowScripts:_propTypes2.default.bool,showAbNav:_propTypes2.default.bool},Mobile.defaultProps={showAbNav:!1,allowScripts:!1},Mobile.defaultProps={allowScripts:!1},exports.default=Mobile},function(module,exports,__webpack_require__){var content=__webpack_require__(1184);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".mobile-css__mobile-preview___3IRgB{overflow-y:scroll}.mobile-css__mobile-preview-content___1qAyI{height:570px;border:1px solid #d2d2d2}.mobile-css__mobile-preview-content___1qAyI iframe{width:100%;height:568px}.side-modal .mobile-css__phone___13Slc{margin:30px auto}.mobile-css__phone___13Slc{text-align:center;margin:60px auto;position:relative;width:340px;height:704px;padding:55px 8px 81px;border-radius:19px;background:#fff;border:1px solid #d2d2d2}.mobile-css__speaker___34XPJ{border-radius:14px;background:#d2d2d2;width:70px;height:4px;position:absolute;top:26px;left:155px}.mobile-css__camera___314VL{background:#d2d2d2;width:10px;height:10px;border-radius:13px;position:absolute;top:23px;left:132px}.mobile-css__phone-btn___32a36{background:#d2d2d2;width:51px;height:51px;border-radius:55px;position:absolute;top:638px;left:139px;cursor:pointer;transition:background-color .5s}.mobile-css__phone-btn___32a36:hover{background-color:#a9a9a9}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/preview/__css__/src/views/components/editor/preview/__css__/mobile.css.scss"],names:[],mappings:"AAEA,oCACE,iBAAkB,CACnB,4CAGC,aACA,wBARY,CAMd,mDAKI,WACA,YAAa,CACd,uCAKC,gBAAiB,CAClB,2BAID,kBACA,iBACA,kBACA,YACA,aACA,sBACA,mBACA,gBACA,wBA/BY,CAgCb,6BAGC,mBACA,mBACA,WACA,WACA,kBACA,SACA,UAAW,CACZ,4BAGC,mBACA,WACA,YACA,mBACA,kBACA,SACA,UAAW,CACZ,+BAGC,mBACA,WACA,YACA,mBACA,kBACA,UACA,WACA,eACA,+BAAiC,CATnC,qCAWI,wBAA0B,CAC3B",file:"mobile.css.scss",sourcesContent:["$grey: #D2D2D2;\n\n.mobile-preview {\n  overflow-y: scroll;\n}\n\n.mobile-preview-content {\n  height: 570px;\n  border: 1px solid $grey;\n\n  iframe {\n    width: 100%;\n    height: 568px;\n  }\n}\n\n:global .side-modal {\n  :local .phone {\n    margin: 30px auto;\n  }\n}\n\n.phone {\n  text-align: center;\n  margin: 60px auto;\n  position: relative;\n  width: 340px;\n  height: 704px;\n  padding: 55px 8px 81px 8px;\n  border-radius: 19px;\n  background: #FFFFFF;\n  border: 1px solid $grey;\n}\n\n.speaker {\n  border-radius: 14px;\n  background: $grey;\n  width: 70px;\n  height: 4px;\n  position: absolute;\n  top: 26px;\n  left: 155px;\n}\n\n.camera {\n  background: $grey;\n  width: 10px;\n  height: 10px;\n  border-radius: 13px;\n  position: absolute;\n  top: 23px;\n  left: 132px;\n}\n\n.phone-btn {\n  background: $grey;\n  width: 51px;\n  height: 51px;\n  border-radius: 55px;\n  position: absolute;\n  top: 638px;\n  left: 139px;\n  cursor: pointer;\n  transition: background-color 0.5s;\n  &:hover {\n    background-color: darkgrey;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"mobile-preview":"mobile-css__mobile-preview___3IRgB","mobile-preview-content":"mobile-css__mobile-preview-content___1qAyI",phone:"mobile-css__phone___13Slc",speaker:"mobile-css__speaker___34XPJ",camera:"mobile-css__camera___314VL","phone-btn":"mobile-css__phone-btn___32a36"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function Text(props){var classname=(0,_classnames3.default)(_textCss2.default.text,_defineProperty({},_previewsCss2.default["with-border"],props.withBorder));return _react2.default.createElement("article",{className:classname,"data-role":"text-preview"},_react2.default.createElement(_editor2.default,{readOnly:props.readOnly,onChange:props.onChange,editorType:_constants2.default.EDITORS.PLAIN,plainContent:props.content,htmlContent:"",showAbNav:props.showAbNav,isInModal:props.isInModal}))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_editor=__webpack_require__(237),_editor2=_interopRequireDefault(_editor),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_textCss=__webpack_require__(1265),_textCss2=_interopRequireDefault(_textCss),_previewsCss=__webpack_require__(528),_previewsCss2=_interopRequireDefault(_previewsCss);Text.propTypes={content:_propTypes2.default.string.isRequired,onChange:_propTypes2.default.func,readOnly:_propTypes2.default.bool,withBorder:_propTypes2.default.bool,showAbNav:_propTypes2.default.bool,isInModal:_propTypes2.default.bool},Text.defaultProps={onChange:function(){},readOnly:!1,withBorder:!1,showAbNav:!1,isInModal:!1},exports.default=Text},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function onChange(value){console.log("Default PlainEditor onChange, value: ",value)}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAce=__webpack_require__(529),_reactAce2=_interopRequireDefault(_reactAce),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss);__webpack_require__(1189);var ACE_EDITOR_OPTIONS={showGutter:!1,printMarginColumn:!1},PlainEditor=_react2.default.createClass({displayName:"PlainEditor",propTypes:{onChange:_react2.default.PropTypes.func,readOnly:_react2.default.PropTypes.bool,value:_react2.default.PropTypes.string,showAbNav:_react2.default.PropTypes.bool,isInModal:_react2.default.PropTypes.bool},getDefaultProps:function(){return{onChange:onChange,className:void 0,readOnly:!1,showAbNav:!1,isInModal:!1}},shouldComponentUpdate:function(nextProps){return this.props.value!=nextProps.value||this.props.readOnly!=nextProps.readOnly||this.props.showAbNav!=nextProps.showAbNav},componentDidUpdate:function(){this.aceEditor.editor.resize()},render:function(){var _this=this,editorClass=(0,_classnames3.default)(_editorCss2.default["is-resize-height"],_defineProperty({},_editorCss2.default["is-shows-ab"],this.props.showAbNav));return _react2.default.createElement(_reactAce2.default,{className:editorClass,readOnly:this.props.readOnly,mode:"text",theme:"dreamweaver",onChange:this.props.onChange,name:"plain-text-editor",editorProps:{$blockScrolling:1/0,readOnly:!0},tabSize:2,setOptions:ACE_EDITOR_OPTIONS,width:"100%",height:this.props.isInModal?"500px":"",highlightActiveLine:!1,enableLiveAutocompletion:!1,enableBasicAutocompletion:!1,value:this.props.value,ref:function(aceEditor){_this.aceEditor=aceEditor}})}});exports.default=PlainEditor},,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CodeEditorToolbar(props){return _react2.default.createElement("nav",{className:_codeEditorCss2.default.toolbar+" code-editor-toolbar"},_react2.default.createElement("section",{className:"left"},_react2.default.createElement("h5",{className:"left"},"HTML")),_react2.default.createElement("section",{className:"right"},_react2.default.createElement("i",{className:"sg-icon sg-icon-images is-size-20 toolbar-action",onClick:_imageManagerActions2.default.openImageManager,"data-role":"open-image-modal"}),_react2.default.createElement("i",{className:"sg-icon sg-icon-search is-size-20 toolbar-action",onClick:props.onClickSearch,"data-role":"open-ace-search"})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_imageManagerActions=__webpack_require__(105),_imageManagerActions2=_interopRequireDefault(_imageManagerActions),_featureToggle=__webpack_require__(103),_codeEditorCss=__webpack_require__(534),_codeEditorCss2=_interopRequireDefault(_codeEditorCss);CodeEditorToolbar.propTypes={onClickSearch:_propTypes2.default.func.isRequired},exports.default=(0,_featureToggle.FeatureToggle)(_featureToggle.NullCmp,CodeEditorToolbar,"nlvx_side_by_side")},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".codeEditor-css__is-not-scrollable___1uAKT{overflow-y:hidden}.codeEditor-css__toolbar___G8wS7{display:flex;justify-content:space-between;align-items:center;height:60px;padding:0 20px}.codeEditor-css__toolbar___G8wS7 .toolbar-action{cursor:pointer;opacity:.7;margin-left:20px}.codeEditor-css__toolbar___G8wS7 .toolbar-action:hover{opacity:1}.codeEditor-css__wrapper___3siBK{height:100%}.codeEditor-css__is-resize-height___3ctQ1{height:calc(100vh - 130px)}.codeEditor-css__is-resize-height___3ctQ1.codeEditor-css__is-shows-ab___2gA9N{height:calc(100vh - 190px)}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/codeEditor.css.scss"],names:[],mappings:"AAAA,2CACE,iBAAkB,CACnB,iCAGC,aACA,8BACA,mBACA,YACA,cAAe,CALjB,iDAOI,eACA,WACA,gBAAiB,CATrB,uDAWM,SAAU,CACX,iCAKH,WAAY,CACb,0CAGC,0BAA2B,CAD7B,8EAII,0BAA2B,CAC5B",file:"codeEditor.css.scss",sourcesContent:[".is-not-scrollable {\n  overflow-y: hidden;\n}\n\n.toolbar {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 60px;\n  padding: 0 20px;\n  :global .toolbar-action {\n    cursor: pointer;\n    opacity: .7;\n    margin-left: 20px;\n    &:hover {\n      opacity: 1;\n    }\n  }\n}\n\n.wrapper {\n  height: 100%;\n}\n\n.is-resize-height {\n  height: calc(100vh - 130px);\n\n  &.is-shows-ab {\n    height: calc(100vh - 190px);\n  }\n}\n"],sourceRoot:""}]),exports.locals={"is-not-scrollable":"codeEditor-css__is-not-scrollable___1uAKT",toolbar:"codeEditor-css__toolbar___G8wS7",wrapper:"codeEditor-css__wrapper___3siBK","is-resize-height":"codeEditor-css__is-resize-height___3ctQ1","is-shows-ab":"codeEditor-css__is-shows-ab___2gA9N"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_wysiwygToolbar=__webpack_require__(1200),_wysiwygToolbar2=_interopRequireDefault(_wysiwygToolbar),_emailBody=__webpack_require__(1238),_emailBody2=_interopRequireDefault(_emailBody),DndEditor=function(_Component){function DndEditor(props){_classCallCheck(this,DndEditor);var _this=_possibleConstructorReturn(this,(DndEditor.__proto__||Object.getPrototypeOf(DndEditor)).call(this,props));return _this.editor=null,_this}return _inherits(DndEditor,_Component),_createClass(DndEditor,[{key:"componentDidMount",value:function(){this.editor.addEventListener("click",function(event){event.preventDefault()})}},{key:"render",value:function(){var _this2=this;return _react2.default.createElement("div",{ref:function(editor){_this2.editor=editor}},_react2.default.createElement(_wysiwygToolbar2.default,null),this.props.children,_react2.default.createElement(_emailBody2.default,null))}}]),DndEditor}(_react.Component);DndEditor.propTypes={children:_propTypes2.default.element.isRequired},exports.default=DndEditor},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_fixedOnScroll=__webpack_require__(243),_fixedOnScroll2=_interopRequireDefault(_fixedOnScroll),_wysiwygToolbarCss=__webpack_require__(1236),_wysiwygToolbarCss2=_interopRequireDefault(_wysiwygToolbarCss),ckConfig={startupFocus:!0,title:!1,sharedSpaces:{top:"ckeditor-toolbar"},toolbar:[{name:"colors",items:["TextColor","BGColor"]},{name:"styles",items:["Format","Font","FontSize"]},{name:"basic styles",items:["Bold","Italic","Underline","RemoveFormat"]},{name:"paragraph",items:["JustifyLeft","JustifyCenter","JustifyRight"]},{name:"lists",items:["NumberedList","BulletedList"]},{name:"misc",items:["Table","Sglink","HorizontalRule"]}]},WysiwygToolbar=_react2.default.createClass({displayName:"WysiwygToolbar",componentDidMount:function(){this.$toolbarInitializer=$("."+_wysiwygToolbarCss2.default["toolbar-initializer"]),this.$toolbarInitializer.ckeditor(ckConfig),_moduleStore2.default.addChangeListener(this.moduleStoreChanged)},componentWillUnmount:function(){try{this.$toolbarInitializer.ckeditor().editor.destroy()}catch(e){console.error(e)}this.$toolbarInitializer=void 0,_moduleStore2.default.removeChangeListener(this.moduleStoreChanged)},moduleStoreChanged:function(){this.setState({isActive:_moduleStore2.default.getIsWysiwygableFocused()})},getInitialState:function(){return{isActive:_moduleStore2.default.getIsWysiwygableFocused()}},render:function(){return _react2.default.createElement("div",{className:_wysiwygToolbarCss2.default["toolbar-wrapper"]},_react2.default.createElement("div",{id:"ckeditor-toolbar",className:this.state.isActive?"active":"","data-role":"ckeditor-toolbar",style:this.props.isScrolledPastHeader?this.props.style:{}}),_react2.default.createElement("div",{className:_wysiwygToolbarCss2.default["toolbar-initializer"]}))}});exports.default=(0,_fixedOnScroll2.default)(WysiwygToolbar)},,,function(module,exports,__webpack_require__){"use strict";function bodyContainerElemToProps(){var html=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",foundHeadStart=html.indexOf("Head Start--\x3e")>-1,headContent=foundHeadStart?html.substring(html.indexOf("Head Start--\x3e")+13,html.indexOf("\x3c!--End Head")).trim():"";if(html.indexOf("data-editor-version")>-1)return bodyContainerElemToPropsNewEditor($(html),headContent);var body=html.substring(html.indexOf("<body "),html.indexOf("<center ")),bodyStyle=body.substring(body.indexOf('style="')+7,body.lastIndexOf(';"')+1),props=_jsxHtmlTranslationUtils2.default.getStyleProps(bodyStyle),anchorStyle=html.substring(html.indexOf("body a {"),html.indexOf("text-decoration")),linkColor=anchorStyle.substring(anchorStyle.indexOf(": ")+2,anchorStyle.indexOf(";")),bodyProps={style:props,headHtml:headContent};return linkColor&&(bodyProps.style.linkColor=linkColor),bodyProps}function bodyContainerElemToPropsNewEditor($html,headContent){var $wrapper=$("<div></div>").append($html).find(".wrapper:first"),props=_jsxHtmlTranslationUtils2.default.getStyleProps($wrapper.attr("data-body-style")),bodyProps={style:props,headHtml:headContent};return bodyProps.style.linkColor=$wrapper.attr("data-link-color"),bodyProps}Object.defineProperty(exports,"__esModule",{value:!0});var _jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jsxHtmlTranslationUtils);exports.default=bodyContainerElemToProps},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function contentContainerElemToProps($html){var $modulesContainer=$html.find("[role=modules-container]:first"),props=_jsxHtmlTranslationUtils2.default.getStyleProps($modulesContainer.attr("style")),contentProps={style:props};return contentProps.style.width=_jsxHtmlTranslationUtils2.default.getStyleProps($modulesContainer.closest("table").attr("style")).maxWidth,contentProps.style.backgroundColor=$modulesContainer.attr("bgcolor"),contentProps.style=_underscore2.default.pick(contentProps.style,"backgroundColor","width","padding"),contentProps}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils);exports.default=contentContainerElemToProps},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function preheaderModuleElemToProps($moduleElem){var returnProps=[],$col1=$moduleElem.find("[role=column-one]"),$col2=$moduleElem.find("[role=column-two]");if($col1.length>0){if(returnProps.push({type:_constants2.default.EDITOR.MODULES.PREHEADER,isCodeEditable:!1,preheaderText:$col1.text().trim()}),$col2.length>0){var $textMod=$col2.find("[role=module]");$textMod.length>0&&returnProps.push((0,_text2.default)($textMod))}}else returnProps.push({type:_constants2.default.EDITOR.MODULES.PREHEADER,isCodeEditable:!1,preheaderText:$moduleElem.text().trim()});return returnProps}Object.defineProperty(exports,"__esModule",{value:!0});var _text=__webpack_require__(537),_text2=_interopRequireDefault(_text),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);exports.default=preheaderModuleElemToProps},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unscopeSelectorsInNode=exports.scopeSelectorsInNode=exports.unscopeSelectors=exports.scopeSelectors=void 0;var _postcss=__webpack_require__(1207),_postcss2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_postcss),_underscore=__webpack_require__(2),processSelectors=function(callback){return function(css){var prefix=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".sg-campaigns",ast=_postcss2.default.parse(css);return ast.walkRules(function(rule){callback(prefix,rule)}),ast.toString()}},addPrefix=function(prefix,rule){rule.selector.includes(prefix)||(rule.selector=rule.selector.split(",").map(function(selector){return prefix+" "+selector.trim()}).join(", "))},removePrefix=function(prefix,rule){var pattern=new RegExp(prefix+" ","g");rule.selector.includes(prefix)&&(rule.selector=rule.selector.replace(pattern,""))},markupIsInvalid=function(markup){return!markup||!(!markup.nodeName||"#text"!==markup.nodeName)},processNode=function processNode(callback){return function(markup,prefix){if(!markupIsInvalid(markup)){var $node=$(markup);return $node.length>1?(0,_underscore.map)($node,function(el){return processNode(callback)(el,prefix)}).join(""):($node.find("style").each(function(index,element){var $el=$(element),scoped=callback($el.html(),prefix);$el.html(scoped)}),$node.get(0).outerHTML||$node.get(0))}}},scopeSelectors=processSelectors(addPrefix),unscopeSelectors=processSelectors(removePrefix),scopeSelectorsInNode=processNode(scopeSelectors),unscopeSelectorsInNode=processNode(unscopeSelectors);exports.default=processSelectors,exports.scopeSelectors=scopeSelectors,exports.unscopeSelectors=unscopeSelectors,exports.scopeSelectorsInNode=scopeSelectorsInNode,exports.unscopeSelectorsInNode=unscopeSelectorsInNode},,function(module,exports){},,,,,,,,,function(module,exports){},,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getWidthPercent($img){var imgStyle=$img[0].style,percIndex=imgStyle.width.indexOf("%");return imgStyle.width&&percIndex>0?parseInt(imgStyle.width.substring(0,percIndex),10):100}function getIsResponsive(imgStyle){return!(!imgStyle.maxWidth||!imgStyle.height.match("auto"))}function imageModuleElemToProps($moduleElem){var $td=$($moduleElem.find("td")[0]),tdStyle=_jsxHtmlTranslationUtils2.default.getStyleProps($td.attr("style")),$img=$($td.find("img")[0]||"<img>"),imgProps=_underscore2.default.reduce($img[0].attributes,function(memo,attr){return _underscore2.default.tap(memo,function(m){return m[attr.name]=attr.value})},{}),style=_jsxHtmlTranslationUtils2.default.getStyleProps($img.attr("style"));imgProps.widthPercent=getWidthPercent($img);var $a=_jsxHtmlTranslationUtils2.default.get$wrappingByNodeName($img,"a"),href=$a.length>0?$a.attr("href"):"",props={type:_constants2.default.EDITOR.MODULES.IMAGE,isCodeEditable:!0,tdProps:{style:tdStyle},aProps:{href:href},imgProps:imgProps,align:$td.attr("align")||"left",isResponsive:getIsResponsive(style),isProportionallyConstrained:!!$img.attr("data-proportionally-constrained")};return _underscore2.default.tap(props,function(p){return p.innerHtml=(0,_image.serializedImageInnerHtml)(p,$moduleElem)})}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_image=__webpack_require__(242),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);exports.default=imageModuleElemToProps},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function dividerModuleElemToProps($moduleElem){var $shallowTd=$($moduleElem.find("td")[0]),shallowTdStyle=_underscore2.default.extend(_jsxHtmlTranslationUtils2.default.getStyleProps($shallowTd.attr("style")),{backgroundColor:$shallowTd.attr("bgcolor")}),$deepTable=$($moduleElem.find("td table")[0]),deepTableStyle={height:$deepTable.attr("height")},$deepTd=$($moduleElem.find("td table td")[0]),deepTdStyle={backgroundColor:$deepTd.attr("bgcolor")};return{type:_constants2.default.EDITOR.MODULES.DIVIDER,isCodeEditable:!1,shallowTdProps:{style:shallowTdStyle},deepTableProps:{style:deepTableStyle},deepTdProps:{style:deepTdStyle}}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);exports.default=dividerModuleElemToProps},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getBackgroundColor($allA){var firstColor=$allA.eq(0).css("background-color");return firstColor===$allA.eq(1).css("background-color")?firstColor||"":""}function getAProps($shallowTd){var $allA=$shallowTd.find("a"),$a=$allA.first(),aProps={backgroundColor:getBackgroundColor($allA),icons:_constants2.default.EDITOR.SOCIAL_ICON_DEFAULTS},aStyle=_jsxHtmlTranslationUtils2.default.getStyleProps($a.attr("style"));return $a.length<1&&(aStyle={WebkitBorderRadius:"2px",MozBorderRadius:"2px",borderRadius:"2px",display:"inline-block"}),aProps.style=aStyle,$allA.each(function(index,el){var $el=$(el),title=$el.attr("title").toLowerCase().trim();title="google+"===title?"google":title;var iconProp=aProps.icons[title];iconProp&&(iconProp.href=$el.attr("href"))}),aProps}function socialModuleElemToProps($moduleElem){var $shallowTd=$($moduleElem.find("td")[0]),shallowTdProps={style:_underscore2.default.defaults(_jsxHtmlTranslationUtils2.default.getStyleProps($shallowTd.attr("style")),{backgroundColor:""})},$img=$shallowTd.find("img").first(),iProps={style:{size:parseInt($img.attr("height")||"30",10)}},align=$shallowTd.find("table").attr("align");return{type:_constants2.default.EDITOR.MODULES.SOCIAL,isCodeEditable:!1,shallowTdProps:shallowTdProps,aProps:getAProps($shallowTd),iProps:iProps,align:align}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);exports.default=socialModuleElemToProps},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function spacerModuleElemToProps($moduleElem){var $td=$($moduleElem.find("td")[0]),tdStyle=_underscore2.default.extend(_jsxHtmlTranslationUtils2.default.getStyleProps($td.attr("style")),{backgroundColor:$td.attr("bgcolor")});return{type:_constants2.default.EDITOR.MODULES.SPACER,isCodeEditable:!1,tdProps:{style:tdStyle}}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);exports.default=spacerModuleElemToProps},function(module,exports,__webpack_require__){var content=__webpack_require__(1229);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".draggableModuleMaker-css__wrapper___2ovz-{margin-bottom:15px;display:inline-block}.draggableModuleMaker-css__draggable___1kai3{display:inline-block}.draggableModuleMaker-css__draggable___1kai3 .card.is-module.is-centered{float:none;margin-right:0;margin-bottom:0}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/hoc/__css__/src/views/components/editor/dnd/modules/hoc/__css__/draggableModuleMaker.css.scss"],names:[],mappings:"AACA,2CACE,mBACA,oBAAqB,CACtB,6CAGC,oBAAqB,CADvB,yEAII,WACA,eACA,eAAgB,CACjB",file:"draggableModuleMaker.css.scss",sourcesContent:["// need some extra css/html to get the drag/drop preview just right\n.wrapper {\n  margin-bottom: 15px;\n  display: inline-block;\n}\n\n.draggable {\n  display: inline-block;\n\n  :global .card.is-module.is-centered {\n    float: none;\n    margin-right: 0;\n    margin-bottom: 0;\n  }\n}\n"],sourceRoot:""}]),exports.locals={wrapper:"draggableModuleMaker-css__wrapper___2ovz-",draggable:"draggableModuleMaker-css__draggable___1kai3"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1231);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".button-css__deep-table___2OZyb{width:100%}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/button.css.scss"],names:[],mappings:"AAAA,gCACE,UACF,CAAE",file:"button.css.scss",sourcesContent:[".deep-table {\n  width: 100%\n}\n"],sourceRoot:""}]),exports.locals={"deep-table":"button-css__deep-table___2OZyb"}},function(module,exports,__webpack_require__){"use strict";function serializedBodyContainer(bodyProps,contentContainerProps,moduleHtml){return('\n<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">\n<html data-editor-version="2" class="sg-campaigns" xmlns="http://www.w3.org/1999/xhtml">\n  <head>\n    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1" />\x3c!--[if !mso]>\x3c!--\x3e\n    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />\x3c!--<![endif]--\x3e\n    \x3c!--[if (gte mso 9)|(IE)]>\n    <xml>\n    <o:OfficeDocumentSettings>\n    <o:AllowPNG/>\n    <o:PixelsPerInch>96</o:PixelsPerInch>\n    </o:OfficeDocumentSettings>\n    </xml>\n    <![endif]--\x3e\n    \x3c!--[if (gte mso 9)|(IE)]>\n    <style type="text/css">\n      body {width: '+contentContainerProps.style.width+';margin: 0 auto;}\n      table {border-collapse: collapse;}\n      table, td {mso-table-lspace: 0pt;mso-table-rspace: 0pt;}\n      img {-ms-interpolation-mode: bicubic;}\n    </style>\n    <![endif]--\x3e\n\n    <style type="text/css">\n      body, p, div {\n        font-family: '+bodyProps.style.fontFamily+";\n        font-size: "+bodyProps.style.fontSize+";\n      }\n      body {\n        color: "+bodyProps.style.color+";\n      }\n      body a {\n        color: "+bodyProps.style.linkColor+";\n        text-decoration: none;\n      }\n      p { margin: 0; padding: 0; }\n      table.wrapper {\n        width:100% !important;\n        table-layout: fixed;\n        -webkit-font-smoothing: antialiased;\n        -webkit-text-size-adjust: 100%;\n        -moz-text-size-adjust: 100%;\n        -ms-text-size-adjust: 100%;\n      }\n      img.max-width {\n        max-width: 100% !important;\n      }\n      .column.of-2 {\n        width: 50%;\n      }\n      .column.of-3 {\n        width: 33.333%;\n      }\n      .column.of-4 {\n        width: 25%;\n      }\n      @media screen and (max-width:480px) {\n        .preheader .rightColumnContent,\n        .footer .rightColumnContent {\n            text-align: left !important;\n        }\n        .preheader .rightColumnContent div,\n        .preheader .rightColumnContent span,\n        .footer .rightColumnContent div,\n        .footer .rightColumnContent span {\n          text-align: left !important;\n        }\n        .preheader .rightColumnContent,\n        .preheader .leftColumnContent {\n          font-size: 80% !important;\n          padding: 5px 0;\n        }\n        table.wrapper-mobile {\n          width: 100% !important;\n          table-layout: fixed;\n        }\n        img.max-width {\n          height: auto !important;\n          max-width: 480px !important;\n        }\n        a.bulletproof-button {\n          display: block !important;\n          width: auto !important;\n          font-size: 80%;\n          padding-left: 0 !important;\n          padding-right: 0 !important;\n        }\n        .columns {\n          width: 100% !important;\n        }\n        .column {\n          display: block !important;\n          width: 100% !important;\n          padding-left: 0 !important;\n          padding-right: 0 !important;\n        }\n      }\n    </style>\n    \x3c!--user entered Head Start--\x3e\n    "+bodyProps.headHtml+'\n     \x3c!--End Head user entered--\x3e\n  </head>\n  <body>\n    <center class="wrapper" data-link-color="'+bodyProps.style.linkColor+'" data-body-style="font-size: '+bodyProps.style.fontSize+"; font-family: "+bodyProps.style.fontFamily+"; color: "+bodyProps.style.color+"; background-color: "+bodyProps.style.backgroundColor+';">\n      <div class="webkit">\n        <table cellpadding="0" cellspacing="0" border="0" width="100%" class="wrapper" bgcolor="'+bodyProps.style.backgroundColor+'">\n          <tr>\n            <td valign="top" bgcolor="'+bodyProps.style.backgroundColor+'" width="100%">\n              <table width="100%" role="content-container" class="outer" align="center" cellpadding="0" cellspacing="0" border="0">\n                <tr>\n                  <td width="100%">\n                    <table width="100%" cellpadding="0" cellspacing="0" border="0">\n                      <tr>\n                        <td>\n                          \x3c!--[if mso]>\n                          <center>\n                          <table><tr><td width="'+parseInt(contentContainerProps.style.width,10)+'">\n                          <![endif]--\x3e\n                          <table width="100%" cellpadding="0" cellspacing="0" border="0" style="width: 100%; max-width:'+contentContainerProps.style.width+';" align="center">\n                            <tr>\n                              <td role="modules-container" style="padding: '+contentContainerProps.style.padding+"; color: "+bodyProps.style.color+'; text-align: left;" bgcolor="'+contentContainerProps.style.backgroundColor+'" width="100%" align="left">\n                                '+moduleHtml+"\n                              </td>\n                            </tr>\n                          </table>\n                          \x3c!--[if mso]>\n                          </td></tr></table>\n                          </center>\n                          <![endif]--\x3e\n                        </td>\n                      </tr>\n                    </table>\n                  </td>\n                </tr>\n              </table>\n            </td>\n          </tr>\n        </table>\n      </div>\n    </center>\n  </body>\n</html>\n  ").trim()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=serializedBodyContainer},function(module,exports,__webpack_require__){"use strict";function serializedPreheader(props){return'\n    <table class="module preheader preheader-hide" role="module" data-type="preheader" border="0" cellpadding="0" cellspacing="0" width="100%"\n           style="display: none !important; mso-hide: all; visibility: hidden; opacity: 0; color: transparent; height: 0; width: 0;">\n      <tr>\n        <td role="module-content">\n          <p>'+_sanitizerUtils2.default.sanitize(props.preheaderText)+"</p>\n        </td>\n      </tr>\n    </table>\n  "}var _sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_sanitizerUtils);module.exports={serializedPreheader:serializedPreheader}},function(module,exports,__webpack_require__){"use strict";function serializedSpacer(props){return'\n    <table class="module"\n           role="module"\n           data-type="spacer"\n           border="0"\n           cellpadding="0"\n           cellspacing="0"\n           width="100%"\n           style="table-layout: fixed;">\n      <tr>\n        <td style="padding:'+props.tdProps.style.padding+';"\n            role="module-content"\n            bgcolor="'+props.tdProps.style.backgroundColor+'">\n        </td>\n      </tr>\n    </table>\n  '}module.exports={serializedSpacer:serializedSpacer}},function(module,exports,__webpack_require__){"use strict";function serializedDivider(props){return'\n    <table class="module"\n           role="module"\n           data-type="divider"\n           border="0"\n           cellpadding="0"\n           cellspacing="0"\n           width="100%"\n           style="table-layout: fixed;">\n      <tr>\n        <td style="'+_jsxHtmlTranslationUtils2.default.getStyleString(props.shallowTdProps.style)+'"\n            role="module-content"\n            height="100%"\n            valign="top"\n            bgcolor="'+props.shallowTdProps.style.backgroundColor+'">\n          <table border="0"\n                 cellpadding="0"\n                 cellspacing="0"\n                 align="center"\n                 width="100%"\n                 height="'+props.deepTableProps.style.height+'"\n                 style="line-height:'+props.deepTableProps.style.height+"; font-size:"+props.deepTableProps.style.height+';">\n            <tr>\n              <td\n                style="padding: 0px 0px '+props.deepTableProps.style.height+' 0px;"\n                bgcolor="'+props.deepTdProps.style.backgroundColor+'"></td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n    </table>\n  '}var _jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jsxHtmlTranslationUtils);module.exports={serializedDivider:serializedDivider}},function(module,exports,__webpack_require__){var content=__webpack_require__(1237);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.wysiwygToolbar-css__toolbar-wrapper___1oGJH{position:relative;height:60px;width:100%;z-index:9}.wysiwygToolbar-css__toolbar-wrapper___1oGJH .wysiwygToolbar-css__toolbar-initializer___32TQx{display:none}.wysiwygToolbar-css__toolbar-wrapper___1oGJH .cke_button__reactimagemanager{width:16px;height:16px;position:relative}.wysiwygToolbar-css__toolbar-wrapper___1oGJH .cke_button__reactimagemanager:before{content:"\\E91E";position:absolute;top:56%;left:50%;font-family:styleguideicons;color:gray;transform:translate(-50%,-50%)}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/__css__/src/views/components/editor/dnd/__css__/wysiwygToolbar.css.scss"],names:[],mappings:"AACA,6CACE,kBACA,YACA,WACA,SAAU,CAJZ,8FAOI,YAAa,CAPjB,4EAWI,WACA,YACA,iBAAkB,CAbtB,mFAeM,gBACA,kBACA,QACA,SACA,4BACA,WACA,8BAAgC,CACjC",file:"wysiwygToolbar.css.scss",sourcesContent:["// toolbar needs absolute pos to handle a disabling div in the :after, this'll make it stretch correctly\n.toolbar-wrapper {\n  position: relative;\n  height: 60px;\n  width: 100%;\n  z-index: 9;\n\n  .toolbar-initializer {\n    display: none;\n  }\n\n  :global .cke_button__reactimagemanager {\n    width: 16px;\n    height: 16px;\n    position: relative;\n    &::before {\n      content: \"\\e91e\";\n      position: absolute;\n      top: 56%;\n      left: 50%;\n      font-family: 'styleguideicons';\n      color: gray;\n      transform: translate(-50%, -50%);\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={"toolbar-wrapper":"wysiwygToolbar-css__toolbar-wrapper___1oGJH","toolbar-initializer":"wysiwygToolbar-css__toolbar-initializer___32TQx"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function disableModuleLinks(){$('[data-role=dnd-drop-area] [data-role^="module"]').find("a").attr("href","#")}function getStyleContents(bodyProps){return"\n    .dnd-editor-wrapper a {\n      color: "+bodyProps.style.linkColor+";\n    }\n  "}function deselectModules(e){var dataRole=e.target.getAttribute("data-role");"dnd-editor"!==dataRole&&"dnd-drop-area"!==dataRole||_editorActions2.default.moduleDeselected()}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_moduleWrapper=__webpack_require__(554),_moduleWrapper2=_interopRequireDefault(_moduleWrapper),_module=__webpack_require__(1244),_module2=_interopRequireDefault(_module),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_emptyEmailBodyPlaceholder=__webpack_require__(1260),_emptyEmailBodyPlaceholder2=_interopRequireDefault(_emptyEmailBodyPlaceholder),_reactClassUtils=__webpack_require__(7),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_emailBodyCss=__webpack_require__(1263),_emailBodyCss2=_interopRequireDefault(_emailBodyCss),EmailBody=(_class=function(_Component){function EmailBody(props){_classCallCheck(this,EmailBody);var _this=_possibleConstructorReturn(this,(EmailBody.__proto__||Object.getPrototypeOf(EmailBody)).call(this,props));return _this.state={moduleProps:_moduleStore2.default.getModuleProps(),bodyProps:_moduleStore2.default.getBodyProps(),contentContainerProps:_moduleStore2.default.getContentContainerProps()},_this}return _inherits(EmailBody,_Component),_createClass(EmailBody,[{key:"componentDidMount",value:function(){_moduleStore2.default.addChangeListener(this.moduleStoreChanged),disableModuleLinks()}},{key:"componentDidUpdate",value:function(){disableModuleLinks()}},{key:"componentWillUnmount",value:function(){_moduleStore2.default.removeChangeListener(this.moduleStoreChanged)}},{key:"moduleStoreChanged",value:function(){this.setState({moduleProps:_moduleStore2.default.getModuleProps(),bodyProps:_moduleStore2.default.getBodyProps(),contentContainerProps:_moduleStore2.default.getContentContainerProps()})}},{key:"render",value:function(){var isDragging=void 0!==_moduleStore2.default.getDraggedModuleMuid(),newBodyStyle=this.state.bodyProps?_underscore2.default.extend({},this.state.bodyProps.style):null,newContainerStyle=this.state.contentContainerProps?_underscore2.default.extend({},this.state.contentContainerProps.style):null,hasModules=this.state.moduleProps.length>1,moduleCollection=_underscore2.default.map(this.state.moduleProps,function(props,i){return _react2.default.createElement(_moduleWrapper2.default,{key:props.muid,index:i,moduleProps:props,isUserDragging:isDragging},_react2.default.createElement(_module2.default,props))});return _react2.default.createElement("div",{className:_emailBodyCss2.default["dnd-editor-wrapper"]+" dnd-editor-wrapper sg-campaigns"},_react2.default.createElement("style",null,getStyleContents(this.state.bodyProps)),_react2.default.createElement("div",{"data-role":"dnd-editor",style:newBodyStyle,onClick:deselectModules},_react2.default.createElement("div",{"data-role":"dnd-drop-area",className:_emailBodyCss2.default["dnd-drop-area"],style:newContainerStyle},hasModules?moduleCollection:_react2.default.createElement(_emptyEmailBodyPlaceholder2.default,{isUserDragging:isDragging})),_react2.default.createElement("div",{"data-role":"footer"})))}}]),EmailBody}(_react.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"moduleStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"moduleStoreChanged"),_class.prototype),_class);exports.default=EmailBody},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_enforceChildType=__webpack_require__(244),_enforceChildType2=_interopRequireDefault(_enforceChildType),_controlSet=__webpack_require__(1240),_controlSet2=_interopRequireDefault(_controlSet),_controlOption=__webpack_require__(555),_controlOption2=_interopRequireDefault(_controlOption),_moduleCss=__webpack_require__(349),_moduleCss2=_interopRequireDefault(_moduleCss),ModuleControls=_react2.default.createClass({displayName:"ModuleControls",propTypes:{isVisible:_react2.default.PropTypes.bool},getDefaultProps:function(){return{isVisible:!0}},render:function(){return _react2.default.createElement("div",{className:_moduleCss2.default["module-controls-container"]+" "+(this.props.isVisible?"":_moduleCss2.default.invisible)},this.props.children)}});module.exports={ModuleControls:(0,_enforceChildType2.default)(ModuleControls,[_controlSet2.default]),ControlSet:_controlSet2.default,ControlOption:_controlOption2.default}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_enforceChildType=__webpack_require__(244),_enforceChildType2=_interopRequireDefault(_enforceChildType),_controlOption=__webpack_require__(555),_controlOption2=_interopRequireDefault(_controlOption),ControlSet=function(props){return _react2.default.createElement("ul",{"data-control-set":!0,className:props.className},props.children)};exports.default=(0,_enforceChildType2.default)(ControlSet,[_controlOption2.default])},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".module-css__controllable-module___KlvWi{position:relative;width:100%;padding-bottom:3px}.module-css__controllable-module___KlvWi main{background-color:transparent}.module-css__controllable-module___KlvWi footer,.module-css__controllable-module___KlvWi header,.module-css__controllable-module___KlvWi main,.module-css__controllable-module___KlvWi section{padding:0;margin:0}.module-css__controllable-module___KlvWi .module-css__controllable-module___KlvWi{padding:2px}.module-css__controllable-module___KlvWi .module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR,.module-css__controllable-module___KlvWi .module-css__controllable-module___KlvWi.module-css__is-selected___BRUtG,.module-css__controllable-module___KlvWi .module-css__controllable-module___KlvWi:hover{box-shadow:none;padding:0;border:2px solid #1a82e2}.module-css__controllable-module___KlvWi .module-css__controllable-module___KlvWi.module-css__empty-module___3STe8{padding:0;border-width:0}.module-css__controllable-module___KlvWi .module-css__controllable-module___KlvWi main{min-height:31px}.module-css__controllable-module___KlvWi.module-css__empty-module___3STe8{display:none}.module-css__controllable-module___KlvWi .module-css__module___3d_ZB{position:relative;width:100%;cursor:pointer}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD{top:2px;left:2px;width:calc(100% - 4px);z-index:auto;background-color:initial}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD [data-control-set],.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD [data-control-set]{z-index:2}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1{width:29px;height:29px;overflow:hidden;text-align:right}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1 ul,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1 ul{width:87px}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1 .module-css__hover-control___29GX5,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1 .module-css__hover-control___29GX5{display:none}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1:hover,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1:hover{height:87px;-webkit-transition:height .2s ease-in-out;-moz-transition:height .2s ease-in-out;transition:height .2s ease-in-out}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1:hover .module-css__hover-control___29GX5,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1:hover .module-css__hover-control___29GX5{display:inline-block}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1:hover .module-css__unhover-control___ugUGC,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD .module-css__hover-controls___3TpL1:hover .module-css__unhover-control___ugUGC{display:none}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD [data-control-set] [data-control-option],.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD [data-control-set] [data-control-option]{width:29px;height:29px;font-size:12px;line-height:24px}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD [data-control-set] [data-control-option] .sg-icon,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD [data-control-set] [data-control-option] .sg-icon{font-size:16px}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD [data-control-set] [data-control-option] .sg-icon.sg-icon-code,.module-css__controllable-module___KlvWi:hover .module-css__controllable-module___KlvWi .module-css__module-controls-container___22FgD [data-control-set] [data-control-option] .sg-icon.sg-icon-code{font-size:20px}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR,.module-css__controllable-module___KlvWi.module-css__is-selected___BRUtG,.module-css__controllable-module___KlvWi:hover{box-shadow:0 -3px 0 3px #1a82e2;border-bottom:3px solid #1a82e2;padding-bottom:0;z-index:2}.module-css__controllable-module___KlvWi.module-css__is-child-selected___1cyxR>[data-role=drag-preview-container]>header>.module-css__module-controls-container___22FgD,.module-css__controllable-module___KlvWi.module-css__is-selected___BRUtG>[data-role=drag-preview-container]>header>.module-css__module-controls-container___22FgD,.module-css__controllable-module___KlvWi:hover>[data-role=drag-preview-container]>header>.module-css__module-controls-container___22FgD{visibility:visible}.module-css__controllable-module___KlvWi.module-css__is-user-dragging-me___2sclD+.module-css__drop-area-wrapper___2-bi5{display:none}.module-css__module-controls-container___22FgD{position:absolute;top:-33px;left:-3px;width:calc(100% + 6px);visibility:hidden;background-color:#1a82e2;overflow:auto;z-index:3}.module-css__module-controls-container___22FgD [data-control-set]{position:relative;float:left;font-size:medium;padding:0;margin:0}.module-css__module-controls-container___22FgD [data-control-set] [data-control-option]{height:33px;width:42px;display:inline-block;cursor:pointer;background-color:#1a82e2;color:#fff;line-height:30px;text-align:center}.module-css__module-controls-container___22FgD [data-control-set] [data-control-option] .sg-icon{font-size:20px;vertical-align:middle}.module-css__module-controls-container___22FgD [data-control-set] [data-control-option] .sg-icon.sg-icon-code{font-size:24px}.module-css__module-controls-container___22FgD [data-control-set] [data-control-option]:hover{background-color:#1568b4}.module-css__module-controls-container___22FgD [data-control-set]+[data-control-set]{float:right}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/module.css.scss"],names:[],mappings:"AA0BA,yCACE,kBACA,WACA,kBAAmB,CAHrB,8CAOI,4BAA6B,CAPjC,+LAWI,UACA,QAAS,CAZb,kFAiBI,WAAY,CAjBhB,kUAoBM,gBACA,UACA,wBA5BU,CAMhB,mHA0BM,UACA,cAAe,CA3BrB,uFA+BM,eAAgB,CA/BtB,0EAmCI,YAAa,CAnCjB,qEAuCI,kBACA,WACA,cAAe,CAzCnB,8SA+CQ,QACA,SACA,uBACA,aACA,wBAAyB,CAnDjC,oVAuDU,SAAU,CAvDpB,sXA4DU,WACA,YACA,gBACA,gBAAiB,CA/D3B,4XAkEY,UAAiC,CAlE7C,4bAsEY,YAAa,CAtEzB,kYA0EY,YACA,0CACA,uCACA,iCAAmC,CA7E/C,wcAgFc,oBAAqB,CAhFnC,4cAoFc,YAAa,CApF3B,gYA0FU,WACA,YACA,eACA,gBAAyC,CA7FnD,kZAgGY,cAAe,CAhG3B,4aAmGc,cAAe,CAnG7B,uMA2GI,gCACA,gCACA,iBACA,SAAU,CA9Gd,kdAiHM,kBAAmB,CAjHzB,wHAsHI,YAAa,CACd,+CAID,kBACA,UACA,UACA,uBACA,kBACA,yBACA,cACA,SAAU,CARZ,kEAWI,kBACA,WACA,iBACA,UACA,QAAS,CAfb,wFAiBM,YACA,WACA,qBACA,eAEA,yBACA,WAEA,iBACA,iBAAkB,CA1BxB,iGA6BQ,eACA,qBAAsB,CA9B9B,8GAiCU,cAAe,CAjCzB,8FAsCQ,wBAAsC,CAtC9C,qFA0CM,WAAY,CACb",file:"module.css.scss",sourcesContent:["/*\n\n  ❗  WARNING ❗  WARNING ❗  WARNING ❗\n\n     EXERCISE EXTREME CAUTION AND RESTRAINT\n\n     Modifying this file and/or moduleDropArea.css.scss will require you to take a shower immediately for the next 6 - 8 hours 🚿\n     The files are extremely treacherous and somewhat interrelated.  be sure to check the following after making changes:\n\n     - can easily drag column modules when empty columns are present above and below\n       - can drag regardless of where on the grab handle is clicked\n     - column placeholders disappear when modules dragged over them in short and tall columns\n     - drag previews look correct and do not grab stuff under the module\n     - can select a column module and then select a child module of that same column afterwards\n     - lots of other stuff\n\n    in short, be extremely wary and thorough in your checks to ensure nothing has broken when updating these files.\n\n*/\n\n$sgBlue: #1a82e2;\n\n$borderWidth: 3px;\n$controlHeight: 33px;\n$innerControlDimension: 29px;\n\n.controllable-module {\n  position: relative;\n  width: 100%;\n  padding-bottom: 3px;\n\n  // module selector vvv\n  main {\n    background-color: transparent;\n  }\n\n  section, header, main, footer {\n    padding: 0;\n    margin: 0;\n  }\n\n  // nested modules. this is to make the modules not whip around when you hover over from adding padding/border\n  .controllable-module {\n    padding: 2px;\n\n    &:hover, &.is-selected, &.is-child-selected {\n      box-shadow: none;\n      padding: 0;\n      border: 2px solid $sgBlue; // inner modules kinda need it to be a real border else things get funky\n    }\n\n    &.empty-module {\n      padding: 0;\n      border-width: 0;\n    }\n\n    main {\n      min-height: 31px; // inner mods are at least as big as their controls\n    }\n  }\n  &.empty-module {\n    display: none;\n  }\n\n  .module {\n    position: relative;\n    width: 100%;\n    cursor: pointer;\n  }\n  &:hover, &.is-child-selected {\n    .controllable-module {\n      // nested controls\n      .module-controls-container {\n        top: 2px;\n        left: 2px;\n        width: calc(100% - 4px);\n        z-index: auto; //this container is empty when nested, so don't put it on top\n        background-color: initial;\n\n        // want the controls themselves to be on top, but not the empty space in between\n        [data-control-set] {\n          z-index: 2;\n        }\n\n        // only show one control until hover (that control is just '...')\n        .hover-controls {\n          width: $innerControlDimension;\n          height: $innerControlDimension;\n          overflow: hidden;\n          text-align: right;\n\n          ul {\n            width: $innerControlDimension * 3;\n          }\n\n          .hover-control {\n            display: none;\n          }\n\n          &:hover {\n            height: $innerControlDimension * 3;\n            -webkit-transition: height 0.2s ease-in-out;\n            -moz-transition: height 0.2s ease-in-out;\n            transition: height 0.2s ease-in-out;\n\n            .hover-control {\n              display: inline-block;\n            }\n\n            .unhover-control {\n              display: none;\n            }\n          }\n        }\n\n        [data-control-set] [data-control-option] {\n          width: $innerControlDimension;\n          height: $innerControlDimension;\n          font-size: 12px;\n          line-height: $innerControlDimension - 5px;\n\n          :global .sg-icon {\n            font-size: 16px;\n\n            &.sg-icon-code {\n              font-size: 20px;\n            }\n          }\n        }\n      }\n    }\n  }\n  &:hover, &.is-selected, &.is-child-selected {\n    box-shadow: 0 -3px 0 $borderWidth $sgBlue; // side borders are box shadow in order to not take up real space\n    border-bottom: 3px solid $sgBlue; // still need the bottom border for preview to work correctly\n    padding-bottom: 0px;\n    z-index: 2;\n\n    & > [data-role=drag-preview-container] > header > .module-controls-container {\n      visibility: visible;\n    }\n  }\n  // if user is dragging a columns/container module, then it should not display drop areas, else problems w/ preview sshot\n  &.is-user-dragging-me + .drop-area-wrapper {\n    display: none;\n  }\n}\n\n.module-controls-container {\n  position: absolute;\n  top: -1 * $controlHeight;\n  left: -1 * $borderWidth;\n  width: calc(100% + 6px); // for some reason it won't let me use $borderWidth inside of this calc\n  visibility: hidden;\n  background-color: $sgBlue;\n  overflow: auto;\n  z-index: 3; // assures the controls are never clipped by other content\n\n  [data-control-set] {\n    position: relative;\n    float: left;\n    font-size: initial;\n    padding: 0;\n    margin: 0;\n    [data-control-option] {\n      height: $controlHeight;\n      width: 42px;\n      display: inline-block;\n      cursor: pointer;\n\n      background-color: $sgBlue;\n      color: white;\n\n      line-height: $controlHeight - 3px;\n      text-align: center;\n\n      :global .sg-icon {\n        font-size: 20px;\n        vertical-align: middle;\n\n        &.sg-icon-code {\n          font-size: 24px;\n        }\n      }\n\n      &:hover {\n        background-color: darken($sgBlue, 10%);\n      }\n    }\n    & + [data-control-set] {\n      float: right;\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={"controllable-module":"module-css__controllable-module___KlvWi","is-selected":"module-css__is-selected___BRUtG","is-child-selected":"module-css__is-child-selected___1cyxR","empty-module":"module-css__empty-module___3STe8",module:"module-css__module___3d_ZB","module-controls-container":"module-css__module-controls-container___22FgD","hover-controls":"module-css__hover-controls___3TpL1","hover-control":"module-css__hover-control___29GX5","unhover-control":"module-css__unhover-control___ugUGC","is-user-dragging-me":"module-css__is-user-dragging-me___2sclD","drop-area-wrapper":"module-css__drop-area-wrapper___2-bi5"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function getDropAreaClassName(props){var _classNames,dropArea=_moduleDropAreaCss2.default["drop-area"],topDropArea=_moduleDropAreaCss2.default["top-drop-area"],isHoveredOver=_moduleDropAreaCss2.default["is-hovered-over"],isInvalidDrop=_moduleDropAreaCss2.default["is-invalid-drop"],isOutsideDrop=_moduleDropAreaCss2.default["is-outside-drop"],userIsDragging=_moduleDropAreaCss2.default["user-is-dragging"];return(0,_classnames2.default)(dropArea,(_classNames={},_defineProperty(_classNames,topDropArea,props.isTopDropArea),_defineProperty(_classNames,isHoveredOver,props.isOver||props.isLastHovered),_defineProperty(_classNames,isInvalidDrop,!props.canDrop),_defineProperty(_classNames,isOutsideDrop,props.isLastHovered&&!props.isOver),_defineProperty(_classNames,userIsDragging,props.isUserDragging),_classNames))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDnd=__webpack_require__(146),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_moduleDropAreaCss=__webpack_require__(556),_moduleDropAreaCss2=_interopRequireDefault(_moduleDropAreaCss),_dropTargetHelpers=__webpack_require__(557),ModuleDropArea=function(props){return props.connectDropTarget(_react2.default.createElement("div",{className:getDropAreaClassName(props),"data-role":"module-drop-area"},_react2.default.createElement("div",{className:_moduleDropAreaCss2.default["drop-target-wrapper"]},_react2.default.createElement("div",{className:_moduleDropAreaCss2.default["drop-target"],"data-role":"drop-target"}))))};ModuleDropArea.defaultProps={isTopDropArea:!1,isInnerDropArea:!1},exports.default=(0,_reactDnd.DropTarget)(_dropTargetHelpers.dropTypes,_dropTargetHelpers.spec,_dropTargetHelpers.collect)(ModuleDropArea)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.moduleDropArea-css__drop-area___3IsyH{z-index:0;padding:4px 0}.moduleDropArea-css__drop-area___3IsyH .moduleDropArea-css__drop-target-wrapper___3UyGu{margin:0 2px;position:relative}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__user-is-dragging___G0Wpb{display:block}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__user-is-dragging___G0Wpb .moduleDropArea-css__drop-target-wrapper___3UyGu{z-index:1}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__user-is-dragging___G0Wpb .moduleDropArea-css__drop-target___1IUsf{display:block;height:50px;line-height:50px}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__user-is-dragging___G0Wpb .moduleDropArea-css__drop-target___1IUsf:after{width:100%;display:block}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__is-hovered-over___27GyB{z-index:2}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__is-hovered-over___27GyB .moduleDropArea-css__drop-target-wrapper___3UyGu{min-height:50px}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__is-hovered-over___27GyB .moduleDropArea-css__drop-target___1IUsf{background-color:rgba(24,201,110,.1);border:1px dashed #29c770;color:#000;opacity:1}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__is-hovered-over___27GyB .moduleDropArea-css__drop-target___1IUsf:after{content:"Drag Module Here"}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__is-hovered-over___27GyB.moduleDropArea-css__is-invalid-drop___2TbeJ .moduleDropArea-css__drop-target___1IUsf{background-color:rgba(183,28,28,.1);border-color:rgba(183,28,28,.4)}.moduleDropArea-css__drop-area___3IsyH.moduleDropArea-css__is-hovered-over___27GyB.moduleDropArea-css__is-outside-drop___3Oiu0 .moduleDropArea-css__drop-target___1IUsf{background-color:rgba(212,218,223,.2);border-color:#d4dadf}.moduleDropArea-css__drop-area___3IsyH .moduleDropArea-css__drop-target___1IUsf{display:none;position:absolute;top:0;left:0;width:100%;opacity:0;transition:opacity .5s,background-color .3s,border-color .3s;text-align:center;font-family:Proxima Nova;font-size:18px;-webkit-font-smoothing:antialiased}.moduleDropArea-css__columns-module___H28te,.moduleDropArea-css__columns-module___H28te table.moduleDropArea-css__columns-inner___jUbUo,[data-role=module-columns],[data-role=module-columns] table.moduleDropArea-css__columns-inner___jUbUo{width:100%}.moduleDropArea-css__columns-module___H28te table.moduleDropArea-css__columns-inner___jUbUo td,.moduleDropArea-css__columns-module___H28te td,[data-role=module-columns] table.moduleDropArea-css__columns-inner___jUbUo td,[data-role=module-columns] td{vertical-align:top}.moduleDropArea-css__columns-module___H28te table.moduleDropArea-css__columns-inner___jUbUo td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI,.moduleDropArea-css__columns-module___H28te td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI,[data-role=module-columns] table.moduleDropArea-css__columns-inner___jUbUo td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI,[data-role=module-columns] td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI{position:relative;height:90px;border:1px dashed gray}.moduleDropArea-css__columns-module___H28te table.moduleDropArea-css__columns-inner___jUbUo td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI:after,.moduleDropArea-css__columns-module___H28te td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI:after,[data-role=module-columns] table.moduleDropArea-css__columns-inner___jUbUo td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI:after,[data-role=module-columns] td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI:after{position:absolute;content:"Placeholder";width:100%;display:block;line-height:90px;text-align:center}.moduleDropArea-css__columns-module___H28te table.moduleDropArea-css__columns-inner___jUbUo td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI.moduleDropArea-css__is-hovered-over___27GyB:after,.moduleDropArea-css__columns-module___H28te td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI.moduleDropArea-css__is-hovered-over___27GyB:after,[data-role=module-columns] table.moduleDropArea-css__columns-inner___jUbUo td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI.moduleDropArea-css__is-hovered-over___27GyB:after,[data-role=module-columns] td>div:only-child .moduleDropArea-css__top-drop-area___2c-xI.moduleDropArea-css__is-hovered-over___27GyB:after{display:none}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/moduleDropArea.css.scss"],names:[],mappings:"AAwBA,uCACE,UACA,aAAc,CAFhB,wFAKI,aACA,iBAAkB,CANtB,oFAYI,aAAc,CAZlB,qIAeM,SAAU,CAfhB,6HAoBM,cACA,YACA,gBA1BiB,CAIvB,mIAwBQ,WACA,aAAc,CAzBtB,mFAgCI,SAAS,CAhCb,oIAmCM,eAvCiB,CAIvB,4HAuCM,qCACA,0BACA,WACA,SAAU,CA1ChB,kIA4CQ,0BAA2B,CA5CnC,wKAiDQ,oCACA,+BAAiD,CAlDzD,wKAwDQ,sCACA,oBA3De,CAEvB,gFA+DI,aACA,kBACA,MACA,OACA,WACA,UACA,6DACA,kBACA,yBACA,eACA,kCAAmC,CACpC,8OAQC,UAAW,CAFf,0PAIM,kBAAmB,CAJzB,keAOU,kBACA,YACA,sBAAuB,CATjC,0fAWY,kBACA,sBACA,WACA,cACA,iBACA,iBAAkB,CAhB9B,0qBAoBc,YAAa,CACd",file:"moduleDropArea.css.scss",sourcesContent:['/*\n\n  ❗  WARNING ❗  WARNING ❗  WARNING ❗\n\n     EXERCISE EXTREME CAUTION AND RESTRAINT\n\n     Modifying this file and/or module.css.scss will require you to take a shower immediately for the next 6 - 8 hours 🚿\n     The files are extremely treacherous and somewhat interrelated.  be sure to check the following after making changes:\n\n     - can easily drag column modules when empty columns are present above and below\n       - can drag regardless of where on the grab handle is clicked\n     - column placeholders disappear when modules dragged over them in short and tall columns\n     - drag previews look correct and do not grab stuff under the module\n     - can select a column module and then select a child module of that same column afterwards\n     - lots of other stuff\n\n    in short, be extremely wary and thorough in your checks to ensure nothing has broken when updating these files.\n\n*/\n\n$drop-area-height: 50px;\n$invalid-color: #b71c1c;\n$outside-color: #d4dadf;\n\n.drop-area {\n  z-index: 0;\n  padding: 4px 0;\n\n  .drop-target-wrapper {\n    margin: 0 2px;\n    position: relative;\n  }\n\n  // adding these rules when user is dragging makes it so they can still interact w/ modules normally\n  // without drop areas greedily taking up all the click events and such\n  &.user-is-dragging {\n    display: block;\n\n    .drop-target-wrapper {\n      z-index: 1;\n    }\n\n     // only show the drop-target if user is dragging, or the drag preview sshot will grab stuff below the module\n    .drop-target {\n      display: block;\n      height: $drop-area-height;\n      line-height: $drop-area-height;\n      &::after {\n        width: 100%;\n        display: block;\n      }\n    }\n\n  }\n\n  &.is-hovered-over {\n    z-index:2;\n\n    .drop-target-wrapper {\n      min-height: $drop-area-height;\n    }\n\n    .drop-target {\n      background-color: rgba(24,201,110,0.1);\n      border: 1px dashed #29C770;\n      color: #000000;\n      opacity: 1;\n      &::after {\n        content: "Drag Module Here";\n      }\n    }\n    &.is-invalid-drop {\n      .drop-target {\n        background-color: transparentize($invalid-color, 0.9);\n        border-color: transparentize($invalid-color, 0.6);\n      }\n    }\n\n    &.is-outside-drop {\n      .drop-target {\n        background-color: transparentize($outside-color, 0.8);\n        border-color: $outside-color;\n      }\n    }\n  }\n\n  .drop-target {\n    display: none;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    opacity: 0;\n    transition: opacity .5s, background-color .3s, border-color .3s;\n    text-align: center;\n    font-family: Proxima Nova;\n    font-size: 18px;\n    -webkit-font-smoothing: antialiased;\n  }\n}\n\n// moved some stuff used by columns into here because there\'s a tight coupling between some of the class names,\n// not sure of a better way to do this right now\n$placeholder-drop-area-height: 90px; // drag module here is 50px content + 2*20px pad\n.columns-module, [data-role=module-columns] {\n  &, & table.columns-inner {\n    width: 100%;\n    td {\n      vertical-align: top;\n      & > div:only-child { // only in columns with a single div child of the td, which means the col is empty, save for the placeholder top drop area\n        .top-drop-area {\n          position: relative;\n          height: $placeholder-drop-area-height;\n          border: 1px dashed gray;\n          &::after {\n            position: absolute;\n            content: "Placeholder";\n            width: 100%;\n            display: block;\n            line-height: $placeholder-drop-area-height;\n            text-align: center;\n          }\n          &.is-hovered-over {\n            &::after {\n              display: none;\n            }\n          }\n        }\n      }\n    }\n  }\n}\n'],sourceRoot:""}]),exports.locals={"drop-area":"moduleDropArea-css__drop-area___3IsyH","drop-target-wrapper":"moduleDropArea-css__drop-target-wrapper___3UyGu","user-is-dragging":"moduleDropArea-css__user-is-dragging___G0Wpb","drop-target":"moduleDropArea-css__drop-target___1IUsf","is-hovered-over":"moduleDropArea-css__is-hovered-over___27GyB","is-invalid-drop":"moduleDropArea-css__is-invalid-drop___2TbeJ","is-outside-drop":"moduleDropArea-css__is-outside-drop___3Oiu0","columns-module":"moduleDropArea-css__columns-module___H28te","columns-inner":"moduleDropArea-css__columns-inner___jUbUo","top-drop-area":"moduleDropArea-css__top-drop-area___2c-xI"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getSpecificModule(props,getRootProps){return props.type==_constants2.default.EDITOR.MODULES.BUTTON?_react2.default.createElement(_button.ButtonModule,_extends({},props,{getRootProps:getRootProps})):props.type==_constants2.default.EDITOR.MODULES.COLUMNS?_react2.default.createElement(_columns.ColumnsModule,_extends({},props,{getRootProps:getRootProps}),getColumnsModuleChildren(props)):props.type==_constants2.default.EDITOR.MODULES.CODE?_react2.default.createElement(_code.CodeModule,_extends({},props,{getRootProps:getRootProps})):props.type==_constants2.default.EDITOR.MODULES.IMAGE?_react2.default.createElement(_image.ImageModule,_extends({},props,{getRootProps:getRootProps})):props.type==_constants2.default.EDITOR.MODULES.TEXT?_react2.default.createElement(_text.TextModule,_extends({},props,{getRootProps:getRootProps})):props.type==_constants2.default.EDITOR.MODULES.SPACER?_react2.default.createElement(_spacer.SpacerModule,_extends({},props,{getRootProps:getRootProps})):props.type==_constants2.default.EDITOR.MODULES.DIVIDER?_react2.default.createElement(_divider.DividerModule,_extends({},props,{getRootProps:getRootProps})):props.type==_constants2.default.EDITOR.MODULES.SOCIAL?_react2.default.createElement(_social.SocialModule,_extends({},props,{getRootProps:getRootProps})):null}function getColumnsModuleChildren(props){var numColumns=props.innerModules.length,columnWidth=(100/numColumns).toFixed(3),padPx=props.columnPaddingPx;return _underscore2.default.map(props.innerModules,function(column,i){return _react2.default.createElement("td",{key:i,style:{padding:_moduleSerializerUtils2.default.getColumnPaddingStyleString(numColumns,padPx,i).split(":")[1].replace(";","")},width:columnWidth+"%"},_underscore2.default.map(column,function(mp,j){return _react2.default.createElement(_moduleWrapper2.default,{key:mp.muid,moduleProps:mp,isUserDragging:props.isUserDragging,isInnerModule:!0,isTopDropArea:0==j},_react2.default.createElement(Module,mp))}))})}function Module(props){function getRootProps(){var rootProps={className:(0,_classnames2.default)(_moduleCss2.default.module,{columns:props.type===_constants2.default.EDITOR.MODULES.COLUMNS})};return _underscore2.default.extend(props.rootProps||{},rootProps)}return getSpecificModule(props,getRootProps)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_moduleSerializerUtils=__webpack_require__(347),_moduleSerializerUtils2=_interopRequireDefault(_moduleSerializerUtils),_button=__webpack_require__(348),_columns=__webpack_require__(558),_code=__webpack_require__(559),_image=__webpack_require__(245),_text=__webpack_require__(350),_divider=__webpack_require__(560),_spacer=__webpack_require__(561),_social=__webpack_require__(562),_moduleWrapper=__webpack_require__(554),_moduleWrapper2=_interopRequireDefault(_moduleWrapper),_moduleCss=__webpack_require__(349),_moduleCss2=_interopRequireDefault(_moduleCss);exports.default=Module},function(module,exports,__webpack_require__){var content=__webpack_require__(1246);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".code-css__wrapper___1oWOt{position:relative}.code-css__overlay___3C42H,.code-css__placeholder___NivjH{display:flex;justify-content:center;align-items:center;flex-direction:column;height:80px;color:#1a81e1;background-color:#fff;font-family:Proxima Nova,Helvetica,sans-serif;font-size:18px}.code-css__overlay___3C42H .code-css__icon___1nU6t,.code-css__placeholder___NivjH .code-css__icon___1nU6t{margin-bottom:10px;font-size:35px}.code-css__overlay___3C42H{opacity:0;position:absolute;width:100%;height:100%;top:0;transition:opacity .3s ease}.code-css__overlay___3C42H:hover{opacity:.9}.code-css__code-contents___IgaU5{min-height:80px}.code-css__btn___2ek0L{position:relative;text-align:center}.code-css__btn___2ek0L .sg-icon{color:#294661;font-size:26px;position:absolute;left:37px;top:30px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/code.css.scss"],names:[],mappings:"AAAA,2BACE,iBAAkB,CACnB,0DAGC,aACA,uBACA,mBACA,sBACA,YACA,cACA,sBACA,8CACA,cAAe,CATjB,0GAYI,mBACA,cAAe,CAChB,2BAID,UAEA,kBACA,WACA,YACA,MACA,2BAA8B,CAPhC,iCAUI,UAAW,CACZ,iCAID,eAAgB,CACjB,uBAGC,kBACA,iBAAkB,CAFpB,gCAKI,cACA,eAEA,kBACA,UACA,QAAS,CACV",file:"code.css.scss",sourcesContent:['.wrapper {\n  position: relative;\n}\n\n.overlay, .placeholder {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  height: 80px;\n  color: #1a81e1;\n  background-color: white;\n  font-family: "Proxima Nova", Helvetica, sans-serif;\n  font-size: 18px;\n\n  .icon {\n    margin-bottom: 10px;\n    font-size: 35px;\n  }\n}\n\n.overlay {\n  opacity: 0;\n\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  transition: 300ms opacity ease;\n\n  &:hover {\n    opacity: .9;\n  }\n}\n\n.code-contents {\n  min-height: 80px;\n}\n\n.btn {\n  position: relative;\n  text-align: center;\n\n  :global .sg-icon {\n    color: #294661;\n    font-size: 26px;\n\n    position: absolute;\n    left: 37px;\n    top: 30px;\n  }\n}\n'],sourceRoot:""}]),exports.locals={wrapper:"code-css__wrapper___1oWOt",overlay:"code-css__overlay___3C42H",placeholder:"code-css__placeholder___NivjH",icon:"code-css__icon___1nU6t","code-contents":"code-css__code-contents___IgaU5",btn:"code-css__btn___2ek0L"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1248);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".image-css__placeholder___1mV5K{color:#1f70aa;text-align:center;cursor:pointer;padding:10px}.image-css__placeholder___1mV5K i{height:67px;width:81px;display:inline-block;margin:20px 0}.image-css__placeholder___1mV5K p{line-height:20px;font-size:16px;margin-bottom:0}.image-css__align-children-center___3axTl{text-align:center}.image-css__align-children-right___eRBr7{text-align:right}.image-css__align-children-left___1KBvk{text-align:left}.image-css__centered___3h9D1 img{margin:0 auto}.image-css__right___3yVoR img{margin-left:auto;margin-right:0}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/image.css.scss"],names:[],mappings:"AAAA,gCACE,cACA,kBAEA,eACA,YAAa,CALf,kCAQI,YACA,WAEA,qBACA,aAAc,CAZlB,kCAgBI,iBACA,eACA,eAAgB,CACjB,0CAID,iBAAkB,CACnB,yCAGC,gBAAiB,CAClB,wCAGC,eAAgB,CACjB,iCAIG,aAAc,CACf,8BAKC,iBACA,cAAe,CAChB",file:"image.css.scss",sourcesContent:[".placeholder {\n  color: #1F70AA;\n  text-align: center;\n\n  cursor: pointer;\n  padding: 10px;\n\n  i {\n    height: 67px;\n    width: 81px;\n\n    display: inline-block;\n    margin: 20px 0;\n  }\n\n  p {\n    line-height: 20px;\n    font-size: 16px;\n    margin-bottom: 0;\n  }\n}\n\n.align-children-center {\n  text-align: center;\n}\n\n.align-children-right {\n  text-align: right;\n}\n\n.align-children-left {\n  text-align: left;\n}\n\n.centered {\n  img {\n    margin: 0 auto;\n  }\n}\n\n.right {\n  img {\n    margin-left: auto;\n    margin-right: 0;\n  }\n}\n"],sourceRoot:""}]),exports.locals={placeholder:"image-css__placeholder___1mV5K","align-children-center":"image-css__align-children-center___3axTl","align-children-right":"image-css__align-children-right___eRBr7","align-children-left":"image-css__align-children-left___1KBvk",centered:"image-css__centered___3h9D1",right:"image-css__right___3yVoR"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function ensureCkToolbarIsVisible(){var $toolbarChildren=$("#ckeditor-toolbar").children();1===$toolbarChildren.length&&$toolbarChildren.show()}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_wysiwygableCss=__webpack_require__(1250),_wysiwygableCss2=_interopRequireDefault(_wysiwygableCss),_imageManagerActions=__webpack_require__(105),_imageManagerActions2=_interopRequireDefault(_imageManagerActions),_reactClassUtils=__webpack_require__(7),ckConfig={startupFocus:!1,title:!1,sharedSpaces:{top:"ckeditor-toolbar"},toolbar:[{name:"colors",items:["TextColor","BGColor"]},{name:"styles",items:["Format","Font","FontSize"]},{name:"basic styles",items:["Bold","Italic","Underline","RemoveFormat"]},{name:"paragraph",items:["JustifyLeft","JustifyCenter","JustifyRight"]},{name:"lists",items:["NumberedList","BulletedList"]},{name:"misc",items:["reactImageManager","Table","Sglink","HorizontalRule"]}]},Wysiwygable=function(ComposedCmp){var _class;return _class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.ckInstance=void 0,_this.isCkFocused=!1,_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"createCkInstance",value:function(){var _this2=this,$wysiwygable=$(this.wysiwygable);return 0===$wysiwygable.length?console.warn("create ck instance called but no wysiwygable found"):$wysiwygable.length>1?console.warn("multiple wysiwyg instances active when singleton expected."):($wysiwygable.ckeditor(ckConfig),!this.ckInstance&&(this.ckInstance=$wysiwygable.ckeditor().editor,this.ckInstance.on("change",this.onCkChange),this.ckInstance.on("focus",function(){return _this2.isCkFocused=!0}),this.ckInstance.on("blur",function(){return _this2.isCkFocused=!1}),this.addImageManagerButton(),!0))}},{key:"addImageManagerButton",value:function(){var _this3=this;if(this.ckInstance){try{this.ckInstance.addCommand("reactImageManager",{exec:function(){return _imageManagerActions2.default.openImageManager(void 0,_this3.ckInstance)}})}catch(e){if("Cannot read property 'checkFeature' of undefined"!==e.message)throw e.message}this.ckInstance.ui.addButton("reactImageManager",{label:"Insert Image",command:"reactImageManager",toolbar:"misc"}),this.ckInstance.on("doubleclick",function(){this.widgets.selected[0]&&_imageManagerActions2.default.openImageManager(void 0,this)})}}},{key:"destroyCkInstance",value:function(){if(this.isCkFocused=!1,this.ckInstance){try{this.ckInstance.destroy(!0)}catch(e){"Cannot read property 'destroy' of undefined"!==e.message&&console.error(e)}this.ckInstance=void 0,ensureCkToolbarIsVisible()}}},{key:"onCkChange",value:function(){var ckData=this.ckInstance.getData();_editorActions2.default.activeModuleUpdated(_underscore2.default.extend({},this.props,{innerHtml:ckData}))}},{key:"refreshCk",value:function(){if(!this.props.isSelected)return this.destroyCkInstance();var wysiwygable=this.wysiwygable;return!(!wysiwygable||this.isCkFocused)&&(wysiwygable.innerHTML=this.props.innerHtml,this.destroyCkInstance(),this.createCkInstance(),!0)}},{key:"componentDidUpdate",value:function(){this.refreshCk()}},{key:"componentDidMount",value:function(){this.refreshCk()}},{key:"componentWillUnmount",value:function(){this.destroyCkInstance()}},{key:"getEditor",value:function(){var _this4=this;return _react2.default.createElement("div",{className:_wysiwygableCss2.default["wysiwyg-editor"],"data-role":"wysiwygable-content",ref:function(c){_this4.wysiwygable=c},contentEditable:!0,onFocus:_editorActions2.default.wysiwygableFocused,onBlur:_editorActions2.default.wysiwygableBlurred})}},{key:"render",value:function(){var decoratorProps={getWysiwygEditor:this.getEditor};return _react2.default.createElement(ComposedCmp,_extends({},decoratorProps,this.props))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"createCkInstance",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"createCkInstance"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addImageManagerButton",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"addImageManagerButton"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"destroyCkInstance",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"destroyCkInstance"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onCkChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onCkChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"refreshCk",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"refreshCk"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getEditor",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getEditor"),_class.prototype),_class};exports.default=Wysiwygable},function(module,exports,__webpack_require__){var content=__webpack_require__(1251);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".wysiwygable-css__wysiwyg-editor___29d6n{z-index:1}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/hoc/__css__/src/views/components/editor/dnd/modules/hoc/__css__/wysiwygable.css.scss"],names:[],mappings:"AAAA,yCACE,SAAU,CACX",file:"wysiwygable.css.scss",sourcesContent:[".wysiwyg-editor {\n  z-index: 1; // needs to get above the :after on modules\n}\n"],sourceRoot:""}]),exports.locals={"wysiwyg-editor":"wysiwygable-css__wysiwyg-editor___29d6n"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1253);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".text-css__too-small-to-click___1H_Oj{display:flex;justify-content:space-around;align-items:center;flex-direction:column;height:60px;color:#1a81e1;background-color:#fff;font-family:Proxima Nova,Helvetica,sans-serif;font-size:18px}.text-css__too-small-to-click___1H_Oj div:nth-child(3){display:none}.text-css__too-small-to-click___1H_Oj .text-css__text-icon___1MQS4{font-size:19px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/text.css.scss"],names:[],mappings:"AAAA,sCACE,aACA,6BACA,mBACA,sBACA,YACA,cACA,sBACA,8CACA,cAAe,CATjB,uDAaI,YAAa,CAbjB,mEAiBI,cAAe,CAChB",file:"text.css.scss",sourcesContent:['.too-small-to-click {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-direction: column;\n  height: 60px;\n  color: #1A81E1;\n  background-color: white;\n  font-family: "Proxima Nova", Helvetica, sans-serif;\n  font-size: 18px;\n\n  // a ghost <div><br /></div> appears after editing\n  div:nth-child(3) {\n    display: none;\n  }\n\n  .text-icon {\n    font-size: 19px;\n  }\n}\n'],sourceRoot:""}]),exports.locals={"too-small-to-click":"text-css__too-small-to-click___1H_Oj","text-icon":"text-css__text-icon___1MQS4"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1255);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".divider-css__deep-table___1hxy8{width:100%}.divider-css__too-small-to-click___3U3BW{display:flex;justify-content:space-around;align-items:center;flex-direction:column;height:60px;color:#1a81e1;background-color:#fff;font-family:Proxima Nova,Helvetica,sans-serif;font-size:18px}.divider-css__too-small-to-click___3U3BW .divider-css__divider-icon___7SxzG{font-size:19px}.divider-css__filler___22Fl-{height:5px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/divider.css.scss"],names:[],mappings:"AAAA,iCACE,UACF,CAAE,yCAGA,aACA,6BACA,mBACA,sBACA,YACA,cACA,sBACA,8CACA,cAAe,CATjB,4EAYI,cAAe,CAChB,6BAID,UAAW,CACZ",file:"divider.css.scss",sourcesContent:['.deep-table {\n  width: 100%\n}\n\n.too-small-to-click {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  flex-direction: column;\n  height: 60px;\n  color: #1A81E1;\n  background-color: white;\n  font-family: "Proxima Nova", Helvetica, sans-serif;\n  font-size: 18px;\n\n  .divider-icon {\n    font-size: 19px;\n  }\n}\n\n.filler {\n  height: 5px;\n}\n'],sourceRoot:""}]),exports.locals={"deep-table":"divider-css__deep-table___1hxy8","too-small-to-click":"divider-css__too-small-to-click___3U3BW","divider-icon":"divider-css__divider-icon___7SxzG",filler:"divider-css__filler___22Fl-"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1257);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".spacer-css__deep-table___1zKqS{width:100%}.spacer-css__too-small-to-click___18TZM{display:flex;justify-content:space-around;align-items:center;flex-direction:column;height:60px;color:#1a81e1;background-color:#fff;font-family:Proxima Nova,Helvetica,sans-serif;font-size:18px}.spacer-css__too-small-to-click___18TZM .spacer-css__spacer-icon___10IRI{font-size:19px}.spacer-css__filler___1w8aC{height:5px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/spacer.css.scss"],names:[],mappings:"AAAA,gCACE,UACF,CAAE,wCAGA,aACA,6BACA,mBACA,sBACA,YACA,cACA,sBACA,8CACA,cAAe,CATjB,yEAYI,cAAe,CAChB,4BAID,UAAW,CACZ",file:"spacer.css.scss",sourcesContent:['.deep-table {\n  width: 100%\n}\n\n.too-small-to-click {\n  display: flex;\n  justify-content: space-around;;\n  align-items: center;\n  flex-direction: column;\n  height: 60px;\n  color: #1A81E1;\n  background-color: white;\n  font-family: "Proxima Nova", Helvetica, sans-serif;\n  font-size: 18px;\n\n  .spacer-icon {\n    font-size: 19px;\n  }\n}\n\n.filler {\n  height: 5px;\n}\n'],sourceRoot:""}]),exports.locals={"deep-table":"spacer-css__deep-table___1zKqS","too-small-to-click":"spacer-css__too-small-to-click___18TZM","spacer-icon":"spacer-css__spacer-icon___10IRI",filler:"spacer-css__filler___1w8aC"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1259);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,"[data-role=module-social] table{-webkit-margin-start:auto;-webkit-margin-end:auto}[data-role=module-social] .social-css__social-icons___337Pz [data-nolink=true]{filter:grayscale(100%) opacity(20%);border:1px dashed #000;cursor:no-drop}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/social.css.scss","/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/__css__/src/views/components/editor/dnd/modules/__css__/social.css.scss"],names:[],mappings:"AAAA,gCCGI,0BACA,uBAAwB,CACzB,+EAIG,oCACA,uBACA,cAAe,CAChB",file:"social.css.scss",sourcesContent:['[data-role=module-social] table{-webkit-margin-start:auto;-webkit-margin-end:auto}[data-role=module-social] .social-icons [data-nolink="true"]{filter:grayscale(100%) opacity(20%);border:1px dashed black;cursor:no-drop}\n','[data-role=module-social] {\n  // copying the old editor\'s way of centering in webkit\n  table {\n    -webkit-margin-start: auto;\n    -webkit-margin-end: auto;\n  }\n\n  .social-icons {\n    [data-nolink="true"] {\n      filter: grayscale(100%) opacity(20%);\n      border: 1px dashed black;\n      cursor: no-drop;\n    }\n  }\n}\n'],sourceRoot:""}]),exports.locals={"social-icons":"social-css__social-icons___337Pz"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactDnd=__webpack_require__(146),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_emptyEmailBodyPlaceholderCss=__webpack_require__(1261),_emptyEmailBodyPlaceholderCss2=_interopRequireDefault(_emptyEmailBodyPlaceholderCss),_dropTargetHelpers=__webpack_require__(557),getDropAreaClassName=function(_ref){var isOver=_ref.isOver,isUserDragging=_ref.isUserDragging;return(0,_classnames2.default)(_emptyEmailBodyPlaceholderCss2.default["empty-email-placeholder"],"proxima-nova","dropzone",{"is-active":isUserDragging,"is-hovered":isOver})},EmptyEmailBodyPlaceholder=function(props){return props.connectDropTarget(_react2.default.createElement("div",{className:getDropAreaClassName(props),"data-role":"module-drop-area"},"Drag Module Here"))};exports.default=(0,_reactDnd.DropTarget)(_dropTargetHelpers.dropTypes,_dropTargetHelpers.spec,_dropTargetHelpers.collect)(EmptyEmailBodyPlaceholder)},function(module,exports,__webpack_require__){var content=__webpack_require__(1262);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".emptyEmailBodyPlaceholder-css__empty-email-placeholder___Kan1R{align-items:center;display:flex;font-size:18px;justify-content:center}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/__css__/src/views/components/editor/dnd/__css__/emptyEmailBodyPlaceholder.css.scss"],names:[],mappings:"AAAA,gEACE,mBACA,aACA,eACA,sBAAuB,CACxB",file:"emptyEmailBodyPlaceholder.css.scss",sourcesContent:[".empty-email-placeholder {\n  align-items: center;\n  display: flex;\n  font-size: 18px;\n  justify-content: center;\n}\n"],sourceRoot:""}]),exports.locals={"empty-email-placeholder":"emptyEmailBodyPlaceholder-css__empty-email-placeholder___Kan1R"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1264);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.emailBody-css__dnd-editor-wrapper___1ObjH{margin-top:25px}.emailBody-css__dnd-editor-wrapper___1ObjH .hidden{display:initial}.emailBody-css__dnd-editor-wrapper___1ObjH em,.emailBody-css__dnd-editor-wrapper___1ObjH ol,.emailBody-css__dnd-editor-wrapper___1ObjH strong,.emailBody-css__dnd-editor-wrapper___1ObjH u,.emailBody-css__dnd-editor-wrapper___1ObjH ul{color:inherit;font-family:inherit;font-size:inherit;line-height:inherit;text-transform:none}.emailBody-css__dnd-editor-wrapper___1ObjH h1,.emailBody-css__dnd-editor-wrapper___1ObjH h2,.emailBody-css__dnd-editor-wrapper___1ObjH h3,.emailBody-css__dnd-editor-wrapper___1ObjH h4,.emailBody-css__dnd-editor-wrapper___1ObjH h5,.emailBody-css__dnd-editor-wrapper___1ObjH h6{color:inherit;font-family:inherit;font-weight:700;text-transform:none}.emailBody-css__dnd-editor-wrapper___1ObjH h1{font-size:2em}.emailBody-css__dnd-editor-wrapper___1ObjH h2{font-size:1.5em}.emailBody-css__dnd-editor-wrapper___1ObjH h3{font-size:1.17em}.emailBody-css__dnd-editor-wrapper___1ObjH h4{font-size:1em}.emailBody-css__dnd-editor-wrapper___1ObjH h5{font-size:.83em}.emailBody-css__dnd-editor-wrapper___1ObjH h6{font-size:.67em}.emailBody-css__dnd-editor-wrapper___1ObjH ol{list-style-type:decimal}.emailBody-css__dnd-editor-wrapper___1ObjH ul{list-style-type:disc}.emailBody-css__dnd-editor-wrapper___1ObjH ol ol,.emailBody-css__dnd-editor-wrapper___1ObjH ul ul{-webkit-margin-before:0;-webkit-margin-after:0}.emailBody-css__dnd-editor-wrapper___1ObjH ol,.emailBody-css__dnd-editor-wrapper___1ObjH ul{display:block;-webkit-margin-before:1em;-webkit-margin-after:1em;-webkit-margin-start:0;-webkit-margin-end:0;margin-block-start:0;margin-block-end:0;padding-left:40px}.emailBody-css__dnd-editor-wrapper___1ObjH ol li,.emailBody-css__dnd-editor-wrapper___1ObjH ul li{text-align:-webkit-match-parent;text-align:match-parent}.emailBody-css__dnd-editor-wrapper___1ObjH ol ul,.emailBody-css__dnd-editor-wrapper___1ObjH ul ul{list-style-type:circle}.emailBody-css__dnd-editor-wrapper___1ObjH ol ol ul,.emailBody-css__dnd-editor-wrapper___1ObjH ol ul ul,.emailBody-css__dnd-editor-wrapper___1ObjH ul ol ul,.emailBody-css__dnd-editor-wrapper___1ObjH ul ul ul{list-style-type:square}.emailBody-css__dnd-editor-wrapper___1ObjH table[data-role=module-text] table[border="1"]{border-collapse:separate;border-spacing:1px}.emailBody-css__dnd-editor-wrapper___1ObjH table[data-role=module-text] table[border="1"],.emailBody-css__dnd-editor-wrapper___1ObjH table[data-role=module-text] table[border="1"] td{border:1px solid grey}.emailBody-css__dnd-drop-area___1G8vb{margin:0 auto;padding-bottom:80px!important}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/__css__/src/views/components/editor/dnd/__css__/emailBody.css.scss"],names:[],mappings:"AAAA,2CACE,eAAgB,CADlB,mDAKI,eAAgB,CALpB,yOAUI,cACA,oBACA,kBACA,oBACA,mBAAuB,CAd3B,oRAkBI,cACA,oBACA,gBACA,mBAAuB,CArB3B,8CAyBI,aAAc,CAzBlB,8CA6BI,eAAgB,CA7BpB,8CAiCI,gBAAiB,CAjCrB,8CAqCI,aAAc,CArClB,8CAyCI,eAAiB,CAzCrB,8CA6CI,eAAiB,CA7CrB,8CAiDI,uBAAwB,CAjD5B,8CAqDI,oBAAqB,CArDzB,kGAyDI,wBACA,sBAAuB,CA1D3B,4FA8DI,cACA,0BACA,yBACA,uBACA,qBACA,qBACA,mBACA,iBAAkB,CArEtB,kGAwEM,gCACA,uBAAwB,CAzE9B,kGA8EI,sBAAuB,CA9E3B,gNAkFI,sBAAuB,CAlF3B,0FAuFI,yBACA,kBAAmB,CAxFvB,uLA0FM,qBAAsB,CACvB,sCAKH,cACA,6BAA+B,CAChC",file:"emailBody.css.scss",sourcesContent:['.dnd-editor-wrapper {\n  margin-top: 25px;\n\n  // old editor was adding hidden classes to stuff for some reason, apparently.  anyway though, we want to show that stuff.\n :global .hidden {\n    display: initial;\n  }\n\n  /* ADD RESET STYLES to prevent tiara, styleguide, our app, etc. css from polluting the design editor */\n  em, u, strong, ol, ul {\n    color: inherit;\n    font-family: inherit;\n    font-size: inherit;\n    line-height: inherit;\n    text-transform: initial;\n  }\n\n  h1, h2, h3, h4, h5, h6 {\n    color: inherit;\n    font-family: inherit;\n    font-weight: bold;\n    text-transform: initial;\n  }\n\n  h1 {\n    font-size: 2em;\n  }\n\n  h2 {\n    font-size: 1.5em;\n  }\n\n  h3 {\n    font-size: 1.17em;\n  }\n\n  h4 {\n    font-size: 1em;\n  }\n\n  h5 {\n    font-size: 0.83em;\n  }\n\n  h6 {\n    font-size: 0.67em;\n  }\n\n  ol {\n    list-style-type: decimal;\n  }\n\n  ul {\n    list-style-type: disc;\n  }\n\n  ol ol, ul ul {\n    -webkit-margin-before: 0;\n    -webkit-margin-after: 0;\n  }\n\n  ul, ol {\n    display: block;\n    -webkit-margin-before: 1em;\n    -webkit-margin-after: 1em;\n    -webkit-margin-start: 0px;\n    -webkit-margin-end: 0px;\n    margin-block-start: 0;\n    margin-block-end: 0;\n    padding-left: 40px;\n\n    li {\n      text-align: -webkit-match-parent; // this works in chrome\n      text-align: match-parent; // this works in ffox\n    }\n  }\n\n  ul ul, ol ul {\n    list-style-type: circle;\n  }\n\n  ol ol ul, ol ul ul, ul ol ul, ul ul ul {\n    list-style-type: square;\n  }\n\n  // ck adds table with border="1", which gets ignored in the design view, but not in the preview.  probably some css from our app leaking in.\n  table[data-role="module-text"] table[border="1"] {\n    border-collapse: separate;\n    border-spacing: 1px;\n    &, & td {\n      border: 1px solid grey;\n    }\n  }\n}\n\n.dnd-drop-area {\n  margin: 0px auto;\n  padding-bottom: 80px !important;\n}\n'],sourceRoot:""}]),exports.locals={"dnd-editor-wrapper":"emailBody-css__dnd-editor-wrapper___1ObjH","dnd-drop-area":"emailBody-css__dnd-drop-area___1G8vb"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1266);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".side-modal .text-css__text___3vI8N{margin:30px auto}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/preview/__css__/src/views/components/editor/preview/__css__/text.css.scss"],names:[],mappings:"AAAA,oCAEI,gBAAiB,CAClB",file:"text.css.scss",sourcesContent:[":global .side-modal {\n  :local .text {\n    margin: 30px auto;\n  }\n}\n"],sourceRoot:""}]),exports.locals={text:"text-css__text___3vI8N"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function initState(){_collection=[],_hasFetchedCollection=!1}function setCollection(groups){_collection=groups,_hasFetchedCollection=!0}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_collection=void 0,_hasFetchedCollection=void 0,SuppressionGroupStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},getAllSuppressionGroups:function(){return _underscore2.default.extend([],_collection)},getHasFetchedCollection:function(){return _hasFetchedCollection},getAllSuppressionGroupsAsSelectOptions:function(){var groups=this.getAllSuppressionGroups();return groups.unshift({name:"Use Custom Link...",id:_constants2.default.SUPPRESSION_GROUPS.CUSTOM_UNSUBSCRIBE_ID}),_underscore2.default.map(groups,function(group){return{name:group.name,value:group.id}})},_test_initState:function(){initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.SUPPRESSION_GROUPS.FETCHED:setCollection(action.suppressionGroups),SuppressionGroupStore.emitChange()}}});initState(),SuppressionGroupStore.dispatchToken=_appDispatcher2.default.register(SuppressionGroupStore.dispatcherCb),exports.default=SuppressionGroupStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setCollection(ipPools){collection=ipPools,hasFetchedCollection=!0}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_baseStore=__webpack_require__(124),_baseStore2=_interopRequireDefault(_baseStore),collection=void 0,hasFetchedCollection=void 0,IpPoolStore=_underscore2.default.extend({},_baseStore2.default,{getCollection:function(){return collection},getHasFetchedCollection:function(){return hasFetchedCollection},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.IP_POOLS.FETCHED:setCollection(action.ipPools),IpPoolStore.emitChange()}}});IpPoolStore.dispatchToken=_appDispatcher2.default.register(IpPoolStore.dispatcherCb),function(){collection=[],hasFetchedCollection=!1}(),exports.default=IpPoolStore},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NumberUtils=function(){function NumberUtils(){_classCallCheck(this,NumberUtils)}return _createClass(NumberUtils,null,[{key:"format",value:function(number,locales,options){return number.toLocaleString(locales,options)}}]),NumberUtils}();exports.default=NumberUtils},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_campaignStatSegment=__webpack_require__(1271),getView=function(statType){return function(props){return _react2.default.createElement("div",{"data-role":"campaigns-recipients-app"},_react2.default.createElement(_campaignStatSegment.CampaignStatSegment,{statType:statType,campaignId:props.params.id}))}};module.exports={OpensView:getView("opens"),ClicksView:getView("clicks")}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getSegmentName(statType,campaignName){return"Contacts who "+("opens"===statType?"opened":"clicked")+" - "+campaignName}function getConditions(props,searchQuery){var engagementConds=_segmentUtils2.default.campaignEngagementToConditions(props.campaignId,props.statType);return searchQuery.length>0?_segmentUtils2.default.composeConditions([engagementConds,_segmentUtils2.default.searchToConditions(searchQuery)]):engagementConds}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_buttons=__webpack_require__(8),_badge=__webpack_require__(246),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_withRecipients=__webpack_require__(247),_withRecipients2=_interopRequireDefault(_withRecipients),_createCallToAction=__webpack_require__(1272),_createCallToAction2=_interopRequireDefault(_createCallToAction),_recipientListTable=__webpack_require__(564),_recipientListTable2=_interopRequireDefault(_recipientListTable),_addNewModal=__webpack_require__(565),_addNewModal2=_interopRequireDefault(_addNewModal),_segmentBuilder=__webpack_require__(351),_segmentBuilder2=_interopRequireDefault(_segmentBuilder),_campaignUtils=__webpack_require__(155),_campaignUtils2=_interopRequireDefault(_campaignUtils),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_segmentUtils=__webpack_require__(248),_segmentUtils2=_interopRequireDefault(_segmentUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_reactClassUtils=__webpack_require__(7),_campaignsStore=__webpack_require__(61),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_recipientActions=__webpack_require__(106),_recipientActions2=_interopRequireDefault(_recipientActions),_segmentCss=__webpack_require__(1283),_segmentCss2=_interopRequireDefault(_segmentCss),debouncedSearch=_underscore2.default.debounce(_recipientActions2.default.searchWithConditions,500),CampaignStatSegment=(_class=function(_React$Component){function CampaignStatSegment(props){_classCallCheck(this,CampaignStatSegment);var _this=_possibleConstructorReturn(this,(CampaignStatSegment.__proto__||Object.getPrototypeOf(CampaignStatSegment)).call(this,props)),campaign=_campaignsStore.CampaignsStore.getById(_this.props.campaignId)||{name:""};return _this.state={campaign:campaign,campaignStatusName:_campaignsStore.CampaignsStore.getCampaignStatus(campaign).name,campaignQueries:[],pageNum:1,searchQuery:"",shouldShowAddNewModal:!1},_this}return _inherits(CampaignStatSegment,_React$Component),_createClass(CampaignStatSegment,[{key:"componentDidMount",value:function(){_campaignsStore.CampaignsStore.addChangeListener(this.campaignStoreChanged),_listStore2.default.addChangeListener(this.listStoreChanged),_campaignsActions2.default.fetchAll(),_campaignsActions2.default.fetchCampaignQueries(this.props.campaignId),_campaignsActions2.default.fetchAllStatuses(),_listActions2.default.fetchAllQueries(),_recipientActions2.default.searchWithConditions(getConditions(this.props,this.state.searchQuery),this.state.pageNum,15)}},{key:"componentWillUnmount",value:function(){_campaignsStore.CampaignsStore.removeChangeListener(this.campaignStoreChanged),_listStore2.default.removeChangeListener(this.listStoreChanged),this.addNewModalSubmitHandler=void 0}},{key:"onSearchChange",value:function(query){this.setState({searchQuery:query}),debouncedSearch(getConditions(this.props,query),this.state.pageNum,15)}},{key:"onAddNewModalSubmit",value:function(){"function"==typeof this.addNewModalSubmitHandler?$.when(this.addNewModalSubmitHandler()).then(function(_ref){var segment=_ref.segment;_locationUtils2.default.router.push("/marketing_campaigns/ui/segments/"+segment.id)}):console.warn("Submitting add new modal without any handler wired up.")}},{key:"onAddNewModalSubmitContextChange",value:function(newSubmitHandler){this.addNewModalSubmitHandler=newSubmitHandler}},{key:"setCampaignQueriesState",value:function(campaignId){var campaignQueries=_campaignUtils2.default.getCampaignQueries(campaignId);0!==campaignQueries.length&&(this.setState({campaignQueries:campaignQueries}),1!==campaignQueries.length&&$("[data-role=more-queries-detail-tooltip]").tooltip({placement:"top",trigger:"hover",container:"body",title:_underscore2.default.map(campaignQueries.slice(1),function(q){return q.name}).join(", ")}))}},{key:"setPageNum",value:function(num){this.state.pageNum!==num&&(_recipientActions2.default.searchWithConditions(getConditions(this.props,this.state.searchQuery),num,15),this.setState({pageNum:num}))}},{key:"campaignStoreChanged",value:function(){var campaign=_campaignsStore.CampaignsStore.getById(this.props.campaignId)||{name:""};this.setCampaignQueriesState(this.props.campaignId),this.setState({campaign:campaign,campaignStatusName:_campaignsStore.CampaignsStore.getCampaignStatus(campaign).name||""})}},{key:"listStoreChanged",value:function(){this.setCampaignQueriesState(this.props.campaignId)}},{key:"openAddNewModal",value:function(){this.setState({shouldShowAddNewModal:!0})}},{key:"closeAddNewModal",value:function(){this.setState({shouldShowAddNewModal:!1})}},{key:"exportCsv",value:function(){_recipientActions2.default.exportSearchWithConditions(getConditions(this.props,this.state.searchQuery),getSegmentName(this.props.statType,this.state.campaign.name)),_analyticsUtils2.default.track("segment_exported",{source:"stats"})}},{key:"render",value:function(){var pageTitle=this.state.campaign.name+" - Unique "+("opens"===this.props.statType?"Opens":"Clicks"),stats=this.state.campaign.stats||{},rawStat=_campaignUtils2.default.getStatFormattedNumber(stats,("opens"===this.props.statType?"opens":"clicks")+"_unique"),percentageStat=_campaignUtils2.default.getStatPercentage(stats,("opens"===this.props.statType?"opens":"clicks")+"_unique_percentage"),totalStat=stats.delivers,campaignTime=_dateUtils2.default.formatValue(1e3*_campaignUtils2.default.getCampaignTimeForStatus(this.state.campaign,this.state.campaignStatusName));return _campaignsStore.CampaignsStore.getHasFetchedCollection()&&_campaignsStore.CampaignsStore.getHasFetchedStatuses()?_react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("header",{className:"col-12"},_react2.default.createElement(_pageTitle2.default,{hasBackArrow:!0,title:pageTitle}),_react2.default.createElement("div",{className:_segmentCss2.default["badge-date-wrapper"]},_react2.default.createElement(_badge.CampaignStatusBadge,{statusName:this.state.campaignStatusName,isLeft:!0}),_react2.default.createElement("small",null,0===parseInt(campaignTime,10)?null:campaignTime)),_react2.default.createElement("hr",null),this.state.campaignQueries.length>0&&_react2.default.createElement("h2",{className:_segmentCss2.default["campaign-heading"]},_react2.default.createElement("strong",{className:"proxima-nova-light"},"Recipients: "),_react2.default.createElement("span",null,this.state.campaignQueries[0].name),this.state.campaignQueries.length>1&&_react2.default.createElement("small",{className:_segmentCss2.default["more-queries"],"data-role":"more-queries-detail-tooltip"}," + ",this.state.campaignQueries.length-1," more")))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-6 col-xs-6"},_react2.default.createElement("h4",null,"Total unique ","opens"===this.props.statType?"opens":"clicks"),_react2.default.createElement("h2",null,percentageStat," | ",rawStat," ",_react2.default.createElement("small",{className:_segmentCss2.default["extra-small"]},"of")," ",totalStat)),_react2.default.createElement("div",{className:"col-md-6 col-xs-6"},_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.exportCsv,icon:"copy",disabled:0===this.props.recipientCount,"data-role":"export-csv"},"Export CSV")))),_react2.default.createElement(_createCallToAction2.default,{statType:this.props.statType,campaignName:this.state.campaign.name,openAddNewModal:this.openAddNewModal}),_react2.default.createElement(_recipientListTable2.default,{statType:this.props.statType,recipients:this.props.recipients,recipientCount:this.props.recipientCount,pageSize:15,setPageNum:this.setPageNum,pageNum:this.state.pageNum,searchQuery:this.state.searchQuery,onSearchChange:this.onSearchChange}),_react2.default.createElement(_addNewModal2.default,{onCancel:this.closeAddNewModal,onSubmit:this.onAddNewModalSubmit,shouldShow:this.state.shouldShowAddNewModal},_react2.default.createElement(_segmentBuilder2.default,{analyticsSource:"stats",initialConditions:_segmentUtils2.default.campaignEngagementToConditions(this.props.campaignId,this.props.statType),initialSegmentName:getSegmentName(this.props.statType,this.state.campaign.name),isListDisabled:!1,onSubmitContextChange:this.onAddNewModalSubmitContextChange}))):_react2.default.createElement("div",null,_react2.default.createElement(_pageTitle2.default,{hasBackArrow:!0,title:"Campaign Stats"}),_react2.default.createElement("hr",null),_react2.default.createElement(_loadingIndicator2.default,null))}}]),CampaignStatSegment}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onSearchChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSearchChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onAddNewModalSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onAddNewModalSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onAddNewModalSubmitContextChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onAddNewModalSubmitContextChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setCampaignQueriesState",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"setCampaignQueriesState"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setPageNum",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"setPageNum"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"campaignStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"campaignStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"listStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"listStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openAddNewModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"openAddNewModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeAddNewModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"closeAddNewModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"exportCsv",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"exportCsv"),_class.prototype),_class);CampaignStatSegment.propTypes={campaignId:_propTypes2.default.string.isRequired,statType:_propTypes2.default.oneOf(["opens","clicks"]).isRequired,recipients:_propTypes2.default.arrayOf(_propTypes2.default.shape({profile:_propTypes2.default.shape({id:_propTypes2.default.string,email:_propTypes2.default.string})})).isRequired,recipientCount:_propTypes2.default.number.isRequired},module.exports={CampaignStatSegment:(0,_withRecipients2.default)(CampaignStatSegment)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CreateCallToAction(props){return _react2.default.createElement("div",{className:"row "+_createCallToActionCss2.default["create-segment-container"]},_react2.default.createElement("div",{className:"col-md-8 col-xs-8 "+_createCallToActionCss2.default["valign-col"]},_react2.default.createElement("h2",{className:"colfax-light "+_createCallToActionCss2.default["create-segment-text"]},"Create a dynamic segment based on realtime ",props.statType,"."),_react2.default.createElement("div",{className:""+_createCallToActionCss2.default["segment-details"]},"This segment will include ",_react2.default.createElement("strong",null,"all recipients")," who have ",_react2.default.createElement("strong",null,"opens"==props.statType?"opened":"clicked")," your ",_react2.default.createElement("strong",null,props.campaignName)," campaign.")),_react2.default.createElement("div",{className:"col-md-4 col-xs-4 "+_createCallToActionCss2.default["valign-col"]},_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement(_buttons.PrimaryButton,{onClick:props.openAddNewModal,icon:"segment","data-role":"create-segment"},"Create Segment"))))}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_buttons=__webpack_require__(8),_createCallToActionCss=__webpack_require__(1273),_createCallToActionCss2=_interopRequireDefault(_createCallToActionCss);module.exports=CreateCallToAction},function(module,exports,__webpack_require__){var content=__webpack_require__(1274);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".createCallToAction-css__create-segment-container___31UDd{background-color:#f4f6f7;margin-bottom:35px;padding:25px;padding-right:0}.createCallToAction-css__create-segment-container___31UDd .createCallToAction-css__create-segment-text___1_pih{font-size:20px}.createCallToAction-css__create-segment-container___31UDd .createCallToAction-css__segment-details___2_2OO{margin-top:10px;font-size:14px}.createCallToAction-css__valign-col___2joVi{vertical-align:middle;display:inline-block;float:none}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/segments/__css__/src/views/segments/__css__/createCallToAction.css.scss"],names:[],mappings:"AAAA,0DACE,yBAEA,mBACA,aACA,eAAgB,CALlB,+GAQI,cAAe,CARnB,2GAYI,gBACA,cAAe,CAChB,4CAID,sBACA,qBACA,UAAW,CACZ",file:"createCallToAction.css.scss",sourcesContent:[".create-segment-container {\n  background-color: #f4f6f7;\n\n  margin-bottom: 35px;\n  padding: 25px;\n  padding-right: 0;\n\n  .create-segment-text {\n    font-size: 20px;\n  }\n\n  .segment-details {\n    margin-top: 10px;\n    font-size: 14px;\n  }\n}\n\n.valign-col {\n  vertical-align: middle;\n  display: inline-block;\n  float: none;\n}\n"],sourceRoot:""}]),exports.locals={"create-segment-container":"createCallToAction-css__create-segment-container___31UDd","create-segment-text":"createCallToAction-css__create-segment-text___1_pih","segment-details":"createCallToAction-css__segment-details___2_2OO","valign-col":"createCallToAction-css__valign-col___2joVi"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setCustomFields(customFields){fieldSelectData=getFieldSelectData(customFields),fieldTypeMap=getFieldTypeMap(customFields)}function getFieldSelectData(customFields){return[].concat(_underscore2.default.map(customFields,function(customField){return{name:customField.name,value:customField.field_name||customField.name}}),[{name:"Date Added",value:"created_at"},{name:"Last Updated",value:"updated_at"},{name:"Last Emailed",value:"last_emailed"},{name:"Last Clicked",value:"last_clicked"},{name:"Last Opened",value:"last_opened"}],[{name:"Engagement: Clicks",value:"clicks.campaign_identifier"},{name:"Engagement: Opens",value:"opens.campaign_identifier"}])}function getFieldTypeMap(customFields){var customFieldTypeMap=_underscore2.default.reduce(customFields,function(memo,field){return _underscore2.default.tap(memo,function(m){return m[field.field_name||field.name]=field.type})},{});return _underscore2.default.extend({},reservedFieldTypeMap,customFieldTypeMap)}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),reservedFieldTypeMap={created_at:"date",updated_at:"date",last_emailed:"date",last_clicked:"date",last_opened:"date","clicks.campaign_identifier":"clicked","opens.campaign_identifier":"opened"},typeOperatorMap={text:[{name:"is",value:"eq"},{name:"is not",value:"ne"},{name:"contains word",value:"contains"}],number:[{name:"is",value:"eq"},{name:"is greater than",value:"gt"},{name:"is less than",value:"lt"}],date:[{name:"is",value:"eq"},{name:"is not",value:"ne"},{name:"is before",value:"lt"},{name:"is after",value:"gt"},{name:"is within",value:"is within"}],opened:[{name:"opened",value:"eq"},{name:"not opened",value:"ne"}],clicked:[{name:"clicked",value:"eq"},{name:"not clicked",value:"ne"}]},fieldSelectData=[],fieldTypeMap={},initState=function(){fieldSelectData=[],fieldTypeMap={},setCustomFields([])},SegmentConditionStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getConditionFieldSelectData:function(){return fieldSelectData},getOperatorSelectData:function(field){var type=fieldTypeMap[field];return void 0==type?[]:[].concat(typeOperatorMap[type])},getParamType:function(conditionValue){return fieldTypeMap[conditionValue]||""},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CUSTOM_FIELDS.FETCHED:setCustomFields(action.customFields),SegmentConditionStore.emitChange()}}});initState(),SegmentConditionStore.dispatchToken=_appDispatcher2.default.register(SegmentConditionStore.dispatcherCb),module.exports=SegmentConditionStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getParamDisplayName(paramType,operator){return paramType?paramType.match(/clicked|opened/i)?"Campaign":"date"===paramType&&"is within"===operator?"Number of Days":_stringUtils2.default.capitalize(paramType):"Value"}function getParamValidations(type,operator){return"date"===type&&"is within"===operator?["positiveInteger","required"]:"date"===type?["date","required"]:"number"===type?["number","required"]:[]}function shouldFudge(originalSelectData,propsValue,isLoading){return isLoading||!_underscore2.default.find(originalSelectData,function(option){return option.value==propsValue})}function fudgeSelectData(originalSelectData,propsValue,isLoading){return shouldFudge(originalSelectData,propsValue,isLoading)?originalSelectData.concat({value:"",name:""}):originalSelectData}function fudgeSelectValue(originalSelectData,propsValue,isLoading){return shouldFudge(originalSelectData,propsValue,isLoading)?"":propsValue}function SegmentLogicItem(props){var sharedInputProps={registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput,shouldValidate:props.shouldValidate,"data-index":props.index},select2Options={minimumResultsForSearch:-1,width:"100%",placeholder:"Loading..."},campaignSelectData=_underscore2.default.map(props.engagementCampaigns,function(c){return{name:c.name,value:c.id}}),fieldSelect=_react2.default.createElement(_select2.default,_extends({options:select2Options,name:"field-"+props.index,displayName:"Condition",value:fudgeSelectValue(props.fieldSelectData,props.condition.field,props.isLoading),data:fudgeSelectData(props.fieldSelectData,props.condition.field,props.isLoading),onChange:props.onConditionTypeChange,validations:["required"]},sharedInputProps)),operatorSelect=_react2.default.createElement(_select2.default,_extends({options:select2Options,name:"operator-"+props.index,displayName:"Criteria",value:fudgeSelectValue(props.condition.operators,props.condition.operator,props.isLoading),data:fudgeSelectData(props.condition.operators,props.condition.operator,props.isLoading),onChange:props.onOperatorChange,validations:["required"]},sharedInputProps)),paramSelectData=fudgeSelectData(campaignSelectData,props.condition.paramValue,props.isLoading),param=_underscore2.default.contains([_constants2.default.SEGMENTS.CAMPAIGN_CLICKS,_constants2.default.SEGMENTS.CAMPAIGN_OPENS],props.condition.field)?_react2.default.createElement(_select2.default,_extends({options:select2Options,name:"param-"+props.index,displayName:getParamDisplayName(props.condition.paramType),value:""===props.condition.paramValue&&paramSelectData.length>0?paramSelectData[0].value:props.condition.paramValue,data:paramSelectData,onChange:props.onParamChange,validations:["required"]},sharedInputProps)):_react2.default.createElement(_textInput.TextInput,_extends({name:"param-"+props.index,displayName:getParamDisplayName(props.condition.paramType,props.condition.operator),value:props.condition.paramValue,validations:getParamValidations(props.condition.paramType,props.condition.operator),onChange:props.onParamChange},sharedInputProps)),x=_react2.default.createElement("span",{className:"icon-wrapper "+_segmentLogicItemCss2.default["x-wrapper"]},_react2.default.createElement("i",{className:"icon-remove "+_segmentLogicItemCss2.default.x,"data-index":props.index,onClick:props.onDeleteCondition}));return _react2.default.createElement("div",null,props.index>0?_react2.default.createElement("div",{className:_segmentLogicItemCss2.default["switch-wrapper"]},_react2.default.createElement(_switch.AndOrSwitch,{isChecked:"or"===props.condition.andOr,onClick:props.onAndOrChange,"data-index":props.index,id:"and_or_switch_"+props.index})):null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-4"},props.showConditions?fieldSelect:null),_react2.default.createElement("div",{className:"col-md-4"},props.showConditions?operatorSelect:null),_react2.default.createElement("div",{className:"col-md-3"},props.showConditions&&!props.isLoading&&""!=props.condition.field&&""!=props.condition.operator?param:null),_react2.default.createElement("div",{className:"col-md-1"},props.showX?x:null)))}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_textInput=__webpack_require__(18),_switch=__webpack_require__(133),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),_segmentLogicItemCss=__webpack_require__(1279),_segmentLogicItemCss2=_interopRequireDefault(_segmentLogicItemCss);module.exports=SegmentLogicItem},function(module,exports,__webpack_require__){var content=__webpack_require__(1278);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".switch-css__switch___F6ko0.switch-css__icon-switch___1lXML{border:none;opacity:.75;transition:opacity .2s ease}.switch-css__switch___F6ko0.switch-css__icon-switch___1lXML:hover{opacity:1}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/__css__/src/views/components/style-guide/__css__/switch.css.scss"],names:[],mappings:"AACA,4DAEI,YACA,YACA,2BAA8B,CAJlC,kEAMM,SAAU,CACX",file:"switch.css.scss",sourcesContent:["//TODO: Move this to style guide and then delete.\n.switch {\n  &.icon-switch {\n    border: none;\n    opacity: .75;\n    transition: opacity 200ms ease;\n    &:hover {\n      opacity: 1;\n    }\n  }\n}"],sourceRoot:""}]),exports.locals={switch:"switch-css__switch___F6ko0","icon-switch":"switch-css__icon-switch___1lXML"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1280);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.segmentLogicItem-css__x-wrapper___2fhgz{float:right}.segmentLogicItem-css__x___3_pwA{color:#f66;cursor:pointer;vertical-align:middle;line-height:43px}.segmentLogicItem-css__x___3_pwA:before{content:"\\2716"}.segmentLogicItem-css__switch-wrapper___23jZ_{margin-bottom:15px}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/segments/segmentBuilder/__css__/src/views/segments/segmentBuilder/__css__/segmentLogicItem.css.scss"],names:[],mappings:"AAAA,yCACE,WAAY,CACb,iCAGC,WACA,eACA,sBACA,gBAAiB,CAJnB,wCAOI,eAAgB,CACjB,8CAID,kBAAmB,CACpB",file:"segmentLogicItem.css.scss",sourcesContent:[".x-wrapper {\n  float: right;\n}\n\n.x {\n  color: #f66;\n  cursor: pointer;\n  vertical-align: middle;\n  line-height: 43px;  // Styleguide form element heights are 43px as of 10/21/16 -cc\n\n  &::before {\n    content: '\\2716';\n  }\n}\n\n.switch-wrapper {\n  margin-bottom: 15px;\n}\n"],sourceRoot:""}]),exports.locals={"x-wrapper":"segmentLogicItem-css__x-wrapper___2fhgz",x:"segmentLogicItem-css__x___3_pwA","switch-wrapper":"segmentLogicItem-css__switch-wrapper___23jZ_"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1282);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".segmentBuilder-css__btn-plus___1es-_{font-size:24px;vertical-align:middle}.segmentBuilder-css__btn-add-condition___1sDCg{vertical-align:middle}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/segments/__css__/src/views/segments/__css__/segmentBuilder.css.scss"],names:[],mappings:"AAAA,sCACE,eACA,qBAAsB,CACvB,+CAGC,qBAAsB,CACvB",file:"segmentBuilder.css.scss",sourcesContent:[".btn-plus {\n  font-size: 24px;\n  vertical-align: middle;\n}\n\n.btn-add-condition {\n  vertical-align: middle;\n}\n"],sourceRoot:""}]),exports.locals={"btn-plus":"segmentBuilder-css__btn-plus___1es-_","btn-add-condition":"segmentBuilder-css__btn-add-condition___1sDCg"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1284);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".segment-css__campaign-heading___1eYHK{margin-top:15px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;display:inline-block;max-width:80%}.segment-css__recips-heading___2V5bE{font-weight:400}.segment-css__badge-date-wrapper___3lc2a{margin:-15px 0 25px 35px;white-space:nowrap}.segment-css__numbers___1gWgQ{font-family:Colfax-Light;line-height:40px;font-size:30px}.segment-css__more-queries___2ntKU{font-size:14px}.segment-css__extra-small___92juX{font-size:60%}.segment-css__create-segment-container___2-VWH{padding:25px;padding-right:0;background-color:#f4f6f7}.segment-css__create-segment-container___2-VWH .segment-css__segment-details___1ZIsP{margin-top:10px}.segment-css__valign-col___fp9v9{vertical-align:middle;display:inline-block;float:none}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/segments/__css__/src/views/segments/__css__/segment.css.scss"],names:[],mappings:"AAAA,uCACE,gBACA,mBACA,uBACA,gBACA,qBACA,aAAc,CACf,qCAGC,eAAmB,CACpB,yCAGC,yBACA,kBAAmB,CACpB,8BAGC,yBACA,iBACA,cAAe,CAChB,mCAGC,cAAe,CAChB,kCAGC,aAAc,CACf,+CAGC,aACA,gBACA,wBAAyB,CAH3B,qFAMI,eAAgB,CACjB,iCAID,sBACA,qBACA,UAAW,CACZ",file:"segment.css.scss",sourcesContent:[".campaign-heading {\n  margin-top: 15px;\n  white-space: nowrap;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: inline-block;\n  max-width: 80%;\n}\n\n.recips-heading {\n  font-weight: normal;\n}\n\n.badge-date-wrapper {\n  margin: -15px 0 25px 35px;\n  white-space: nowrap;\n}\n\n.numbers {\n  font-family: Colfax-Light;\n  line-height: 40px;\n  font-size: 30px;\n}\n\n.more-queries {\n  font-size: 14px;\n}\n\n.extra-small {\n  font-size: 60%;\n}\n\n.create-segment-container {\n  padding: 25px;\n  padding-right: 0;\n  background-color: #f4f6f7;\n\n  .segment-details {\n    margin-top: 10px;\n  }\n}\n\n.valign-col {\n  vertical-align: middle;\n  display: inline-block;\n  float: none;\n}\n"],sourceRoot:""}]),exports.locals={"campaign-heading":"segment-css__campaign-heading___1eYHK","recips-heading":"segment-css__recips-heading___2V5bE","badge-date-wrapper":"segment-css__badge-date-wrapper___3lc2a",numbers:"segment-css__numbers___1gWgQ","more-queries":"segment-css__more-queries___2ntKU","extra-small":"segment-css__extra-small___92juX","create-segment-container":"segment-css__create-segment-container___2-VWH","segment-details":"segment-css__segment-details___1ZIsP","valign-col":"segment-css__valign-col___fp9v9"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getFrom(){var id=_settingsStore2.default.getCampaignSettingValue("senderIdentity"),senderIdentities=_settingsStore2.default.getCampaignSettingData("senderIdentities"),chosenSenderIdentity=_underscore2.default.find(senderIdentities,function(s){return s.value==id});return chosenSenderIdentity?{name:chosenSenderIdentity.name,nickname:chosenSenderIdentity.nickname}:""}function getEditorType(){var editorID=_settingsStore2.default.getCampaignSettingValue("editorID");return _editorTypeStore2.default.getCampaignEditorName(editorID)}function onABSplitChange(split){_editorActions2.default.switchActiveSplit(split)}function onSyncHtmlToPlain(){_editorActions2.default.editCampaignSettingsValue("hasPlainTextLock",0),_editorActions2.default.syncHtmlToPlain()}function send(){_campaignsActions2.default.showSendConfirmation()}function onSend(){var isValidForSend=arguments.length>0&&void 0!==arguments[0]&&arguments[0],insufficientCreditsMsg=_react2.default.createElement("span",null,"You ","don't"," have enough emails remaining to send this campaign. Please",_react2.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://sendgrid.com/billing/change-package"},"upgrade your plan to send more"),"."),unverifiedMsg=_react2.default.createElement("span",null,"In order to send more than 100 emails per day you must ",_react2.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://app.sendgrid.com/guide"},"verify your account")),recipCount=_underscore2.default.reduce(_settingsStore2.default.getRecipientSettings().values.queries,function(memo,q){var query=_listStore2.default.getQueryByHyphenated(q);if(!query)return memo;var count=parseInt(query.count,10);return isNaN(count)?memo:memo+count},0);return _currentUserStore2.default.getHasEnoughCredits(recipCount)?isValidForSend?send():$.noop():_currentUserStore2.default.getIsVerified()?_notificationActions2.default.add(insufficientCreditsMsg,"danger"):void _notificationActions2.default.add(unverifiedMsg,"danger")}function getExportContent(){return _moduleStore2.default.getSerializedModuleContents()}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_class2,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_editor=__webpack_require__(237),_editor2=_interopRequireDefault(_editor),_toolbar=__webpack_require__(352),_toolbar2=_interopRequireDefault(_toolbar),_preview=__webpack_require__(353),_preview2=_interopRequireDefault(_preview),_navToggleButton=__webpack_require__(354),_tabs=__webpack_require__(130),_settingsAccordion=__webpack_require__(1297),_settingsAccordion2=_interopRequireDefault(_settingsAccordion),_tagsAccordion=__webpack_require__(568),_tagsAccordion2=_interopRequireDefault(_tagsAccordion),_buildAccordion=__webpack_require__(356),_buildAccordion2=_interopRequireDefault(_buildAccordion),_codeImageAccordion=__webpack_require__(363),_codeImageAccordion2=_interopRequireDefault(_codeImageAccordion),_campaignTesting=__webpack_require__(1473),_campaignTesting2=_interopRequireDefault(_campaignTesting),_abTabs=__webpack_require__(513),_abTabs2=_interopRequireDefault(_abTabs),_undoRedoHandled=__webpack_require__(364),_undoRedoHandled2=_interopRequireDefault(_undoRedoHandled),_previewContentHeaderBar=__webpack_require__(178),_previewContentHeaderBar2=_interopRequireDefault(_previewContentHeaderBar),_editorTabPanelWrapper=__webpack_require__(365),_editorTabPanelWrapper2=_interopRequireDefault(_editorTabPanelWrapper),_editorTabTitleWrapper=__webpack_require__(366),_editorTabTitleWrapper2=_interopRequireDefault(_editorTabTitleWrapper),_editorContentWrapper=__webpack_require__(367),_editorContentWrapper2=_interopRequireDefault(_editorContentWrapper),_tabControls=__webpack_require__(368),_tabControls2=_interopRequireDefault(_tabControls),_campaignUtils=__webpack_require__(155),_campaignUtils2=_interopRequireDefault(_campaignUtils),_plainTextUtils=__webpack_require__(154),_plainTextUtils2=_interopRequireDefault(_plainTextUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_reactClassUtils=__webpack_require__(7),_fixedOnScroll=__webpack_require__(243),_fixedOnScroll2=_interopRequireDefault(_fixedOnScroll),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_abActions=__webpack_require__(1479),_abActions2=_interopRequireDefault(_abActions),_senderActions=__webpack_require__(172),_senderActions2=_interopRequireDefault(_senderActions),_categoryActions=__webpack_require__(510),_categoryActions2=_interopRequireDefault(_categoryActions),_suppressionGroupActions=__webpack_require__(1480),_suppressionGroupActions2=_interopRequireDefault(_suppressionGroupActions),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_notificationActions=__webpack_require__(100),_notificationActions2=_interopRequireDefault(_notificationActions),_ipPoolActions=__webpack_require__(1481),IpPoolActions=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_ipPoolActions),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_contentsStore=__webpack_require__(182),_contentsStore2=_interopRequireDefault(_contentsStore),_settingsStore=__webpack_require__(185),_settingsStore2=_interopRequireDefault(_settingsStore),_abStore=__webpack_require__(184),_abStore2=_interopRequireDefault(_abStore),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),CampaignEditor=(_class=function(_React$Component){function CampaignEditor(props){_classCallCheck(this,CampaignEditor);var _this=_possibleConstructorReturn(this,(CampaignEditor.__proto__||Object.getPrototypeOf(CampaignEditor)).call(this,props));_this.saveInterval=void 0;var campaignContents=_contentsStore2.default.getCampaignContents();return _this.state={campaignName:_settingsStore2.default.getCampaignSettingValue("name"),campaignId:parseInt(_this.props.params.id,10),htmlContent:campaignContents.content,plainContent:campaignContents.plain_content,subject:campaignContents.subject,name:getFrom().name,nickname:getFrom().nickname,preheader:_moduleStore2.default.getPreheaderText(),editorType:getEditorType(),isPreview:!1,isSending:!1,showABNav:!1,splitCount:1,activeSplit:_contentsStore2.default.getActiveSplit(),sendImmediately:!_settingsStore2.default.getScheduleSettingValue("scheduledAt"),canSend:_settingsStore2.default.getHasFetchedScheduledAt(),isValidating:!1,hasPlainTextLock:_settingsStore2.default.getCampaignSettingValue("hasPlainTextLock")},_this}return _inherits(CampaignEditor,_React$Component),_createClass(CampaignEditor,[{key:"getChildContext",value:function(){return{editorType:this.state.editorType||_constants2.default.EDITORS.DND}}},{key:"componentDidMount",value:function(){_contentsStore2.default.addChangeListener(this.onCampaignEditorContentsStoreChange),_settingsStore2.default.addChangeListener(this.onCampaignEditorSettingsStoreChange),_abStore2.default.addChangeListener(this.onCampaignEditorABStoreChange),_editorTypeStore2.default.addChangeListener(this.onEditorTypeStoreChange),_moduleStore2.default.addChangeListener(this.onModuleStoreChange),_campaignsActions2.default.getById(this.state.campaignId),_abActions2.default.fetch(),_senderActions2.default.fetch(),_categoryActions2.default.fetchUserCategories(),_suppressionGroupActions2.default.fetch(),_listActions2.default.fetchAllQueries(!0),_customFieldActions2.default.fetch(),_abActions2.default.fetch(),IpPoolActions.fetch(),_editorActions2.default.onWindowResize()}},{key:"componentWillUnmount",value:function(){_contentsStore2.default.clear(),_settingsStore2.default.clear(),_abStore2.default.clear(),_moduleStore2.default.clear(),_contentsStore2.default.removeChangeListener(this.onCampaignEditorContentsStoreChange),_settingsStore2.default.removeChangeListener(this.onCampaignEditorSettingsStoreChange),_abStore2.default.removeChangeListener(this.onCampaignEditorABStoreChange),_editorTypeStore2.default.removeChangeListener(this.onEditorTypeStoreChange),_moduleStore2.default.removeChangeListener(this.onModuleStoreChange)}},{key:"onEditorTypeStoreChange",value:function(){this.setState({editorType:getEditorType()})}},{key:"onCampaignEditorContentsStoreChange",value:function(){var campaignContents=_contentsStore2.default.getCampaignContents();this.setState({htmlContent:campaignContents.content,plainContent:campaignContents.plain_content,subject:campaignContents.subject,activeSplit:_contentsStore2.default.getActiveSplit(),hasPlainTextLock:_plainTextUtils2.default.htmlToPlain(campaignContents.content)!==campaignContents.plain_content})}},{key:"onCampaignEditorSettingsStoreChange",value:function(){var epochOrNull=_settingsStore2.default.getScheduleSettingValue("scheduledAt");this.setState({campaignName:_settingsStore2.default.getCampaignSettingValue("name"),sendImmediately:!epochOrNull,canSend:_settingsStore2.default.getHasFetchedScheduledAt(),name:getFrom().name,nickname:getFrom().nickname,editorType:getEditorType(),hasPlainTextLock:_settingsStore2.default.getCampaignSettingValue("hasPlainTextLock")})}},{key:"onCampaignEditorABStoreChange",value:function(){this.setState({showABNav:_abStore2.default.isEmailContentTest()&&_abStore2.default.getValue("isAB"),splitCount:_abStore2.default.getValue("versionCount")})}},{key:"onModuleStoreChange",value:function(){this.setState({preheader:_moduleStore2.default.getPreheaderText()})}},{key:"onSave",value:function(){return this.isDnd()&&_editorActions2.default.syncCampaignContents(0==this.state.hasPlainTextLock),_campaignsActions2.default.save(_campaignUtils2.default.getJsonForSaveSend(this.state.campaignId,this.isDnd()))}},{key:"onHtmlEdit",value:function(val){this.state.hasPlainTextLock||_editorActions2.default.editCampaignContents("plain_content",_plainTextUtils2.default.htmlToPlain(val)),_editorActions2.default.editCampaignContents("content",val)}},{key:"onPlainTextEdit",value:function(val){1!=this.state.hasPlainTextLock&&_editorActions2.default.editCampaignSettingsValue("hasPlainTextLock",1),_editorActions2.default.editCampaignContents("plain_content",val)}},{key:"activateEditMode",value:function(){this.setState({isPreview:!1})}},{key:"activatePreviewMode",value:function(){_analyticsUtils2.default.trackEditor("editor_preview",{source:_analyticsUtils2.default.getEditorType(this.isDnd())}),this.isDnd()&&_editorActions2.default.syncCampaignContents(0==this.state.hasPlainTextLock),this.setState({isPreview:!0})}},{key:"validateForSend",value:function(){var _this2=this,request=_campaignsActions2.default.validate(_campaignUtils2.default.getJsonForSaveSend(this.state.campaignId,this.isDnd(),!0));request.then(function(response){return onSend(response.valid)}),request.always(function(){return _this2.setState({isValidating:!1})}),this.setState({isValidating:!0})}},{key:"isDnd",value:function(){return this.state.editorType===_constants2.default.EDITORS.DND}},{key:"render",value:function(){var preview=_react2.default.createElement(_preview2.default,_extends({},this.state,{comparePlainAndHTML:_contentsStore2.default.comparePlainAndHTMLforAllSplits,onPlainTextEdit:this.onPlainTextEdit,onSyncHtmlToPlain:onSyncHtmlToPlain,isDnd:this.isDnd(),shouldShowSender:!0,shouldShowSubject:!0,shouldShowPreheader:this.isDnd()}));return _react2.default.createElement("div",{className:_editorCss2.default["editor-page-container"]},_react2.default.createElement("div",{"data-role":"campaign-editor-container"},_react2.default.createElement(_toolbar2.default,{isSending:this.state.isSending,isValidating:this.state.isValidating,onSend:this.state.canSend?this.validateForSend:void 0,backRoute:"/marketing_campaigns/ui/campaigns",onSave:this.onSave,sendImmediately:this.state.sendImmediately,hasEditorLoaded:!!this.state.editorType},_react2.default.createElement(_navToggleButton.NavToggleButton,{editorType:this.state.editorType,isActive:!this.state.isPreview,onClick:this.activateEditMode}),!_currentUserStore2.default.getHasFeature("nlvx_side_by_side")||this.isDnd()?_react2.default.createElement(_navToggleButton.PreviewButton,{isActive:this.state.isPreview,onClick:this.activatePreviewMode}):null),_react2.default.createElement("main",{className:_editorCss2.default["main-container"]},_react2.default.createElement(FixedTabPanel,_extends({isDnd:this.isDnd()},this.state)),_react2.default.createElement(_editorContentWrapper2.default,{isDnd:this.isDnd()},this.state.showABNav&&_react2.default.createElement(_abTabs2.default,{activeSplit:this.state.activeSplit,splitCount:this.state.splitCount,onClick:onABSplitChange}),this.state.isPreview?preview:_react2.default.createElement(_editor2.default,{editorType:this.state.editorType,htmlContent:this.state.htmlContent,plainContent:this.state.plainContent,onChange:this.onHtmlEdit,showAbNav:this.state.showABNav},_react2.default.createElement(_previewContentHeaderBar2.default,{name:this.state.name,nickname:this.state.nickname,subject:this.state.subject,preheader:this.state.preheader})),!this.isDnd()&&_currentUserStore2.default.getHasFeature("nlvx_side_by_side")&&this.state.editorType&&preview))),_react2.default.createElement("footer",{className:_editorCss2.default.footer}),this.props.children)}}]),CampaignEditor}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onEditorTypeStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onEditorTypeStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onCampaignEditorContentsStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onCampaignEditorContentsStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onCampaignEditorSettingsStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onCampaignEditorSettingsStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onCampaignEditorABStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onCampaignEditorABStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onModuleStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onModuleStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onSave",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSave"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onHtmlEdit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onHtmlEdit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onPlainTextEdit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onPlainTextEdit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"activateEditMode",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"activateEditMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"activatePreviewMode",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"activatePreviewMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"validateForSend",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"validateForSend"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isDnd",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"isDnd"),_class.prototype),_class);CampaignEditor.contextTypes={router:_propTypes2.default.object.isRequired},CampaignEditor.childContextTypes={editorType:_propTypes2.default.string},CampaignEditor.propTypes={children:_propTypes2.default.node,params:_propTypes2.default.object.isRequired},CampaignEditor.defaultProps={children:null};var CampaignEditorTabPanel=(_class2=function(_React$Component2){function CampaignEditorTabPanel(){_classCallCheck(this,CampaignEditorTabPanel);var _this3=_possibleConstructorReturn(this,(CampaignEditorTabPanel.__proto__||Object.getPrototypeOf(CampaignEditorTabPanel)).call(this));return _this3.state={isVisible:!1},_this3}return _inherits(CampaignEditorTabPanel,_React$Component2),_createClass(CampaignEditorTabPanel,[{key:"toggleTabPanelVisility",value:function(){var isVisible=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({isVisible:isVisible})}},{key:"render",value:function(){var _classnames,_this4=this,tabPanelClass=(0,_classnames3.default)(_editorCss2.default["tab-panel-wrapper"],(_classnames={},_defineProperty(_classnames,_editorCss2.default["is-fixed"],this.props.isScrolledPastHeader),_defineProperty(_classnames,_editorCss2.default["is-side-by-side"],!this.props.isDnd&&_currentUserStore2.default.getHasFeature("nlvx_side_by_side")),_classnames));return _react2.default.createElement(_editorTabPanelWrapper2.default,{isDnd:this.props.isDnd,isVisible:this.state.isVisible,toggleTabPanelVisility:this.toggleTabPanelVisility,isScrolledPastHeader:this.props.isScrolledPastHeader,style:this.props.style,onOpen:function(){return _this4.toggleTabPanelVisility(!0)}},_react2.default.createElement(_tabs.Tabs,{tabCount:4},_react2.default.createElement(_tabControls2.default,{isDnd:this.props.isDnd,onClose:function(){return _this4.toggleTabPanelVisility(!1)},iconClass:"sg-icon-gear",titleWhenClosed:"Settings"}),_react2.default.createElement(_editorTabTitleWrapper2.default,{isCampaign:!0,isDnd:this.props.isDnd,isPreview:this.props.isPreview}),_react2.default.createElement(_tabs.TabPanelWrapper,{dataRole:"editor-tab-panels-container",className:tabPanelClass},_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_settingsAccordion2.default,{campaignId:this.props.campaignId,showPreheader:this.props.isDnd,isDnd:this.props.isDnd})),_react2.default.createElement(_tabs.TabPanel,null,this.props.isDnd?_react2.default.createElement(_buildAccordion2.default,{baseUrl:"/marketing_campaigns/ui/campaigns/"+this.props.campaignId+"/edit",isDisabled:this.props.isPreview,exportArtifactName:this.props.campaignName,getExportContent:getExportContent}):_react2.default.createElement(_codeImageAccordion2.default,{isDisabled:this.props.isPreview})),_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_tagsAccordion2.default,null)),_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_campaignTesting2.default,null)))))}}]),CampaignEditorTabPanel}(_react2.default.Component),_applyDecoratedDescriptor(_class2.prototype,"toggleTabPanelVisility",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleTabPanelVisility"),_class2.prototype),_class2);CampaignEditorTabPanel.propTypes={isDnd:_propTypes2.default.bool.isRequired,isPreview:_propTypes2.default.bool.isRequired,campaignName:_propTypes2.default.string,campaignId:_propTypes2.default.number.isRequired,isScrolledPastHeader:_propTypes2.default.bool,style:_propTypes2.default.object},CampaignEditorTabPanel.defaultProps={campaignName:"",isScrolledPastHeader:!1,style:{}};var FixedTabPanel=(0,_fixedOnScroll2.default)(CampaignEditorTabPanel);exports.default=(0,_reactRouter.withRouter)((0,_undoRedoHandled2.default)(CampaignEditor))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function BackArrow(){return _react2.default.createElement("i",{className:_backArrowCss2.default.btn})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_backArrowCss=__webpack_require__(1287),_backArrowCss2=_interopRequireDefault(_backArrowCss);exports.default=BackArrow},function(module,exports,__webpack_require__){var content=__webpack_require__(1288);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.backArrow-css__btn___2jEjV{font-family:sgiconfont;speak:none;line-height:1;font-size:18px;cursor:pointer;opacity:.8}.backArrow-css__btn___2jEjV:hover{opacity:1}.backArrow-css__btn___2jEjV:before{content:"\\E614"}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/icons/__css__/src/views/components/icons/__css__/backArrow.css.scss"],names:[],mappings:"AAAA,4BACE,uBACA,WACA,cACA,eACA,eAEA,UAAY,CAPd,kCAUI,SAAU,CAVd,mCAcI,eAAgB,CACjB",file:"backArrow.css.scss",sourcesContent:['.btn {\n  font-family: sgiconfont;\n  speak: none;\n  line-height: 1;\n  font-size: 18px;\n  cursor: pointer;\n\n  opacity: 0.8;\n\n  &:hover {\n    opacity: 1;\n  }\n\n  &:before {\n    content: "\\e614";\n  }\n}\n'],sourceRoot:""}]),exports.locals={btn:"backArrow-css__btn___2jEjV"}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".toolbar-css__header___WnN4N{display:flex;background-color:#2e3544;height:70px;line-height:73px;min-width:738px}.toolbar-css__nav___27cII{display:inline-flex;height:100%}.toolbar-css__nav-item___2KoOr{border-right:1px solid #262d38}.toolbar-css__back-arrow-container___2ZroR{cursor:pointer;width:72px;text-align:center}.toolbar-css__back-arrow-container___2ZroR i{vertical-align:middle}.toolbar-css__save-status___1AnrE{margin-left:20px}.toolbar-css__save-container___2x7qH{margin-left:30px}.toolbar-css__send-container___AbB6n{margin-left:auto;margin-right:20px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/__css__/src/views/components/editor/__css__/toolbar.css.scss"],names:[],mappings:"AAEA,6BACE,aACA,yBACA,YACA,iBACA,eAAgB,CACjB,0BAGC,oBACA,WAAY,CACb,+BAGC,8BAA+B,CAChC,2CAGC,eACA,WACA,iBAAkB,CAHpB,6CAMI,qBAAsB,CACvB,kCAID,gBAAiB,CAClB,qCAGC,gBAAiB,CAClB,qCAGC,iBACA,iBAAkB,CACnB",file:"toolbar.css.scss",sourcesContent:["$header-height: 70px;\n\n.header {\n  display: flex;\n  background-color: #2e3544;\n  height: $header-height;\n  line-height: 73px;\n  min-width: 738px;\n}\n\n.nav {\n  display: inline-flex;\n  height: 100%;\n}\n\n.nav-item {\n  border-right: 1px solid #262d38;\n}\n\n.back-arrow-container {\n  cursor: pointer;\n  width: 72px;\n  text-align: center;\n\n  i {\n    vertical-align: middle;\n  }\n}\n\n.save-status {\n  margin-left: 20px;\n}\n\n.save-container {\n  margin-left: 30px;\n}\n\n.send-container {\n  margin-left: auto;\n  margin-right: 20px;\n}\n"],sourceRoot:""}]),exports.locals={header:"toolbar-css__header___WnN4N",nav:"toolbar-css__nav___27cII","nav-item":"toolbar-css__nav-item___2KoOr","back-arrow-container":"toolbar-css__back-arrow-container___2ZroR","save-status":"toolbar-css__save-status___1AnrE","save-container":"toolbar-css__save-container___2x7qH","send-container":"toolbar-css__send-container___AbB6n"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1291);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".preview-css__edit-plain-text-toggle___2CkF-{position:absolute;right:20px;margin-top:15px}.preview-css__edit-plain-text-toggle___2CkF- .preview-css__edit-plain-text-label___24_ZK{display:inline}.preview-css__desktop-preview-content___15WGh{margin:65px auto auto}.preview-css__desktop-preview-content___15WGh iframe{width:100%;min-height:568px}.preview-css__mobile-preview-content___3P-ru{height:570px;border:1px solid #d2d2d2}.preview-css__mobile-preview-content___3P-ru iframe{width:100%;height:568px}.preview-css__phone___3Qlla{text-align:center;margin:60px auto;position:relative;width:340px;height:704px;padding:55px 8px 81px;border-radius:19px;background:#fff;border:1px solid #d2d2d2}.preview-css__speaker___avKMd{border-radius:14px;background:#d2d2d2;width:70px;height:4px;position:absolute;top:26px;left:155px}.preview-css__camera___3tU09{background:#d2d2d2;width:10px;height:10px;border-radius:13px;position:absolute;top:23px;left:132px}.preview-css__phone-btn___2J6fV{background:#d2d2d2;width:51px;height:51px;border-radius:55px;position:absolute;top:638px;left:139px;cursor:pointer;transition:background-color .5s}.preview-css__phone-btn___2J6fV:hover{background-color:#a9a9a9}[data-role=editor-preview] .tab-wrapper .tab{padding-bottom:17px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/__css__/src/views/components/editor/__css__/preview.css.scss"],names:[],mappings:"AAEA,6CACE,kBACA,WACA,eAAgB,CAHlB,yFAMG,cAAe,CACf,8CAID,qBAAsB,CADxB,qDAII,WACA,gBAAiB,CAClB,6CAID,aACA,wBAAyB,CAF3B,oDAKI,WACA,YAAa,CACd,4BAID,kBACA,iBACA,kBACA,YACA,aACA,sBACA,mBACA,gBACA,wBAxCY,CAyCb,8BAGC,mBACA,mBACA,WACA,WACA,kBACA,SACA,UAAW,CACZ,6BAGC,mBACA,WACA,YACA,mBACA,kBACA,SACA,UAAW,CACZ,gCAGC,mBACA,WACA,YACA,mBACA,kBACA,UACA,WACA,eACA,+BAAiC,CATnC,sCAWI,wBAA0B,CAC3B,6CAID,mBAAoB,CACrB",file:"preview.css.scss",sourcesContent:['$grey: #D2D2D2;\n\n.edit-plain-text-toggle {\n  position: absolute;\n  right: 20px;\n  margin-top: 15px;\n\n  .edit-plain-text-label {\n   display: inline;\n  }\n}\n\n.desktop-preview-content {\n  margin: 65px auto auto;\n\n  iframe {\n    width: 100%;\n    min-height: 568px;\n  }\n}\n\n.mobile-preview-content {\n  height: 570px;\n  border: 1px solid #D2D2D2;\n\n  iframe {\n    width: 100%;\n    height: 568px;\n  }\n}\n\n.phone {\n  text-align: center;\n  margin: 60px auto;\n  position: relative;\n  width: 340px;\n  height: 704px;\n  padding: 55px 8px 81px 8px;\n  border-radius: 19px;\n  background: #FFFFFF;\n  border: 1px solid $grey;\n}\n\n.speaker {\n  border-radius: 14px;\n  background: $grey;\n  width: 70px;\n  height: 4px;\n  position: absolute;\n  top: 26px;\n  left: 155px;\n}\n\n.camera {\n  background: $grey;\n  width: 10px;\n  height: 10px;\n  border-radius: 13px;\n  position: absolute;\n  top: 23px;\n  left: 132px;\n}\n\n.phone-btn {\n  background: $grey;\n  width: 51px;\n  height: 51px;\n  border-radius: 55px;\n  position: absolute;\n  top: 638px;\n  left: 139px;\n  cursor: pointer;\n  transition: background-color 0.5s;\n  &:hover {\n    background-color: darkgrey;\n  }\n}\n\n:global [data-role="editor-preview"] .tab-wrapper .tab {\n  padding-bottom: 17px;\n}\n'],sourceRoot:""}]),exports.locals={"edit-plain-text-toggle":"preview-css__edit-plain-text-toggle___2CkF-","edit-plain-text-label":"preview-css__edit-plain-text-label___24_ZK","desktop-preview-content":"preview-css__desktop-preview-content___15WGh","mobile-preview-content":"preview-css__mobile-preview-content___3P-ru",phone:"preview-css__phone___3Qlla",speaker:"preview-css__speaker___avKMd",camera:"preview-css__camera___3tU09","phone-btn":"preview-css__phone-btn___2J6fV"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Eye(){return _react2.default.createElement("i",{className:_eyeCss2.default.icon})}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_eyeCss=__webpack_require__(1293),_eyeCss2=_interopRequireDefault(_eyeCss);exports.default=Eye},function(module,exports,__webpack_require__){var content=__webpack_require__(1294);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.eye-css__icon___1vs2j{font-family:sgiconfont;speak:none;line-height:1;cursor:pointer;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.eye-css__icon___1vs2j:before{content:"\\E600"}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/icons/__css__/src/views/components/icons/__css__/eye.css.scss"],names:[],mappings:"AAAA,uBACE,uBACA,WACA,cACA,eAEA,mCACA,iCAAkC,CAPpC,8BAUI,eAAgB,CACjB",file:"eye.css.scss",sourcesContent:['.icon {\n  font-family: sgiconfont;\n  speak: none;\n  line-height: 1;\n  cursor: pointer;\n\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n\n  &:before {\n    content: "\\e600";\n  }\n}\n'],sourceRoot:""}]),exports.locals={icon:"eye-css__icon___1vs2j"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1296);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".navToggleButton-css__btn___2zvVd{padding:0 28px;cursor:pointer;letter-spacing:1px;text-transform:uppercase;font-size:13px;min-width:140px}.navToggleButton-css__btn___2zvVd .navToggleButton-css__beta-badge___h4zGF{position:absolute;top:12px;left:151px;padding:4px 3px 2px 4px;font-size:8px;line-height:8px;font-weight:200}.navToggleButton-css__btn___2zvVd .navToggleButton-css__code___2bWGz,.navToggleButton-css__btn___2zvVd .navToggleButton-css__paintbrush___3I_La{font-size:18px;vertical-align:middle}.navToggleButton-css__btn___2zvVd .navToggleButton-css__eye___3wYGV{font-size:18px;vertical-align:sub}.navToggleButton-css__btn___2zvVd.navToggleButton-css__active___2QGUn{background-color:#374052;color:#f3f9fd}.navToggleButton-css__btn___2zvVd.navToggleButton-css__active___2QGUn svg g[fill]{fill:#f3f9fd}.navToggleButton-css__btn___2zvVd .navToggleButton-css__toggle-name___3Y4ez{margin-left:11px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/__css__/src/views/components/editor/__css__/navToggleButton.css.scss"],names:[],mappings:"AAEA,kCACE,eACA,eAEA,mBACA,yBACA,eACA,eAAgB,CAPlB,2EAUI,kBACA,SACA,WACA,wBACA,cACA,gBACA,eAAgB,CAhBpB,gJAoBI,eACA,qBAAsB,CArB1B,oEAyBI,eACA,kBAAmB,CA1BvB,sEA8BI,yBACA,aAjCsB,CAE1B,kFAkCM,YApCoB,CAE1B,4EAuCI,gBAAiB,CAClB",file:"navToggleButton.css.scss",sourcesContent:["$active-btn-color: #f3f9fd;\n\n.btn {\n  padding: 0px 28px;\n  cursor: pointer;\n\n  letter-spacing: 1px;\n  text-transform: uppercase;\n  font-size: 13px;\n  min-width: 140px;\n\n  .beta-badge {\n    position: absolute;\n    top: 12px;\n    left: 151px;\n    padding: 4px 3px 2px 4px;\n    font-size: 8px;\n    line-height: 8px;\n    font-weight: 200;\n  }\n\n  .paintbrush, .code {\n    font-size: 18px;\n    vertical-align: middle;\n  }\n\n  .eye {\n    font-size: 18px;\n    vertical-align: sub;\n  }\n\n  &.active {\n    background-color: #374052;\n    color: $active-btn-color;\n\n    svg g[fill] {\n      fill: $active-btn-color;\n    }\n  }\n\n  .toggle-name {\n    margin-left: 11px;\n  }\n}\n"],sourceRoot:""}]),exports.locals={btn:"navToggleButton-css__btn___2zvVd","beta-badge":"navToggleButton-css__beta-badge___h4zGF",paintbrush:"navToggleButton-css__paintbrush___3I_La",code:"navToggleButton-css__code___2bWGz",eye:"navToggleButton-css__eye___3wYGV",active:"navToggleButton-css__active___2QGUn","toggle-name":"navToggleButton-css__toggle-name___3Y4ez"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_accordion=__webpack_require__(107),_campaignSettings=__webpack_require__(1300),_campaignSettings2=_interopRequireDefault(_campaignSettings),_recipientsPanel=__webpack_require__(1301),_recipientsPanel2=_interopRequireDefault(_recipientsPanel),_schedulingPanel=__webpack_require__(1302),_schedulingPanel2=_interopRequireDefault(_schedulingPanel),SettingsAccordion=_react2.default.createClass({displayName:"SettingsAccordion",propTypes:{campaignId:_react2.default.PropTypes.number.isRequired,showPreheader:_react2.default.PropTypes.bool.isRequired,isDnd:_react2.default.PropTypes.bool},shouldComponentUpdate:function(nextProps,nextState){return this.props.showPreheader!=nextProps.showPreheader||!_underscore2.default.isEqual(this.state.openPanelNames,nextState.openPanelNames)},getInitialState:function(){return{openPanelNames:["campaign-settings"]}},onPanelToggle:function(panelName,doesAllowMultipleOpenPanels){this.setState({openPanelNames:_accordion.AccordionUtils.getOpenPanelsOnToggle(panelName,doesAllowMultipleOpenPanels,this.state.openPanelNames)})},render:function(){return _react2.default.createElement(_accordion.Accordion,{hasBottomMargin:!0,onPanelToggleCb:this.onPanelToggle,openPanelNames:this.state.openPanelNames,shouldShowCaretsOnLeft:!0,doesAllowMultipleOpenPanels:!0,isEditor:!0,"data-role":"settings-accordion"},_react2.default.createElement(_accordion.AccordionPanel,{name:"campaign-settings"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Campaign Settings")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_campaignSettings2.default,{showPreheader:this.props.showPreheader}))),_react2.default.createElement(_accordion.AccordionPanel,{name:"recipients"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Recipients")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_recipientsPanel2.default,{campaignId:this.props.campaignId,isDnd:this.props.isDnd}))),_react2.default.createElement(_accordion.AccordionPanel,{name:"scheduling"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Scheduling")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_schedulingPanel2.default,null))))}});exports.default=SettingsAccordion},function(module,exports,__webpack_require__){var content=__webpack_require__(1299);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".accordion-css__disabled___1_h5k{opacity:.4;pointer-events:none}.accordion-css__accordion___1UFEJ.accordion-css__has-bottom-margin___2iOHE{margin-bottom:200px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/accordion/__css__/src/views/components/style-guide/accordion/__css__/accordion.css.scss"],names:[],mappings:"AAAA,iCACE,WACA,mBAAoB,CACrB,2EAIG,mBAAoB,CACrB",file:"accordion.css.scss",sourcesContent:[".disabled {\n  opacity: 0.4;\n  pointer-events: none;\n}\n\n.accordion {\n  &.has-bottom-margin {\n    margin-bottom: 200px;\n  }\n}"],sourceRoot:""}]),exports.locals={disabled:"accordion-css__disabled___1_h5k",accordion:"accordion-css__accordion___1UFEJ","has-bottom-margin":"accordion-css__has-bottom-margin___2iOHE"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function onContentsChange(e){var field=e.target.name,val=$(e.target).val();_editorActions2.default.editCampaignContents(field,val,"A")}function onCategoriesChange(e){var selectedCategories=$(e.target).val();_editorActions2.default.editCategories(selectedCategories)}function onPreheaderChange(e){_editorActions2.default.preheaderUpdated(e.target.value)}function onSettingsChange(e){var field=e.target.name,val=$(e.target).val();if("ipPool"===field){var pools=_settingsStore2.default.getCampaignSettingData("ipPools");_underscore2.default.where(pools,{name:val}).length||(val="")}var newCampaignSettingsValues=_underscore2.default.extend({},_settingsStore2.default.getCampaignSettings().values);newCampaignSettingsValues[field]=val,_editorActions2.default.editCampaignSettings(newCampaignSettingsValues)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_textInput=__webpack_require__(18),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_settingsStore=__webpack_require__(185),_settingsStore2=_interopRequireDefault(_settingsStore),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_reactClassUtils=__webpack_require__(7),CampaignSettings=(_class=function(_React$Component){function CampaignSettings(){_classCallCheck(this,CampaignSettings);var _this=_possibleConstructorReturn(this,(CampaignSettings.__proto__||Object.getPrototypeOf(CampaignSettings)).call(this));return _this.state={preheader:_moduleStore2.default.getPreheaderText(),settingsStoreState:{values:{name:_settingsStore2.default.getCampaignSettingValue("name"),subject:_settingsStore2.default.getCampaignSettingValue("subject"),senderIdentity:_settingsStore2.default.getCampaignSettingValue("senderIdentity"),categories:_settingsStore2.default.getCampaignSettingValue("categories"),hasPlainTextLock:_settingsStore2.default.getCampaignSettingValue("hasPlainTextLock"),editorID:_settingsStore2.default.getCampaignSettingValue("editorID"),ipPool:_settingsStore2.default.getCampaignSettingValue("ipPool")},data:{senderIdentities:_settingsStore2.default.getCampaignSettingData("senderIdentities"),categories:_settingsStore2.default.getCampaignSettingData("categories"),name:_settingsStore2.default.getCampaignSettingData("name"),ipPools:_settingsStore2.default.getCampaignSettingData("ipPools")}}},_this}return _inherits(CampaignSettings,_React$Component),_createClass(CampaignSettings,[{key:"componentDidMount",value:function(){_settingsStore2.default.addChangeListener(this.onCampaignEditorSettingsStoreChange),_moduleStore2.default.addChangeListener(this.moduleStoreChanged)}},{key:"componentWillUnmount",value:function(){_settingsStore2.default.removeChangeListener(this.onCampaignEditorSettingsStoreChange),_moduleStore2.default.removeChangeListener(this.moduleStoreChanged)}},{key:"onCampaignEditorSettingsStoreChange",value:function(){var newCampaignSettings=_settingsStore2.default.getCampaignSettings();this.setState({settingsStoreState:newCampaignSettings})}},{key:"onNameBlur",value:function(e){if(!e.target.value){var newCampaignSettingsValues=_underscore2.default.extend({},this.state.settingsStoreState.values);newCampaignSettingsValues.name=this.state.settingsStoreState.data.name,this.setState({settingsStoreState:{values:newCampaignSettingsValues,data:this.state.settingsStoreState.data}})}}},{key:"moduleStoreChanged",value:function(){var newPreheader=_moduleStore2.default.getPreheaderText();this.state.preheader!==newPreheader&&this.setState({preheader:newPreheader})}},{key:"render",value:function(){var sharedInputProps={registerFormInput:this.props.registerFormInput},senderIdentities=_underscore2.default.map(this.state.settingsStoreState.data.senderIdentities,function(identity){return _extends({},identity,{name:identity.nickname+" <"+identity.name+">"})}),displaySenderIdentities=[{name:"",nickname:"",value:""}].concat(_toConsumableArray(senderIdentities)),ipPools=[{name:"No IP Pool"}].concat(_toConsumableArray(this.state.settingsStoreState.data.ipPools)),displayIpPools=_underscore2.default.map(ipPools,function(ipPool){return _extends({},ipPool,{value:ipPool.name})});return _react2.default.createElement("section",{className:"campaign-settings"},_react2.default.createElement(_textInput.TextInput,_extends({name:"name",displayName:"Campaign Name",validations:[],value:this.state.settingsStoreState.values.name,onBlurCb:this.onNameBlur,onChange:onSettingsChange},sharedInputProps)),_react2.default.createElement(_select2.default,_extends({name:"senderIdentity",displayName:"From Sender",placeholder:"Select Sender",data:displaySenderIdentities,value:this.state.settingsStoreState.values.senderIdentity||"",hasLoadedData:_settingsStore2.default.getHasFetchedSenderIdentityCollection(),validations:["required"],onChange:onSettingsChange},sharedInputProps)),_react2.default.createElement(_textInput.TextInput,_extends({name:"subject",displayName:"Email Subject",validations:["required"],value:this.state.settingsStoreState.values.subject},sharedInputProps,{onChange:onContentsChange})),this.props.showPreheader?_react2.default.createElement(_textInput.TextArea,_extends({name:"preheader",displayName:"Email Preheader",value:this.state.preheader,tooltipPosition:"left",tooltipContent:"A preheader is the text following the subject line when an email is previewed. A preheader is one of the first three items a subscriber sees when viewing an email."},sharedInputProps,{onChange:onPreheaderChange})):null,_react2.default.createElement(_select2.default,_extends({name:"categories",displayName:"Categories",placeholder:"Add Categories",tooltipPosition:"left",tooltipLength:"large",tooltipContent:'By assigning your campaign to a category, you can track statistics across multiple similar campaigns. Example categories: "Weekly Digest," "Product Announcements."',value:this.state.settingsStoreState.values.categories||[],data:this.state.settingsStoreState.data.categories,options:{multiple:!0,tags:!0},hasLoadedData:_settingsStore2.default.getHasFetchedCategoryCollection(),validations:[],onChange:onCategoriesChange},sharedInputProps)),(this.state.settingsStoreState.data.ipPools.length||null)&&_react2.default.createElement(_select2.default,_extends({name:"ipPool",displayName:"IP Pool",placeholder:"Select IP Pool",tooltipPosition:"left",tooltipLength:"large",tooltipContent:"IP Pools allow you to group your dedicated SendGrid IP addresses together for specific messaging purposes (i.e. marketing or transactional email).",data:displayIpPools,value:this.state.settingsStoreState.values.ipPool||"",hasLoadedData:_settingsStore2.default.getHasFetchedIpPoolCollection(),validations:[],onChange:onSettingsChange},sharedInputProps)))}}]),CampaignSettings}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onCampaignEditorSettingsStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onCampaignEditorSettingsStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onNameBlur",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onNameBlur"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"moduleStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"moduleStoreChanged"),_class.prototype),_class);CampaignSettings.propTypes={showPreheader:_propTypes2.default.bool.isRequired,registerFormInput:_propTypes2.default.func.isRequired},exports.default=(0,_formDecorator2.default)(CampaignSettings)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getSortedQueries(queries){var sortedQueries=_extends({},queries);return sortedQueries.lists&&(sortedQueries.lists=_underscore2.default.sortBy(queries.lists,function(list){return list.name})),sortedQueries.segments&&(sortedQueries.segments=_underscore2.default.sortBy(queries.segments,function(segment){return segment.name})),sortedQueries}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_textInput=__webpack_require__(18),_buttons=__webpack_require__(8),_stringUtils=__webpack_require__(40),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_settingsStore=__webpack_require__(185),_settingsStore2=_interopRequireDefault(_settingsStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_campaignUtils=__webpack_require__(155),_campaignUtils2=_interopRequireDefault(_campaignUtils),_reactClassUtils=__webpack_require__(7),customUnsubcribeId=_constants2.default.SUPPRESSION_GROUPS.CUSTOM_UNSUBSCRIBE_ID,RecipientsPanel=(_class=function(_React$Component){function RecipientsPanel(){_classCallCheck(this,RecipientsPanel);var _this=_possibleConstructorReturn(this,(RecipientsPanel.__proto__||Object.getPrototypeOf(RecipientsPanel)).call(this));return _this.state={values:{queries:_settingsStore2.default.getRecipientSettingValue("queries"),suppressionGroup:_settingsStore2.default.getRecipientSettingValue("suppressionGroup"),customUnsubscribeLink:_settingsStore2.default.getRecipientSettingValue("customUnsubscribeLink"),testEmails:_settingsStore2.default.getRecipientSettingValue("testEmails")},data:{queries:getSortedQueries(_settingsStore2.default.getRecipientSettingData("queries")),suppressionGroups:_settingsStore2.default.getRecipientSettingData("suppressionGroups")},isSendingTest:!1,isSendingTestDisabled:!_settingsStore2.default.getRecipientSettingValue("testEmails")},_this}return _inherits(RecipientsPanel,_React$Component),_createClass(RecipientsPanel,[{key:"componentDidMount",value:function(){_settingsStore2.default.addChangeListener(this.onCampaignEditorSettingsStoreChange)}},{key:"componentWillUnmount",value:function(){_settingsStore2.default.removeChangeListener(this.onCampaignEditorSettingsStoreChange)}},{key:"onCampaignEditorSettingsStoreChange",value:function(){var newSettings=_settingsStore2.default.getRecipientSettings();newSettings.data.queries=getSortedQueries(newSettings.data.queries),this.setState(newSettings)}},{key:"onChange",value:function(e){var value=void 0,unsubscribeOptions={},name=e.target.name;if("suppressionGroup"===name){value=parseInt(e.target.value,10);var oldValue=this.state.values.customUnsubscribeLink;unsubscribeOptions={customUnsubscribeLink:value!==customUnsubcribeId?"":oldValue}}else value=$(e.target).val();"testEmails"===name&&this.setState({isSendingTestDisabled:!value.trim()});var newRecipientsPanelValues=_underscore2.default.extend({},this.state.values,_defineProperty({},name,value),unsubscribeOptions);_editorActions2.default.editRecipientSettings(newRecipientsPanelValues)}},{key:"sendTest",value:function(){var _this2=this;this.setState({isSendingTest:!0}),this.props.isDnd&&_editorActions2.default.syncCampaignContents();var saveRequest=_campaignsActions2.default.save(_campaignUtils2.default.getJsonForSaveSend(this.props.campaignId,this.props.isDnd));saveRequest.then(function(){_campaignsActions2.default.sendTest(_this2.props.campaignId,_this2.state.values.testEmails,_this2.props.isDnd).always(function(){return _this2.setState({isSendingTest:!1,isSendingTestDisabled:!1})})}),saveRequest.fail(function(){return _this2.setState({isSendingTest:!1,isSendingTestDisabled:!1})})}},{key:"render",value:function(){var sharedInputProps={registerFormInput:this.props.registerFormInput,onChange:this.onChange},suppressionGroup=this.state.values.suppressionGroup,shouldDisplayCustomUnsubscribeLink=suppressionGroup===customUnsubcribeId||!suppressionGroup,shouldDisableSendTestButton=this.state.isSendingTest||this.state.isSendingTestDisabled;return _react2.default.createElement("section",{className:"recipients"},_react2.default.createElement(_select2.default,_extends({name:"queries",displayName:"Send To",placeholder:"Select Lists/Segments",data:this.state.data.queries,hasLoadedData:_settingsStore2.default.getHasFetchedQueryCollectionWithCounts(),options:{multiple:!0},value:this.state.values.queries||[],validations:["required"]},sharedInputProps)),_react2.default.createElement(_select2.default,_extends({name:"suppressionGroup",displayName:"Unsubscribe Group",tooltipPosition:"left",tooltipLength:"large",tooltipContent:"When you assign an Unsubscribe Group to a campaign, your recipient has the opportunity to unsubscribe from that group rather than globally unsubscribing from all your email.",placeholder:"Select Group",data:this.state.data.suppressionGroups,hasLoadedData:_settingsStore2.default.getHasFetchedSuppressionGroupCollection(),options:{},value:(0,_stringUtils.toStringOrEmptyString)(suppressionGroup),validations:["required"]},sharedInputProps)),shouldDisplayCustomUnsubscribeLink&&_react2.default.createElement(_textInput.TextInput,_extends({name:"customUnsubscribeLink",displayName:"Custom Unsubscribe Link",validations:[],value:(0,_stringUtils.toStringOrEmptyString)(this.state.values.customUnsubscribeLink),maxLength:null},sharedInputProps)),_react2.default.createElement(_textInput.TextArea,_extends({name:"testEmails",displayName:"Test Email Addresses",value:this.state.values.testEmails},sharedInputProps)),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-7"},_react2.default.createElement("p",{className:"small"},"Enter up to 10 email addresses, separated by commas.")),_react2.default.createElement("div",{className:"col-md-5"},_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.sendTest,disabled:shouldDisableSendTestButton,"data-role":"send-test"},this.state.isSendingTest?"Sending...":"Send Test"))))}}]),RecipientsPanel}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onCampaignEditorSettingsStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onCampaignEditorSettingsStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sendTest",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"sendTest"),_class.prototype),_class);RecipientsPanel.propTypes={campaignId:_react2.default.PropTypes.number.isRequired,isDnd:_react2.default.PropTypes.bool,registerFormInput:_propTypes2.default.func.isRequired},RecipientsPanel.defaultProps={isDnd:!0},exports.default=(0,_formDecorator2.default)(RecipientsPanel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_switch=__webpack_require__(133),_formInputs=__webpack_require__(129),_textInput=__webpack_require__(18),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_schedulingPanelCss=__webpack_require__(1303),_schedulingPanelCss2=_interopRequireDefault(_schedulingPanelCss),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_settingsStore=__webpack_require__(185),_settingsStore2=_interopRequireDefault(_settingsStore),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_timeUtils=__webpack_require__(493),_timeUtils2=_interopRequireDefault(_timeUtils),SchedulingPanel=_react2.default.createClass({displayName:"SchedulingPanel",getInitialState:function(){return this.getStateFromSettingsStore()},componentDidMount:function(){_settingsStore2.default.addChangeListener(this.onCampaignEditorSettingsStoreChange)},componentWillUnmount:function(){_settingsStore2.default.removeChangeListener(this.onCampaignEditorSettingsStoreChange)},getStateFromSettingsStore:function(){var epochOrNull=_settingsStore2.default.getScheduleSettingValue("scheduledAt"),haveFetchedSchedule=_settingsStore2.default.getHasFetchedScheduleSettings(),userTZ=_settingsStore2.default.getScheduleSettingValue("userTimezone"),formattedUserTZ=userTZ?userTZ.code+" "+userTZ.offset:"",date="",time="";return haveFetchedSchedule&&epochOrNull&&(date=_dateUtils2.default.convertDateToTimezone(1e3*epochOrNull,userTZ,"L"),time=_dateUtils2.default.convertDateToTimezone(1e3*epochOrNull,userTZ,"LT")),{sendImmediately:!epochOrNull,date:date,time:time,loading:!haveFetchedSchedule,userTZ:formattedUserTZ,lastValidTime:time||"8:00 AM"}},onCampaignEditorSettingsStoreChange:function(){this.setState(this.getStateFromSettingsStore())},handleToggle:function(){var userTZ=_settingsStore2.default.getScheduleSettingValue("userTimezone"),epochOrNull=this.state.sendImmediately?_dateUtils2.default.getTomorrowsMorning(userTZ).unix():null;_editorActions2.default.editScheduleSettings({scheduledAt:epochOrNull,userTimezone:userTZ})},editScheduleSettings:function(date,time){var userTZ=_settingsStore2.default.getScheduleSettingValue("userTimezone"),epoch=_dateUtils2.default.parseInTimezone(date+" "+time,"L LT",userTZ).unix();_editorActions2.default.editScheduleSettings({scheduledAt:epoch,userTimezone:userTZ})},handleDateChange:function(e){var newDate=e.target.value;_dateUtils2.default.hasCorrectFormat(newDate)?this.editScheduleSettings(newDate,this.state.time):this.setState({date:newDate})},handleTimeChange:function(e){var newTime=e.target.value;this.setState({time:newTime})},handleTimeBlur:function(e){var userTimeEntry=e.target.value;_timeUtils2.default.isTime(userTimeEntry)||(userTimeEntry=this.state.lastValidTime),this.editScheduleSettings(this.state.date,userTimeEntry)},render:function(){if(this.state.loading)return _react2.default.createElement("section",null,_react2.default.createElement("div",null,"Loading..."));var calendarStyles=_schedulingPanelCss2.default["calendar-form"]+" ";return calendarStyles+=this.state.sendImmediately?_schedulingPanelCss2.default["calendar-form-closed"]:_schedulingPanelCss2.default["calendar-form-open"],_react2.default.createElement("section",{"data-role":"campaign-scheduling-panel"},_react2.default.createElement("div",{className:_schedulingPanelCss2.default["schedule-flex-container"]},_react2.default.createElement("h4",{className:_schedulingPanelCss2.default["schedule-flex-label"]},"Send Immediately"),_react2.default.createElement(_switch.OnOffSwitch,{onClick:this.handleToggle,isChecked:this.state.sendImmediately,id:"send-or-schedule-toggle"})),this.state.sendImmediately?_react2.default.createElement("div",{className:calendarStyles}):_react2.default.createElement("div",{className:calendarStyles},_react2.default.createElement(_formInputs.SingleDateInput,{name:"campaign-schedule-datepicker",id:"campaign-schedule-datepicker",value:this.state.date,labelText:"Date",validations:["required","date"],registerFormInput:this.props.registerFormInput,onChange:this.handleDateChange}),_react2.default.createElement("div",{className:_schedulingPanelCss2.default["schedule-flex-container"]},_react2.default.createElement("h3",{className:_schedulingPanelCss2.default["schedule-flex-label"]},"Timezone"),_react2.default.createElement("p",{className:"small"},this.state.userTZ)),_react2.default.createElement(_textInput.TextInput,{name:"campaign-schedule-time",displayName:"Time",validations:["required","time"],value:this.state.time,onChange:this.handleTimeChange,onBlurCb:this.handleTimeBlur,icon:_react2.default.createElement("i",{className:"sg-icon sg-icon-clock"}),registerFormInput:this.props.registerFormInput})))}});exports.default=(0,_formDecorator2.default)(SchedulingPanel)},function(module,exports,__webpack_require__){var content=__webpack_require__(1304);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".schedulingPanel-css__schedule-flex-container___2GmCW{display:flex;justify-content:space-between;padding-bottom:12px}.schedulingPanel-css__schedule-flex-container___2GmCW .schedulingPanel-css__schedule-flex-label___vGJwi{margin:auto 0}.schedulingPanel-css__calendar-form___3W5LZ{transition:all .5s ease;transition-property:height,overflow}.schedulingPanel-css__calendar-form-open___1uFN7{height:145px;overflow:hidden}.schedulingPanel-css__calendar-form-closed___2_NRh{height:0;overflow:hidden}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/campaigns/editor/tabs/settings/__css__/src/views/campaigns/editor/tabs/settings/__css__/schedulingPanel.css.scss"],names:[],mappings:"AAAA,sDACE,aACA,8BACA,mBAAoB,CAHtB,wGAKI,aAAc,CACf,4CAID,wBACA,mCAAqC,CACtC,iDAGC,aACA,eAAgB,CACjB,mDAGC,SACA,eAAgB,CACjB",file:"schedulingPanel.css.scss",sourcesContent:[".schedule-flex-container {\n  display: flex;\n  justify-content: space-between;\n  padding-bottom: 12px;\n  .schedule-flex-label {\n    margin: auto 0;\n  }\n}\n\n.calendar-form {\n  transition: all 500ms ease;\n  transition-property: height, overflow;\n}\n\n.calendar-form-open {\n  height: 145px;\n  overflow: hidden;\n}\n\n.calendar-form-closed {\n  height: 0;\n  overflow: hidden;\n}\n"],sourceRoot:""}]),exports.locals={"schedule-flex-container":"schedulingPanel-css__schedule-flex-container___2GmCW","schedule-flex-label":"schedulingPanel-css__schedule-flex-label___vGJwi","calendar-form":"schedulingPanel-css__calendar-form___3W5LZ","calendar-form-open":"schedulingPanel-css__calendar-form-open___1uFN7","calendar-form-closed":"schedulingPanel-css__calendar-form-closed___2_NRh"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_customFieldStore=__webpack_require__(156),_customFieldStore2=_interopRequireDefault(_customFieldStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_customFieldItem=__webpack_require__(1306),_customFieldItem2=_interopRequireDefault(_customFieldItem),_customFieldListCss=__webpack_require__(1315),_customFieldListCss2=_interopRequireDefault(_customFieldListCss),CustomFieldList=_react2.default.createClass({displayName:"CustomFieldList",getInitialState:function(){return{copiedCustomField:[],substitutionTags:_customFieldStore2.default.getCollection()}},componentDidMount:function(){_customFieldStore2.default.addChangeListener(this.onEditorTagsStoreChange)},componentWillUnmount:function(){_customFieldStore2.default.removeChangeListener(this.onEditorTagsStoreChange)},onEditorTagsStoreChange:function(){this.setState({substitutionTags:_customFieldStore2.default.getCollection()})},render:function(){var loading=_react2.default.createElement("p",null,"Loading ...");if(!_customFieldStore2.default.getHasFetchedCollection())return loading;var reservedAndCustomerTags=_underscore2.default.map(this.state.substitutionTags,function(item){var name="[%"+(item.is_reserved?item.field_name:item.name)+"%]",clipboardValue="[%"+(item.is_reserved?item.field_name:item.name);return clipboardValue+="email"!=item.field_name?" | Default Value%]":"%]",_react2.default.createElement(_customFieldItem2.default,{key:"custom-field-"+name,customField:name,clipboardValue:clipboardValue})}),systemSubstitutionTags=_underscore2.default.map(_constants2.default.EDITOR.SYSTEM_SUBSTITUTION_TAGS,function(value){var name="["+value+"]";return _react2.default.createElement(_customFieldItem2.default,{key:"system-custom-field-"+name,customField:name,clipboardValue:name})});return _react2.default.createElement("div",null,_react2.default.createElement("p",{className:"small"},"For contacts with no entry for a custom field, the substitution tag will be blank.  If you would prefer these contacts to see a default value rather than nothing at all, use the following pattern:"),_react2.default.createElement("p",{className:_customFieldListCss2.default["generic-example"]},_react2.default.createElement("strong",null,"[%first_name | Valued Customer%]")),_react2.default.createElement("ul",{className:_customFieldListCss2.default["custom-field-list"]},reservedAndCustomerTags,systemSubstitutionTags))}});exports.default=CustomFieldList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactCopyToClipboard=__webpack_require__(355),_reactCopyToClipboard2=_interopRequireDefault(_reactCopyToClipboard),_rippler=__webpack_require__(1310),_rippler2=_interopRequireDefault(_rippler),_customFieldItemCss=__webpack_require__(1313),_customFieldItemCss2=_interopRequireDefault(_customFieldItemCss),CustomFieldItem=_react2.default.createClass({displayName:"CustomFieldItem",propTypes:{customField:_react2.default.PropTypes.string.isRequired,clipboardValue:_react2.default.PropTypes.string.isRequired},render:function(){return _react2.default.createElement(_reactCopyToClipboard2.default,{text:this.props.clipboardValue},_react2.default.createElement("li",{className:_customFieldItemCss2.default["list-item"],onClick:this.props.rippleOnClick},_react2.default.createElement("div",{className:_customFieldItemCss2.default["face-flipper"]+" "+(this.props.hasBeenCopied?_customFieldItemCss2.default.copied:"")},_react2.default.createElement("div",{"data-role":"custom-field-item",className:_customFieldItemCss2.default["front-face"]},this.props.customField,_react2.default.createElement("i",{className:"sg-icon sg-icon-copy "+_customFieldItemCss2.default["copy-icon"]})),_react2.default.createElement("div",{"data-role":"custom-field-copied-text",className:_customFieldItemCss2.default["back-face"]},"Copied to clipboard!",_react2.default.createElement("i",{className:"sg-icon sg-icon-check-circle "+_customFieldItemCss2.default["copy-icon"]})),this.props.children)))}});exports.default=(0,_rippler2.default)(CustomFieldItem)},,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactClassUtils=__webpack_require__(7),_ripplerCss=__webpack_require__(1311),_ripplerCss2=_interopRequireDefault(_ripplerCss),Rippler=function(ComposedCmp){var _class;return _class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={hasBeenCopied:!1},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"rippleOnClick",value:function(e){var _this2=this,$ink=$(this.ink),$parent=$ink.parent();if(!$ink.height()&&!$ink.width()){var d=Math.max($parent.outerWidth(),$parent.outerHeight());$ink.css({height:d,width:d})}var x=e.pageX-$parent.offset().left-$ink.width()/2,y=e.pageY-$parent.offset().top-$ink.height()/2;$ink.css({top:y+"px",left:x+"px"}),this.setState({hasBeenCopied:!0}),window.setTimeout(function(){return _this2.setState({hasBeenCopied:!1})},1e3)}},{key:"render",value:function(){var _this3=this,decoratorProps={rippleOnClick:this.rippleOnClick,hasBeenCopied:this.state.hasBeenCopied};return _react2.default.createElement(ComposedCmp,_extends({},decoratorProps,this.props),_react2.default.createElement("span",{className:_ripplerCss2.default.ink+" "+(this.state.hasBeenCopied?_ripplerCss2.default.animate:""),ref:function(ink){_this3.ink=ink}}))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"rippleOnClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"rippleOnClick"),_class.prototype),_class};exports.default=Rippler},function(module,exports,__webpack_require__){var content=__webpack_require__(1312);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".rippler-css__ink___1CByL{display:block;position:absolute;background:#e9ecef;border-radius:100%;transform:scale(0);z-index:2}.rippler-css__ink___1CByL.rippler-css__animate___2A122{animation:rippler-css__ripple___Xt4PS .65s linear}@keyframes rippler-css__ripple___Xt4PS{to{opacity:0;transform:scale(2.5)}}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/hoc/__css__/src/views/components/hoc/__css__/rippler.css.scss"],names:[],mappings:"AAAA,0BACE,cACA,kBACA,mBACA,mBACA,mBACA,SAAU,CANZ,uDASI,iDAA8B,CAC/B,uCAGC,GAAM,UAAa,oBAAqB,CAAA,CAAA",file:"rippler.css.scss",sourcesContent:[".ink {\n  display: block;\n  position: absolute;\n  background: #e9ecef;\n  border-radius: 100%;\n  transform: scale(0);\n  z-index: 2;\n\n  &.animate {\n    animation: ripple 0.65s linear;\n  }\n\n  @keyframes ripple {\n    100% {opacity: 0; transform: scale(2.5);}\n  }\n}\n"],sourceRoot:""}]),exports.locals={ink:"rippler-css__ink___1CByL",animate:"rippler-css__animate___2A122",ripple:"rippler-css__ripple___Xt4PS"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1314);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".customFieldItem-css__list-item___TXos9{position:relative;margin-bottom:5px;perspective:1000px;height:40px;cursor:pointer}.customFieldItem-css__list-item___TXos9 .customFieldItem-css__face-flipper___32hDJ{position:absolute;height:100%;width:100%;overflow:hidden;background:#f4f6f7}.customFieldItem-css__list-item___TXos9 .customFieldItem-css__face-flipper___32hDJ.customFieldItem-css__copied____jff2 .customFieldItem-css__back-face___fgfVM{display:block}.customFieldItem-css__list-item___TXos9 .customFieldItem-css__face-flipper___32hDJ.customFieldItem-css__copied____jff2 .customFieldItem-css__front-face___1Wi71{display:none}.customFieldItem-css__list-item___TXos9 .customFieldItem-css__face-flipper___32hDJ .customFieldItem-css__back-face___fgfVM,.customFieldItem-css__list-item___TXos9 .customFieldItem-css__face-flipper___32hDJ .customFieldItem-css__front-face___1Wi71{position:relative;top:0;left:0;height:100%;width:100%;line-height:20px;padding:10px 15px;background:transparent;z-index:3}.customFieldItem-css__list-item___TXos9 .customFieldItem-css__face-flipper___32hDJ .customFieldItem-css__back-face___fgfVM .customFieldItem-css__copy-icon___3zYBj,.customFieldItem-css__list-item___TXos9 .customFieldItem-css__face-flipper___32hDJ .customFieldItem-css__front-face___1Wi71 .customFieldItem-css__copy-icon___3zYBj{line-height:20px;float:right}.customFieldItem-css__list-item___TXos9 .customFieldItem-css__face-flipper___32hDJ .customFieldItem-css__back-face___fgfVM{display:none}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/tabs/tags/__css__/src/views/components/editor/tabs/tags/__css__/customFieldItem.css.scss"],names:[],mappings:"AAAA,wCACE,kBACA,kBACA,mBACA,YACA,cAAe,CALjB,mFAOI,kBACA,YACA,WACA,gBACA,kBAAmB,CAXvB,+JAeQ,aAAc,CAftB,gKAkBQ,YAAa,CAlBrB,uPAuBM,kBACA,MACA,OACA,YACA,WACA,iBACA,kBACA,uBACA,SAAU,CA/BhB,uUAkCQ,iBACA,WAAY,CAnCpB,2HAuCM,YAAa,CACd",file:"customFieldItem.css.scss",sourcesContent:[".list-item {\n  position: relative;\n  margin-bottom: 5px;\n  perspective: 1000px;\n  height: 40px;\n  cursor: pointer;\n  .face-flipper {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    overflow: hidden;\n    background: #f4f6f7;\n\n    &.copied {\n      .back-face {\n        display: block;\n      }\n      .front-face {\n        display: none;\n      }\n    }\n\n    .front-face, .back-face {\n      position: relative;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      line-height: 20px;\n      padding: 10px 15px;\n      background: transparent;\n      z-index: 3;\n\n      .copy-icon {\n        line-height: 20px;\n        float: right;\n      }\n    }\n    .back-face {\n      display: none;\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={"list-item":"customFieldItem-css__list-item___TXos9","face-flipper":"customFieldItem-css__face-flipper___32hDJ",copied:"customFieldItem-css__copied____jff2","back-face":"customFieldItem-css__back-face___fgfVM","front-face":"customFieldItem-css__front-face___1Wi71","copy-icon":"customFieldItem-css__copy-icon___3zYBj"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1316);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".customFieldList-css__custom-field-list___2kj8X{margin-top:25px}.customFieldList-css__generic-example___2yXyw{margin-top:10px;margin-bottom:10px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/tabs/tags/__css__/src/views/components/editor/tabs/tags/__css__/customFieldList.css.scss"],names:[],mappings:"AAAA,gDACE,eAAgB,CACjB,8CAGC,gBACA,kBAAmB,CACpB",file:"customFieldList.css.scss",sourcesContent:[".custom-field-list {\n  margin-top: 25px;\n}\n\n.generic-example {\n  margin-top: 10px;\n  margin-bottom: 10px;\n}\n"],sourceRoot:""}]),exports.locals={"custom-field-list":"customFieldList-css__custom-field-list___2kj8X","generic-example":"customFieldList-css__generic-example___2yXyw"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function AddModulesPanel(){return _react2.default.createElement("section",{"data-role":"add-modules-panel",className:_addModulesPanelCss2.default.panel},_react2.default.createElement(_button.DraggableButtonModule,null),_react2.default.createElement(_columns.DraggableColumnsModule,null),_react2.default.createElement(_code.DraggableCodeModule,null),_react2.default.createElement(_text.DraggableTextModule,null),_react2.default.createElement(_image.DraggableImageModule,null),_react2.default.createElement(_imagetext.DraggableImageTextModule,null),_react2.default.createElement(_spacer.DraggableSpacerModule,null),_react2.default.createElement(_divider.DraggableDividerModule,null),_react2.default.createElement(_social.DraggableSocialModule,null))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_button=__webpack_require__(348),_columns=__webpack_require__(558),_code=__webpack_require__(559),_text=__webpack_require__(350),_image=__webpack_require__(245),_imagetext=__webpack_require__(1318),_spacer=__webpack_require__(561),_divider=__webpack_require__(560),_social=__webpack_require__(562),_addModulesPanelCss=__webpack_require__(1319),_addModulesPanelCss2=_interopRequireDefault(_addModulesPanelCss);exports.default=AddModulesPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getInitialProps(){return{type:_constants2.default.EDITOR.MODULES.COLUMNS,analyticsModuleType:_constants2.default.EDITOR.MODULES.IMAGETEXT,isCodeEditable:!1,innerModules:[[{type:_constants2.default.EDITOR.MODULES.EMPTY,muid:_moduleParserUtils2.default.genMuid()},_underscore2.default.extend((0,_image.getInitialProps)(),{muid:_moduleParserUtils2.default.genMuid()})],[{type:_constants2.default.EDITOR.MODULES.EMPTY,muid:_moduleParserUtils2.default.genMuid()},_underscore2.default.extend((0,_text.getInitialProps)(),{muid:_moduleParserUtils2.default.genMuid()})]],tdProps:{style:{backgroundColor:"",padding:"0px 0px 0px 0px"}},columnPaddingPx:0}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.DraggableImageTextModule=void 0,exports.getInitialProps=getInitialProps;var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_draggableModuleMaker=__webpack_require__(92),_draggableModuleMaker2=_interopRequireDefault(_draggableModuleMaker),_text=__webpack_require__(350),_image=__webpack_require__(245),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_moduleParserUtils=__webpack_require__(132),_moduleParserUtils2=_interopRequireDefault(_moduleParserUtils);exports.DraggableImageTextModule=(0,_draggableModuleMaker2.default)(function(){return _react2.default.createElement("div",{className:"card is-module is-centered","data-role":"draggable-imagetext-module"},_react2.default.createElement("p",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-image-text"})," Image & Text"))},_constants2.default.EDITOR.MODULES.IMAGETEXT,getInitialProps)},function(module,exports,__webpack_require__){var content=__webpack_require__(1320);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".addModulesPanel-css__panel___3KEwW{display:flex;flex-wrap:wrap;justify-content:space-between}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/tabs/build/__css__/src/views/components/editor/tabs/build/__css__/addModulesPanel.css.scss"],names:[],mappings:"AAAA,oCACE,aACA,eACA,6BAA8B,CAC/B",file:"addModulesPanel.css.scss",sourcesContent:[".panel {\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: space-between;\n}\n"],sourceRoot:""}]),exports.locals={panel:"addModulesPanel-css__panel___3KEwW"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getStylePanel(props){var parentMuid=_moduleStore2.default.getParentMuid(props.muid);if(!parentMuid)return propsToPanel(props);var colProps=_moduleStore2.default.getModulePropsForMuid(parentMuid);return _react2.default.createElement(_columnsPanel2.default,colProps,propsToPanel(props))}function propsToPanel(props){switch(props.type){case _constants2.default.EDITOR.MODULES.BUTTON:return _react2.default.createElement(_buttonPanel2.default,props);case _constants2.default.EDITOR.MODULES.COLUMNS:return _react2.default.createElement(_columnsPanel2.default,props);case _constants2.default.EDITOR.MODULES.CODE:return _react2.default.createElement(_codePanel2.default,props);case _constants2.default.EDITOR.MODULES.IMAGE:return _react2.default.createElement(_imagePanel2.default,props);case _constants2.default.EDITOR.MODULES.TEXT:return _react2.default.createElement(_textPanel2.default,props);case _constants2.default.EDITOR.MODULES.SPACER:return _react2.default.createElement(_spacerPanel2.default,props);case _constants2.default.EDITOR.MODULES.DIVIDER:return _react2.default.createElement(_dividerPanel2.default,props);case _constants2.default.EDITOR.MODULES.SOCIAL:return _react2.default.createElement(_socialPanel2.default,props);default:return console.warn("Didn't find a style panel match in getStylePanel for module props type ",props.type),null}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_buttonPanel=__webpack_require__(1322),_buttonPanel2=_interopRequireDefault(_buttonPanel),_columnsPanel=__webpack_require__(1458),_columnsPanel2=_interopRequireDefault(_columnsPanel),_codePanel=__webpack_require__(1459),_codePanel2=_interopRequireDefault(_codePanel),_imagePanel=__webpack_require__(1460),_imagePanel2=_interopRequireDefault(_imagePanel),_textPanel=__webpack_require__(1461),_textPanel2=_interopRequireDefault(_textPanel),_spacerPanel=__webpack_require__(1462),_spacerPanel2=_interopRequireDefault(_spacerPanel),_dividerPanel=__webpack_require__(1463),_dividerPanel2=_interopRequireDefault(_dividerPanel),_socialPanel=__webpack_require__(1464),_socialPanel2=_interopRequireDefault(_socialPanel),ModuleStylesPanel=_react2.default.createClass({displayName:"ModuleStylesPanel",componentDidMount:function(){_moduleStore2.default.addChangeListener(this.moduleStoreChanged)},componentWillUnmount:function(){_moduleStore2.default.removeChangeListener(this.moduleStoreChanged)},componentDidUpdate:function(prevProps,prevState){this.state.activeModuleProps&&(this.state.activeModuleProps&&prevState.activeModuleProps&&prevState.activeModuleProps.muid===this.state.activeModuleProps.muid||this.scrollPanelIntoView())},scrollPanelIntoView:function(){$("[data-role=editor-tab-panels-container]").animate({scrollTop:0},200)},getInitialState:function(){return{activeModuleProps:_moduleStore2.default.getSelectedModuleProps()}},moduleStoreChanged:function(){this.setState({activeModuleProps:_moduleStore2.default.getSelectedModuleProps()})},render:function(){return _react2.default.createElement("section",{"data-role":"module-styles-panel"},void 0===this.state.activeModuleProps?_react2.default.createElement("p",{className:"small"},"Click anywhere on your template to activate the styles for that particular module. You can add new modules by dragging them to your template from the list below."):getStylePanel(this.state.activeModuleProps))}});exports.default=ModuleStylesPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_alignmentSelector=__webpack_require__(569),_alignmentSelector2=_interopRequireDefault(_alignmentSelector),_colorPicker=__webpack_require__(93),_fontFamilySelect=__webpack_require__(593),_fontFamilySelect2=_interopRequireDefault(_fontFamilySelect),_fontWeightSelect=__webpack_require__(1453),_fontWeightSelect2=_interopRequireDefault(_fontWeightSelect),_quadPixelInput=__webpack_require__(134),_quadPixelInput2=_interopRequireDefault(_quadPixelInput),_textInput=__webpack_require__(18),_panelEnhancer=__webpack_require__(135),_panelEnhancer2=_interopRequireDefault(_panelEnhancer),_button=__webpack_require__(552),_applyToAllButton=__webpack_require__(1456),_applyToAllButton2=_interopRequireDefault(_applyToAllButton),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss),isPx=function(value){return/px$/.test(value)},EXCLUDED_PROPS_FROM_APPLY_ALL=["buttonText","aProps.href"],ButtonPanel=function(props){return _react2.default.createElement("div",{"data-role":"button-style-panel"},_react2.default.createElement("h4",{className:_moduleStylePanelsCss2.default["style-title"]},"Button"),_react2.default.createElement("section",{className:_moduleStylePanelsCss2.default["style-container"]},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.aProps.style.backgroundColor,labelText:"Button Color","data-role":"button-color",onChange:function(color){return props.innerHtmlStyleChanged(null,color,"aProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.aProps.style.borderColor,labelText:"Border Color","data-role":"border-color",onChange:function(color){return props.innerHtmlStyleChanged(null,color,"aProps","borderColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.aProps.style.color,labelText:"Font Color","data-role":"button-text-color",onChange:function(color){return props.innerHtmlStyleChanged(null,color,"aProps","color")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"width",units:"%",hasUnitValue:!0,labelText:"Width","data-prop-key":"aProps","data-style-key":"width",placeholder:"AUTO",min:20,max:100,value:isPx(props.aProps.style.width)?void 0:props.aProps.style.width,onChange:function(event){var value=event.target.value;parseInt(value,10)>100&&(value="100%"),props.innerHtmlStyleChanged(event,value)}}),isPx(props.aProps.style.width)&&_react2.default.createElement(_tooltip2.default,{length:"large",position:"right",content:_react2.default.createElement("span",null,"The width on your button is currently using pixels, you can change to percentage here, or continue to modify pixels using the code module.")})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"height",units:"px",hasUnitValue:!0,labelText:"Height","data-prop-key":"aProps","data-style-key":"lineHeight",value:props.aProps.style.lineHeight,onChange:props.innerHtmlStyleChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Padding"),_react2.default.createElement(_quadPixelInput2.default,{value:props.aProps.style.padding,"data-prop-key":"aProps","data-style-key":"padding",onChange:props.innerHtmlStyleChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"border-radius",units:"px",hasUnitValue:!0,labelText:"Border Radius","data-prop-key":"aProps","data-style-key":"borderRadius",value:props.aProps.style.borderRadius,onChange:props.innerHtmlStyleChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"border-width",units:"px",hasUnitValue:!0,labelText:"Border Width","data-prop-key":"aProps","data-style-key":"borderWidth",value:props.aProps.style.borderWidth,onChange:props.innerHtmlStyleChanged})),_react2.default.createElement(_fontFamilySelect2.default,{value:props.aProps.style.fontFamily,onChange:function(event){props.innerHtmlStyleChanged(null,event.target.value,"aProps","fontFamily")}}),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"font-size",units:"px",hasUnitValue:!0,labelText:"Font Size","data-prop-key":"aProps","data-style-key":"fontSize",value:props.aProps.style.fontSize,onChange:props.innerHtmlStyleChanged})),_react2.default.createElement(_fontWeightSelect2.default,{value:props.aProps.style.fontWeight,onChange:function(event){props.innerHtmlStyleChanged(null,event.target.value,"aProps","fontWeight")}}),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"letter-spacing",units:"px",hasUnitValue:!0,labelText:"Letter Spacing","data-prop-key":"aProps","data-style-key":"letterSpacing",value:props.aProps.style.letterSpacing,onChange:props.innerHtmlStyleChanged})),_react2.default.createElement(_textInput.TextInput,{type:"text",name:"button-text",labelText:"Button Text",value:props.buttonText,onChange:function(_ref){var target=_ref.target,buttonText=target.value,innerHtml=(0,_button.serializedButtonInnerHtml)(_extends({},props,{buttonText:buttonText}));_editorActions2.default.activeModuleUpdated(_extends({},props,{buttonText:buttonText,innerHtml:innerHtml}))}}),_react2.default.createElement(_textInput.TextInput,{type:"text",name:"button-href",labelText:"Button URL",value:props.aProps.href,onChange:function(_ref2){var target=_ref2.target,href=target.value,aProps=_extends({},props.aProps,{href:href}),innerHtml=(0,_button.serializedButtonInnerHtml)(_extends({},props,{aProps:aProps}));_editorActions2.default.activeModuleUpdated(_extends({},props,{aProps:aProps,innerHtml:innerHtml}))}}),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.shallowTdProps.style.backgroundColor,resetValue:"",labelText:"Container Background","data-role":"container-background-color",onChange:function(color){return props.outerHtmlStyleChanged(null,color,"shallowTdProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Container Padding"),_react2.default.createElement(_quadPixelInput2.default,{value:props.shallowTdProps.style.padding,"data-prop-key":"shallowTdProps","data-style-key":"padding",onChange:props.outerHtmlStyleChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Alignment"),_react2.default.createElement(_alignmentSelector2.default,{value:props.deepTdProps.style.textAlign,onChange:function(align){return props.outerHtmlStyleChanged(null,align,"deepTdProps","textAlign")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Apply To All Buttons"),_react2.default.createElement(_tooltip2.default,{length:"large",position:"right",content:_react2.default.createElement("span",null,"Apply current button styles to all other buttons in your email. This excludes the button text and button URL.")}),_react2.default.createElement(_applyToAllButton2.default,{propsToBeApplied:props,excludedProps:EXCLUDED_PROPS_FROM_APPLY_ALL,moduleType:props.type}))))};ButtonPanel.defaultProps={buttonText:""},exports.default=(0,_panelEnhancer2.default)(ButtonPanel,_button.serializedButtonInnerHtml)},function(module,exports,__webpack_require__){var content=__webpack_require__(1324);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".alignmentSelector-css__alignment-selections___3fiJ7{margin-left:auto}.alignmentSelector-css__alignment-selections___3fiJ7 i{cursor:pointer}.alignmentSelector-css__alignment-selections___3fiJ7[data-align=center] .alignmentSelector-css__center-align___1WL4M i,.alignmentSelector-css__alignment-selections___3fiJ7[data-align=left] .alignmentSelector-css__left-align___1p2HS i,.alignmentSelector-css__alignment-selections___3fiJ7[data-align=right] .alignmentSelector-css__right-align___1R7US i{color:#111}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/__css__/src/views/components/editor/__css__/alignmentSelector.css.scss"],names:[],mappings:"AAAA,qDACE,gBAAiB,CADnB,uDAII,cAAe,CAJnB,+VA0BQ,UAAc,CACf",file:"alignmentSelector.css.scss",sourcesContent:[".alignment-selections {\n  margin-left: auto;\n\n  i {\n    cursor: pointer;\n  }\n\n  &[data-align='center'] {\n    .center-align {\n      i {\n        color: #111111;\n      }\n    }\n  }\n\n  &[data-align='right'] {\n    .right-align {\n      i {\n        color: #111111;\n      }\n    }\n  }\n\n  &[data-align='left'] {\n    .left-align {\n      i {\n        color: #111111;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={"alignment-selections":"alignmentSelector-css__alignment-selections___3fiJ7","center-align":"alignmentSelector-css__center-align___1WL4M","right-align":"alignmentSelector-css__right-align___1R7US","left-align":"alignmentSelector-css__left-align___1p2HS"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactColor=__webpack_require__(1326),_common=__webpack_require__(23),_dismissableBackground=__webpack_require__(1441),_dismissableBackground2=_interopRequireDefault(_dismissableBackground),_hueSlider=__webpack_require__(1443),_hueSlider2=_interopRequireDefault(_hueSlider),_colorControls=__webpack_require__(1444),_colorControls2=_interopRequireDefault(_colorControls),_colorStorage=__webpack_require__(1447),_colorStorage2=_interopRequireDefault(_colorStorage),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),ColorPalette=function(_React$Component){function ColorPalette(){return _classCallCheck(this,ColorPalette),_possibleConstructorReturn(this,(ColorPalette.__proto__||Object.getPrototypeOf(ColorPalette)).apply(this,arguments))}return _inherits(ColorPalette,_React$Component),_createClass(ColorPalette,[{key:"componentDidMount",value:function(){this.props.onMount(this.palette.getBoundingClientRect())}},{key:"render",value:function(){var _this2=this,_props=this.props,onChange=_props.onChange,rgb=_props.rgb,hsl=_props.hsl,hsv=_props.hsv,hex=_props.hex,toggleColorPalette=_props.toggleColorPalette,top=_props.top,left=_props.left;return _react2.default.createElement(_dismissableBackground2.default,{onClick:toggleColorPalette},_react2.default.createElement("div",{className:_colorPaletteCss2.default["color-palette"],style:{top:top,left:left},ref:function(p){_this2.palette=p}},_react2.default.createElement("div",{className:_colorPaletteCss2.default.saturation},_react2.default.createElement(_common.Saturation,{hsl:hsl,hsv:hsv,onChange:onChange})),_react2.default.createElement(_hueSlider2.default,{hsl:hsl,hex:hex,onChange:onChange}),_react2.default.createElement(_colorControls2.default,{hex:hex,rgb:rgb,onChange:onChange}),_react2.default.createElement(_colorStorage2.default,{color:hex,onChange:onChange})))}}]),ColorPalette}(_react2.default.Component);ColorPalette.propTypes={onChange:_propTypes2.default.func.isRequired,onMount:_propTypes2.default.func.isRequired,toggleColorPalette:_propTypes2.default.func.isRequired,top:_propTypes2.default.number,left:_propTypes2.default.number,hex:_propTypes2.default.string,rgb:_propTypes2.default.objectOf(_propTypes2.default.number),hsl:_propTypes2.default.objectOf(_propTypes2.default.number),hsv:_propTypes2.default.objectOf(_propTypes2.default.number)},ColorPalette.defaultProps={top:0,left:0,hex:void 0,rgb:void 0,hsl:void 0,hsv:void 0},exports.default=(0,_reactColor.CustomPicker)(ColorPalette)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),DismissableBackground=function(_ref){var children=_ref.children,onClick=_ref.onClick,dismissableBackground=void 0,handleClick=function(_ref2){_ref2.target===dismissableBackground&&onClick()};return _react2.default.createElement("div",{ref:function(element){dismissableBackground=element},className:_colorPaletteCss2.default["dismissable-background"],onClick:handleClick},children)};DismissableBackground.propTypes={children:_propTypes2.default.element.isRequired,onClick:_propTypes2.default.func.isRequired},exports.default=DismissableBackground},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".colorPalette-css__color-palette___1KljT{background:#fff;border-radius:2px;box-shadow:0 2px 6px 0 rgba(0,0,0,.3);position:absolute;width:240px}.colorPalette-css__dismissable-background___3RP4t{height:100%;left:0;margin:0;padding:0;position:fixed;top:0;width:100%;z-index:10}.colorPalette-css__saturation___eELu_{border-radius:2px 2px 0 0;margin-bottom:12px;overflow:hidden;padding-bottom:55%;position:relative;width:100%}.colorPalette-css__current-color-swatch___O8Rg4{flex:1;min-width:30px}.colorPalette-css__hex-color-control___3-7v8{display:block;text-align:center;text-transform:uppercase;display:flex;flex:3;margin-right:6px}.colorPalette-css__hex-color-control___3-7v8>div:not(:last-child){margin-right:6px}.colorPalette-css__hex-color-control___3-7v8 input{border-width:1px;border-style:1px solid rgba(41,70,97,.1);border-color:rgba(41,70,97,.1);display:block;font-size:11px;height:30px;text-align:center;width:100%}.colorPalette-css__hex-color-control___3-7v8 span{display:block;font-size:13px;margin-top:6px;text-align:center}.colorPalette-css__rgb-color-controls___37f5V{display:block;text-align:center;text-transform:uppercase;display:flex;flex:3}.colorPalette-css__rgb-color-controls___37f5V>div:not(:last-child){margin-right:6px}.colorPalette-css__rgb-color-controls___37f5V input{border-width:1px;border-style:1px solid rgba(41,70,97,.1);border-color:rgba(41,70,97,.1);display:block;font-size:11px;height:30px;text-align:center;width:100%}.colorPalette-css__rgb-color-controls___37f5V span{display:block;font-size:13px;margin-top:6px;text-align:center}.colorPalette-css__controls___1rkif{margin-left:12px;margin-right:12px;display:flex;justify-content:space-between;max-width:100%;padding-bottom:12px;padding-top:6px}.colorPalette-css__hue___2azTy,.colorPalette-css__HueSlider___3EOf2{margin-left:12px;margin-right:12px;height:10px;margin-bottom:8px;position:relative}.colorPalette-css__saved-color-list___264Vn{margin-left:12px;margin-right:12px;border-top:1px solid rgba(41,70,97,.1);display:flex;flex-wrap:wrap;padding-bottom:8px;padding-top:14px}.colorPalette-css__saved-color-list___264Vn .colorPalette-css__add-color-button___3Sz9i{border-radius:2px;display:block;height:30px;width:30px;border-width:1px;border-style:1px solid rgba(41,70,97,.1);border-color:rgba(41,70,97,.1);background:#fff;padding:0;margin-left:0}.colorPalette-css__saved-color-list___264Vn .colorPalette-css__add-color-button___3Sz9i:hover{border-color:rgba(41,70,97,.4)}.colorPalette-css__saved-color-list___264Vn .colorPalette-css__add-color-button___3Sz9i i{color:#546b81;margin-left:0}.colorPalette-css__color-swatch___30rjq{border-radius:2px;display:block;height:30px;width:30px;margin-right:6px;max-width:30px;position:relative}.colorPalette-css__color-swatch___30rjq .colorPalette-css__remove-color___2TH0R{display:none;line-height:normal;padding:0;position:relative}.colorPalette-css__color-swatch___30rjq .colorPalette-css__remove-color___2TH0R i{display:block;font-size:8px;margin-left:0}.colorPalette-css__color-swatch___30rjq:hover>.colorPalette-css__remove-color___2TH0R{border-width:1px;border-style:1px solid rgba(41,70,97,.1);border-color:rgba(41,70,97,.1);background-color:#fff;border-radius:50%;display:block;height:13px;padding:0;position:absolute;right:-7px;top:-7px;width:13px;z-index:2}.colorPalette-css__saved-color-swatch___zWfeO{cursor:pointer;margin-bottom:6px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/colorPalette/src/views/components/colorPalette/colorPalette.css.scss"],names:[],mappings:"AAkDA,yCACE,gBACA,kBACA,sCACA,kBACA,WAAY,CACb,kDAGC,YACA,OACA,SACA,UACA,eACA,MACA,WACA,UAAW,CACZ,sCAGC,0BACA,mBACA,gBACA,mBACA,kBACA,UAAW,CACZ,gDAGC,OACA,cA/EgB,CAgFjB,6CA5DC,cACA,kBACA,yBA8DA,aACA,OACA,gBAhFmB,CAiBf,kEACF,gBAlBiB,CAmBlB,mDAXD,iBACA,yCACA,+BAYE,cACA,eACA,YACA,kBACA,UAAW,CACZ,kDAEC,cACA,eACA,eACA,iBAAkB,CACnB,8CAnBD,cACA,kBACA,yBAqEA,aACA,MAAO,CArEH,mEACF,gBAlBiB,CAmBlB,oDAXD,iBACA,yCACA,+BAYE,cACA,eACA,YACA,kBACA,UAAW,CACZ,mDAEC,cACA,eACA,eACA,iBAAkB,CACnB,oCA9BD,iBACA,kBAuFA,aACA,8BACA,eACA,oBACA,eA/FmB,CAgGpB,oEA7FC,iBACA,kBAiGA,YACA,kBACA,iBAAkB,CACnB,4CArGC,iBACA,kBAwGA,uCACA,aACA,eACA,mBACA,gBAAiB,CANnB,wFArEE,kBACA,cACA,YACA,WAhCA,iBACA,yCACA,+BA0GE,gBACA,UACA,aAAc,CAZlB,8FAcM,8BA/HS,CAiHf,0FAiBM,cACA,aAAc,CACf,wCAxFH,kBACA,cACA,YACA,WA2FA,iBACA,eACA,iBAAkB,CAJpB,gFAMI,aACA,mBACA,UACA,iBAAkB,CATtB,kFAWM,cACA,cACA,aAAc,CAbpB,sFAzHE,iBACA,yCACA,+BAyIE,sBACA,kBACA,cACA,YACA,UACA,kBACA,WACA,SACA,WACA,SAAU,CACX,8CAID,eACA,iBAAkB,CACnB",file:"colorPalette.css.scss",sourcesContent:["$slate: #294661;\n$swatch-size: 30px;\n$border-radius: 2px;\n$border-width: 1px;\n$border-style: solid;\n$border-color: rgba($slate, 0.1);\n$border-style: $border-width $border-style $border-color;\n$element-spacing: 6px;\n\n@mixin control-padding() {\n  margin-left: $element-spacing * 2;\n  margin-right: $element-spacing * 2;\n}\n\n@mixin border() {\n  border-width: $border-width;\n  border-style: $border-style;\n  border-color: $border-color;\n}\n\n@mixin editable-input() {\n  display: block;\n  text-align: center;\n  text-transform: uppercase;\n  & > div:not(:last-child) {\n    margin-right: $element-spacing;\n  }\n  input {\n    @include border();\n    display: block;\n    font-size: 11px;\n    height: $swatch-size;\n    text-align: center;\n    width: 100%;\n  }\n  span {\n    display: block;\n    font-size: 13px;\n    margin-top: $element-spacing;\n    text-align: center;\n  }\n}\n\n@mixin color-swatch() {\n  border-radius: $border-radius;\n  display: block;\n  height: $swatch-size;\n  width: $swatch-size;\n}\n\n.color-palette {\n  background: #ffffff;\n  border-radius: $border-radius;\n  box-shadow: 0 2px 6px 0 rgba(0, 0, 0, 0.30);\n  position: absolute;\n  width: 240px;\n}\n\n.dismissable-background {\n  height: 100%;\n  left: 0;\n  margin: 0;\n  padding: 0;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 10;\n}\n\n.saturation {\n  border-radius: 2px 2px 0 0;\n  margin-bottom: 12px;\n  overflow: hidden;\n  padding-bottom: 55%;\n  position: relative;\n  width: 100%;\n}\n\n.current-color-swatch {\n  flex: 1;\n  min-width: $swatch-size;\n}\n\n.hex-color-control {\n  @include editable-input();\n  display: flex;\n  flex: 3;\n  margin-right: $element-spacing;\n}\n\n.rgb-color-controls {\n  @include editable-input();\n  display: flex;\n  flex: 3;\n}\n\n.controls {\n  @include control-padding();\n  display: flex;\n  justify-content: space-between;\n  max-width: 100%;\n  padding-bottom: $element-spacing * 2;\n  padding-top: $element-spacing;\n}\n\n.HueSlider,\n.hue {\n  @include control-padding();\n  height: 10px;\n  margin-bottom: 8px;\n  position: relative;\n}\n\n.saved-color-list {\n  @include control-padding();\n  border-top: $border-style;\n  display: flex;\n  flex-wrap: wrap;\n  padding-bottom: 8px;\n  padding-top: 14px;\n  .add-color-button {\n    @include color-swatch();\n    @include border();\n    background: #ffffff;\n    padding: 0;\n    margin-left: 0;\n    &:hover {\n      border-color: rgba($slate, 0.4);\n    }\n    i {\n      color: #546b81;\n      margin-left: 0;\n    }\n  }\n}\n\n.color-swatch {\n  @include color-swatch();\n  margin-right: $element-spacing;\n  max-width: $swatch-size;\n  position: relative;\n  & .remove-color {\n    display: none;\n    line-height: normal;\n    padding: 0;\n    position: relative;\n    i {\n      display: block;\n      font-size: 8px;\n      margin-left: 0;\n    }\n  }\n  &:hover > .remove-color {\n    @include border();\n    background-color: white;\n    border-radius: 50%;\n    display: block;\n    height: 13px;\n    padding: 0;\n    position: absolute;\n    right: -7px;\n    top: -7px;\n    width: 13px;\n    z-index: 2;\n  }\n}\n\n.saved-color-swatch {\n  cursor: pointer;\n  margin-bottom: 6px;\n}\n"],sourceRoot:""}]),exports.locals={"color-palette":"colorPalette-css__color-palette___1KljT","dismissable-background":"colorPalette-css__dismissable-background___3RP4t",saturation:"colorPalette-css__saturation___eELu_","current-color-swatch":"colorPalette-css__current-color-swatch___O8Rg4","hex-color-control":"colorPalette-css__hex-color-control___3-7v8","rgb-color-controls":"colorPalette-css__rgb-color-controls___37f5V",controls:"colorPalette-css__controls___1rkif",HueSlider:"colorPalette-css__HueSlider___3EOf2",hue:"colorPalette-css__hue___2azTy","saved-color-list":"colorPalette-css__saved-color-list___264Vn","add-color-button":"colorPalette-css__add-color-button___3Sz9i","color-swatch":"colorPalette-css__color-swatch___30rjq","remove-color":"colorPalette-css__remove-color___2TH0R","saved-color-swatch":"colorPalette-css__saved-color-swatch___zWfeO"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_common=__webpack_require__(23),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),HueSlider=function(_ref){var hsl=_ref.hsl,onChange=_ref.onChange;return _react2.default.createElement("div",{className:_colorPaletteCss2.default.hue},_react2.default.createElement(_common.Hue,{hsl:hsl,onChange:onChange}))};HueSlider.propTypes={hsl:_propTypes2.default.objectOf(_propTypes2.default.number).isRequired,onChange:_propTypes2.default.func.isRequired},exports.default=HueSlider},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createChangeHandler=void 0;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_underscore=__webpack_require__(2),_color=__webpack_require__(84),_color2=_interopRequireDefault(_color),_colorSwatch=__webpack_require__(592),_colorSwatch2=_interopRequireDefault(_colorSwatch),_hexColorControl=__webpack_require__(1445),_hexColorControl2=_interopRequireDefault(_hexColorControl),_rgbColorControls=__webpack_require__(1446),_rgbColorControls2=_interopRequireDefault(_rgbColorControls),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),exists=function(){for(var _len=arguments.length,values=Array(_len),_key=0;_key<_len;_key++)values[_key]=arguments[_key];return values.some(function(value){return value||(0,_underscore.isNumber)(value)})},createChangeHandler=exports.createChangeHandler=function(onChange){return function(_ref,event){var hex=_ref.hex,r=_ref.r,g=_ref.g,b=_ref.b;hex&&_color2.default.isValidHex(hex)?onChange({hex:hex,source:"hex"},event):exists(r,g,b)&&onChange({r:r,b:b,g:g,source:"rgb"},event)}},ColorControls=function(_ref2){var hex=_ref2.hex,rgb=_ref2.rgb,onChange=_ref2.onChange,handleChange=createChangeHandler(onChange);return _react2.default.createElement("div",{className:(0,_classnames2.default)("ColorPalette-controls","colfax","is-size-h3",_colorPaletteCss2.default.controls)},_react2.default.createElement(_colorSwatch2.default,{current:!0,color:hex}),_react2.default.createElement(_hexColorControl2.default,{hex:hex,onChange:handleChange}),_react2.default.createElement(_rgbColorControls2.default,{rgb:rgb,onChange:handleChange}))};ColorControls.propTypes={onChange:_propTypes2.default.func.isRequired,hex:_propTypes2.default.string.isRequired,rgb:_propTypes2.default.objectOf(_propTypes2.default.number).isRequired},exports.default=ColorControls},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_common=__webpack_require__(23),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),HexColorControl=function(_ref){var hex=_ref.hex,onChange=_ref.onChange;return _react2.default.createElement("div",{className:(0,_classnames2.default)("HexColorControl",_colorPaletteCss2.default["hex-color-control"])},_react2.default.createElement(_common.EditableInput,{label:"hex",value:hex,onChange:onChange}))};HexColorControl.propTypes={hex:_propTypes2.default.string.isRequired,onChange:_propTypes2.default.func.isRequired},exports.default=HexColorControl},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_common=__webpack_require__(23),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),RGBColorControls=function(_Component){function RGBColorControls(){_classCallCheck(this,RGBColorControls);var _this=_possibleConstructorReturn(this,(RGBColorControls.__proto__||Object.getPrototypeOf(RGBColorControls)).call(this));return _this.handleChange=_this.handleChange.bind(_this),_this}return _inherits(RGBColorControls,_Component),_createClass(RGBColorControls,[{key:"handleChange",value:function(color,event){var _props=this.props,rgb=_props.rgb;(0,_props.onChange)(_extends({},rgb,color),event)}},{key:"render",value:function(){var rgb=this.props.rgb;return _react2.default.createElement("div",{className:(0,_classnames2.default)("RGBCColorControls",_colorPaletteCss2.default["rgb-color-controls"])},_react2.default.createElement(_common.EditableInput,{className:(0,_classnames2.default)(_colorPaletteCss2.default["rgb-color-control"]),label:"r",value:rgb.r,onChange:this.handleChange}),_react2.default.createElement(_common.EditableInput,{className:(0,_classnames2.default)(_colorPaletteCss2.default["rgb-color-control"]),label:"g",value:rgb.g,onChange:this.handleChange}),_react2.default.createElement(_common.EditableInput,{className:(0,_classnames2.default)(_colorPaletteCss2.default["rgb-color-control"]),label:"b",value:rgb.b,onChange:this.handleChange}))}}]),RGBColorControls}(_react.Component);RGBColorControls.propTypes={rgb:_propTypes2.default.objectOf(_propTypes2.default.number).isRequired,onChange:_propTypes2.default.func.isRequired},exports.default=RGBColorControls},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_savedColorList=__webpack_require__(1448),_savedColorList2=_interopRequireDefault(_savedColorList),_generateUniqueId=__webpack_require__(1450),_generateUniqueId2=_interopRequireDefault(_generateUniqueId),keysAndValuesToColorObjects=function(colors){return(0,_underscore.pairs)(colors).map(function(_ref){var _ref2=_slicedToArray(_ref,2);return{key:_ref2[0],color:_ref2[1]}})},upgradeSavedColorStorage=function(){localStorage.setItem("savedColorsVersion",1)},getColorsFromLocalStorage=function(){return localStorage.getItem("savedColors")?JSON.parse(localStorage.getItem("savedColors")):{}},storeColorsInLocalStorage=function(){var colors=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];localStorage.setItem("savedColors",JSON.stringify(colors))},ColorStorage=function(_Component){function ColorStorage(){_classCallCheck(this,ColorStorage);var _this=_possibleConstructorReturn(this,(ColorStorage.__proto__||Object.getPrototypeOf(ColorStorage)).call(this));return upgradeSavedColorStorage(),_this.state={colors:getColorsFromLocalStorage()},_this.addColor=_this.addColor.bind(_this),_this.removeColor=_this.removeColor.bind(_this),_this}return _inherits(ColorStorage,_Component),_createClass(ColorStorage,[{key:"addColor",value:function(){var color=this.props.color,colors=_extends({},this.state.colors,_defineProperty({},(0,_generateUniqueId2.default)(),color));this.setState({colors:colors},this.saveState)}},{key:"removeColor",value:function(event,id){var colors=_extends({},this.state.colors);delete colors[id],this.setState({colors:colors},this.saveState)}},{key:"saveState",value:function(){storeColorsInLocalStorage(this.state.colors)}},{key:"render",value:function(){var onChange=this.props.onChange,colors=this.state.colors;return _react2.default.createElement(_savedColorList2.default,{colors:keysAndValuesToColorObjects(colors),addColor:this.addColor,removeColor:this.removeColor,onChange:onChange})}}]),ColorStorage}(_react.Component);ColorStorage.propTypes={color:_propTypes2.default.string.isRequired,onChange:_propTypes2.default.func.isRequired},exports.default=ColorStorage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_addSavedColor=__webpack_require__(1449),_addSavedColor2=_interopRequireDefault(_addSavedColor),_colorSwatch=__webpack_require__(592),_colorSwatch2=_interopRequireDefault(_colorSwatch),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),SavedColorList=function(_ref){var colors=_ref.colors,addColor=_ref.addColor,removeColor=_ref.removeColor,onChange=_ref.onChange,handleRemoveColor=function(key){return function(event){return removeColor(event,key)}};return _react2.default.createElement("section",{className:(0,_classnames2.default)("SavedColorList",_colorPaletteCss2.default["saved-color-list"])},colors.map(function(_ref2){var key=_ref2.key,color=_ref2.color;return _react2.default.createElement(_colorSwatch2.default,{color:color,storageKey:key,removeColor:handleRemoveColor(key),onClick:onChange,key:key})}),_react2.default.createElement(_addSavedColor2.default,{onClick:addColor}))};SavedColorList.propTypes={colors:_propTypes2.default.arrayOf(_propTypes2.default.shape({color:_propTypes2.default.string,key:_propTypes2.default.string})),addColor:_propTypes2.default.func,removeColor:_propTypes2.default.func,onChange:_propTypes2.default.func},SavedColorList.defaultProps={colors:[],addColor:function(){},removeColor:function(){},onChange:function(){}},exports.default=SavedColorList},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_colorPaletteCss=__webpack_require__(94),_colorPaletteCss2=_interopRequireDefault(_colorPaletteCss),AddSavedColorButton=function(_ref){var onClick=_ref.onClick;return _react2.default.createElement("button",{className:_colorPaletteCss2.default["add-color-button"],onClick:onClick},_react2.default.createElement("i",{className:"sg-icon sg-icon-plus"}))};AddSavedColorButton.propTypes={onClick:_propTypes2.default.func},AddSavedColorButton.defaultProps={onClick:function(){}},exports.default=AddSavedColorButton},function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{!_n&&_i.return&&_i.return()}finally{if(_d)throw _e}}return _arr}return function(arr,i){if(Array.isArray(arr))return arr;if(Symbol.iterator in Object(arr))return sliceIterator(arr,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),seed=new Uint32Array(1),generateUniqueId=function(){if("crypto"in window){var _crypto$getRandomValu=crypto.getRandomValues(seed),_crypto$getRandomValu2=_slicedToArray(_crypto$getRandomValu,1),random=_crypto$getRandomValu2[0];return Date.now+"-"+random}return Date.now().toString()};exports.default=generateUniqueId},function(module,exports,__webpack_require__){var content=__webpack_require__(1452);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".colorPicker-css__picker-wrapper___2t25m{display:flex;width:100%}.colorPicker-css__picker-wrapper___2t25m label{margin-top:auto;margin-bottom:auto}.colorPicker-css__inputs-wrapper___du5C-{display:flex;margin-left:auto}.colorPicker-css__inputs-wrapper___du5C- .input-text-wrap{margin:auto;padding:0;width:75px}.colorPicker-css__inputs-wrapper___du5C- .input-text-wrap input{text-transform:uppercase}.colorPicker-css__bubble___HbswZ{width:20px;height:20px;border-radius:20px;border:1px solid rgba(69,69,69,.5);margin-left:5px;cursor:pointer;outline:none}.colorPicker-css__reset-button___27h6x{margin-right:10px;cursor:pointer}.sp-container .sp-clear.sp-clear-display{display:none}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/colorPicker.css.scss"],names:[],mappings:"AAAA,yCACE,aACA,UAAW,CAFb,+CAKI,gBACA,kBAAmB,CACpB,yCAID,aACA,gBAAiB,CAFnB,0DAKI,YACA,UACA,UAAW,CAPf,gEAUM,wBAAyB,CAC1B,iCAKH,WACA,YACA,mBACA,mCACA,gBACA,eACA,YAAa,CACd,uCAGC,kBACA,cAAe,CAChB,yCAIC,YAAa,CACd",file:"colorPicker.css.scss",sourcesContent:[".picker-wrapper {\n  display: flex;\n  width: 100%;\n\n  label {\n    margin-top: auto;\n    margin-bottom: auto;\n  }\n}\n\n.inputs-wrapper {\n  display: flex;\n  margin-left: auto;\n\n  :global .input-text-wrap {\n    margin: auto;\n    padding: 0;\n    width: 75px;\n\n    input {\n      text-transform: uppercase;\n    }\n  }\n}\n\n.bubble {\n  width: 20px;\n  height: 20px;\n  border-radius: 20px;\n  border: 1px solid rgba(69,69,69,0.5);\n  margin-left: 5px;\n  cursor: pointer;\n  outline: none;\n}\n\n.reset-button {\n  margin-right: 10px;\n  cursor: pointer;\n}\n\n// if you set allowEmpty = true, it gives a big ugly x in the color picker window, so hide that sucka\n:global .sp-container .sp-clear.sp-clear-display {\n  display: none;\n}\n"],sourceRoot:""}]),exports.locals={"picker-wrapper":"colorPicker-css__picker-wrapper___2t25m","inputs-wrapper":"colorPicker-css__inputs-wrapper___du5C-",bubble:"colorPicker-css__bubble___HbswZ","reset-button":"colorPicker-css__reset-button___27h6x"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),fontWeights=[{name:"normal",value:"normal"},{name:"bold",value:"bold"},{name:"300",value:"300"},{name:"400",value:"400"},{name:"700",value:"700"}],FontWeightSelect=function(_ref){var value=_ref.value,onChange=_ref.onChange;return _react2.default.createElement(_select2.default,{name:"font-weight",displayName:"Font Weight",placeholder:"Select Font Weight",data:fontWeights,value:value,onChange:onChange})};exports.default=FontWeightSelect},function(module,exports,__webpack_require__){var content=__webpack_require__(1455);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".quadPixelInput-css__quad-container___3PqdR{display:flex;margin-left:auto}.quadPixelInput-css__quad-container___3PqdR .input-text-wrap.has-units{width:55px;margin-left:5px}.quadPixelInput-css__quad-container___3PqdR .input-text-wrap.has-units input[type=number]{padding-left:16px}.quadPixelInput-css__quad-container___3PqdR .input-text-wrap.has-units input[type=number]::-webkit-inner-spin-button,.quadPixelInput-css__quad-container___3PqdR .input-text-wrap.has-units input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/__css__/src/views/components/editor/__css__/quadPixelInput.css.scss"],names:[],mappings:"AAAA,4CACE,aACA,gBAAiB,CAFnB,uEAKI,WACA,eAAgB,CANpB,0FASM,iBAAkB,CATxB,0OAaU,wBACA,QAAS,CACZ",file:"quadPixelInput.css.scss",sourcesContent:[".quad-container {\n  display: flex;\n  margin-left: auto;\n\n  :global .input-text-wrap.has-units {\n    width: 55px;\n    margin-left: 5px;\n\n    input[type=number] {\n      padding-left: 16px;\n\n      &::-webkit-outer-spin-button,\n      &::-webkit-inner-spin-button {\n          -webkit-appearance: none;\n          margin: 0; /* <-- Apparently some margin are still there even though it's hidden */\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={"quad-container":"quadPixelInput-css__quad-container___3PqdR"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ApplyToAllButton(props){var count=_moduleStore2.default.getAllModulesWithType(props.moduleType).length;return _react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:function(){return updateAllModulesWithType(props,count)},count:count},"Apply")}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_buttons=__webpack_require__(8),updateAllModulesWithType=function(props,count){_editorActions2.default.updateAllModulesWithType(props.propsToBeApplied,props.excludedProps,props.moduleType),_analyticsUtils2.default.trackEditor("Apply Styles To All Modules",{moduleType:props.moduleType,moduleCount:count})};ApplyToAllButton.propTypes={moduleType:_propTypes2.default.string.isRequired,propsToBeApplied:_propTypes2.default.object.isRequired,excludedProps:_propTypes2.default.array},ApplyToAllButton.defaultProps={excludedProps:[]},exports.default=ApplyToAllButton},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,"[data-role=module-styles-panel] .small{padding:20px}h4.moduleStylePanels-css__style-title___2x5X6{padding:10px 20px 6px;border-bottom:1px solid #e9ecef;color:#294661;font-size:13px;font-weight:400;margin-bottom:0;line-height:16px}[data-role=button-style-panel] h4.moduleStylePanels-css__style-title___2x5X6{border-top:1px solid #e9ecef}.moduleStylePanels-css__input-text-wrap___16iwx{margin-bottom:20px;padding:0;display:flex;align-items:center}.moduleStylePanels-css__input-text-wrap___16iwx label{font-size:13px;color:#294762;letter-spacing:1px}.moduleStylePanels-css__input-text-wrap___16iwx a,.moduleStylePanels-css__input-text-wrap___16iwx button,.moduleStylePanels-css__input-text-wrap___16iwx input{margin-left:auto}.moduleStylePanels-css__input-text-wrap___16iwx .moduleStylePanels-css__num-columns-input___2CRAN{width:30px}.moduleStylePanels-css__input-text-wrap___16iwx .input-range-wrap{margin:0 10px 0 auto}.moduleStylePanels-css__input-text-wrap___16iwx .input-text-wrap{margin:0;padding:0}.moduleStylePanels-css__input-text-wrap___16iwx .input-select-wrap{margin:0}.moduleStylePanels-css__input-text-wrap___16iwx .input-text-wrap.has-units:after{top:6px}.moduleStylePanels-css__input-text-wrap___16iwx .input-text-wrap.has-units:before{top:4px}.moduleStylePanels-css__input-text-wrap___16iwx i{margin-left:10px}.moduleStylePanels-css__style-container___1WYX2{padding:20px}.moduleStylePanels-css__style-container___1WYX2 .moduleStylePanels-css__style-container___1WYX2{padding:20px 0 0}.moduleStylePanels-css__analytics-wrappy___1msaN{margin-left:auto}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/tabs/build/stylePanels/__css__/src/views/components/editor/tabs/build/stylePanels/__css__/moduleStylePanels.css.scss"],names:[],mappings:"AAAA,uCACE,YAAa,CACd,8CAGC,sBACA,gCACA,cACA,eACA,gBACA,gBACA,gBAAiB,CAClB,6EAGC,4BAA6B,CAC9B,gDAGC,mBACA,UACA,aACA,kBAAmB,CAJrB,sDAOI,eACA,cACA,kBAAmB,CATvB,+JAaI,gBAAiB,CAbrB,kGAiBI,UAAW,CAjBf,kEAqBI,oBAAyB,CArB7B,iEAyBI,SACA,SAAU,CA1Bd,mEA8BI,QAAS,CA9Bb,iFAkCI,OAAQ,CAlCZ,kFAsCI,OAAQ,CAtCZ,kDA0CI,gBAAiB,CAClB,gDAID,YAAa,CADf,gGAII,gBAAmB,CACpB,iDAID,gBAAiB,CAClB",file:"moduleStylePanels.css.scss",sourcesContent:[':global [data-role="module-styles-panel"] .small {\n  padding: 20px;\n}\n\nh4.style-title {\n  padding: 10px 20px 6px;\n  border-bottom: 1px solid #e9ecef;\n  color: #294661;\n  font-size: 13px;\n  font-weight: 400;\n  margin-bottom: 0px;\n  line-height: 16px;\n}\n\n[data-role="button-style-panel"] h4.style-title {\n  border-top: 1px solid #e9ecef;\n}\n\n.input-text-wrap {\n  margin-bottom: 20px;\n  padding: 0;\n  display: flex;\n  align-items: center;\n\n  label {\n    font-size: 13px;\n    color: #294762;\n    letter-spacing: 1px;\n  }\n\n  button, input, a {\n    margin-left: auto;\n  }\n\n  .num-columns-input {\n    width: 30px;\n  }\n\n  :global .input-range-wrap {\n    margin: 0px 10px 0px auto;\n  }\n\n  :global .input-text-wrap {\n    margin: 0;\n    padding: 0;\n  }\n\n  :global .input-select-wrap {\n    margin: 0;\n  }\n\n  :global .input-text-wrap.has-units:after {\n    top: 6px;\n  }\n\n  :global .input-text-wrap.has-units:before {\n    top: 4px;\n  }\n\n  i {\n    margin-left: 10px;\n  }\n}\n\n.style-container {\n  padding: 20px;\n\n  .style-container {\n    padding: 20px 0 0 0;\n  }\n}\n\n.analytics-wrappy {\n  margin-left: auto;\n}\n'],sourceRoot:""}]),exports.locals={"style-title":"moduleStylePanels-css__style-title___2x5X6","input-text-wrap":"moduleStylePanels-css__input-text-wrap___16iwx","num-columns-input":"moduleStylePanels-css__num-columns-input___2CRAN","style-container":"moduleStylePanels-css__style-container___1WYX2","analytics-wrappy":"moduleStylePanels-css__analytics-wrappy___1msaN"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function updateFn(newProps){return _editorActions2.default.moduleUpdatedAtIndex(newProps,newProps.muid)}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_colorPicker=__webpack_require__(93),_textInput=__webpack_require__(18),_rangeSlider=__webpack_require__(362),_quadPixelInput=__webpack_require__(134),_quadPixelInput2=_interopRequireDefault(_quadPixelInput),_panelEnhancer=__webpack_require__(135),_panelEnhancer2=_interopRequireDefault(_panelEnhancer),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_moduleParserUtils=__webpack_require__(132),_moduleParserUtils2=_interopRequireDefault(_moduleParserUtils),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss),ColumnsPanel=_react2.default.createClass({displayName:"ColumnsPanel",colCountChanged:function(e){var newCount=e.target.value;if(!(newCount<1||newCount>4)){var prevCount=this.props.innerModules.length,newInnerModules=this.props.innerModules;if(prevCount>newCount)for(_moduleStore2.default.getColumnIdxOfSelectedModule()>newCount-1&&_editorActions2.default.moduleSelected(this.props.muid);newInnerModules.length>newCount;)newInnerModules.pop();else for(;newInnerModules.length<newCount;)newInnerModules.push([{type:_constants2.default.EDITOR.MODULES.EMPTY,muid:_moduleParserUtils2.default.genMuid()}]);updateFn($.extend(!0,{},this.props,{innerModules:newInnerModules}))}},padPxChanged:function(e){updateFn($.extend(!0,{},this.props,{columnPaddingPx:e.target.value}))},rangeStyle:function(){var barWidth=0;return 2==this.props.innerModules.length?barWidth=43:3==this.props.innerModules.length?barWidth=86:4==this.props.innerModules.length&&(barWidth=129),{backgroundPosition:barWidth+"px"}},render:function(){var _this=this;return _react2.default.createElement("div",{"data-role":"columns-style-panel"},_react2.default.createElement("h4",{className:_moduleStylePanelsCss2.default["style-title"]},"Columns"),_react2.default.createElement("section",{className:_moduleStylePanelsCss2.default["style-container"]},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:this.props.tdProps.style.backgroundColor,resetValue:"",labelText:"Background Color","data-role":"columns-background-color",onChange:function(color){return _this.props.outerHtmlStyleChanged(null,color,"tdProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Padding"),_react2.default.createElement(_quadPixelInput2.default,{value:this.props.tdProps.style.padding,"data-prop-key":"tdProps","data-style-key":"padding",onChange:this.props.outerHtmlStyleChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"column-pad-px",labelText:"Cell Padding","data-role":"column-pad-px-input",units:"px",value:this.props.columnPaddingPx,onChange:this.padPxChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Columns"),_react2.default.createElement(_rangeSlider.RangeSlider,{min:1,max:4,value:this.props.innerModules.length,onChange:this.colCountChanged,name:"col-count",initialWidth:129,dataRole:"column-count-input",getRangeStyle:this.rangeStyle}),_react2.default.createElement("div",{className:"input-text-wrap has-units","data-units":"/4"},_react2.default.createElement("input",{type:"text",className:_moduleStylePanelsCss2.default["num-columns-input"],value:this.props.innerModules.length,onChange:this.colCountChanged}))),_react2.default.createElement("div",{className:"nested-panel-wrapper"},this.props.children)))}});exports.default=(0,_panelEnhancer2.default)(ColumnsPanel,void 0,updateFn)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function CodePanel(){return _react2.default.createElement("div",{"data-role":"code-style-panel"},_react2.default.createElement("h4",{className:_moduleStylePanelsCss2.default["style-title"]},"Code"),_react2.default.createElement("section",{className:_moduleStylePanelsCss2.default["style-container"]},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Edit Code Module HTML"),_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:_editorActions2.default.editModuleHtmlClicked},"Edit"))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_buttons=__webpack_require__(8),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);exports.default=CodePanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ImagePanel(props){return _react2.default.createElement("div",{"data-role":"image-style-panel"},_react2.default.createElement("h4",{className:_moduleStylePanelsCss2.default["style-title"]},"Image"),_react2.default.createElement("section",{className:_moduleStylePanelsCss2.default["style-container"]},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Image Properties"),_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:_imageManagerActions2.default.openImageManager},"Edit")),_react2.default.createElement("hr",{className:"is-thin"}),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.tdProps.style.backgroundColor,resetValue:"",labelText:"Background Color","data-role":"image-background-color",onChange:function(color){return props.outerHtmlStyleChanged(null,color,"tdProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Margin"),_react2.default.createElement(_quadPixelInput2.default,{value:props.tdProps.style.padding,"data-prop-key":"tdProps","data-style-key":"padding",onChange:props.outerHtmlStyleChanged}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_imageManagerActions=__webpack_require__(105),_imageManagerActions2=_interopRequireDefault(_imageManagerActions),_buttons=__webpack_require__(8),_colorPicker=__webpack_require__(93),_panelEnhancer=__webpack_require__(135),_panelEnhancer2=_interopRequireDefault(_panelEnhancer),_quadPixelInput=__webpack_require__(134),_quadPixelInput2=_interopRequireDefault(_quadPixelInput),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);exports.default=(0,_panelEnhancer2.default)(ImagePanel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getToggledTextAlign(currentTextAlign){return"justify"===currentTextAlign?"inherit":"justify"}function TextPanel(props){return _react2.default.createElement("div",{"data-role":"text-style-panel"},_react2.default.createElement("h4",{className:_moduleStylePanelsCss2.default["style-title"]},"Text"),_react2.default.createElement("section",{className:_moduleStylePanelsCss2.default["style-container"]},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.tdProps.style.backgroundColor,resetValue:"",labelText:"Background Color","data-role":"text-background-color",onChange:function(color){return props.outerHtmlStyleChanged(null,color,"tdProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Padding"),_react2.default.createElement(_quadPixelInput2.default,{value:props.tdProps.style.padding,"data-prop-key":"tdProps","data-style-key":"padding",onChange:props.outerHtmlStyleChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"line-height",units:"px",hasUnitValue:!0,labelText:"Line Height","data-prop-key":"tdProps","data-style-key":"lineHeight",value:props.tdProps.style.lineHeight,onChange:props.outerHtmlStyleChanged})),_react2.default.createElement(_formInputs.CheckboxInput,{id:"justify-text-checkbox",isChecked:"justify"===props.tdProps.style.textAlign,labelText:"Justify Text",onClick:function(){return props.outerHtmlStyleChanged(null,getToggledTextAlign(props.tdProps.style.textAlign),"tdProps","textAlign")}})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_quadPixelInput=__webpack_require__(134),_quadPixelInput2=_interopRequireDefault(_quadPixelInput),_colorPicker=__webpack_require__(93),_textInput=__webpack_require__(18),_panelEnhancer=__webpack_require__(135),_panelEnhancer2=_interopRequireDefault(_panelEnhancer),_formInputs=__webpack_require__(129),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);exports.default=(0,_panelEnhancer2.default)(TextPanel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getAllPadding(paddingBottom){return"0px 0px "+(paddingBottom||"0px")+" 0px"}function SpacerPanel(props){var paddingBottom=parseInt(_jsxHtmlTranslationUtils2.default.getSplitPx(props.tdProps.style.padding)[2])||0;return _react2.default.createElement("div",{"data-role":"spacer-style-panel"},_react2.default.createElement("h4",{className:_moduleStylePanelsCss2.default["style-title"]},"Spacer"),_react2.default.createElement("section",{className:_moduleStylePanelsCss2.default["style-container"]},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.tdProps.style.backgroundColor,resetValue:"",labelText:"Background Color","data-role":"spacer-background-color",onChange:function(color){return props.outerHtmlStyleChanged(null,color,"tdProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",min:"0",name:"padding",units:"px",hasUnitValue:!0,labelText:"Spacing","data-prop-key":"tdProps","data-style-key":"padding",value:paddingBottom,onChange:function(e){return props.outerHtmlStyleChanged(e,getAllPadding(e.target.value))}}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_colorPicker=__webpack_require__(93),_textInput=__webpack_require__(18),_panelEnhancer=__webpack_require__(135),_panelEnhancer2=_interopRequireDefault(_panelEnhancer),_jsxHtmlTranslationUtils=__webpack_require__(36),_jsxHtmlTranslationUtils2=_interopRequireDefault(_jsxHtmlTranslationUtils),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);exports.default=(0,_panelEnhancer2.default)(SpacerPanel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DividerPanel(props){return _react2.default.createElement("div",{"data-role":"divider-style-panel"},_react2.default.createElement("h4",{className:_moduleStylePanelsCss2.default["style-title"]},"Divider"),_react2.default.createElement("section",{className:_moduleStylePanelsCss2.default["style-container"]},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.shallowTdProps.style.backgroundColor,resetValue:"",labelText:"Background Color","data-role":"divider-background-color",onChange:function(color){return props.outerHtmlStyleChanged(null,color,"shallowTdProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.deepTdProps.style.backgroundColor,labelText:"Line Color","data-role":"divider-line-color",onChange:function(color){return props.outerHtmlStyleChanged(null,color,"deepTdProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Padding"),_react2.default.createElement(_quadPixelInput2.default,{value:props.shallowTdProps.style.padding,"data-prop-key":"shallowTdProps","data-style-key":"padding",onChange:props.outerHtmlStyleChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"height",units:"px",hasUnitValue:!0,labelText:"Height","data-prop-key":"deepTableProps","data-style-key":"height",value:props.deepTableProps.style.height,onChange:props.outerHtmlStyleChanged}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_quadPixelInput=__webpack_require__(134),_quadPixelInput2=_interopRequireDefault(_quadPixelInput),_colorPicker=__webpack_require__(93),_textInput=__webpack_require__(18),_panelEnhancer=__webpack_require__(135),_panelEnhancer2=_interopRequireDefault(_panelEnhancer),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);exports.default=(0,_panelEnhancer2.default)(DividerPanel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function rangeStyle(size){return{backgroundPosition:sliderWidth*(size-30)/30+" px"}}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_quadPixelInput=__webpack_require__(134),_quadPixelInput2=_interopRequireDefault(_quadPixelInput),_alignmentSelector=__webpack_require__(569),_alignmentSelector2=_interopRequireDefault(_alignmentSelector),_colorPicker=__webpack_require__(93),_textInput=__webpack_require__(18),_rangeSlider=__webpack_require__(362),_panelEnhancer=__webpack_require__(135),_panelEnhancer2=_interopRequireDefault(_panelEnhancer),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss),_reactClassUtils=__webpack_require__(7),sliderWidth=129,SocialPanel=(_class=function(_React$Component){function SocialPanel(){return _classCallCheck(this,SocialPanel),_possibleConstructorReturn(this,(SocialPanel.__proto__||Object.getPrototypeOf(SocialPanel)).apply(this,arguments))}return _inherits(SocialPanel,_React$Component),_createClass(SocialPanel,[{key:"borderRadiusChanged",value:function(val){var strVal=val+"px",updatedProps={aProps:{style:{WebkitBorderRadius:strVal,MozBorderRadius:strVal,borderRadius:strVal,display:"inline-block"}}};_editorActions2.default.activeModuleUpdated($.extend(!0,{},this.props,updatedProps))}},{key:"iconUrlUpdated",value:function(e){var updatedProps={aProps:{icons:{}}};updatedProps.aProps.icons[$(e.target).data("icon-key")]={href:e.target.value},_editorActions2.default.activeModuleUpdated($.extend(!0,{},this.props,updatedProps))}},{key:"iconBackgroundColorUpdated",value:function(color){var updatedProps={aProps:{backgroundColor:color}};_editorActions2.default.activeModuleUpdated($.extend(!0,{},this.props,updatedProps))}},{key:"alignmentUpdated",value:function(align){var updatedProps={align:align};_editorActions2.default.activeModuleUpdated($.extend(!0,{},this.props,updatedProps))}},{key:"render",value:function(){var _this2=this;return _react2.default.createElement("div",{"data-role":"social-style-panel"},_react2.default.createElement("h4",{className:_moduleStylePanelsCss2.default["style-title"]},"Social"),_react2.default.createElement("section",{className:_moduleStylePanelsCss2.default["style-container"]},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:this.props.shallowTdProps.style.backgroundColor,resetValue:"",labelText:"Background Color","data-role":"social-background-color",onChange:function(color){return _this2.props.outerHtmlStyleChanged(null,color,"shallowTdProps","backgroundColor")}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:this.props.aProps.backgroundColor,labelText:"Icon Color","data-role":"social-icon-color",onChange:function(color){return _this2.iconBackgroundColorUpdated(color)},resetValue:""})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Icon Size"),_react2.default.createElement(_rangeSlider.RangeSlider,{min:30,max:60,value:parseInt(this.props.iProps.style.size,10),onChange:function(e){return _this2.props.outerHtmlStyleChanged(null,e.target.value,"iProps","size")},name:"icon-size",initialWidth:sliderWidth,dataRole:"icon-size-input",getRangeStyle:function(){return rangeStyle(parseInt(_this2.props.iProps.style.size,10))}}),_react2.default.createElement("div",{className:"input-text-wrap"},_react2.default.createElement("input",{type:"number",className:_moduleStylePanelsCss2.default["num-columns-input"],value:this.props.iProps.style.size,min:"30",onChange:function(e){return _this2.props.outerHtmlStyleChanged(null,e.target.value,"iProps","size")}}))),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Border Radius"),_react2.default.createElement(_rangeSlider.RangeSlider,{min:0,max:30,value:parseInt(this.props.aProps.style.borderRadius,10),onChange:function(e){return _this2.borderRadiusChanged(e.target.value)},name:"border-radius",initialWidth:sliderWidth,dataRole:"border-radius-input"}),_react2.default.createElement("div",{className:"input-text-wrap"},_react2.default.createElement("input",{type:"number",className:_moduleStylePanelsCss2.default["num-columns-input"],value:parseInt(this.props.aProps.style.borderRadius,10),min:"0",onChange:function(e){return _this2.borderRadiusChanged(e.target.value)}}))),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Padding"),_react2.default.createElement(_quadPixelInput2.default,{value:this.props.shallowTdProps.style.padding,"data-prop-key":"shallowTdProps","data-style-key":"padding",onChange:this.props.outerHtmlStyleChanged})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Alignment"),_react2.default.createElement(_alignmentSelector2.default,{value:this.props.align,onChange:this.alignmentUpdated})),_react2.default.createElement(_textInput.TextInput,{type:"text",name:"facebook",labelText:"Facebook","data-icon-key":"facebook",value:this.props.aProps.icons.facebook.href,onChange:function(e){return _this2.iconUrlUpdated(e)}}),_react2.default.createElement(_textInput.TextInput,{type:"text",name:"twitter",labelText:"Twitter","data-icon-key":"twitter",value:this.props.aProps.icons.twitter.href,onChange:function(e){return _this2.iconUrlUpdated(e)}}),_react2.default.createElement(_textInput.TextInput,{type:"text",name:"instagram",labelText:"Instagram","data-icon-key":"instagram",value:this.props.aProps.icons.instagram.href,onChange:function(e){return _this2.iconUrlUpdated(e)}}),_react2.default.createElement(_textInput.TextInput,{type:"text",name:"google",labelText:"Google","data-icon-key":"google",value:this.props.aProps.icons.google.href,onChange:function(e){return _this2.iconUrlUpdated(e)}}),_react2.default.createElement(_textInput.TextInput,{type:"text",name:"pinterest",labelText:"Pinterest","data-icon-key":"pinterest",value:this.props.aProps.icons.pinterest.href,onChange:function(e){return _this2.iconUrlUpdated(e)}}),_react2.default.createElement(_textInput.TextInput,{type:"text",name:"linkedin",labelText:"Linkedin","data-icon-key":"linkedin",value:this.props.aProps.icons.linkedin.href,onChange:function(e){return _this2.iconUrlUpdated(e)}})))}}]),SocialPanel}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"borderRadiusChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"borderRadiusChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"iconUrlUpdated",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"iconUrlUpdated"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"iconBackgroundColorUpdated",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"iconBackgroundColorUpdated"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"alignmentUpdated",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"alignmentUpdated"),_class.prototype),_class);exports.default=(0,_panelEnhancer2.default)(SocialPanel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_accordion=__webpack_require__(107),_emailBodyPanel=__webpack_require__(1466),_emailBodyPanel2=_interopRequireDefault(_emailBodyPanel),_contentContainerPanel=__webpack_require__(1467),_contentContainerPanel2=_interopRequireDefault(_contentContainerPanel),GlobalStylesPanel=_react2.default.createClass({displayName:"GlobalStylesPanel",componentDidMount:function(){_moduleStore2.default.addChangeListener(this.moduleStoreChanged)},componentWillUnmount:function(){_moduleStore2.default.removeChangeListener(this.moduleStoreChanged)},getInitialState:function(){return{bodyProps:_moduleStore2.default.getBodyProps(),contentContainerProps:_moduleStore2.default.getContentContainerProps(),openPanelNames:[]}},moduleStoreChanged:function(){this.setState({bodyProps:_moduleStore2.default.getBodyProps(),contentContainerProps:_moduleStore2.default.getContentContainerProps()})},onBodyChange:function(e,attr,val){var newProps=$.extend(!0,{},this.state.bodyProps);e?newProps.style[e.target.getAttribute("data-style-key")]=e.target.value:newProps.style[attr]=val,_editorActions2.default.bodyPropsUpdated(newProps)},onContentContainerChange:function(e,key,val){var newProps=$.extend(!0,{},this.state.contentContainerProps);val?newProps.style[key]=val:newProps.style[e.target.getAttribute("data-style-key")]=e.target.value,_editorActions2.default.contentContainerPropsUpdated(newProps)},onPanelToggle:function(panelName,doesAllowMultipleOpenPanels){this.setState({openPanelNames:_accordion.AccordionUtils.getOpenPanelsOnToggle(panelName,doesAllowMultipleOpenPanels,this.state.openPanelNames)})},render:function(){return _react2.default.createElement("section",{"data-role":"global-styles-panel"},void 0===this.state.bodyProps?_react2.default.createElement("span",null,"Global Styles Panel"):_react2.default.createElement(_accordion.Accordion,{onPanelToggleCb:this.onPanelToggle,openPanelNames:this.state.openPanelNames,shouldShowCaretsOnLeft:!0,doesAllowMultipleOpenPanels:!0,isEditor:!0},_react2.default.createElement(_accordion.AccordionPanel,{name:"emailBody"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Email Body")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_emailBodyPanel2.default,{style:this.state.bodyProps.style,onChange:this.onBodyChange}))),_react2.default.createElement(_accordion.AccordionPanel,{name:"contentContaienr"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Content Container")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_contentContainerPanel2.default,{style:this.state.contentContainerProps.style,onChange:this.onContentContainerChange})))))}});exports.default=GlobalStylesPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function EmailBodyPanel(props){return _react2.default.createElement("div",{"data-role":"email-body-style-panel"},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.style.backgroundColor,labelText:"Background Color","data-style-key":"backgroundColor","data-role":"email-body-background-color",onChange:function(color){return props.onChange(null,"backgroundColor",color)}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.style.color,labelText:"Text Color","data-role":"email-body-text-color","data-style-key":"color",onChange:function(color){return props.onChange(null,"color",color)}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.style.linkColor,labelText:"Link Color","data-role":"email-body-link-color","data-style-key":"linkColor",onChange:function(color){return props.onChange(null,"linkColor",color)}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_fontFamilySelect2.default,{value:props.style.fontFamily||"",onChange:function(e,val){return props.onChange(null,"fontFamily",val.value)}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"font-size",units:"px",hasUnitValue:!0,labelText:"Font Size","data-style-key":"fontSize","data-role":"email-body-font-size",value:props.style.fontSize,onChange:props.onChange})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_colorPicker=__webpack_require__(93),_textInput=__webpack_require__(18),_fontFamilySelect=__webpack_require__(593),_fontFamilySelect2=_interopRequireDefault(_fontFamilySelect),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);exports.default=EmailBodyPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ContentContainerPanel(props){var onWidthBlur=function(e){e.target.value<200&&props.onChange(null,"width","200px")};return _react2.default.createElement("div",{"data-role":"content-container-style-panel"},_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_textInput.EditorAccordionInput,{type:"number",name:"width",units:"px",hasUnitValue:!0,labelText:"Width","data-style-key":"width","data-role":"content-container-width",value:props.style.width,onChange:props.onChange,onBlurCb:onWidthBlur})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement(_colorPicker.ColorPicker,{value:props.style.backgroundColor,labelText:"Background Color","data-role":"content-container-background-color","data-style-key":"backgroundColor",onChange:function(color){return props.onChange(null,"backgroundColor",color)}})),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Padding"),_react2.default.createElement(_quadPixelInput2.default,{value:props.style.padding,onChange:function(e,padding){return props.onChange(null,"padding",padding)}})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_quadPixelInput=__webpack_require__(134),_quadPixelInput2=_interopRequireDefault(_quadPixelInput),_colorPicker=__webpack_require__(93),_textInput=__webpack_require__(18),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);exports.default=ContentContainerPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_accordion=__webpack_require__(107),_importExportPanel=__webpack_require__(1469),_importExportPanel2=_interopRequireDefault(_importExportPanel),_editHtmlHeadPanel=__webpack_require__(1470),_editHtmlHeadPanel2=_interopRequireDefault(_editHtmlHeadPanel),AdvancedPanel=_react2.default.createClass({displayName:"AdvancedPanel",propTypes:{exportArtifactName:_react2.default.PropTypes.string.isRequired,getExportContent:_react2.default.PropTypes.func.isRequired},getInitialState:function(){return{openPanelNames:[]}},onImport:function(){console.log("things happen here")},onPanelToggle:function(panelName,doesAllowMultipleOpenPanels){this.setState({openPanelNames:_accordion.AccordionUtils.getOpenPanelsOnToggle(panelName,doesAllowMultipleOpenPanels,this.state.openPanelNames)})},render:function(){return _react2.default.createElement("section",{"data-role":"advanced-panel"},_react2.default.createElement(_accordion.Accordion,{onPanelToggleCb:this.onPanelToggle,openPanelNames:this.state.openPanelNames,shouldShowCaretsOnLeft:!0,doesAllowMultipleOpenPanels:!0},_react2.default.createElement(_accordion.AccordionPanel,{name:"importExport"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Import / Export")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_importExportPanel2.default,{baseUrl:this.props.baseUrl,exportArtifactName:this.props.exportArtifactName,getExportContent:this.props.getExportContent}))),_react2.default.createElement(_accordion.AccordionPanel,{name:"editHtmlHead"},_react2.default.createElement(_accordion.PanelTitle,null,_react2.default.createElement("h4",null,"Edit HTML Head")),_react2.default.createElement(_accordion.PanelContent,null,_react2.default.createElement(_editHtmlHeadPanel2.default,{baseUrl:this.props.baseUrl})))))}});exports.default=AdvancedPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ImportExportPanel(props){function exportOnClick(e){e.preventDefault(),_exportUtils2.default.downloadExport(props.getExportContent(),props.exportArtifactName)}return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Import Drag & Drop HTML"),_react2.default.createElement(_tooltip2.default,{content:_react2.default.createElement("span",null,"Use this option to import custom drag & drop HTML using Marketing Campaigns drag & drop markup. ",_react2.default.createElement(_docsLink2.default,{href:_constants2.default.LINKS.IMPORT_HTML,analyticsKey:"learn-more_import-html"},"Learn more"),"."),position:"up"}),_react2.default.createElement(_buttons.SecondaryButtonSmall,{to:props.baseUrl+"/importhtml"},"Import")),_react2.default.createElement("hr",{className:"is-thin"}),_react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Export Template HTML"),_react2.default.createElement("span",{className:_moduleStylePanelsCss2.default["analytics-wrappy"]},_react2.default.createElement(_buttons.SecondaryButtonSmall,{href:"javascript:void[0]",onClick:exportOnClick},"Export"))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_buttons=__webpack_require__(8),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_exportUtils=__webpack_require__(175),_exportUtils2=_interopRequireDefault(_exportUtils),_docsLink=__webpack_require__(188),_docsLink2=_interopRequireDefault(_docsLink),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);ImportExportPanel.propTypes={baseUrl:_react2.default.PropTypes.string.isRequired,exportArtifactName:_react2.default.PropTypes.string.isRequired,getExportContent:_react2.default.PropTypes.func.isRequired},exports.default=ImportExportPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function editHtmlHeadPanel(props){return _react2.default.createElement("div",{className:_moduleStylePanelsCss2.default["input-text-wrap"]},_react2.default.createElement("label",null,"Edit Templates HTML Head"),_react2.default.createElement(_tooltip2.default,{content:_react2.default.createElement("span",null,"Use this option to modify the HTML head e.g. add script tags or your own custom font. ",_react2.default.createElement(_docsLink2.default,{href:_constants2.default.LINKS.EDIT_HTML_HEAD,analyticsKey:"learn-more_html-head"},"Learn more"),"."),position:"down"}),_react2.default.createElement(_buttons.SecondaryButtonSmall,{to:props.baseUrl+"/htmlhead"},"Edit"))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_docsLink=__webpack_require__(188),_docsLink2=_interopRequireDefault(_docsLink),_buttons=__webpack_require__(8),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_moduleStylePanelsCss=__webpack_require__(63),_moduleStylePanelsCss2=_interopRequireDefault(_moduleStylePanelsCss);exports.default=editHtmlHeadPanel},function(module,exports,__webpack_require__){var content=__webpack_require__(1472);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".buildAccordion-css__add-modules___OZBlR .accordion-content{padding-left:15px;padding-right:15px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/tabs/build/__css__/src/views/components/editor/tabs/build/__css__/buildAccordion.css.scss"],names:[],mappings:"AAAA,4DAEI,kBACA,kBAAmB,CACpB",file:"buildAccordion.css.scss",sourcesContent:[".add-modules {\n  :global .accordion-content {\n    padding-left: 15px;\n    padding-right: 15px;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"add-modules":"buildAccordion-css__add-modules___OZBlR"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function onSubjectChange(e){var split=e.target.name,val=$(e.target).val();_editorActions2.default.editCampaignContents("subject",val,split)}function onABChange(e){var field=e.target.name,val=parseInt($(e.target).val(),10);_editorActions2.default.editCampaignABSettings(field,val)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_testingPercentage=__webpack_require__(1474),_testingPercentage2=_interopRequireDefault(_testingPercentage),_textInput=__webpack_require__(18),_switch=__webpack_require__(133),_formInputs=__webpack_require__(129),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_reactClassUtils=__webpack_require__(7),_campaignTestingCss=__webpack_require__(1477),_campaignTestingCss2=_interopRequireDefault(_campaignTestingCss),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_abStore=__webpack_require__(184),_abStore2=_interopRequireDefault(_abStore),ABPanel=(_class=function(_React$Component){function ABPanel(){_classCallCheck(this,ABPanel);var _this=_possibleConstructorReturn(this,(ABPanel.__proto__||Object.getPrototypeOf(ABPanel)).call(this));return _this.state=_abStore2.default.getAll(),_this}return _inherits(ABPanel,_React$Component),_createClass(ABPanel,[{key:"componentDidMount",value:function(){_abStore2.default.addChangeListener(this.onCampaignEditorABStoreChange)}},{key:"componentWillUnmount",value:function(){_abStore2.default.removeChangeListener(this.onCampaignEditorABStoreChange)}},{key:"onEditSplitCount",value:function(e){var count=$(e.target).val();_editorActions2.default.editSplitCount(count,this.props.isDnd)}},{key:"onCampaignEditorABStoreChange",value:function(){this.setState(_abStore2.default.getAll())}},{key:"onABVariationChange",value:function(e){var field=e.target.name,val=parseInt($(e.target).val(),10);_editorActions2.default.editCampaignABVariationType(field,val,this.props.isDnd)}},{key:"handleABToggle",value:function(){var newState=!this.state.values.isAB;_editorActions2.default.toggleABSwitch(newState,this.props.isDnd)}},{key:"render",value:function(){var _this2=this,sharedInputProps={registerFormInput:this.props.registerFormInput,unregisterFormInput:this.props.unregisterFormInput,onChange:onABChange};return _abStore2.default.getHasFetched()?_react2.default.createElement("section",{"data-role":"ab-testing-menu",className:_campaignTestingCss2.default.panel},_react2.default.createElement("div",{className:_campaignTestingCss2.default["toggle-ab"]+" "+_campaignTestingCss2.default.label},_react2.default.createElement("h4",{className:_campaignTestingCss2.default["toggle-ab-label"]},"Activate A/B Testing"),_react2.default.createElement(_tooltip2.default,{position:"down",content:"This will turn on the A/B testing features for this campaign. Any fields related to the test on the Settings panel will be disabled."}),_react2.default.createElement(_switch.OnOffSwitch,{onClick:this.handleABToggle,isChecked:this.state.values.isAB,id:"ab-testing-toggle"})),_react2.default.createElement("hr",{className:"is-thin"}),this.state.values.isAB?_react2.default.createElement("div",{"data-role":"ab-testing-panel"},_react2.default.createElement("div",{className:_campaignTestingCss2.default["test-type-container"]},_react2.default.createElement("h3",{className:_campaignTestingCss2.default.label},"Test type"),_underscore2.default.map(this.state.data.variations,function(v){var key="varType-"+v.id;return _react2.default.createElement(_formInputs.RadioInput,_extends({id:key,key:key,isChecked:v.id===_this2.state.values.variation,name:"variation",labelText:v.type,value:""+v.id,"data-role":"variation-type-radio-btn"},sharedInputProps,{onChange:_this2.onABVariationChange}))})),_react2.default.createElement(_select2.default,_extends({name:"versionCount",displayName:"Number of Versions",data:_constants2.default.EDITOR.VERSIONS,value:this.state.values.versionCount,hasLoadedData:!0,validations:["required"]},sharedInputProps,{onChange:this.onEditSplitCount,"data-role":"version-count"})),_abStore2.default.isSubjectLineTest()?_react2.default.createElement("div",{"data-role":"email-subjects"},_react2.default.createElement("h3",{className:_campaignTestingCss2.default.label},"Email Subjects"),_underscore2.default.map(this.state.values.subjects,function(subj,split){return _react2.default.createElement(_textInput.TextInput,_extends({name:split,displayName:split,key:"testSubject-"+split,validations:["required"],value:subj},sharedInputProps,{onChange:onSubjectChange}))})):null,_react2.default.createElement("h3",{className:_campaignTestingCss2.default.label},"Sample Size"),_react2.default.createElement(_testingPercentage2.default,{onChange:onABChange,subjects:this.state.values.subjects,value:this.state.values.percentage}),_react2.default.createElement("h3",{className:_campaignTestingCss2.default.label},"Winning criteria"),_underscore2.default.map(this.state.data.types,function(t){var key="testType-"+t.id;return _react2.default.createElement("span",{key:key},_react2.default.createElement(_formInputs.RadioInput,_extends({id:key,isChecked:t.id===_this2.state.values.type,name:"type",labelText:t.type,value:""+t.id,"data-role":"test-type-radio-btn"},sharedInputProps)),_react2.default.createElement("label",{className:_campaignTestingCss2.default["winner-radio-subtext"],htmlFor:key},t.description))}),_react2.default.createElement("hr",{className:"is-thin"}),_react2.default.createElement("h3",{className:_campaignTestingCss2.default.label},"Test duration ",_react2.default.createElement(_tooltip2.default,{position:"right",content:_react2.default.createElement("div",null,"How long would you like the test to run before we send the winning version to your remaining recipients?")})),_react2.default.createElement(_select2.default,_extends({name:"duration",displayName:"Duration",data:_constants2.default.EDITOR.DURATIONS,value:this.state.values.duration,hasLoadedData:!0,validations:["required"]},sharedInputProps,{"data-role":"duration"}))):null):_react2.default.createElement("section",{"data-role":"ab-testing-menu",className:_campaignTestingCss2.default.panel},"Loading...")}}]),ABPanel}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onEditSplitCount",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onEditSplitCount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onCampaignEditorABStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onCampaignEditorABStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onABVariationChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onABVariationChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleABToggle",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleABToggle"),_class.prototype),_class);ABPanel.propTypes={isDnd:_propTypes2.default.bool.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired},exports.default=(0,_formDecorator2.default)(ABPanel)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function TestingPercentage(props){var subjPer=(props.value/_underscore2.default.size(props.subjects)).toFixed(2);return _react2.default.createElement("div",{className:_testingPercentageCss2.default["testing-percentage"]},_react2.default.createElement(_rangeSlider.PctRangeSlider,{name:"percentage",value:props.value,onChange:props.onChange,initialWidth:299}),_react2.default.createElement("div",{className:_testingPercentageCss2.default["badge-container"]},_underscore2.default.map(props.subjects,function(subj,split){return _react2.default.createElement("div",{"data-role":"test-badge",className:_testingPercentageCss2.default["test-badge"],key:split},_react2.default.createElement("span",{className:"badge "+_constants2.default.EDITOR.COLOR_SPLIT_MAP[split]},split),_react2.default.createElement("output",{htmlFor:"percentage"},subjPer,"%"))})),_react2.default.createElement("div",{className:_testingPercentageCss2.default["badge-container"]},_react2.default.createElement("span",{className:"badge is-left"},"WINNING VERSION"),_react2.default.createElement("output",{htmlFor:"percentage",className:_testingPercentageCss2.default["winning-output"]},100-props.value,"%")))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_rangeSlider=__webpack_require__(362),_testingPercentageCss=__webpack_require__(1475),_testingPercentageCss2=_interopRequireDefault(_testingPercentageCss);TestingPercentage.propTypes={onChange:_react2.default.PropTypes.func,subjects:_react2.default.PropTypes.object,value:_react2.default.PropTypes.number},exports.default=TestingPercentage},function(module,exports,__webpack_require__){var content=__webpack_require__(1476);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".testingPercentage-css__testing-percentage___1fszJ{margin-bottom:30px}.testingPercentage-css__testing-percentage___1fszJ .testingPercentage-css__badge-container___1PRBc{display:table;width:100%;margin-bottom:20px}.testingPercentage-css__testing-percentage___1fszJ .testingPercentage-css__badge-container___1PRBc .testingPercentage-css__winning-output___RCeJd{display:inline-block;font-size:13px;color:#546b81}.testingPercentage-css__testing-percentage___1fszJ .testingPercentage-css__badge-container___1PRBc .testingPercentage-css__test-badge___2ve3G{display:table-cell;text-align:center}.testingPercentage-css__testing-percentage___1fszJ .testingPercentage-css__badge-container___1PRBc .testingPercentage-css__test-badge___2ve3G output{font-size:13px;margin-top:10px;color:#546b81}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/campaigns/editor/tabs/testing/__css__/src/views/campaigns/editor/tabs/testing/__css__/testingPercentage.css.scss"],names:[],mappings:"AAAA,mDACE,kBAAmB,CADrB,mGAII,cACA,WACA,kBAAmB,CANvB,kJASM,qBACA,eACA,aAAc,CAXpB,8IAeM,mBACA,iBAAkB,CAhBxB,qJAmBQ,eACA,gBACA,aAAc,CACf",file:"testingPercentage.css.scss",sourcesContent:[".testing-percentage {\n  margin-bottom: 30px;\n  \n  .badge-container {\n    display: table;\n    width: 100%;\n    margin-bottom: 20px;\n\n    .winning-output {\n      display: inline-block;\n      font-size: 13px;\n      color: #546b81;\n    }\n\n    .test-badge {\n      display: table-cell;\n      text-align: center;\n\n      output {\n        font-size: 13px;\n        margin-top: 10px;\n        color: #546b81;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={"testing-percentage":"testingPercentage-css__testing-percentage___1fszJ","badge-container":"testingPercentage-css__badge-container___1PRBc","winning-output":"testingPercentage-css__winning-output___RCeJd","test-badge":"testingPercentage-css__test-badge___2ve3G"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1478);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".campaignTesting-css__panel___2XSXe{padding:20px;background-color:#fbfbfc;border-top:1px solid #e9ecef}.campaignTesting-css__panel___2XSXe .campaignTesting-css__label___3FR8J{margin-bottom:12px}.campaignTesting-css__panel___2XSXe .campaignTesting-css__toggle-ab___2h5qe{display:flex}.campaignTesting-css__panel___2XSXe .campaignTesting-css__toggle-ab___2h5qe .campaignTesting-css__toggle-ab-label___1PYvM{margin:auto 0}.campaignTesting-css__panel___2XSXe .campaignTesting-css__toggle-ab___2h5qe .switch{margin-left:auto}.campaignTesting-css__panel___2XSXe .campaignTesting-css__toggle-ab___2h5qe [data-tooltip]{margin:4px 0 0 5px}.campaignTesting-css__panel___2XSXe .campaignTesting-css__test-type-container___BkBod{margin-bottom:30px}.campaignTesting-css__panel___2XSXe .campaignTesting-css__test-type-container___BkBod [data-role=variation-type-radio-btn]{margin-bottom:10px}.campaignTesting-css__panel___2XSXe .input-select-wrap{margin-bottom:30px}.campaignTesting-css__panel___2XSXe .input-text-wrap{margin-bottom:10px}.campaignTesting-css__panel___2XSXe .campaignTesting-css__test-type-description___lVQI4{margin-bottom:12px}.campaignTesting-css__panel___2XSXe [data-role=email-subjects]{margin-bottom:30px}.campaignTesting-css__panel___2XSXe [data-role=test-type-radio-btn]{margin-bottom:0}.campaignTesting-css__panel___2XSXe .campaignTesting-css__winner-radio-subtext___3QjvF{font-size:13px;line-height:18px;color:#294661;margin-left:21px;margin-bottom:10px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/campaigns/editor/tabs/testing/__css__/src/views/campaigns/editor/tabs/testing/__css__/campaignTesting.css.scss"],names:[],mappings:"AAAA,oCACE,aACA,yBACA,4BAA6B,CAH/B,wEAMI,kBAAmB,CANvB,4EAUI,YAAa,CAVjB,0HAaM,aAAc,CAbpB,oFAiBM,gBAAiB,CAjBvB,2FAqBM,kBAAmB,CArBzB,sFA0BI,kBAAmB,CA1BvB,2HA6BM,kBAAmB,CA7BzB,uDAkCI,kBAAmB,CAlCvB,qDAsCI,kBAAmB,CAtCvB,wFA0CI,kBAAmB,CA1CvB,+DA8CI,kBAAmB,CA9CvB,oEAkDI,eAAgB,CAlDpB,uFAsDI,eACA,iBACA,cACA,iBACA,kBAAmB,CACpB",file:"campaignTesting.css.scss",sourcesContent:['.panel {\n  padding: 20px;\n  background-color: #FBFBFC;\n  border-top: 1px solid #e9ecef;\n\n  .label {\n    margin-bottom: 12px;\n  }\n\n  .toggle-ab {\n    display: flex;\n\n    .toggle-ab-label {\n      margin: auto 0;\n    }\n\n    :global .switch {\n      margin-left: auto;\n    }\n\n    [data-tooltip] {\n      margin: 4px 0 0 5px;\n    }\n  }\n\n  .test-type-container {\n    margin-bottom: 30px;\n\n    [data-role="variation-type-radio-btn"] {\n      margin-bottom: 10px;\n    }\n  }\n\n  :global .input-select-wrap {\n    margin-bottom: 30px;\n  }\n\n  :global .input-text-wrap {\n    margin-bottom: 10px;\n  }\n\n  .test-type-description {\n    margin-bottom: 12px;\n  }\n\n  [data-role="email-subjects"] {\n    margin-bottom: 30px;\n  }\n\n  [data-role="test-type-radio-btn"] {\n    margin-bottom: 0;\n  }\n\n  .winner-radio-subtext {\n    font-size: 13px;\n    line-height: 18px;\n    color: #294661;\n    margin-left: 21px;\n    margin-bottom: 10px;\n  }\n}\n'],sourceRoot:""}]),exports.locals={panel:"campaignTesting-css__panel___2XSXe",label:"campaignTesting-css__label___3FR8J","toggle-ab":"campaignTesting-css__toggle-ab___2h5qe","toggle-ab-label":"campaignTesting-css__toggle-ab-label___1PYvM","test-type-container":"campaignTesting-css__test-type-container___BkBod","test-type-description":"campaignTesting-css__test-type-description___lVQI4","winner-radio-subtext":"campaignTesting-css__winner-radio-subtext___3QjvF"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),CampaignABActions={fetch:function(){return $.ajax({url:"/marketing_campaigns/campaigns/ab_data.json",method:"GET",dataType:"json",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.AB.GOT_DATA,abData:json})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.CAMPAIGNS.AB.GET_DATA_ERROR,notificationType:"danger"}),console.error("Ajax error while trying to fetch ab data (types/variations)."),console.log(arguments)}})}};exports.default=CampaignABActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),baseUrl=_constants2.default.ROUTES.MAKO_API_HOST+"/asm",SuppressionGroupActions=function(){function SuppressionGroupActions(){_classCallCheck(this,SuppressionGroupActions)}return _createClass(SuppressionGroupActions,null,[{key:"fetch",value:function(){$.ajax({url:baseUrl+"/groups",method:"GET",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SUPPRESSION_GROUPS.FETCHED,suppressionGroups:json})},error:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.SUPPRESSION_GROUPS.FETCHED,suppressionGroups:[]})}})}}]),SuppressionGroupActions}();exports.default=SuppressionGroupActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getBaseUrl(){return _constants2.default.ROUTES.MAKO_API_HOST+"/ips/pools"}var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants);module.exports={fetch:function(){$.ajax({url:getBaseUrl(),method:"GET"}).done(function(data){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.IP_POOLS.FETCHED,ipPools:data})}).fail(function(){})}}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function _handleConfirmBulkDelete(selectedQueries){var hyphenatedIds=Array.from(selectedQueries.values()),listIds=(0,_functionalUtils.pipe)(function(ids){return _underscore2.default.filter(ids,function(id){return id.indexOf(_constants2.default.QUERY_TYPES.LIST)>-1})},function(ids){return _underscore2.default.map(ids,function(id){return id.split("-")[1]})})(hyphenatedIds),segmentIds=(0,_functionalUtils.pipe)(function(ids){return _underscore2.default.filter(ids,function(id){return id.indexOf(_constants2.default.QUERY_TYPES.SEGMENT)>-1})},function(ids){return _underscore2.default.map(ids,function(id){return id.split("-")[1]})})(hyphenatedIds);(0,_listActions.batchDeleteQueries)(listIds,segmentIds)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleConfirmBulkDelete=void 0;var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_headerButtons=__webpack_require__(1483),_headerButtons2=_interopRequireDefault(_headerButtons),_searchContainer=__webpack_require__(1484),_searchContainer2=_interopRequireDefault(_searchContainer),_queriesContainer=__webpack_require__(1485),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_reactClassUtils=__webpack_require__(7),_listActions=__webpack_require__(49),_functionalUtils=__webpack_require__(177);exports.handleConfirmBulkDelete=_handleConfirmBulkDelete;var App=(_class=function(_React$Component){function App(){_classCallCheck(this,App);var _this=_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).call(this));return _this.state={selectedQueries:new Set},_this}return _inherits(App,_React$Component),_createClass(App,[{key:"handleSelectedQueriesChanged",value:function(selectedQueries){this.setState({selectedQueries:selectedQueries})}},{key:"handleConfirmBulkDelete",value:function(){_handleConfirmBulkDelete(this.state.selectedQueries)}},{key:"render",value:function(){return _react2.default.createElement("article",null,_react2.default.createElement("header",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_pageTitle2.default,{title:"Contact Lists & Segments"})),_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_headerButtons2.default,{selectedCount:this.state.selectedQueries.size,onConfirmBulkDelete:this.handleConfirmBulkDelete}))),_react2.default.createElement("section",{className:"row"},_react2.default.createElement("div",{className:"col-md-3"},_react2.default.createElement(_searchContainer2.default,null))),_react2.default.createElement("section",null,_react2.default.createElement(_queriesContainer.QueriesContainer,{onSelectedQueriesChanged:this.handleSelectedQueriesChanged,selectedQueries:this.state.selectedQueries})))}}]),App}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handleSelectedQueriesChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSelectedQueriesChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleConfirmBulkDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleConfirmBulkDelete"),_class.prototype),_class);exports.default=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_buttons=__webpack_require__(8),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_confirmation=__webpack_require__(34),_reactClassUtils=__webpack_require__(7),HeaderButtons=(_class=function(_React$Component){function HeaderButtons(){_classCallCheck(this,HeaderButtons);var _this=_possibleConstructorReturn(this,(HeaderButtons.__proto__||Object.getPrototypeOf(HeaderButtons)).call(this));return _this.state={isDeleteModalOpen:!1},_this}return _inherits(HeaderButtons,_React$Component),_createClass(HeaderButtons,[{key:"handleBulkDeleteClick",value:function(){this.setState({isDeleteModalOpen:!0})}},{key:"handleBulkDeleteCancel",value:function(){this.setState({isDeleteModalOpen:!1})}},{key:"render",value:function(){return this.props.selectedCount>0?_react2.default.createElement("nav",{className:"pull-right"},_react2.default.createElement(_dropdownMenu.DropdownMenu,{count:this.props.selectedCount,labelContent:"Selected"},_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-trash",onClick:this.handleBulkDeleteClick},"Delete")),_react2.default.createElement(_confirmation.ConfirmationModal,{onCancel:this.handleBulkDeleteCancel,show:this.state.isDeleteModalOpen},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete Contact Lists or Segments?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Please confirm you want to delete these lists or segments."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{"data-dismiss-modal":!0},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.props.onConfirmBulkDelete,"data-dismiss-modal":!0},"Confirm")))):_react2.default.createElement("nav",{className:"btn-list pull-right"},_react2.default.createElement(_buttons.SecondaryButton,{icon:"segment",to:"/marketing_campaigns/ui/contacts/segment"},"Create Segment"),_react2.default.createElement(_dropdownMenu.PrimaryDropdownMenu,{labelContent:"Add Contacts",icon:"contacts-alt"},_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-csv",to:"/marketing_campaigns/ui/contacts/upload_csv"},"Upload CSV"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-contacts-alt",to:"/marketing_campaigns/ui/contacts/manual_add"},"Manual Add")))}}]),HeaderButtons}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handleBulkDeleteClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleBulkDeleteClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleBulkDeleteCancel",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleBulkDeleteCancel"),_class.prototype),_class);HeaderButtons.propTypes={onConfirmBulkDelete:_propTypes2.default.func.isRequired,selectedCount:_propTypes2.default.number.isRequired},exports.default=HeaderButtons},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_textInput=__webpack_require__(18),_reactClassUtils=__webpack_require__(7),_recipientActions=__webpack_require__(106),_recipientActions2=_interopRequireDefault(_recipientActions),SearchContainer=(_class=function(_React$Component){function SearchContainer(){_classCallCheck(this,SearchContainer);var _this=_possibleConstructorReturn(this,(SearchContainer.__proto__||Object.getPrototypeOf(SearchContainer)).call(this));return _this.state={searchValue:""},_this}return _inherits(SearchContainer,_React$Component),_createClass(SearchContainer,[{key:"handleSearchSubmit",value:function(){_recipientActions2.default.navigateToAllContactsPageWithEmailQuery(this.state.searchValue)}},{key:"handleSearchChange",value:function(e){this.setState({searchValue:e.target.value})}},{key:"render",value:function(){return _react2.default.createElement("section",null,_react2.default.createElement(_textInput.SearchTextInput,{labelText:"Search by email address",onChange:this.handleSearchChange,value:this.state.searchValue,onSubmit:this.handleSearchSubmit}))}}]),SearchContainer}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handleSearchSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSearchSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSearchChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSearchChange"),_class.prototype),_class);exports.default=SearchContainer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getQueryKey(query){return query.id?query.type+"-"+query.id:"all"}function sortQueries(queries){function truthyId(id){return id||"all"}var listIdToSegments=_underscore2.default.reduce(queries,function(memo,q){return q.type===_constants2.default.QUERY_TYPES.LIST?memo:(memo[truthyId(q.list_id)]||(memo[truthyId(q.list_id)]=[]),memo[truthyId(q.list_id)].push(q),memo)},{}),lists=_underscore2.default.filter(queries,function(q){return q.type===_constants2.default.QUERY_TYPES.LIST});return _underscore2.default.reduce(lists,function(memo,list){return memo.push(list),listIdToSegments[truthyId(list.id)]?memo.concat(listIdToSegments[truthyId(list.id)]):memo},[])}function getVisibleQueries(queries,pageCount){return sortQueries(queries).slice(0,pageCount*QUERIES_PER_PAGE)}function fetchQueryCount(query){return query.id?query.type===_constants2.default.QUERY_TYPES.LIST?_listActions2.default.fetchListAndCount(query.id):_segmentActions2.default.fetchSegmentAndCount(query.id):(0,_listActions.fetchAllCount)()}function fetchCountsForQueries(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter(function(q){return!_underscore2.default.isNumber(q.count)}).map(function(q){return fetchQueryCount(q)})}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_queriesTable=__webpack_require__(1486),_queriesTable2=_interopRequireDefault(_queriesTable),_queryRow=__webpack_require__(1487),_queryRow2=_interopRequireDefault(_queryRow),_deleteQueryConfirmationModal=__webpack_require__(1493),_deleteQueryConfirmationModal2=_interopRequireDefault(_deleteQueryConfirmationModal),_deleteAllContactsConfirmationModal=__webpack_require__(1494),_deleteAllContactsConfirmationModal2=_interopRequireDefault(_deleteAllContactsConfirmationModal),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_infinitelyScrollable=__webpack_require__(1495),_infinitelyScrollable2=_interopRequireDefault(_infinitelyScrollable),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_segmentActions=__webpack_require__(186),_segmentActions2=_interopRequireDefault(_segmentActions),_contactCountActions=__webpack_require__(594),_contactCountActions2=_interopRequireDefault(_contactCountActions),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_reactClassUtils=__webpack_require__(7),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),QUERIES_PER_PAGE=25,QueriesContainer=(_class=function(_React$Component){function QueriesContainer(props){_classCallCheck(this,QueriesContainer);var _this=_possibleConstructorReturn(this,(QueriesContainer.__proto__||Object.getPrototypeOf(QueriesContainer)).call(this,props)),queries=_listStore2.default.getAllQueries();return _this.state={queries:queries,visibleQueries:getVisibleQueries(queries,props.pageCount),isSelectAllChecked:!1,shouldShowDeleteConfirmation:!1,queryToBeDeleted:void 0,shouldDeleteQueryContacts:!1,shouldShowDeleteAllContactsConfirmation:!1},_this}return _inherits(QueriesContainer,_React$Component),_createClass(QueriesContainer,[{key:"componentDidMount",value:function(){_listActions2.default.fetchAllQueries(!1),_listStore2.default.addChangeListener(this.onListStoreChange)}},{key:"componentWillUpdate",value:function(nextProps){this.shouldLoadMoreItemsAndIsNotAtTheLastPage(nextProps)&&this.addVisibleQueries(nextProps.pageCount)}},{key:"componentWillUnmount",value:function(){_listStore2.default.removeChangeListener(this.onListStoreChange)}},{key:"onListStoreChange",value:function(){var _this2=this,oldQueries=this.state.queries,newQueries=_listStore2.default.getAllQueries();this.setState({queries:newQueries,visibleQueries:getVisibleQueries(newQueries,this.props.pageCount)},function(){_listStore2.default.getHasFetchedCollection()&&!oldQueries.length&&(_this2.props.onIsReadyForScrolling(),setTimeout(function(){return _this2.addVisibleQueries(_this2.props.pageCount)}))});var validQueries=_underscore2.default.intersection(_underscore2.default.map(newQueries,function(q){return getQueryKey(q)}),Array.from(this.props.selectedQueries.values()));validQueries.length!==this.props.selectedQueries.size&&this.props.onSelectedQueriesChanged(new Set(validQueries)),setTimeout(this.loadMissingCounts)}},{key:"loadMissingCounts",value:function(){var uncounted=this.state.visibleQueries.filter(function(q){return null===q.count&&!0!==q.isLoadingCount});_contactCountActions2.default.fetchAllCountAndFetchQueryCounts(uncounted)}},{key:"shouldLoadMoreItemsAndIsNotAtTheLastPage",value:function(nextProps){return nextProps.shouldLoadMoreItems&&nextProps.pageCount>this.props.pageCount}},{key:"addVisibleQueries",value:function(pageCount){var _this3=this,visibleQueries=getVisibleQueries(this.state.queries,pageCount),onLoadItemsAfterScroll=function(){_this3.props.onLoadItemsAfterScroll(visibleQueries.length===_this3.state.queries.length)};Promise.all(fetchCountsForQueries(visibleQueries)).then(onLoadItemsAfterScroll,onLoadItemsAfterScroll)}},{key:"handleAllCheckboxClick",value:function(e){var newSelected=new Set(this.props.selectedQueries.values()),isChecked=e.target.checked;isChecked?_underscore2.default.each(_underscore2.default.filter(this.state.queries,function(q){return""!==q.id}),function(q){return newSelected.add(getQueryKey(q))}):newSelected.clear(),this.setState({isSelectAllChecked:isChecked}),this.props.onSelectedQueriesChanged(newSelected)}},{key:"handleRowCheckboxClick",value:function(e,query){var newSelected=new Set(this.props.selectedQueries.values()),queryKey=getQueryKey(query);e.target.checked?newSelected.add(queryKey):newSelected.delete(queryKey),this.props.onSelectedQueriesChanged(newSelected)}},{key:"toggleDeleteAllContactsConfirmation",value:function(){var isVisible=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({shouldShowDeleteAllContactsConfirmation:isVisible})}},{key:"deleteAllContacts",value:function(){(0,_listActions.deleteAllContacts)(),this.setState({shouldShowDeleteAllContactsConfirmation:!1})}},{key:"toggleDeleteQueryConfirmation",value:function(){var isVisible=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],query=arguments[1],shouldDeleteQueryContacts=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.setState({shouldShowDeleteConfirmation:isVisible,queryToBeDeleted:query,shouldDeleteQueryContacts:shouldDeleteQueryContacts})}},{key:"deleteQuery",value:function(){var _state=this.state,queryToBeDeleted=_state.queryToBeDeleted,shouldDeleteQueryContacts=_state.shouldDeleteQueryContacts;this.state.queryToBeDeleted&&_contactCountActions2.default.deleteSomethingAndUpdateCounts(queryToBeDeleted,shouldDeleteQueryContacts),this.setState({shouldShowDeleteConfirmation:!1,queryToBeDeleted:void 0,shouldDeleteQueryContacts:!1})}},{key:"render",value:function(){var _this4=this;return _listStore2.default.getHasFetchedCollection()?_react2.default.createElement("section",null,_react2.default.createElement(_deleteQueryConfirmationModal2.default,{queryType:this.state.queryToBeDeleted&&this.state.queryToBeDeleted.type||"",isVisible:this.state.shouldShowDeleteConfirmation,onClickCancelDelete:function(){return _this4.toggleDeleteQueryConfirmation(!1,void 0)},shouldDeleteQueryContacts:this.state.shouldDeleteQueryContacts,onClickShouldDeleteQueryContacts:function(shouldDeleteQueryContacts){return _this4.setState({shouldDeleteQueryContacts:shouldDeleteQueryContacts})},onClickConfirmDelete:this.deleteQuery}),_react2.default.createElement(_deleteAllContactsConfirmationModal2.default,{isVisible:this.state.shouldShowDeleteAllContactsConfirmation,onClickCancelDelete:function(){return _this4.toggleDeleteAllContactsConfirmation(!1)},onClickConfirmDelete:this.deleteAllContacts}),_react2.default.createElement(_queriesTable2.default,{onAllCheckboxClick:this.handleAllCheckboxClick,isSelectAllChecked:this.state.isSelectAllChecked},_underscore2.default.map(this.state.visibleQueries,function(query){null===query.id&&console.log("bjm requesting null query");var queryKey=getQueryKey(query);return _react2.default.createElement(_queryRow2.default,{query:query,key:queryKey,className:"infinitely-scrollable-item",isList:query.type===_constants2.default.QUERY_TYPES.LIST,isChecked:_this4.props.selectedQueries.has(queryKey),onCheckboxClick:_this4.handleRowCheckboxClick,onClickRefreshCount:fetchQueryCount,onClickDelete:function(){""===query.id?_this4.toggleDeleteAllContactsConfirmation(!0):_this4.toggleDeleteQueryConfirmation(!0,query)}})}))):_react2.default.createElement(_loadingIndicator2.default,null)}}]),QueriesContainer}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onListStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onListStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"loadMissingCounts",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"loadMissingCounts"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"shouldLoadMoreItemsAndIsNotAtTheLastPage",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"shouldLoadMoreItemsAndIsNotAtTheLastPage"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addVisibleQueries",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"addVisibleQueries"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleAllCheckboxClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleAllCheckboxClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleRowCheckboxClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleRowCheckboxClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleDeleteAllContactsConfirmation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleDeleteAllContactsConfirmation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteAllContacts",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteAllContacts"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleDeleteQueryConfirmation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleDeleteQueryConfirmation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteQuery",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteQuery"),_class.prototype),_class);QueriesContainer.propTypes={onSelectedQueriesChanged:_propTypes2.default.func.isRequired,selectedQueries:_propTypes2.default.instanceOf(Set).isRequired,pageCount:_propTypes2.default.number.isRequired,shouldLoadMoreItems:_propTypes2.default.bool.isRequired,onLoadItemsAfterScroll:_propTypes2.default.func.isRequired,onIsReadyForScrolling:_propTypes2.default.func.isRequired},module.exports={QueriesContainer:(0,_infinitelyScrollable2.default)(QueriesContainer,"queries-container"),UnwrappedQueriesContainer:QueriesContainer,sortQueries:sortQueries}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function QueriesTable(props){return _react2.default.createElement("table",{className:"table-wrap has-checkboxes"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",{className:"table-checkbox"},_react2.default.createElement(_checkboxInput2.default,{"data-role":"check-all-queries",onClick:props.onAllCheckboxClick,id:"checkbox-all-queries",isChecked:props.isSelectAllChecked})),_react2.default.createElement("th",null,"Type"),_react2.default.createElement("th",null,"Lists/Segments"),_react2.default.createElement("th",null,"Contacts"),_react2.default.createElement("th",{className:"actions"},"Actions"))),_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{component:"tbody",transitionName:"infinitely-scrollable-item",transitionEnterTimeout:300,transitionLeave:!1},props.children))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_checkboxInput=__webpack_require__(152),_checkboxInput2=_interopRequireDefault(_checkboxInput);QueriesTable.propTypes={children:_propTypes2.default.node,onAllCheckboxClick:_propTypes2.default.func.isRequired,isSelectAllChecked:_propTypes2.default.bool.isRequired},QueriesTable.defaultProps={children:null},exports.default=QueriesTable},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getRoute(props,shouldEdit){return""===props.query.id?"/marketing_campaigns/ui/all_contacts":props.isList?"/marketing_campaigns/ui/lists/"+props.query.id:"/marketing_campaigns/ui/segments/"+props.query.id+(shouldEdit?"?edit=true":"")}function getDataId(props){return""===props.query.id?"global":props.query.type+"-"+props.query.id}function QueryRow(props){var queryType=""===props.query.id?"global":props.query.type,trClassname=(0,_classnames2.default)(_queryRowCss2.default.container,props.className,{"segment-item":"segment"===queryType,"is-selected":props.isChecked}),dataId=getDataId(props);return _react2.default.createElement("tr",{className:trClassname},_react2.default.createElement("td",{className:"table-checkbox"},"global"!==queryType&&_react2.default.createElement(_checkboxInput2.default,{"data-role":"select-"+dataId,isChecked:props.isChecked,onClick:function(e){return props.onCheckboxClick(e,props.query)},id:"checkbox-"+queryType+"-"+props.query.id})),_react2.default.createElement("td",{className:"cell-label"},_react2.default.createElement("span",{className:"label label-"+queryType},queryType)),_react2.default.createElement("td",{className:"list-name"},_react2.default.createElement(_reactRouter.Link,{to:getRoute(props)},props.query.name)),_react2.default.createElement("td",{className:"numeric"},_react2.default.createElement(_queryCount2.default,{query:props.query,onClickRefreshCount:props.onClickRefreshCount})),_react2.default.createElement(_actionsMenu.ActionsMenu,null,""!==props.query.id&&_react2.default.createElement(_actionsMenu.ActionsMenuItem,{"data-role":"export-"+dataId,iconClass:"sg-icon sg-icon-export",onClick:function(){return(0,_listActions.exportQuery)(props.query)}},"Export"),_react2.default.createElement(_actionsMenu.ActionsMenuItem,{"data-role":"edit-"+dataId,"data-scroll-top":!0,iconClass:"sg-icon sg-icon-pencil",to:getRoute(props,!0)},"Edit"),props.isList&&_react2.default.createElement(_actionsMenu.ActionsMenuItem,{"data-role":"make-segment-"+dataId,"data-scroll-top":!0,iconClass:"sg-icon sg-icon-segment",to:"/marketing_campaigns/ui/contacts/segment/"+props.query.id},"Create Segment"),_react2.default.createElement(_actionsMenu.ActionsMenuItem,{"data-role":"delete-"+dataId,iconClass:"sg-icon sg-icon-trash",onClick:props.onClickDelete},"global"===queryType?"Delete All Contacts":"Delete")))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_checkboxInput=__webpack_require__(152),_checkboxInput2=_interopRequireDefault(_checkboxInput),_actionsMenu=__webpack_require__(151),_queryCount=__webpack_require__(1488),_queryCount2=_interopRequireDefault(_queryCount),_listActions=__webpack_require__(49),_queryRowCss=__webpack_require__(1491),_queryRowCss2=_interopRequireDefault(_queryRowCss);QueryRow.propTypes={query:_propTypes2.default.shape({id:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,type:_propTypes2.default.string.isRequired,name:_propTypes2.default.string.isRequired,count:_propTypes2.default.number,isLoadingCount:_propTypes2.default.bool}).isRequired,className:_propTypes2.default.string.isRequired,isChecked:_propTypes2.default.bool.isRequired,isList:_propTypes2.default.bool.isRequired,onCheckboxClick:_propTypes2.default.func.isRequired,onClickDelete:_propTypes2.default.func.isRequired,onClickRefreshCount:_propTypes2.default.func.isRequired},exports.default=QueryRow},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function QueryCount(props){return props.query.isLoadingCount?_react2.default.createElement(_loadingIndicator2.default,{isFragment:!0}):_react2.default.createElement("span",{className:"query-count-container"},_underscore2.default.isNumber(props.query.count)?props.query.count:"—",_react2.default.createElement("div",{className:_queryCountCss2.default["reload-tooltip"]},_react2.default.createElement(_tooltip2.default,{content:"Refresh Contact Count",length:""},_react2.default.createElement("i",{className:"sg-icon sg-icon-reload","data-refresh-count":!0,onClick:function(){return props.onClickRefreshCount(props.query)}}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_queryCountCss=__webpack_require__(1489),_queryCountCss2=_interopRequireDefault(_queryCountCss);QueryCount.propTypes={query:_propTypes2.default.shape({id:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,type:_propTypes2.default.string.isRequired,name:_propTypes2.default.string.isRequired,count:_propTypes2.default.number,isLoadingCount:_propTypes2.default.bool}).isRequired,onClickRefreshCount:_propTypes2.default.func.isRequired},exports.default=QueryCount},function(module,exports,__webpack_require__){var content=__webpack_require__(1490);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".queryCount-css__reload-tooltip___JH8R9{margin-left:9px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/contacts/index/__css__/src/views/contacts/index/__css__/queryCount.css.scss"],names:[],mappings:"AAAA,wCACE,eAAgB,CACjB",file:"queryCount.css.scss",sourcesContent:[".reload-tooltip {\n  margin-left: 9px;\n}\n"],sourceRoot:""}]),exports.locals={"reload-tooltip":"queryCount-css__reload-tooltip___JH8R9"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1492);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".queryRow-css__container___2FcAu .numeric .query-count-container{display:flex;align-items:center}.queryRow-css__container___2FcAu .numeric .query-count-container [data-tooltip]{display:flex}.queryRow-css__container___2FcAu .numeric .query-count-container [data-refresh-count]{opacity:0;margin-left:5px;cursor:pointer;transition:opacity .3s ease}.queryRow-css__container___2FcAu:hover .numeric [data-refresh-count]{opacity:1}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/contacts/index/__css__/src/views/contacts/index/__css__/queryRow.css.scss"],names:[],mappings:"AAAA,iEAGM,aACA,kBAAmB,CAJzB,gFAMQ,YAAa,CANrB,sFASQ,UACA,gBACA,eACA,2BAA8B,CAZtC,qEAmBQ,SAAU,CACX",file:"queryRow.css.scss",sourcesContent:[".container {\n  :global .numeric {\n    .query-count-container {\n      display: flex;\n      align-items: center;\n      [data-tooltip] {\n        display: flex;\n      }\n      [data-refresh-count] {\n        opacity: 0;\n        margin-left: 5px;\n        cursor: pointer;\n        transition: opacity 300ms ease;\n      }\n    }\n  }\n  &:hover {\n    :global .numeric {\n      [data-refresh-count] {\n        opacity: 1;\n      }\n    }\n  }\n}"],sourceRoot:""}]),exports.locals={container:"queryRow-css__container___2FcAu"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DeleteQueryConfirmationModal(props){return _react2.default.createElement(_confirmation.ConfirmationModal,{show:props.isVisible,onCancel:props.onClickCancelDelete},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete "+_stringUtils2.default.capitalize(props.queryType)),_react2.default.createElement(_confirmation.ConfModalBody,null,"Please confirm you want to delete this "+props.queryType+". To also delete the contacts within this "+props.queryType+" from your account, check the box below.",_react2.default.createElement("br",null),_react2.default.createElement("br",null),_react2.default.createElement(_checkboxInput2.default,{id:"should-delete-query-contacts","data-role":"should-delete-query-contacts",isChecked:props.shouldDeleteQueryContacts,onClick:function(){return props.onClickShouldDeleteQueryContacts(!props.shouldDeleteQueryContacts)},labelText:"Delete all contacts associated with this "+props.queryType+" from my account."})),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{"data-dismiss-modal":!0,"data-role":"cancel-delete-query"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:props.onClickConfirmDelete,"data-role":"confirm-delete-query"},"Delete")))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),_buttons=__webpack_require__(8),_checkboxInput=__webpack_require__(152),_checkboxInput2=_interopRequireDefault(_checkboxInput),_confirmation=__webpack_require__(34);DeleteQueryConfirmationModal.propTypes={queryType:_propTypes2.default.string.isRequired,isVisible:_propTypes2.default.bool.isRequired,shouldDeleteQueryContacts:_propTypes2.default.bool.isRequired,onClickCancelDelete:_propTypes2.default.func.isRequired,onClickConfirmDelete:_propTypes2.default.func.isRequired,onClickShouldDeleteQueryContacts:_propTypes2.default.func.isRequired},exports.default=DeleteQueryConfirmationModal},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function DeleteAllContactsConfirmationModal(props){return _react2.default.createElement(_confirmation.ConfirmationModal,{show:props.isVisible,onCancel:props.onClickCancelDelete},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"warning-triangle"},"Delete All Contacts"),_react2.default.createElement(_confirmation.ConfModalBody,null,"You won't be able to upload any new contacts or access the campaigns  list while your contacts are being deleted.  Please make sure to back up your contacts in the event  that you want to re-upload them again later."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{"data-dismiss-modal":!0,"data-role":"cancel-delete-all-contacts"},"Cancel"),_react2.default.createElement(_buttons.CustomButton,{buttonClassName:"btn-small btn-danger",onClick:props.onClickConfirmDelete,"data-role":"confirm-delete-all-contacts"},"Delete All Contacts")))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_buttons=__webpack_require__(8),_confirmation=__webpack_require__(34);DeleteAllContactsConfirmationModal.propTypes={isVisible:_propTypes2.default.bool.isRequired,onClickCancelDelete:_propTypes2.default.func.isRequired,onClickConfirmDelete:_propTypes2.default.func.isRequired},exports.default=DeleteAllContactsConfirmationModal},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function hasReachedBottom(scrollY){return document.body.scrollHeight-scrollY-BOTTOM_SCROLL_BUFFER<=$(window).height()}function InfinitelyScrollable(ComposedCmp,storagePrefix){var _class;return _class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.storagePrefix=storagePrefix,_this.state={isReadyForScrolling:!1,haveAllItemsBeenLoaded:!1,shouldLoadMoreItems:!1,pageCount:1},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentWillMount",value:function(){this.loadSavedState()}},{key:"componentDidMount",value:function(){var _this2=this;$(window).on("scroll",this.onScroll),MemoryUtils.registerUnloadCb(function(){return MemoryUtils.deleteState(_this2.storagePrefix,STORAGE_PROPS)})}},{key:"componentWillUnmount",value:function(){$(window).off("scroll",this.onScroll),$(window).scrollTop(0),this.saveState(this.state)}},{key:"loadSavedState",value:function(){var _this3=this;MemoryUtils.performWithSavedState(this.storagePrefix,function(){var state=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},newState=_underscore2.default.omit(state,function(value){return null==value});_this3.setState(newState)},STORAGE_PROPS)}},{key:"saveState",value:function(state){MemoryUtils.saveState(this.storagePrefix,state)}},{key:"onLoadItemsAfterScroll",value:function(){var haveAllItemsBeenLoaded=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({shouldLoadMoreItems:!1,haveAllItemsBeenLoaded:haveAllItemsBeenLoaded})}},{key:"onIsReadyForScrolling",value:function(){this.setState({isReadyForScrolling:!0})}},{key:"onScroll",value:function(){var _this4=this;if(!this.state.shouldLoadMoreItems){var lastScrollPosition=window.scrollY;window.requestAnimationFrame(function(){hasReachedBottom(lastScrollPosition)&&!_this4.state.haveAllItemsBeenLoaded&&_this4.setState({shouldLoadMoreItems:!0,pageCount:_this4.state.pageCount+1})})}}},{key:"render",value:function(){return _react2.default.createElement("div",{className:_infinitelyScrollableCss2.default.container,"data-infinitely-scrollable":!0},_react2.default.createElement("section",{className:"items-collection-container"},_react2.default.createElement(ComposedCmp,_extends({onLoadItemsAfterScroll:this.onLoadItemsAfterScroll,onIsReadyForScrolling:this.onIsReadyForScrolling},this.props,this.state))),_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{component:"section",className:"loading-status-container",transitionName:"status",transitionEnterTimeout:500,transitionLeave:!1},this.state.shouldLoadMoreItems&&_react2.default.createElement(_loadingIndicator2.default,{isFragment:!0}),this.state.isReadyForScrolling&&!this.state.shouldLoadMoreItems&&_react2.default.createElement("p",{className:"colfax is-size-h3"},this.state.haveAllItemsBeenLoaded?"You've reached the end of your contact lists and segments.":"Scroll down to load more items.")))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"loadSavedState",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"loadSavedState"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"saveState",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"saveState"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onLoadItemsAfterScroll",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onLoadItemsAfterScroll"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onIsReadyForScrolling",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onIsReadyForScrolling"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onScroll",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onScroll"),_class.prototype),_class}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.hasReachedBottom=hasReachedBottom;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_memoryUtils=__webpack_require__(127),MemoryUtils=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_memoryUtils),_reactClassUtils=__webpack_require__(7),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_infinitelyScrollableCss=__webpack_require__(1496),_infinitelyScrollableCss2=_interopRequireDefault(_infinitelyScrollableCss),BOTTOM_SCROLL_BUFFER=100,STORAGE_PROPS=["pageCount","haveAllItemsBeenLoaded"];exports.default=InfinitelyScrollable},function(module,exports,__webpack_require__){var content=__webpack_require__(1497);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".infinitelyScrollable-css__container___pDiPC .loading-status-container{display:flex;justify-content:center;align-items:center}.infinitelyScrollable-css__container___pDiPC .loading-status-container .status-enter{opacity:.01}.infinitelyScrollable-css__container___pDiPC .loading-status-container .status-enter.status-enter-active{opacity:1;transition:opacity .5s ease-in}.infinitelyScrollable-css__container___pDiPC .items-collection-container .infinitely-scrollable-item-enter{opacity:.01}.infinitelyScrollable-css__container___pDiPC .items-collection-container .infinitely-scrollable-item-enter.infinitely-scrollable-item-enter-active{opacity:1;transition:opacity .3s ease-in}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/hoc/__css__/src/views/components/hoc/__css__/infinitelyScrollable.css.scss"],names:[],mappings:"AAAA,uEAEI,aACA,uBACA,kBAAmB,CAJvB,qFAMM,WAAa,CANnB,yGAQQ,UACA,8BAAiC,CATzC,2GAeM,WAAa,CAfnB,mJAiBQ,UACA,8BAAiC,CAClC",file:"infinitelyScrollable.css.scss",sourcesContent:[".container {\n  :global .loading-status-container {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    .status-enter {\n      opacity: 0.01;\n      &.status-enter-active {\n        opacity: 1;\n        transition: opacity 500ms ease-in;\n      }\n    }\n  }\n  :global .items-collection-container {\n    .infinitely-scrollable-item-enter {\n      opacity: 0.01;\n      &.infinitely-scrollable-item-enter-active {\n        opacity: 1;\n        transition: opacity 300ms ease-in;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={container:"infinitelyScrollable-css__container___pDiPC"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_breadcrumbs=__webpack_require__(369),_breadcrumbs2=_interopRequireDefault(_breadcrumbs),_buttons=__webpack_require__(8),_segmentBuilder=__webpack_require__(351),_segmentBuilder2=_interopRequireDefault(_segmentBuilder),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_reactClassUtils=__webpack_require__(7),NewSegment=(_class=function(_React$Component){function NewSegment(){_classCallCheck(this,NewSegment);var _this=_possibleConstructorReturn(this,(NewSegment.__proto__||Object.getPrototypeOf(NewSegment)).call(this));return _this.state={onSave:$.Deferred()},_this}return _inherits(NewSegment,_React$Component),_createClass(NewSegment,[{key:"handleSaveContextChanged",value:function(onSave){this.setState({onSave:onSave})}},{key:"handleSave",value:function(){var saveDeferred=this.state.onSave();saveDeferred&&saveDeferred.then(function(){_locationUtils2.default.router.push("/marketing_campaigns/ui/contacts")})}},{key:"render",value:function(){return _react2.default.createElement("article",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("header",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 content-header"},_react2.default.createElement(_breadcrumbs2.default,null,_react2.default.createElement(_reactRouter.Link,{to:"/marketing_campaigns/ui/contacts"},"Contacts")),_react2.default.createElement("h1",null,"Create New Segment"),_react2.default.createElement("div",{className:"btn-list"},_react2.default.createElement(_buttons.PrimaryButton,{onClick:this.handleSave},"Save Segment")))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},_react2.default.createElement(_segmentBuilder2.default,{analyticsSource:"contacts",onSubmitContextChange:this.handleSaveContextChanged,initialSegmentedList:this.props.params.listId}))))}}]),NewSegment}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handleSaveContextChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSaveContextChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSave",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSave"),_class.prototype),_class);NewSegment.propTypes={params:_propTypes2.default.shape({listId:_propTypes2.default.string}).isRequired},exports.default=NewSegment},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_formContainer=__webpack_require__(1500),_formContainer2=_interopRequireDefault(_formContainer),_breadcrumbs=__webpack_require__(369),_breadcrumbs2=_interopRequireDefault(_breadcrumbs),_buttons=__webpack_require__(8),_reactClassUtils=__webpack_require__(7),ManualAdd=(_class=function(_React$Component){function ManualAdd(){_classCallCheck(this,ManualAdd);var _this=_possibleConstructorReturn(this,(ManualAdd.__proto__||Object.getPrototypeOf(ManualAdd)).call(this));return _this.state={canSave:!1,handleSave:function(){}},_this}return _inherits(ManualAdd,_React$Component),_createClass(ManualAdd,[{key:"handleSubmitContextChanged",value:function(handleSave){this.setState({handleSave:handleSave})}},{key:"handleIsValidChanged",value:function(canSave){this.setState({canSave:canSave})}},{key:"render",value:function(){return _react2.default.createElement("article",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("header",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 content-header"},_react2.default.createElement(_breadcrumbs2.default,null,_react2.default.createElement(_reactRouter.Link,{to:"/marketing_campaigns/ui/contacts"},"Contacts")),_react2.default.createElement("h1",null,"Add Contacts Manually"),_react2.default.createElement("div",{className:"btn-list"},_react2.default.createElement(_buttons.PrimaryButton,{onClick:this.state.handleSave,disabled:!this.state.canSave},"Save Contact")))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12"},_react2.default.createElement("p",null,"Please note that the contact will not receive a confirmation email."),_react2.default.createElement(_formContainer2.default,{onSubmitContextChanged:this.handleSubmitContextChanged,onIsValidChanged:this.handleIsValidChanged}))))}}]),ManualAdd}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handleSubmitContextChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmitContextChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleIsValidChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleIsValidChanged"),_class.prototype),_class);exports.default=ManualAdd},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_listFormPresenter=__webpack_require__(189),_formPresenter=__webpack_require__(1504),_formPresenter2=_interopRequireDefault(_formPresenter),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_contactCountActions=__webpack_require__(594),_contactCountActions2=_interopRequireDefault(_contactCountActions),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_reactClassUtils=__webpack_require__(7),FormContainer=(_class=function(_React$Component){function FormContainer(){_classCallCheck(this,FormContainer);var _this=_possibleConstructorReturn(this,(FormContainer.__proto__||Object.getPrototypeOf(FormContainer)).call(this)),lists=_listStore2.default.getLists();return _this.state={selectedAddToListOption:_listFormPresenter.ADD_TO_LIST_OPTIONS.ALL_CONTACTS,lists:lists,listToAddTo:lists[0]?lists[0].id:"",listName:"",firstName:"",lastName:"",email:""},_this}return _inherits(FormContainer,_React$Component),_createClass(FormContainer,[{key:"componentDidMount",value:function(){_listActions2.default.fetchAllQueries(),_listStore2.default.addChangeListener(this.handleListStoreChange),this.props.onSubmitContextChanged(this.handleSave)}},{key:"componentDidUpdate",value:function(prevProps,prevState){prevState.listToAddTo===this.state.listToAddTo&&prevState.listName===this.state.listName&&prevState.email===this.state.email&&prevState.selectedAddToListOption===this.state.selectedAddToListOption||this.props.onIsValidChanged(this.props.isValid())}},{key:"componentWillUnmount",value:function(){_listStore2.default.removeChangeListener(this.handleListStoreChange)}},{key:"getListToWhichRecipientsShouldBeAdded",value:function(){switch(this.state.selectedAddToListOption){case _listFormPresenter.ADD_TO_LIST_OPTIONS.ALL_CONTACTS:return{};case _listFormPresenter.ADD_TO_LIST_OPTIONS.EXISTING:return{listId:this.state.listToAddTo};case _listFormPresenter.ADD_TO_LIST_OPTIONS.NEW:return{listName:this.state.listName};default:return{}}}},{key:"handleListStoreChange",value:function(){var lists=_listStore2.default.getLists();this.setState({lists:lists,listToAddTo:lists[0]?lists[0].id:""})}},{key:"handleSelectedAddToListOptionChanged",value:function(e){this.setState({selectedAddToListOption:e.target.value}),this.props.onIsValidChanged(this.props.isValid())}},{key:"handleListChanged",value:function(e){"list-name"===e.target.name?this.setState({listName:e.target.value}):this.setState({listToAddTo:e.target.value}),this.props.onIsValidChanged(this.props.isValid())}},{key:"handleProfileChanged",value:function(e){this.setState(_defineProperty({},e.target.name,e.target.value)),this.props.onIsValidChanged(this.props.isValid())}},{key:"handleSave",value:function(){var list=this.getListToWhichRecipientsShouldBeAdded(),allLists=_listStore2.default.getLists(),allSegments=_listStore2.default.getSegments(),queriesToCount=_listStore2.default.getQueriesToCount(list,allLists,allSegments),recipient={firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email};_contactCountActions2.default.addContactAndUpdateCounts(list,recipient,queriesToCount).then(function(){_locationUtils2.default.router.push("/marketing_campaigns/ui/contacts/")})}},{key:"render",value:function(){return _react2.default.createElement(_formPresenter2.default,{lists:this.state.lists,listToAddTo:this.state.listToAddTo,listName:this.state.listName,onListChanged:this.handleListChanged,firstName:this.state.firstName,lastName:this.state.lastName,email:this.state.email,onProfileChanged:this.handleProfileChanged,selectedAddToListOption:this.state.selectedAddToListOption,onSelectedAddToListOptionChanged:this.handleSelectedAddToListOptionChanged,registerFormInput:this.props.registerFormInput,unregisterFormInput:this.props.unregisterFormInput})}}]),FormContainer}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getListToWhichRecipientsShouldBeAdded",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getListToWhichRecipientsShouldBeAdded"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleListStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleListStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSelectedAddToListOptionChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSelectedAddToListOptionChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleListChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleListChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleProfileChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleProfileChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSave",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSave"),_class.prototype),_class);FormContainer.propTypes={onSubmitContextChanged:_propTypes2.default.func.isRequired,onIsValidChanged:_propTypes2.default.func.isRequired,isValid:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired},exports.default=(0,_formDecorator2.default)(FormContainer)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getListNamesForValidation(lists,propsVal){return{items:lists.map(function(list){return list.name.toLowerCase()}).concat(propsVal.toLowerCase()),test:function(q){return q.toLowerCase()}}}function ListPicker(props){return _react2.default.createElement("section",null,props.selectedAddToListOption===_listFormPresenter.ADD_TO_LIST_OPTIONS.EXISTING&&_react2.default.createElement(_select2.default,{options:{minimumResultsForSearch:-1,width:"100%"},name:"list-to-add-to",validations:["required"],value:props.listToAddTo,data:props.lists.map(function(_ref){return{name:_ref.name,value:_ref.id}}),disabled:0===props.lists.length,shouldValidate:!0,showLabel:!0,displayName:"Add contacts to an existing list",placeholder:"Select list",onChange:props.onListChanged,registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput}),props.selectedAddToListOption===_listFormPresenter.ADD_TO_LIST_OPTIONS.NEW&&_react2.default.createElement(_textInput.TextInput,{labelText:"Create a new list",displayName:"Create a new list",name:"list-name",validations:["required","unique"],getCollection:function(){return getListNamesForValidation(props.lists,props.listName)},value:props.listName,onChange:props.onListChanged,registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput}))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_textInput=__webpack_require__(18),_listFormPresenter=__webpack_require__(189);ListPicker.propTypes={lists:_propTypes2.default.arrayOf(_propTypes2.default.shape({name:_propTypes2.default.string})).isRequired,listName:_propTypes2.default.string.isRequired,listToAddTo:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,selectedAddToListOption:_propTypes2.default.string.isRequired,onListChanged:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired},exports.default=ListPicker},function(module,exports,__webpack_require__){var content=__webpack_require__(1503);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".listFormPresenter-css__list-form-presenter___1RHBp{margin-bottom:40px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/contacts/__css__/src/views/contacts/__css__/listFormPresenter.css.scss"],names:[],mappings:"AAAA,oDACE,kBAAmB,CACpB",file:"listFormPresenter.css.scss",sourcesContent:[".list-form-presenter {\n  margin-bottom: 40px;\n}\n"],sourceRoot:""}]),exports.locals={"list-form-presenter":"listFormPresenter-css__list-form-presenter___1RHBp"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function FormPresenter(props){return _react2.default.createElement(_form2.default,null,_react2.default.createElement(_listFormPresenter2.default,{selectedAddToListOption:props.selectedAddToListOption,listToAddTo:props.listToAddTo,listName:props.listName,lists:props.lists,onListChanged:props.onListChanged,onSelectedAddToListOptionChanged:props.onSelectedAddToListOptionChanged,registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput}),_react2.default.createElement("h2",null,"Contact Info"),_react2.default.createElement("section",{className:"row"},_react2.default.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-xs-3"},_react2.default.createElement(_textInput.TextInput,{labelText:"First name",displayName:"First name",name:"firstName",validations:[],value:props.firstName,onChange:props.onProfileChanged,registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput})),_react2.default.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-xs-3"},_react2.default.createElement(_textInput.TextInput,{labelText:"Last name",displayName:"Last name",name:"lastName",validations:[],value:props.lastName,onChange:props.onProfileChanged,registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput})),_react2.default.createElement("div",{className:"col-lg-3 col-md-3 col-sm-3 col-xs-3"},_react2.default.createElement(_textInput.TextInput,{labelText:"Email",displayName:"Email",name:"email",validations:["required","email"],value:props.email,onChange:props.onProfileChanged,registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput,maxLength:254}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_listFormPresenter=__webpack_require__(189),_listFormPresenter2=_interopRequireDefault(_listFormPresenter),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_textInput=__webpack_require__(18);FormPresenter.propTypes={lists:_propTypes2.default.arrayOf(_propTypes2.default.shape({name:_propTypes2.default.string})).isRequired,listName:_propTypes2.default.string.isRequired,listToAddTo:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,firstName:_propTypes2.default.string.isRequired,lastName:_propTypes2.default.string.isRequired,email:_propTypes2.default.string.isRequired,selectedAddToListOption:_propTypes2.default.string.isRequired,onSelectedAddToListOptionChanged:_propTypes2.default.func.isRequired,onListChanged:_propTypes2.default.func.isRequired,onProfileChanged:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired},exports.default=FormPresenter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getRebuiltHeaders(headers){return headers.map(function(h){return _extends({},h,{should_be_saved:!h.shouldBeIgnored})})}function checkIfEmailExists(parseResult){return parseResult.csvData.data[0].filter(function(header){var lcHeader=header.toLowerCase();return lcHeader.indexOf("email")>-1||lcHeader.indexOf("e-mail")>-1}).length>0}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_step=__webpack_require__(1506),_step2=_interopRequireDefault(_step),_step3=__webpack_require__(1521),_step4=_interopRequireDefault(_step3),_breadcrumbs=__webpack_require__(369),_breadcrumbs2=_interopRequireDefault(_breadcrumbs),_progress=__webpack_require__(1526),_uploadProgress=__webpack_require__(1531),_uploadProgress2=_interopRequireDefault(_uploadProgress),_buttons=__webpack_require__(8),_uploadActions=__webpack_require__(1535),_listActions=__webpack_require__(49),_customFieldActions=__webpack_require__(83),_notificationActions=__webpack_require__(100),_notificationActions2=_interopRequireDefault(_notificationActions),_reactClassUtils=__webpack_require__(7),_csvUtils=__webpack_require__(1536),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_exceedingFreeContactsWarning=__webpack_require__(1538),_exceedingFreeContactsWarning2=_interopRequireDefault(_exceedingFreeContactsWarning),_listFormPresenter=__webpack_require__(189),UploadCsv=(_class=function(_React$Component){function UploadCsv(){_classCallCheck(this,UploadCsv);var _this=_possibleConstructorReturn(this,(UploadCsv.__proto__||Object.getPrototypeOf(UploadCsv)).call(this));return _this.state={step:0,canSave:!0,csvData:null,newContactCount:0,savedContactCount:0,file:null,isUploading:!1,selectedAddToListOption:_listFormPresenter.ADD_TO_LIST_OPTIONS.ALL_CONTACTS,listName:"",listToAddTo:"",warnUserAboutContactLimit:!1,uploadCancelled:!1,isUserExceedingContactLimit:!1},_this}return _inherits(UploadCsv,_React$Component),_createClass(UploadCsv,[{key:"componentDidMount",value:function(){_listStore2.default.addChangeListener(this.listStoreChanged),(0,_listActions.fetchAllCount)()}},{key:"componentWillUnmount",value:function(){_listStore2.default.removeChangeListener(this.listStoreChanged)}},{key:"getCurrentStep",value:function(){return 0===this.state.step?_react2.default.createElement(_step2.default,{selectedAddToListOption:this.state.selectedAddToListOption,listName:this.state.listName,listToAddTo:this.state.listToAddTo,droppedFile:this.state.file,onNextStep:this.handleNextStep,onFileDropped:this.handleFileDropped,onSelectedAddToListOptionChanged:this.handleselectedAddToListOptionChanged,onListChanged:this.handleListChanged,uploadCancelled:this.state.uploadCancelled,isUserExceedingContactLimit:this.state.isUserExceedingContactLimit,setWhetherUserExceedsFreeContacts:this.setWhetherUserExceedsFreeContacts,csvData:this.state.csvData}):_react2.default.createElement(_step4.default,{csvData:this.state.csvData,onUpdateHeader:this.handleHeadersChanged})}},{key:"setWhetherUserExceedsFreeContacts",value:function(){var exceeds=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],callback=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};this.setState({isUserExceedingContactLimit:exceeds},callback)}},{key:"getListToWhichRecipientsShouldBeAdded",value:function(){switch(this.state.selectedAddToListOption){case _listFormPresenter.ADD_TO_LIST_OPTIONS.ALL_CONTACTS:return"";case _listFormPresenter.ADD_TO_LIST_OPTIONS.EXISTING:return this.state.listToAddTo;case _listFormPresenter.ADD_TO_LIST_OPTIONS.NEW:return this.state.listName;default:return""}}},{key:"listStoreChanged",value:function(){this.setState({savedContactCount:_listStore2.default.getAllContactsSize()})}},{key:"handleNextStep",value:function(){this.setState({step:this.state.step+1})}},{key:"handleGoToFirstStep",value:function(){this.setState({step:0})}},{key:"handleFileDropped",value:function(file){function onParseError(){_notificationActions2.default.add(_constants2.default.NOTIFICATIONS.UPLOADS.CSV_PARSE_FAILED,"danger")}this.setState({file:file,csvData:null}),file&&(0,_csvUtils.parse)(file).then(this.handleFileParsed).catch(onParseError)}},{key:"checkIfContactLimitExceeded",value:function(){this.state.savedContactCount<2001&&(this.state.savedContactCount+this.state.newContactCount>2e3&&"contacts"===_currentUserStore2.default.getPricingModel()?this.toggleWarningAboutExceedingFreeContacts():this.setWhetherUserExceedsFreeContacts(!1))}},{key:"handleFileParsed",value:function(parseResult){checkIfEmailExists(parseResult)?this.setState({csvData:parseResult.csvData,newContactCount:parseResult.count},this.checkIfContactLimitExceeded):_notificationActions2.default.add(_constants2.default.NOTIFICATIONS.UPLOADS.CSV_NO_EMAIL,"danger")}},{key:"handleHeadersChanged",value:function(headers,isValid){this.setState({canSave:isValid}),this.rebuiltHeaders=getRebuiltHeaders(headers)}},{key:"handleselectedAddToListOptionChanged",value:function(e){this.setState({selectedAddToListOption:e.target.value})}},{key:"handleListChanged",value:function(e){"list-name"===e.target.name?this.setState({listName:e.target.value}):"list-to-add-to"===e.target.name&&this.setState({listToAddTo:e.target.value})}},{key:"handleSave",value:function(){var _this2=this;(0,_customFieldActions.createMany)(this.rebuiltHeaders).then(function(){_this2.handleUploadCsv()})}},{key:"handleUploadCsv",value:function(){function uploadFinished(){_locationUtils2.default.router.push("/marketing_campaigns/ui/contacts")}var list=this.getListToWhichRecipientsShouldBeAdded();this.state.selectedAddToListOption===_listFormPresenter.ADD_TO_LIST_OPTIONS.NEW?(0,_uploadActions.uploadCsvToNew)(this.state.file,list,this.rebuiltHeaders,this.state.csvData.meta.delimiter).then(uploadFinished).catch(uploadFinished):(0,_uploadActions.uploadCsvToExisting)(this.state.file,list,this.rebuiltHeaders,this.state.csvData.meta.delimiter).then(uploadFinished).catch(uploadFinished),this.setState({isUploading:!0})}},{key:"toggleWarningAboutExceedingFreeContacts",value:function(){this.setState({warnUserAboutContactLimit:!this.state.warnUserAboutContactLimit})}},{key:"cancelUpload",value:function(){var _this3=this;this.setState({uploadCancelled:!0,warnUserAboutContactLimit:!1},function(){_this3.setWhetherUserExceedsFreeContacts(!1),_this3.setState({uploadCancelled:!1})})}},{key:"render",value:function(){return _react2.default.createElement("article",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("header",{className:"col-lg-12 col-md-12 col-sm-12 col-xs-12 content-header"},_react2.default.createElement(_breadcrumbs2.default,null,_react2.default.createElement(_reactRouter.Link,{to:"/marketing_campaigns/ui/contacts"},"Contacts")),_react2.default.createElement("h1",null,"Upload CSV"),_react2.default.createElement("div",{className:"btn-list"},1===this.state.step&&_react2.default.createElement(_buttons.PrimaryButton,{"data-role":"upload-csv-save-contacts",onClick:this.handleSave,disabled:!this.state.canSave},"Save Contacts"))),_react2.default.createElement(_exceedingFreeContactsWarning2.default,{show:this.state.warnUserAboutContactLimit,hide:this.toggleWarningAboutExceedingFreeContacts,setWhetherUserExceedsFreeContacts:this.setWhetherUserExceedsFreeContacts,cancelUpload:this.cancelUpload})),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("section",{className:"col-lg-2 col-md-2 col-sm-2 col-xs-2"},_react2.default.createElement(_progress.ProgressContainer,{isVertical:!0},_react2.default.createElement(_progress.ProgressStage,{isSelected:0===this.state.step,isDone:1===this.state.step,onClick:this.handleGoToFirstStep},"Upload CSV"),_react2.default.createElement(_progress.ProgressStage,{isSelected:1===this.state.step},"Assign Fields"))),_react2.default.createElement("section",{className:"col-lg-10 col-md-10 col-sm-10 col-xs-10"},this.getCurrentStep())),this.state.isUploading&&_react2.default.createElement(_uploadProgress2.default,null))}}]),UploadCsv}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getCurrentStep",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getCurrentStep"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setWhetherUserExceedsFreeContacts",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"setWhetherUserExceedsFreeContacts"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getListToWhichRecipientsShouldBeAdded",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getListToWhichRecipientsShouldBeAdded"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"listStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"listStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleNextStep",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleNextStep"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleGoToFirstStep",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleGoToFirstStep"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleFileDropped",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleFileDropped"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"checkIfContactLimitExceeded",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"checkIfContactLimitExceeded"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleFileParsed",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleFileParsed"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleHeadersChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleHeadersChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleselectedAddToListOptionChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleselectedAddToListOptionChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleListChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleListChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSave",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSave"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleUploadCsv",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleUploadCsv"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleWarningAboutExceedingFreeContacts",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleWarningAboutExceedingFreeContacts"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"cancelUpload",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"cancelUpload"),_class.prototype),_class);exports.default=UploadCsv},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_csvDownloadLink=__webpack_require__(1507),_csvDownloadLink2=_interopRequireDefault(_csvDownloadLink),_listFormPresenter=__webpack_require__(189),_listFormPresenter2=_interopRequireDefault(_listFormPresenter),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_withQueries=__webpack_require__(1508),_withQueries2=_interopRequireDefault(_withQueries),_buttons=__webpack_require__(8),_dropzone=__webpack_require__(595),_dropzone2=_interopRequireDefault(_dropzone),_byteUtils=__webpack_require__(370),_byteUtils2=_interopRequireDefault(_byteUtils),_reactClassUtils=__webpack_require__(7),_inlineAlert=__webpack_require__(1517),_inlineAlert2=_interopRequireDefault(_inlineAlert),_uploadCsvCss=__webpack_require__(597),_uploadCsvCss2=_interopRequireDefault(_uploadCsvCss),Step1=(_class=function(_React$Component){function Step1(props){_classCallCheck(this,Step1);var _this=_possibleConstructorReturn(this,(Step1.__proto__||Object.getPrototypeOf(Step1)).call(this,props));return _this.state={isFileDropped:!!props.droppedFile,isValid:!1},_this}return _inherits(Step1,_React$Component),_createClass(Step1,[{key:"componentWillReceiveProps",value:function(){this.props.uploadCancelled&&this.handleFileRemoved()}},{key:"componentDidUpdate",value:function(prevProps,prevState){var isNowValid=this.props.isValid();prevState.isValid!==isNowValid&&this.setState({isValid:isNowValid})}},{key:"handleFilesDropped",value:function(props,validFiles){validFiles.length>0&&(this.props.onFileDropped(validFiles[0]),this.setState({isFileDropped:!0}))}},{key:"handleFileRemoved",value:function(){var _this2=this;this.props.setWhetherUserExceedsFreeContacts(!1,function(){_this2.props.onFileDropped(null),_this2.setState({isFileDropped:!1})})}},{key:"render",value:function(){return _react2.default.createElement("article",{"data-role":"csv-upload-step-1"},_react2.default.createElement("p",null,"It's"," important for your deliverability that everyone you send to has given you explicit permission to email them. SendGrid does not allow purchased or rented lists. Please ",_react2.default.createElement("a",{href:"https://sendgrid.com/email_policy",target:"_blank",rel:"noopener noreferrer"},"read our policy")," for more details."),_react2.default.createElement(_listFormPresenter2.default,{lists:this.props.lists,listName:this.props.listName,listToAddTo:this.props.listToAddTo,selectedAddToListOption:this.props.selectedAddToListOption,onSelectedAddToListOptionChanged:this.props.onSelectedAddToListOptionChanged,onListChanged:this.props.onListChanged,registerFormInput:this.props.registerFormInput,unregisterFormInput:this.props.unregisterFormInput}),_react2.default.createElement("small",{className:_uploadCsvCss2.default["step-one-small"]},_react2.default.createElement("strong",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-help"})," Need help? "),_react2.default.createElement(_csvDownloadLink2.default,null,"Download our CSV template"),".  Make sure your CSV is formatted correctly."),_react2.default.createElement(_dropzone2.default,{validFileTypes:["text/csv"],validFileExtensions:["csv"],singleUploadLimit:1,fileSizeLimit:_byteUtils2.default.bytesPerGiga(8),onFilesDropped:this.handleFilesDropped,onFileRemove:this.handleFileRemoved,droppedFile:this.props.droppedFile,uploadCancelled:this.props.uploadCancelled,warning:this.props.isUserExceedingContactLimit&&_react2.default.createElement(_inlineAlert2.default,{type:"warning",isDismissable:!1},"If you choose to continue, you will be charged $10 for every 10,000 contacts you upload. This charge is in addition to your ",_react2.default.createElement("a",{href:"https://sendgrid.com/pricing/"},"monthly plan price"),"."),showUploadFilename:!0}),_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement(_buttons.PrimaryButton,{"data-role":"goto-assign-custom-fields",disabled:!this.state.isValid||!this.state.isFileDropped||!this.props.csvData,onClick:this.props.onNextStep},"Next: Custom Fields")))}}]),Step1}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"componentWillReceiveProps",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"componentWillReceiveProps"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleFilesDropped",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleFilesDropped"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleFileRemoved",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleFileRemoved"),_class.prototype),_class);Step1.propTypes={lists:_propTypes2.default.arrayOf(_propTypes2.default.shape({name:_propTypes2.default.string})).isRequired,listName:_propTypes2.default.string.isRequired,listToAddTo:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,selectedAddToListOption:_propTypes2.default.string.isRequired,droppedFile:_propTypes2.default.object,csvData:_propTypes2.default.shape({data:_propTypes2.default.array.isRequired}),onSelectedAddToListOptionChanged:_propTypes2.default.func.isRequired,onFileDropped:_propTypes2.default.func.isRequired,onNextStep:_propTypes2.default.func.isRequired,onListChanged:_propTypes2.default.func.isRequired,isValid:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired,setWhetherUserExceedsFreeContacts:_propTypes2.default.func.isRequired,uploadCancelled:_propTypes2.default.bool,isUserExceedingContactLimit:_propTypes2.default.bool},Step1.defaultProps={csvData:null,uploadCancelled:!1,isUserExceedingContactLimit:!1},exports.default=(0,_withQueries2.default)((0,_formDecorator2.default)(Step1))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getProfileValues(props){return{email:props.email||_currentUserStore2.default.getUser().email,firstName:props.firstName||_currentUserStore2.default.getUser().profile.first_name,lastName:props.lastName||_currentUserStore2.default.getUser().profile.last_name}}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_exportUtils=__webpack_require__(175),_exportUtils2=_interopRequireDefault(_exportUtils),_reactClassUtils=__webpack_require__(7),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),headers=["email","first_name","last_name","custom_text_field","custom_date_field","custom_number_field"],CsvDownloadLink=(_class=function(_React$Component){function CsvDownloadLink(props){_classCallCheck(this,CsvDownloadLink);var _this=_possibleConstructorReturn(this,(CsvDownloadLink.__proto__||Object.getPrototypeOf(CsvDownloadLink)).call(this,props));return _this.state=getProfileValues(props),_this}return _inherits(CsvDownloadLink,_React$Component),_createClass(CsvDownloadLink,[{key:"componentDidMount",value:function(){_currentUserStore2.default.addChangeListener(this.onUserStoreChange)}},{key:"componentWillUnmount",value:function(){_currentUserStore2.default.removeChangeListener(this.onUserStoreChange)}},{key:"onUserStoreChange",value:function(){this.setState(getProfileValues(this.props))}},{key:"getValues",value:function(){return[this.state.email,this.state.firstName,this.state.lastName,this.props.textField,this.props.dateField,this.props.numberField]}},{key:"render",value:function(){return _react2.default.createElement("a",{href:_exportUtils2.default.getDownloadableCsvHref(headers,[this.getValues()]),download:this.props.fileName},this.props.children)}}]),CsvDownloadLink}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onUserStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onUserStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getValues",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getValues"),_class.prototype),_class);CsvDownloadLink.propTypes={email:_propTypes2.default.string,firstName:_propTypes2.default.string,lastName:_propTypes2.default.string,textField:_propTypes2.default.string,dateField:_propTypes2.default.string,numberField:_propTypes2.default.number,fileName:_propTypes2.default.string,children:_propTypes2.default.node.isRequired},CsvDownloadLink.defaultProps={email:void 0,firstName:void 0,lastName:void 0,textField:"example text",dateField:"05/01/2017",numberField:42,fileName:"example.csv"},exports.default=CsvDownloadLink},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function WithQueries(ComposedCmp){var _class;return _class=function(_React$Component){function _class(){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this));return _this.state={lists:[],segments:[],queries:[]},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentDidMount",value:function(){_listActions2.default.fetchAllQueries(),_listStore2.default.addChangeListener(this.handleListStoreChange)}},{key:"componentWillUnmount",value:function(){_listStore2.default.removeChangeListener(this.handleListStoreChange)}},{key:"handleListStoreChange",value:function(){this.setState({lists:_listStore2.default.getLists(),segments:_listStore2.default.getSegments(),queries:_listStore2.default.getAllQueries()})}},{key:"render",value:function(){var hocProps={lists:this.state.lists,segments:this.state.segments,queries:this.state.queries};return _react2.default.createElement(ComposedCmp,_extends({},hocProps,this.props))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"handleListStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleListStoreChange"),_class.prototype),_class}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_reactClassUtils=__webpack_require__(7);exports.default=WithQueries},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_dropzonePresenter=__webpack_require__(1510),_dropzonePresenter2=_interopRequireDefault(_dropzonePresenter),_uploadInfoPresenter=__webpack_require__(1513),_uploadInfoPresenter2=_interopRequireDefault(_uploadInfoPresenter),_validationErrorAlert=__webpack_require__(1514),_validationErrorAlert2=_interopRequireDefault(_validationErrorAlert),_uploadValidations=__webpack_require__(596),_uploadValidations2=_interopRequireDefault(_uploadValidations),_reactClassUtils=__webpack_require__(7),DropzoneContainer=(_class=function(_React$Component){function DropzoneContainer(props){_classCallCheck(this,DropzoneContainer);var _this=_possibleConstructorReturn(this,(DropzoneContainer.__proto__||Object.getPrototypeOf(DropzoneContainer)).call(this,props));return _this.state={isFileSelected:!!props.droppedFile,filename:props.droppedFile&&props.droppedFile.name||"",validationErrors:[],files:[]},_this}return _inherits(DropzoneContainer,_React$Component),_createClass(DropzoneContainer,[{key:"componentWillReceiveProps",value:function(){this.props.uploadCancelled&&this.handleRemoveFile()}},{key:"onValidationError",value:function(validationErrors){this.setState({validationErrors:validationErrors})}},{key:"onFilesChanged",value:function(files){this.setState({files:files})}},{key:"onDismissAlert",value:function(errId){this.setState(function(prevState){return{validationErrors:_underscore2.default.filter(prevState.validationErrors,function(e){return e.type!==errId})}})}},{key:"handleRemoveFile",value:function(e){e&&e.preventDefault(),this.props.onFileRemove(),this.setState({files:[],isFileSelected:!1,filename:""})}},{key:"handleFileChanged",value:function(e){this.handleFilesChanged(Array.prototype.slice.call(e.currentTarget.files))}},{key:"handleFilesChanged",value:function(files){var _validateAll=(0,_uploadValidations2.default)(files,this.props),validFiles=_validateAll.validFiles,errs=_validateAll.errs;this.props.onFilesDropped(this.props,validFiles,errs),this.setState({isFileSelected:!!(files.length>0&&this.props.showUploadFilename),filename:files.length>0?files[0].name:"",files:validFiles,validationErrors:errs})}},{key:"render",value:function(){var _this2=this;return _react2.default.createElement("article",null,_underscore2.default.map(this.state.validationErrors,function(err){return _react2.default.createElement(_validationErrorAlert2.default,{errType:err,fileSizeLimit:_this2.props.fileSizeLimit,singleUploadLimit:_this2.props.singleUploadLimit,totalUploadLimit:_this2.props.totalUploadLimit,onDismiss:_this2.onDismissAlert,validFileTypes:_this2.props.validFileTypes,validFileExtensions:_this2.props.validFileExtensions})}),_react2.default.createElement(_dropzonePresenter2.default,{isFileSelected:!!this.state.filename,isImageManager:this.props.isImageManager,isLarge:this.props.isLarge,isOver:this.props.isOver,onFileChanged:this.handleFileChanged,onFilesDropped:this.handleFilesChanged,singleUploadLimit:this.props.singleUploadLimit,showWarning:!!this.props.warning,validFileTypes:this.props.validFileTypes,validFileExtensions:this.props.validFileExtensions},_react2.default.createElement(_uploadInfoPresenter2.default,{displayFileType:this.props.displayFileType,filename:this.state.filename,showUploadFilename:this.props.showUploadFilename&&!!this.state.filename,onRemoveFile:this.handleRemoveFile,singleUploadLimit:this.props.singleUploadLimit,uploadInstructionsIcon:this.props.uploadInstructionsIcon,warning:this.props.warning})))}}]),DropzoneContainer}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onValidationError",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onValidationError"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onFilesChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onFilesChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onDismissAlert",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onDismissAlert"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleRemoveFile",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleRemoveFile"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleFileChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleFileChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleFilesChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleFilesChanged"),_class.prototype),_class);DropzoneContainer.propTypes={displayFileType:_propTypes2.default.string,droppedFile:_propTypes2.default.shape({name:_propTypes2.default.string}),fileSizeLimit:_propTypes2.default.number.isRequired,files:_propTypes2.default.array,isImageManager:_propTypes2.default.bool,isLarge:_propTypes2.default.bool,isOver:_propTypes2.default.bool,onFileRemove:_propTypes2.default.func,onFilesChanged:_propTypes2.default.func,onFilesDropped:_propTypes2.default.func,showUploadFilename:_propTypes2.default.bool,singleUploadLimit:_propTypes2.default.number.isRequired,totalUploadCount:_propTypes2.default.number,totalUploadLimit:_propTypes2.default.number,uploadCancelled:_propTypes2.default.bool,uploadInstructions:_propTypes2.default.node,uploadInstructionsIcon:_propTypes2.default.string,validFileTypes:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,validFileExtensions:_propTypes2.default.arrayOf(_propTypes2.default.string),warning:_propTypes2.default.node},DropzoneContainer.defaultProps={displayFileType:"file",droppedFile:null,files:[],isImageManager:!1,isLarge:!1,isOver:!1,onFilesChanged:function(){},onFileRemove:function(){},onFilesDropped:function(){},showUploadFilename:!1,totalUploadCount:0,totalUploadLimit:void 0,uploadCancelled:function(){},uploadInstructions:null,uploadInstructionsIcon:"",validFileExtensions:null,warning:null},exports.default=DropzoneContainer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function DropzonePresenter(props){var classname=(0,_classnames5.default)("dropzone",_dropzonePresenterCss2.default["file-drop-zone-container"],{"is-active":props.isFileSelected},{"is-hovered":props.isOver},{"has-inline-alert":props.showWarning},_defineProperty({},_dropzonePresenterCss2.default["is-large"],props.isLarge),_defineProperty({},_dropzonePresenterCss2.default["has-inline-alert"],props.showWarning),_defineProperty({},_dropzonePresenterCss2.default["is-image-manager"],props.isImageManager));return props.connectDropTarget(_react2.default.createElement("section",{className:classname},_react2.default.createElement("label",{htmlFor:"file-input","data-role":"drop-zone"},props.children,_react2.default.createElement("input",{id:"file-input",className:"file-input",onChange:props.onFileChanged,type:"file",multiple:props.singleUploadLimit>1,accept:props.validFileTypes.join(",")}))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames4=__webpack_require__(10),_classnames5=_interopRequireDefault(_classnames4),_reactDnd=__webpack_require__(146),_reactDndHtml5Backend=__webpack_require__(482),_dropzonePresenterCss=__webpack_require__(1511),_dropzonePresenterCss2=_interopRequireDefault(_dropzonePresenterCss);DropzonePresenter.propTypes={children:_propTypes2.default.node,connectDropTarget:_propTypes2.default.func.isRequired,isFileSelected:_propTypes2.default.bool,isImageManager:_propTypes2.default.bool,isLarge:_propTypes2.default.bool,isOver:_propTypes2.default.bool,onFileChanged:_propTypes2.default.func.isRequired,onFilesDropped:_propTypes2.default.func.isRequired,singleUploadLimit:_propTypes2.default.number,showWarning:_propTypes2.default.bool,validFileTypes:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired},DropzonePresenter.defaultProps={children:null,isFileSelected:!1,isImageManager:!1,isLarge:!1,isOver:!1,showWarning:!1};var fileTarget={drop:function(props,monitor){props.onFilesDropped(monitor.getItem().files)}},collect=function(connect,monitor){return{connectDropTarget:connect.dropTarget(),isOver:monitor.isOver()}};exports.default=(0,_reactDnd.DropTarget)(_reactDndHtml5Backend.NativeTypes.FILE,fileTarget,collect)(DropzonePresenter)},function(module,exports,__webpack_require__){var content=__webpack_require__(1512);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".dropzonePresenter-css__file-drop-zone-container___2PPgl{display:flex;justify-content:center;align-items:center;margin-top:10px}.dropzonePresenter-css__file-drop-zone-container___2PPgl.dropzonePresenter-css__is-large___3Cbg8{height:400px}.dropzonePresenter-css__file-drop-zone-container___2PPgl.dropzonePresenter-css__is-over___2OepU{border-color:#2484df;font-weight:400}.dropzonePresenter-css__file-drop-zone-container___2PPgl.dropzonePresenter-css__is-image-manager___2Z6v9{height:100px}.dropzonePresenter-css__file-drop-zone-container___2PPgl [data-role=drop-zone] .upload-instructions{margin:0;font-size:14px}.dropzonePresenter-css__file-drop-zone-container___2PPgl [data-role=drop-zone] .upload-instructions .upload-instructions-icon{font-size:45px;margin-right:15px;vertical-align:middle;color:#aeb6bc}.dropzonePresenter-css__file-drop-zone-container___2PPgl [data-role=drop-zone] .upload-instructions .sg-icon{vertical-align:middle}.dropzonePresenter-css__file-drop-zone-container___2PPgl [data-role=drop-zone] .upload-instructions .filename{margin:auto 10px}.dropzonePresenter-css__file-drop-zone-container___2PPgl [data-role=drop-zone] .browse-link{color:#2484df;font-weight:700;cursor:pointer}.dropzonePresenter-css__file-drop-zone-container___2PPgl [data-role=drop-zone] .file-input{display:none}.dropzone.is-active{height:100px;border-style:solid;background:#fff}.dropzone.has-inline-alert{height:auto;border-color:#8c6c15}.dropzone.has-inline-alert label{width:100%}.dropzonePresenter-css__has-inline-alert___3_2al{height:200px;text-align:center}.dropzonePresenter-css__has-inline-alert___3_2al .meta{display:block;margin:30px auto}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/dropzone/src/views/components/style-guide/dropzone/dropzonePresenter.css.scss"],names:[],mappings:"AAAA,yDACE,aACA,uBACA,mBAIA,eAAgB,CAPlB,iGAUI,YAAa,CAVjB,gGAaI,qBACA,eAAgB,CAdpB,yGAiBI,YAAa,CAjBjB,oGAqBM,SACA,cAAe,CAtBrB,8HAwBQ,eACA,kBACA,sBACA,aAAc,CA3BtB,6GA8BQ,qBAAsB,CA9B9B,8GAiCQ,gBAAiB,CAjCzB,4FAqCM,cACA,gBACA,cAAe,CAvCrB,2FA0CM,YAAa,CACd,oBAOD,aACA,mBACA,eAAgB,CAJpB,2BAOI,YACA,oBAAqB,CARzB,iCAWM,UAAW,CACZ,iDAKH,aACA,iBAAkB,CAFpB,uDAII,cACA,gBAAiB,CAClB",file:"dropzonePresenter.css.scss",sourcesContent:[".file-drop-zone-container {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  /*background: #fafafa;\n  border: 1px dashed #d2d2d2;\n  border-radius: 6px;*/\n  margin-top: 10px;\n  //transition: height 300ms ease;\n  &.is-large {\n    height: 400px;\n  }\n  &.is-over {\n    border-color: #2484df;\n    font-weight: 400;\n  }\n  &.is-image-manager {\n    height: 100px;\n  }\n  [data-role=drop-zone] {\n    :global .upload-instructions {\n      margin: 0;\n      font-size: 14px; //TODO: use style guide font modifier class\n      .upload-instructions-icon {\n        font-size: 45px;\n        margin-right: 15px;\n        vertical-align: middle;\n        color: #aeb6bc;\n      }\n      .sg-icon {\n        vertical-align: middle;\n      }\n      .filename {\n        margin: auto 10px;\n      }\n    }\n    :global .browse-link {\n      color: #2484df;\n      font-weight: bold;\n      cursor: pointer;\n    }\n    :global .file-input {\n      display: none;\n    }\n  }\n}\n\n\n:global .dropzone {\n  &.is-active {\n    height: 100px;\n    border-style: solid;\n    background: #fff;\n  }\n  &.has-inline-alert {\n    height: auto;\n    border-color: #8C6C15;\n\n    label {\n      width: 100%;\n    }\n  }\n}\n\n.has-inline-alert {\n  height: 200px;\n  text-align: center;\n  :global .meta {\n    display: block;\n    margin: 30px auto;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"file-drop-zone-container":"dropzonePresenter-css__file-drop-zone-container___2PPgl","is-large":"dropzonePresenter-css__is-large___3Cbg8","is-over":"dropzonePresenter-css__is-over___2OepU","is-image-manager":"dropzonePresenter-css__is-image-manager___2Z6v9","has-inline-alert":"dropzonePresenter-css__has-inline-alert___3_2al"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function UploadInfoPresenter(props){var fileType=props.displayFileType+(props.singleUploadLimit>1?"s":""),chooseFileMsg=props.singleUploadLimit>1?"choose "+fileType+" to upload.":"select a "+fileType+" to upload.";return props.showUploadFilename?_react2.default.createElement("p",{className:"upload-instructions file-selected"},_react2.default.createElement("span",{className:"meta"},_react2.default.createElement("i",{className:"sg-icon sg-icon-csv is-size-30"}),_react2.default.createElement("span",{className:"filename"},props.filename),_react2.default.createElement("span",{className:"browse-link",onClick:props.onRemoveFile}," Remove")),props.warning):_react2.default.createElement("p",{className:"upload-instructions"},props.uploadInstructionsIcon?_react2.default.createElement("i",{className:"upload-instructions-icon sg-icon "+props.uploadInstructionsIcon}):_react2.default.createElement("i",{className:"sg-icon sg-icon-csv is-size-30"}),_react2.default.createElement("span",null,"Drag and drop your ",fileType," here, or "),_react2.default.createElement("span",{className:"browse-link"},chooseFileMsg))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes);UploadInfoPresenter.propTypes={displayFileType:_propTypes2.default.string.isRequired,filename:_propTypes2.default.string,onRemoveFile:_propTypes2.default.func.isRequired,singleUploadLimit:_propTypes2.default.number.isRequired,showUploadFilename:_propTypes2.default.bool.isRequired,uploadInstructionsIcon:_propTypes2.default.string,warning:_propTypes2.default.node},UploadInfoPresenter.defaultProps={displayFileType:"file",filename:"",showWarning:!1,uploadInstructionsIcon:"",warning:null},exports.default=UploadInfoPresenter},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ValidationErrorAlert(props){var isImgUpload=_underscore2.default.contains(props.validFileTypes,"image/jpg"),fileType=isImgUpload?"image":"file",errType=props.errType,onDismiss=props.onDismiss;switch(errType){case _uploadValidations.ERRS.FILE_SIZE:return _react2.default.createElement(_alert2.default,{key:errType,id:errType,type:"danger",onDismiss:onDismiss},"The image ","you're"," attempting to upload exceeds our per-image size limit of ",_byteUtils2.default.getHumanReadable(props.fileSizeLimit),". ",isImgUpload?"Please resize your image and try again.":"");case _uploadValidations.ERRS.FILE_TYPE:return _react2.default.createElement(_alert2.default,{key:errType,id:errType,type:"danger",onDismiss:onDismiss},"The file format ","you're"," trying to upload is not supported. ",isImgUpload?"Please upload a JPG, PNG, GIF, or BMP file.":"");case _uploadValidations.ERRS.SINGLE_UPLOAD_LIMIT:return _react2.default.createElement(_alert2.default,{key:errType,id:errType,type:"danger",onDismiss:onDismiss},"The number of ",fileType,"s ","you're"," attempting to upload exceeds our maximum of ",props.singleUploadLimit," ",fileType,"s per upload. ",_stringUtils2.default.capitalize(fileType),"s beyond this limit have not been saved.");case _uploadValidations.ERRS.TOTAL_UPLOAD_LIMIT:return _react2.default.createElement(_alert2.default,{key:errType,id:errType,type:"danger",onDismiss:onDismiss},"You've"," reached the limit of ",props.totalUploadLimit.toLocaleString()," images.  To add new images ","you'll"," first need to delete some.");default:return null}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ValidationErrorAlert;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_uploadValidations=__webpack_require__(596),_alert=__webpack_require__(157),_alert2=_interopRequireDefault(_alert),_byteUtils=__webpack_require__(370),_byteUtils2=_interopRequireDefault(_byteUtils),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils);ValidationErrorAlert.propTypes={errType:_propTypes2.default.string.isRequired,fileSizeLimit:_propTypes2.default.number.isRequired,onDismiss:_propTypes2.default.func.isRequired,singleUploadLimit:_propTypes2.default.number.isRequired,totalUploadLimit:_propTypes2.default.number.isRequired,validFileTypes:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired}},function(module,exports,__webpack_require__){var content=__webpack_require__(1516);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".alert-css__hidden___2WpI7{display:none}.alert-css__alert___1kF7Q{margin-bottom:0;z-index:990}.alert-css__alert___1kF7Q+.alert-css__alert___1kF7Q{margin-top:10px}.alert-css__alert___1kF7Q p{min-width:50%}.alert-css__alert___1kF7Q .notification-action{margin-left:5px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/__css__/src/views/components/style-guide/__css__/alert.css.scss"],names:[],mappings:"AAAA,2BACE,YAAa,CACd,0BAGC,gBACA,WAAY,CAFd,oDAII,eAAgB,CAJpB,4BAOI,aAAc,CAPlB,+CAWM,eAAgB,CACjB",file:"alert.css.scss",sourcesContent:[".hidden {\n  display: none;\n}\n\n.alert { //TODO: Move these rules into style guide.\n  margin-bottom: 0;\n  z-index: 990; // TODO: Patch to avoid alerts showing up over modals. This fix should probably live in styleguide (i.e. coordinate with Jason).\n  & + .alert {\n    margin-top: 10px;\n  }\n  p {\n    min-width: 50%;\n  }\n  :global {\n    .notification-action {\n      margin-left: 5px;\n    }\n  }\n}"],sourceRoot:""}]),exports.locals={hidden:"alert-css__hidden___2WpI7",alert:"alert-css__alert___1kF7Q"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactClassUtils=__webpack_require__(7),_inlineAlertCss=__webpack_require__(1518),_inlineAlertCss2=_interopRequireDefault(_inlineAlertCss),InlineAlert=(_class=function(_React$Component){function InlineAlert(props){_classCallCheck(this,InlineAlert);var _this=_possibleConstructorReturn(this,(InlineAlert.__proto__||Object.getPrototypeOf(InlineAlert)).call(this,props));return _this.state={isVisible:!0},_this}return _inherits(InlineAlert,_React$Component),_createClass(InlineAlert,[{key:"componentDidMount",value:function(){this.show()}},{key:"componentWillReceiveProps",value:function(){this.show()}},{key:"getIcon",value:function(){return this.props.shouldShowIcon?_react2.default.createElement("i",{className:"sg-icon sg-icon-"+("success"===this.props.type?"check-circle":"warning")}):null}},{key:"show",value:function(){this.setState({isVisible:!0})}},{key:"hide",value:function(){this.props.onDismiss(this.props.id),this.props.isManagedNotification||this.setState({isVisible:!1})}},{key:"render",value:function(){if(this.state.isVisible)return _react2.default.createElement("div",{className:"alert alert-"+this.props.type+" alert-inline "+_inlineAlertCss2.default["alert-inline"]},_react2.default.createElement("p",null,this.getIcon(this.props),this.props.children,this.props.isDismissable?_react2.default.createElement("i",{className:"sg-icon sg-icon-x",onClick:this.hide}):null))}}]),InlineAlert}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"componentDidMount",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"componentDidMount"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getIcon",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getIcon"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"show",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"show"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hide",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hide"),_class.prototype),_class);InlineAlert.propTypes={type:_react2.default.PropTypes.oneOf(["success","warning","danger"]).isRequired,id:_react2.default.PropTypes.string,isDismissable:_react2.default.PropTypes.bool,onDismiss:_react2.default.PropTypes.func,shouldShowIcon:_react2.default.PropTypes.bool,isManagedNotification:_react2.default.PropTypes.bool},InlineAlert.defaultProps={id:"default-alert-id",isDismissable:!0,onDismiss:$.noop,shouldShowIcon:!0,isManagedNotification:!1},exports.default=InlineAlert},function(module,exports,__webpack_require__){var content=__webpack_require__(1519);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".inlineAlert-css__alert-inline___1DbWn{border:none;border-radius:none;margin-bottom:0}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/__css__/src/views/components/style-guide/__css__/inlineAlert.css.scss"],names:[],mappings:"AAAA,uCACE,YACA,mBACA,eAAgB,CACjB",file:"inlineAlert.css.scss",sourcesContent:[".alert-inline {\n  border: none;\n  border-radius: none;\n  margin-bottom: 0;\n}\n"],sourceRoot:""}]),exports.locals={"alert-inline":"inlineAlert-css__alert-inline___1DbWn"}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".uploadCsv-css__upload-csv-container___xz3v4 [data-role=close-center-modal]{display:none}.uploadCsv-css__exceeding-contact-limit-modal___1AGXD .uploadCsv-css__exceeding-contact-limit-header___30Xhn{text-align:center;width:80%;margin:10px auto}.uploadCsv-css__exceeding-contact-limit-modal___1AGXD .uploadCsv-css__exceeding-contact-limit-header___30Xhn i{display:block;margin:25px;margin-top:auto}.uploadCsv-css__exceeding-contact-limit-modal___1AGXD .uploadCsv-css__btn-list___1kxlc{text-align:right;margin-top:45px}.uploadCsv-css__exceeding-contact-limit-modal___1AGXD.uploadCsv-css__free-user___3jUll p{width:80%;margin:0 auto}.uploadCsv-css__inline-contact-limit-warning___3GRjX{text-align:center;padding:20px 25px;margin-bottom:0;margin-top:30px;border:none;border-radius:0}.uploadCsv-css__inline-contact-limit-warning___3GRjX p{text-align:left}.uploadCsv-css__step-one-small___33j_C i{vertical-align:text-bottom}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/contacts/uploadCsv/__css__/src/views/contacts/uploadCsv/__css__/uploadCsv.css.scss"],names:[],mappings:"AAAA,4EAEI,YAAa,CACd,6GAKC,kBACA,UACA,gBAAiB,CAJrB,+GAMM,cACA,YACA,eAAgB,CARtB,uFAYI,iBACA,eAAgB,CAbpB,yFAiBM,UACA,aAAc,CACf,qDAKH,kBACA,kBACA,gBACA,gBACA,YACA,eAAgB,CANlB,uDAQI,eAAgB,CACjB,yCAKC,0BAA2B,CAC5B",file:"uploadCsv.css.scss",sourcesContent:['.upload-csv-container {\n  [data-role="close-center-modal"] {\n    display: none;\n  }\n}\n\n.exceeding-contact-limit-modal {\n  .exceeding-contact-limit-header {\n    text-align: center;\n    width: 80%;\n    margin: 10px auto;\n    i {\n      display: block;\n      margin: 25px;\n      margin-top: auto;\n    }\n  }\n  .btn-list {\n    text-align: right;\n    margin-top: 45px;\n  }\n  &.free-user {\n    p {\n      width: 80%;\n      margin: 0 auto;\n    }\n  }\n}\n\n.inline-contact-limit-warning {\n  text-align: center;\n  padding: 20px 25px;\n  margin-bottom: 0px;\n  margin-top: 30px;\n  border: none;\n  border-radius: 0;\n  p {\n    text-align: left;\n  }\n}\n\n.step-one-small {\n  i {\n    vertical-align: text-bottom;\n  }\n}\n'],sourceRoot:""}]),exports.locals={"upload-csv-container":"uploadCsv-css__upload-csv-container___xz3v4","exceeding-contact-limit-modal":"uploadCsv-css__exceeding-contact-limit-modal___1AGXD","exceeding-contact-limit-header":"uploadCsv-css__exceeding-contact-limit-header___30Xhn","btn-list":"uploadCsv-css__btn-list___1kxlc","free-user":"uploadCsv-css__free-user___3jUll","inline-contact-limit-warning":"uploadCsv-css__inline-contact-limit-warning___3GRjX","step-one-small":"uploadCsv-css__step-one-small___33j_C"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function getPreviewValues(headers,matrix){for(var rowCount=matrix.length,colCount=headers.length,returnMatrix=[],i=0;i<colCount;i++){returnMatrix.push([]);for(var j=0;j<rowCount;j++)matrix[j].length<=colCount&&returnMatrix[i].push(matrix[j][i]||"")}return returnMatrix}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}();exports.getPreviewValues=getPreviewValues;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_csvPreview=__webpack_require__(1522),_csvPreview2=_interopRequireDefault(_csvPreview),Step2=function(_React$Component){function Step2(){return _classCallCheck(this,Step2),_possibleConstructorReturn(this,(Step2.__proto__||Object.getPrototypeOf(Step2)).apply(this,arguments))}return _inherits(Step2,_React$Component),_createClass(Step2,[{key:"render",value:function(){return _react2.default.createElement("article",{"data-role":"csv-upload-step-2"},_react2.default.createElement("p",null,"Please check that each column header maps correctly to your desired custom fields."),_react2.default.createElement("div",null,_react2.default.createElement(_csvPreview2.default,{headers:this.props.csvData.data[0],values:getPreviewValues(this.props.csvData.data[0],this.props.csvData.data.slice(1)),onUpdateHeader:this.props.onUpdateHeader})))}}]),Step2}(_react2.default.Component);Step2.propTypes={csvData:_propTypes2.default.shape({data:_propTypes2.default.array.isRequired}),onUpdateHeader:_propTypes2.default.func.isRequired},Step2.defaultProps={csvData:{data:[[],[]]}},exports.default=Step2},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function convertCustomFieldName(header,emailHeadersCount){var customFieldName=header.toLowerCase();return(_underscore2.default.contains(VALID_EMAIL_HEADERS,customFieldName)||(customFieldName.indexOf("email")>-1||customFieldName.indexOf("e-mail")>-1)&&0===emailHeadersCount)&&(customFieldName="email"),customFieldName}function initializeHeadersWithMatchingCustomFields(props){var emailHeadersCount=0;return props.headers.filter(function(header){return!!header}).map(function(header){var customFieldName=convertCustomFieldName(header,emailHeadersCount);"email"===customFieldName&&emailHeadersCount++;var customField=_customFieldStore2.default.getCustomFieldByName(customFieldName);return{originalName:header,name:customField&&customField.name||"",shouldBeIgnored:!1,customFieldId:customField&&String(customField.value),type:customField&&customField.type}})}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_reactClassUtils=__webpack_require__(7),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_customFieldStore=__webpack_require__(156),_customFieldStore2=_interopRequireDefault(_customFieldStore),_csvColumnPreview=__webpack_require__(1523),_csvColumnPreview2=_interopRequireDefault(_csvColumnPreview),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),VALID_EMAIL_HEADERS=["email","emails","user_email","user_emails","e-mail","e-mails","email_address","email_addresses"],CsvPreview=(_class=function(_React$Component){function CsvPreview(props){_classCallCheck(this,CsvPreview);var _this=_possibleConstructorReturn(this,(CsvPreview.__proto__||Object.getPrototypeOf(CsvPreview)).call(this,props));return _this.state={customFields:_customFieldStore2.default.getCollectionAsSelectOptions(),newHeaders:initializeHeadersWithMatchingCustomFields(props)},_this}return _inherits(CsvPreview,_React$Component),_createClass(CsvPreview,[{key:"componentDidMount",value:function(){_customFieldStore2.default.addChangeListener(this.onCustomFieldStoreChange),_customFieldActions2.default.fetch(),this.props.onUpdateHeader(this.state.newHeaders,this.props.isValid())}},{key:"componentWillUnmount",value:function(){_customFieldStore2.default.removeChangeListener(this.onCustomFieldStoreChange)}},{key:"onCustomFieldStoreChange",value:function(){var _this2=this;this.setState({customFields:_customFieldStore2.default.getCollectionAsSelectOptions(),newHeaders:initializeHeadersWithMatchingCustomFields(this.props)},function(){return _this2.props.onUpdateHeader(_this2.state.newHeaders,_this2.props.isValid())})}},{key:"onUpdateHeader",value:function(index,newHeader){var _this3=this,newHeaders=[].concat(_toConsumableArray(this.state.newHeaders));newHeaders[index]=_extends({},newHeaders[index],newHeader),this.setState({newHeaders:newHeaders},function(){return _this3.props.onUpdateHeader(newHeaders,_this3.props.isValid())})}},{key:"render",value:function(){var _this4=this;return _react2.default.createElement("article",null,this.state.newHeaders.map(function(header,i){return _this4.props.values[i]&&_react2.default.createElement(_csvColumnPreview2.default,{key:i,columnIndex:i,header:header,values:_this4.props.values[i],customFields:_this4.state.customFields,previewRowCount:_this4.props.previewRowCount,onUpdateHeader:_this4.onUpdateHeader,registerFormInput:_this4.props.registerFormInput,unregisterFormInput:_this4.props.unregisterFormInput})}))}}]),CsvPreview}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onCustomFieldStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onCustomFieldStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onUpdateHeader",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onUpdateHeader"),_class.prototype),_class);CsvPreview.propTypes={headers:_propTypes2.default.arrayOf(_propTypes2.default.string),values:_propTypes2.default.arrayOf(_propTypes2.default.arrayOf(_propTypes2.default.string)),previewRowCount:_propTypes2.default.number,onUpdateHeader:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired,isValid:_propTypes2.default.func.isRequired,setShouldValidate:_propTypes2.default.func.isRequired},CsvPreview.defaultProps={headers:[],values:[[]],previewRowCount:3},exports.default=(0,_formDecorator2.default)(CsvPreview)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setHeaderPropertiesByName(header,name){var customField=_customFieldStore2.default.getCustomFieldByName(name);return!customField?_extends({},header,{customFieldId:void 0}):_extends({},header,{type:customField.type,customFieldId:String(customField.value)})}function setHeaderPropertiesById(header,id){var customField=_customFieldStore2.default.getCustomFieldById(id);return _extends({},header,{type:customField.type,name:customField.name})}function onUpdateHeader(props,headerProp,e){var newHeader={},value=e.target.value.toLowerCase();newHeader[headerProp]=headerProp===HEADER_PROPERTIES.SHOULD_BE_IGNORED?!props.header.shouldBeIgnored:String(value).toLowerCase(),headerProp===HEADER_PROPERTIES.CUSTOM_FIELD_ID?newHeader=setHeaderPropertiesById(newHeader,value):headerProp===HEADER_PROPERTIES.NAME&&(newHeader=setHeaderPropertiesByName(newHeader,value)),props.onUpdateHeader(props.columnIndex,newHeader,e)}function clearCustomFieldSelection(props,e){var newHeader={name:null,customFieldId:void 0};props.onUpdateHeader(props.columnIndex,newHeader,e)}function onSelectNewOrExistingCustomField(props,e){var value=e.target.value.toLowerCase(),isExistingCustomField=!!_customFieldStore2.default.getCustomFieldById(value);""===value?clearCustomFieldSelection(props,e):onUpdateHeader(props,isExistingCustomField?HEADER_PROPERTIES.CUSTOM_FIELD_ID:HEADER_PROPERTIES.NAME,e)}function getSelectedCustomFieldValue(props){var value=props.header.customFieldId||props.header.name;return value?[value]:[]}function getCollectionForValidation(){return{items:_underscore2.default.without(_reservedCustomFields2.default,"first_name","last_name","email"),test:function(){return((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])[0]||"").toLowerCase()}}}function isTypeEditingDisabled(props){return!!props.header.customFieldId}function CsvColumnPreview(props){var sharedProps={registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput,shouldValidate:!props.header.shouldBeIgnored},columnIndex=props.columnIndex+1,skipCheckboxLabel="email"===props.header.name?_react2.default.createElement(_tooltip2.default,{hasUnderline:!0,content:"This column can't be skipped as it's marked as your Email field name."},"Skip Column"):"Skip Column";return _react2.default.createElement("section",{className:_csvColumnPreviewCss2.default["csv-column-preview-container"]},_react2.default.createElement("header",{className:"header"},_react2.default.createElement("section",{className:"left"},_react2.default.createElement(_textInput.TextInput,{name:"originalCsvColumnLabel"+columnIndex,labelText:"CSV Column "+columnIndex,displayName:"CSV Column "+columnIndex,value:props.header.originalName,readOnly:!0}),_react2.default.createElement(_select2.default,_extends({name:"customFieldName"+columnIndex,displayName:"Field Name",data:props.customFields,hasLoadedData:_customFieldStore2.default.getHasFetchedCollection(),value:getSelectedCustomFieldValue(props),onChange:function(e){return onSelectNewOrExistingCustomField(props,e)},validations:["required","alphanumeric","noSpaces","notIn"],validationMessages:{notIn:"The field name you have entered is reserved. Please enter a different name."},getCollection:getCollectionForValidation,placeholder:"Type to create a new custom field.",options:{tags:!0,allowClear:!1,multiple:!0,maximumSelectionLength:1}},sharedProps)),_react2.default.createElement(_select2.default,_extends({name:"customFieldType"+columnIndex,displayName:"Field Type",data:_customFieldTypes2.default,hasLoadedData:_customFieldStore2.default.getHasFetchedCollection(),value:props.header.type,onChange:function(e){return onUpdateHeader(props,HEADER_PROPERTIES.TYPE,e)},validations:["required"],options:{minimumResultsForSearch:1/0},disabled:isTypeEditingDisabled(props)},sharedProps))),_react2.default.createElement("section",{className:"right"},_react2.default.createElement(_checkboxInput2.default,{labelText:skipCheckboxLabel,id:"should-ignore-column-"+columnIndex,isChecked:props.header.shouldBeIgnored&&"email"!==props.header.name,isDisabled:"email"===props.header.name,onClick:function(e){return onUpdateHeader(props,HEADER_PROPERTIES.SHOULD_BE_IGNORED,e)}}))),_react2.default.createElement("table",{className:"table-wrap is-striped values-preview"},_react2.default.createElement("tbody",null,props.values.slice(0,props.previewRowCount+1).map(function(value,i){return _react2.default.createElement("tr",{key:i},_react2.default.createElement("td",null,value))}),_react2.default.createElement("tr",null,_react2.default.createElement("td",null,"...")))),_react2.default.createElement("hr",{className:"is-thin"}))}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_customFieldStore=__webpack_require__(156),_customFieldStore2=_interopRequireDefault(_customFieldStore),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_textInput=__webpack_require__(18),_checkboxInput=__webpack_require__(152),_checkboxInput2=_interopRequireDefault(_checkboxInput),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_reservedCustomFields=__webpack_require__(371),_reservedCustomFields2=_interopRequireDefault(_reservedCustomFields),_customFieldTypes=__webpack_require__(251),_customFieldTypes2=_interopRequireDefault(_customFieldTypes),_csvColumnPreviewCss=__webpack_require__(1524),_csvColumnPreviewCss2=_interopRequireDefault(_csvColumnPreviewCss),HEADER_PROPERTIES={NAME:"name",TYPE:"type",CUSTOM_FIELD_ID:"customFieldId",SHOULD_BE_IGNORED:"shouldBeIgnored"};CsvColumnPreview.propTypes={columnIndex:_propTypes2.default.number.isRequired,header:_propTypes2.default.shape({originalName:_propTypes2.default.string,name:_propTypes2.default.string,type:_propTypes2.default.string,shouldBeIgnored:_propTypes2.default.bool,customFieldId:_propTypes2.default.string}).isRequired,values:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,customFields:_propTypes2.default.arrayOf(_propTypes2.default.shape({name:_propTypes2.default.string,value:_propTypes2.default.string,type:_propTypes2.default.string,isReserved:_propTypes2.default.bool})).isRequired,previewRowCount:_propTypes2.default.number.isRequired,onUpdateHeader:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired},exports.default=CsvColumnPreview},function(module,exports,__webpack_require__){var content=__webpack_require__(1525);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".csvColumnPreview-css__csv-column-preview-container___1fxMk{margin-top:40px}.csvColumnPreview-css__csv-column-preview-container___1fxMk .header{display:flex;justify-content:space-between;align-items:flex-start;padding:0}.csvColumnPreview-css__csv-column-preview-container___1fxMk .header .left{display:flex;width:80%;justify-content:space-between}.csvColumnPreview-css__csv-column-preview-container___1fxMk .header .left>*{width:30%}.csvColumnPreview-css__csv-column-preview-container___1fxMk .header .right{display:flex;width:20%;justify-content:flex-end;white-space:nowrap}.csvColumnPreview-css__csv-column-preview-container___1fxMk .values-preview{margin:10px 0 30px;font-weight:700}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/contacts/uploadCsv/__css__/src/views/contacts/uploadCsv/__css__/csvColumnPreview.css.scss"],names:[],mappings:"AAAA,4DACE,eAAgB,CADlB,oEAGI,aACA,8BACA,uBACA,SAAU,CANd,0EAQM,aACA,UACA,6BAA8B,CAVpC,4EAYQ,SAAU,CAZlB,2EAgBM,aACA,UACA,yBACA,kBAAmB,CAnBzB,4EAuBI,mBACA,eAAiB,CAClB",file:"csvColumnPreview.css.scss",sourcesContent:[".csv-column-preview-container {\n  margin-top: 40px;\n  :global .header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    padding: 0;\n    .left {\n      display: flex;\n      width: 80%;\n      justify-content: space-between;\n      & > * {\n        width: 30%;\n      }\n    }\n    .right {\n      display: flex;\n      width: 20%;\n      justify-content: flex-end;\n      white-space: nowrap;\n    }\n  }\n  :global .values-preview {\n    margin: 10px 0 30px;\n    font-weight: bold;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"csv-column-preview-container":"csvColumnPreview-css__csv-column-preview-container___1fxMk"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ProgressStage=exports.ProgressContainer=void 0;var _progressContainer=__webpack_require__(1527),_progressContainer2=_interopRequireDefault(_progressContainer),_progressStage=__webpack_require__(1528),_progressStage2=_interopRequireDefault(_progressStage);exports.ProgressContainer=_progressContainer2.default,exports.ProgressStage=_progressStage2.default},function(module,exports,__webpack_require__){"use strict";function ProgressContainer(props){return _react2.default.createElement("div",{className:(props.isVertical?"is-vertical ":"")+"progress-container"},_react2.default.createElement("ul",{className:"progress-stages"},props.children))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ProgressContainer;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);ProgressContainer.propTypes={isVertical:_react2.default.PropTypes.bool,children:_react2.default.PropTypes.any.isRequired},ProgressContainer.defaultProps={isVertical:!1}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function ProgressStage(props){var liClass=(0,_classnames4.default)(_defineProperty({"is-done":props.isDone,"is-selected":props.isSelected},_progressStageCss2.default.clickable,void 0!==props.onClick)),labelClass=(0,_classnames4.default)(_defineProperty({},_progressStageCss2.default.clickable,void 0!==props.onClick));return _react2.default.createElement("li",{className:liClass,onClick:props.onClick},_react2.default.createElement("label",{className:labelClass,onClick:props.onClick},props.children))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ProgressStage;var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames3=__webpack_require__(10),_classnames4=_interopRequireDefault(_classnames3),_progressStageCss=__webpack_require__(1529),_progressStageCss2=_interopRequireDefault(_progressStageCss);ProgressStage.propTypes={isDone:_propTypes2.default.bool,isSelected:_propTypes2.default.bool,onClick:_propTypes2.default.func,children:_propTypes2.default.node.isRequired},ProgressStage.defaultProps={isDone:!1,isSelected:!1,onClick:void 0}},function(module,exports,__webpack_require__){var content=__webpack_require__(1530);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".progressStage-css__clickable___2HxHT{cursor:pointer}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/progress/__css__/src/views/components/style-guide/progress/__css__/progressStage.css.scss"],names:[],mappings:"AAAA,sCACE,cAAe,CAChB",file:"progressStage.css.scss",sourcesContent:[".clickable {\n  cursor: pointer;\n}\n"],sourceRoot:""}]),exports.locals={clickable:"progressStage-css__clickable___2HxHT"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_uploadProgressStore=__webpack_require__(1532),_uploadProgressStore2=_interopRequireDefault(_uploadProgressStore),_reactClassUtils=__webpack_require__(7),_uploadProgressCss=__webpack_require__(1533),_uploadProgressCss2=_interopRequireDefault(_uploadProgressCss),UploadProgress=(_class=function(_React$Component){function UploadProgress(){_classCallCheck(this,UploadProgress);var _this=_possibleConstructorReturn(this,(UploadProgress.__proto__||Object.getPrototypeOf(UploadProgress)).call(this));return _this.state={progress:0},_this}return _inherits(UploadProgress,_React$Component),_createClass(UploadProgress,[{key:"componentDidMount",value:function(){_uploadProgressStore2.default.addChangeListener(this.onUploadProgressStoreChanged)}},{key:"componentWillUnmount",value:function(){_uploadProgressStore2.default.removeChangeListener(this.onUploadProgressStoreChanged)}},{key:"onUploadProgressStoreChanged",value:function(){this.setState({progress:_uploadProgressStore2.default.getProgress()})}},{key:"render",value:function(){return _react2.default.createElement("div",{className:_uploadProgressCss2.default.wrap},_react2.default.createElement("div",{className:_uploadProgressCss2.default.content},_react2.default.createElement("i",{className:"sg-icon sg-icon-csv"}),_react2.default.createElement("h1",null,"We are currently uploading your CSV"),_react2.default.createElement("p",null,"Please do not close your browser."),_react2.default.createElement("div",{className:_uploadProgressCss2.default["progress-wrap"]},_react2.default.createElement("span",{className:_uploadProgressCss2.default.progress,style:{width:this.state.progress+"%"}}))))}}]),UploadProgress}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"onUploadProgressStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onUploadProgressStoreChanged"),_class.prototype),_class);exports.default=UploadProgress},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setProgress(prog){progress=prog}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_baseStore=__webpack_require__(124),_baseStore2=_interopRequireDefault(_baseStore),progress=0,UploadProgressStore=_underscore2.default.extend({},_baseStore2.default,{getProgress:function(){return progress},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.UPLOAD_PROGRESS:setProgress(action.progress),UploadProgressStore.emitChange()}}});UploadProgressStore.dispatchToken=_appDispatcher2.default.register(UploadProgressStore.dispatcherCb),exports.default=UploadProgressStore},function(module,exports,__webpack_require__){var content=__webpack_require__(1534);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".uploadProgress-css__wrap___3n73J{position:fixed;top:0;bottom:0;left:0;right:0;display:flex;align-items:center;background:hsla(0,0%,100%,.9);text-align:center}.uploadProgress-css__wrap___3n73J .uploadProgress-css__content___2lbKj{width:100%}.uploadProgress-css__wrap___3n73J i{font-size:44px;display:block;margin:0 auto;margin-bottom:18px}.uploadProgress-css__wrap___3n73J .uploadProgress-css__progress-wrap___2OQT9{width:75%;max-width:1000px;margin:40px auto 0;height:5px;border-radius:4px;background:#e5e5e5;position:relative;overflow:hidden}.uploadProgress-css__wrap___3n73J .uploadProgress-css__progress-wrap___2OQT9 span{position:absolute;top:0;width:0;bottom:0;left:0;background:#0f86e5;transition:width .2s ease-in-out}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/uploadProgress.css.scss"],names:[],mappings:"AAAA,kCACE,eACA,MACA,SACA,OACA,QACA,aACA,mBAEA,8BACA,iBAAkB,CAVpB,uEAaI,UAAW,CAbf,oCAiBI,eACA,cACA,cACA,kBAAmB,CApBvB,6EAwBI,UACA,iBACA,mBACA,WACA,kBACA,mBACA,kBACA,eAAgB,CA/BpB,kFAkCM,kBACA,MACA,QACA,SACA,OACA,mBACA,gCAAmC,CACpC",file:"uploadProgress.css.scss",sourcesContent:[".wrap {\n  position: fixed;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n\n  background: rgba(255, 255, 255, 0.9);\n  text-align: center;\n\n  .content {\n    width: 100%;\n  }\n\n  i {\n    font-size: 44px;\n    display: block;\n    margin: 0 auto;\n    margin-bottom: 18px;\n  }\n\n  .progress-wrap {\n    width: 75%;\n    max-width: 1000px;\n    margin: 40px auto 0;\n    height: 5px;\n    border-radius: 4px;\n    background: #E5E5E5;\n    position: relative;\n    overflow: hidden;\n\n    span {\n      position: absolute;\n      top: 0;\n      width: 0;\n      bottom: 0;\n      left: 0;\n      background: #0F86E5;\n      transition: width 200ms ease-in-out;\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={wrap:"uploadProgress-css__wrap___3n73J",content:"uploadProgress-css__content___2lbKj","progress-wrap":"uploadProgress-css__progress-wrap___2OQT9"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _asyncToGenerator(fn){return function(){var gen=fn.apply(this,arguments);return new Promise(function(resolve,reject){function step(key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}if(!info.done)return Promise.resolve(value).then(function(value){step("next",value)},function(err){step("throw",err)});resolve(value)}return step("next")})}}function xhrWithUploadProgress(){var xhr=new window.XMLHttpRequest;return xhr.upload.addEventListener("progress",function(e){e.lengthComputable&&_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.UPLOAD_PROGRESS,progress:100*e.loaded/e.total})}),xhr}function s3PostCsv(policy,file){var formData=new FormData,data={key:policy.key,policy:policy.policy,signature:policy.signature,AWSAccessKeyId:policy.aws_access_key,acl:"private",success_action_status:200,file:file};return _underscore2.default.each(data,function(v,k){formData.append(k,v)}),$.ajax({url:policy.bucket_url,type:"POST",contentType:!1,processData:!1,data:formData,xhr:xhrWithUploadProgress,error:function(){_notificationActions2.default.add(_constants2.default.NOTIFICATIONS.UPLOADS.CSV_FAILED,"danger")}})}function notifyApiOfCsv(filename,listId,rebuiltHeaders,delimiter){return $.ajax({url:"/marketing_campaigns/uploads",type:"POST",data:JSON.stringify({list:{csv:filename,id:listId,rebuilt_headers:rebuiltHeaders,delimiter:delimiter},withoutFlash:!0}),dataType:"json",contentType:"application/json",success:function(){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.NOTIFICATION.SET,message:_constants2.default.NOTIFICATIONS.UPLOADS.CSV_SUCCESS,notificationAction:function(){return _locationUtils2.default.set("/marketing_campaigns/ui/notifications",!0)},notificationActionText:_constants2.default.NOTIFICATIONS.UPLOADS.CSV_UPLOAD_ACTION_TEXT_SUCCESS,notificationType:"success"})},error:function(){_notificationActions2.default.add(_constants2.default.NOTIFICATIONS.UPLOADS.CSV_FAILED,"danger")}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.uploadCsvToNew=exports.uploadCsvToExisting=void 0;exports.uploadCsvToExisting=function(){var _ref=_asyncToGenerator(regeneratorRuntime.mark(function _callee(file,listId,rebuiltHeaders,delimiter){var policy;return regeneratorRuntime.wrap(function(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,$.post("/marketing_campaigns/upload_policies");case 2:return policy=_context.sent,_context.next=5,s3PostCsv(policy,file);case 5:notifyApiOfCsv(policy.key,listId,rebuiltHeaders,delimiter);case 6:case"end":return _context.stop()}},_callee,this)}));return function(_x,_x2,_x3,_x4){return _ref.apply(this,arguments)}}(),exports.uploadCsvToNew=function(){var _ref2=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(file,listName,rebuiltHeaders,delimiter){var newList,listPromise,policyPromise,policy;return regeneratorRuntime.wrap(function(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return newList=void 0,_context2.prev=1,listPromise=(0,_listActions.create)(listName),_context2.next=5,listPromise;case 5:newList=_context2.sent,_context2.next=12;break;case 8:return _context2.prev=8,_context2.t0=_context2.catch(1),_notificationActions2.default.add(_context2.t0.responseJSON.message,"danger"),_context2.abrupt("return");case 12:return policyPromise=$.post("/marketing_campaigns/upload_policies"),_context2.next=15,policyPromise;case 15:return policy=_context2.sent,_context2.next=18,s3PostCsv(policy,file);case 18:notifyApiOfCsv(policy.key,newList.id,rebuiltHeaders,delimiter);case 19:case"end":return _context2.stop()}},_callee2,this,[[1,8]])}));return function(_x5,_x6,_x7,_x8){return _ref2.apply(this,arguments)}}();exports.xhrWithUploadProgress=xhrWithUploadProgress;var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_listActions=__webpack_require__(49),_notificationActions=__webpack_require__(100),_notificationActions2=_interopRequireDefault(_notificationActions)},function(module,exports,__webpack_require__){"use strict";function isLastRowEmpty(parsedData){return""===parsedData.data[parsedData.data.length-1].reduce(function(memo,val){return memo+(val||"").toString().trim()},"")}function parse(csvFile){return new Promise(function(resolve,reject){_papaparse2.default.parse(csvFile,{delimiter:"",preview:2002,fastMode:!1,skipEmptyLines:!0,complete:function(parsedData){var slicedData=parsedData.data.slice(0,4);slicedData[0]=slicedData[0].map(function(hdr){return hdr.trim()});var csvData=_extends({},parsedData,{data:slicedData}),count=parsedData.data.length-(isLastRowEmpty(parsedData)?2:1);resolve({csvData:csvData,count:count})},error:function(){reject()}})})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};exports.parse=parse;var _papaparse=__webpack_require__(1537),_papaparse2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_papaparse);exports.default=parse},,function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_center=__webpack_require__(372),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_uploadCsvCss=__webpack_require__(597),_uploadCsvCss2=_interopRequireDefault(_uploadCsvCss),_reactClassUtils=__webpack_require__(7),viewPlans=function(){window.location.href="//app.sendgrid.com/settings/billing"},FreeModal=function(props){return _react2.default.createElement(_center.CenterModal,{show:props.show},_react2.default.createElement("div",{className:props.modalClasses},_react2.default.createElement("div",{className:_uploadCsvCss2.default["exceeding-contact-limit-header"]},_react2.default.createElement("i",{className:"sg-icon sg-icon-warning-triangle is-size-40"}),_react2.default.createElement("h2",{className:"is-size-h2"},"Your current contact upload exceeds your 2,000 free contact limit.")),_react2.default.createElement("p",{className:"small"},"Unfortunately, we are unable to upload these contacts. To store more than 2,000 contacts, you must upgrade to a paid account."),_react2.default.createElement("div",{className:_uploadCsvCss2.default["btn-list"]+" btn-list"},_react2.default.createElement("button",{onClick:props.cancelUpload,className:"btn btn-secondary"},"Cancel"),_react2.default.createElement("button",{onClick:viewPlans,className:"btn btn-primary","data-role":"confirm-csv-upload"},"See pricing options"))))};FreeModal.propTypes={cancelUpload:_propTypes2.default.func.isRequired,modalClasses:_propTypes2.default.string.isRequired,show:_propTypes2.default.bool},FreeModal.defaultProps={show:!1};var PaidModal=function(props){return _react2.default.createElement(_center.CenterModal,{show:props.show},_react2.default.createElement("div",{className:props.modalClasses},_react2.default.createElement("div",{className:_uploadCsvCss2.default["exceeding-contact-limit-header"]},_react2.default.createElement("i",{className:"sg-icon sg-icon-warning-triangle is-size-40"}),_react2.default.createElement("h2",{className:"is-size-h2"},"Your current contact upload will cause you to exceed your 2,000 free contacts.")),_react2.default.createElement("p",{className:"small"},_react2.default.createElement("span",null,"If you choose to continue, you will be charged $10 for every 10,000 contacts you upload. This charge is in addition to your ",_react2.default.createElement("a",{href:"https://sendgrid.com/pricing/"},"monthly plan price"),".")),_react2.default.createElement("div",{className:_uploadCsvCss2.default["btn-list"]+" btn-list"},_react2.default.createElement("button",{onClick:props.cancelUpload,className:"btn btn-secondary"},"Cancel Upload"),_react2.default.createElement("button",{onClick:props.continueCSVUpload,className:"btn btn-primary","data-role":"confirm-csv-upload"},"Continue and Accept Charge"))))};PaidModal.propTypes={cancelUpload:_propTypes2.default.func.isRequired,continueCSVUpload:_propTypes2.default.func.isRequired,modalClasses:_propTypes2.default.string.isRequired,show:_propTypes2.default.bool},PaidModal.defaultProps={show:!1};var ExceedingFreeLimitWarning=(_class=function(_React$Component){function ExceedingFreeLimitWarning(){return _classCallCheck(this,ExceedingFreeLimitWarning),_possibleConstructorReturn(this,(ExceedingFreeLimitWarning.__proto__||Object.getPrototypeOf(ExceedingFreeLimitWarning)).apply(this,arguments))}return _inherits(ExceedingFreeLimitWarning,_React$Component),_createClass(ExceedingFreeLimitWarning,[{key:"continueCSVUpload",value:function(){this.props.setWhetherUserExceedsFreeContacts(),this.props.hide()}},{key:"render",value:function(){var userIsFree=_currentUserStore2.default.getIsFree(),modalClasses=(0,_classnames2.default)(_uploadCsvCss2.default["exceeding-contact-limit-modal"],_defineProperty({},_uploadCsvCss2.default["free-user"],userIsFree));return userIsFree?_react2.default.createElement(FreeModal,_extends({modalClasses:modalClasses},this.props)):_react2.default.createElement(PaidModal,_extends({modalClasses:modalClasses,continueCSVUpload:this.continueCSVUpload},this.props))}}]),ExceedingFreeLimitWarning}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"continueCSVUpload",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"continueCSVUpload"),_class.prototype),_class);ExceedingFreeLimitWarning.propTypes={cancelUpload:_propTypes2.default.func.isRequired,setWhetherUserExceedsFreeContacts:_propTypes2.default.func.isRequired,show:_propTypes2.default.bool,hide:_propTypes2.default.func.isRequired},ExceedingFreeLimitWarning.defaultProps={show:!1},exports.default=ExceedingFreeLimitWarning},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function App(props){return _react2.default.createElement("div",{"data-role":"custom-fields-app"},_react2.default.createElement(_listView2.default,null),props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_listView=__webpack_require__(1540),_listView2=_interopRequireDefault(_listView);App.propTypes={children:_propTypes2.default.node},App.defaultProps={children:null},exports.App=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_listItem=__webpack_require__(1541),_listItem2=_interopRequireDefault(_listItem),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_customFieldStore=__webpack_require__(156),_customFieldStore2=_interopRequireDefault(_customFieldStore),_buttons=__webpack_require__(8),_reactClassUtils=__webpack_require__(7),_listViewCss=__webpack_require__(1542),_listViewCss2=_interopRequireDefault(_listViewCss),ListView=(_class=function(_React$Component){function ListView(){_classCallCheck(this,ListView);var _this=_possibleConstructorReturn(this,(ListView.__proto__||Object.getPrototypeOf(ListView)).call(this));return _this.state={collection:_customFieldStore2.default.getCollection()},_this}return _inherits(ListView,_React$Component),_createClass(ListView,[{key:"componentDidMount",value:function(){_customFieldStore2.default.addChangeListener(this.customFieldStoreChanged),_customFieldActions2.default.fetch(),$("[data-toggle=tooltip]").tooltip()}},{key:"componentWillUnmount",value:function(){_customFieldStore2.default.removeChangeListener(this.customFieldStoreChanged)}},{key:"customFieldStoreChanged",value:function(){this.setState({collection:_customFieldStore2.default.getCollection()})}},{key:"render",value:function(){var reservedFieldCount=_underscore2.default.where(this.state.collection,{is_reserved:!0}).length;return _react2.default.createElement("div",null,_react2.default.createElement("header",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_pageTitle2.default,{title:"Custom Fields"},_react2.default.createElement("i",{className:"sg-icon sg-icon-info-circle","data-toggle":"tooltip","data-placement":"bottom","data-title":'<div><h5 class="title">Type Limits</h5>You can create up to 20 custom fields of each type (i.e. text, number, and date), for a total of 60.</div>',"data-html":"true"}))),_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement("div",{className:"actions pull-right"},_react2.default.createElement(_buttons.PrimaryButton,{to:"/marketing_campaigns/ui/custom_fields/new"},"Create New Field")))),_react2.default.createElement("div",{className:_listViewCss2.default.table},_react2.default.createElement("table",{className:"table-wrap custom-fields"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",null,"#"),_react2.default.createElement("th",null,"Name"),_react2.default.createElement("th",null,"Type"),_react2.default.createElement("th",{className:"actions"},"Actions"))),_customFieldStore2.default.getHasFetchedCollection()?_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:"list-item",transitionEnterTimeout:500,transitionLeaveTimeout:500,component:"tbody"},_underscore2.default.sortBy(this.state.collection,function(item){return item.id||0}).map(function(customField,index){return _react2.default.createElement(_listItem2.default,{model:customField,index:index+1-reservedFieldCount,key:customField.id||"reserved-"+(index+1)})})):null)))}}]),ListView}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"customFieldStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"customFieldStoreChanged"),_class.prototype),_class);exports.default=ListView},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_actionsMenu=__webpack_require__(151),_reactClassUtils=__webpack_require__(7),ListItem=(_class=function(_React$Component){function ListItem(){_classCallCheck(this,ListItem);var _this=_possibleConstructorReturn(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).call(this));return _this.state={deleteModalActive:!1},_this}return _inherits(ListItem,_React$Component),_createClass(ListItem,[{key:"componentDidMount",value:function(){$("[data-toggle=tooltip]").tooltip()}},{key:"componentWillUnmount",value:function(){this.setState({deleteModalActive:!1})}},{key:"getItemActions",value:function(){return this.props.model.is_reserved?_react2.default.createElement("td",{className:"actions"},_react2.default.createElement("i",{className:"glyphicon glyphicon-lock","data-toggle":"tooltip","data-placement":"top","data-title":"No actions available for reserved custom fields."})," "):_react2.default.createElement(_actionsMenu.ActionsMenu,null,_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteConfirmation,"data-role":"delete-custom-field"},"Delete"))}},{key:"handleCancelDelete",value:function(){this.setState({deleteModalActive:!1})}},{key:"handleConfirmDelete",value:function(){_customFieldActions2.default.delete(this.props.model.id)}},{key:"showDeleteConfirmation",value:function(){this.setState({deleteModalActive:!0})}},{key:"render",value:function(){return _react2.default.createElement("tr",{className:"custom-field "+(this.props.model.is_reserved?"active":"")},_react2.default.createElement("td",null,this.props.model.is_reserved?_react2.default.createElement("span",{className:"label label-default active"},_react2.default.createElement("i",{className:"glyphicon glyphicon-tag"})," Reserved"):this.props.index,_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.deleteModalActive,onCancel:this.handleCancelDelete},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete custom field?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"WARNING: Deleting this custom field will delete all values for that field across your contact database. If you have campaigns using this ","field's"," substitution tag, the tag will NOT populate data when campaigns are sent. You will not be allowed to delete this custom field if it is currently being used in a segment.",_react2.default.createElement("br",null),_react2.default.createElement("br",null),"Deletion may take several minutes. ","You'll"," continue to see the custom field on this page until the process is complete.",_react2.default.createElement("br",null),_react2.default.createElement("br",null),"Please confirm you want to delete this custom field."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.handleCancelDelete},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{onClick:this.handleConfirmDelete},"Confirm")))),_react2.default.createElement("td",null,this.props.model.is_reserved?this.props.model.field_name:this.props.model.name),_react2.default.createElement("td",{className:"type"},this.props.model.type),this.getItemActions())}}]),ListItem}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getItemActions",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getItemActions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelDelete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleConfirmDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleConfirmDelete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteConfirmation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteConfirmation"),_class.prototype),_class);ListItem.propTypes={model:_propTypes2.default.shape({field_name:_propTypes2.default.string,name:_propTypes2.default.string,type:_propTypes2.default.string,is_reserved:_propTypes2.default.bool,id:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number])}).isRequired,index:_propTypes2.default.number},ListItem.defaultProps={index:0},exports.default=ListItem},function(module,exports,__webpack_require__){var content=__webpack_require__(1543);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".listView-css__table___3obuX{padding-bottom:50px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/custom_fields/__css__/src/views/custom_fields/__css__/listView.css.scss"],names:[],mappings:"AACA,6BACE,mBAAoB,CACrB",file:"listView.css.scss",sourcesContent:["// annoying css issue, need enough padding for the little gear dropdown menu.  without this it gets clipped or causes unintended scrolling\n.table {\n  padding-bottom: 50px;\n}\n"],sourceRoot:""}]),exports.locals={table:"listView-css__table___3obuX"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_side=__webpack_require__(60),_buttons=__webpack_require__(8),_textInput=__webpack_require__(18),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_reactClassUtils=__webpack_require__(7),_customFieldStore=__webpack_require__(156),_customFieldStore2=_interopRequireDefault(_customFieldStore),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_customFieldTypes=__webpack_require__(251),_customFieldTypes2=_interopRequireDefault(_customFieldTypes),_reservedCustomFields=__webpack_require__(371),_reservedCustomFields2=_interopRequireDefault(_reservedCustomFields),NewView=(_class=function(_React$Component){function NewView(props){_classCallCheck(this,NewView);var _this=_possibleConstructorReturn(this,(NewView.__proto__||Object.getPrototypeOf(NewView)).call(this,props));return _this.state={shouldInputsValidate:props.shouldInputsInitiallyValidate,model:{name:void 0,type:void 0}},_this}return _inherits(NewView,_React$Component),_createClass(NewView,[{key:"componentDidMount",value:function(){_customFieldActions2.default.fetch()}},{key:"componentWillReceiveProps",value:function(newProps){newProps.shouldInputsInitiallyValidate!==this.state.shouldInputsValidate&&this.setState({shouldInputsValidate:newProps.shouldInputsInitiallyValidate})}},{key:"getCollectionForValidation",value:function(validation){var collectionForValidation=_underscore2.default.map(_customFieldStore2.default.getCollection(),function(item){return item.is_reserved?item.field_name.toLowerCase():item.name.toLowerCase()});return{items:"notIn"===validation?_reservedCustomFields2.default:collectionForValidation.concat(this.state.model.name.toLowerCase()),test:function(value){return value.toLowerCase()}}}},{key:"inputChanged",value:function(e){var newModel=_underscore2.default.clone(this.state.model);newModel[e.target.name]=$(e.target).val(),this.setState({model:newModel})}},{key:"handleSubmit",value:function(){var _this2=this;this.props.trySubmit(function(){$.when(_customFieldActions2.default.create(_this2.state.model)).fail(function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];console.warn("Failed to create custom field."),console.log(args)}).always(function(){_this2.context.router.goBack()})})}},{key:"render",value:function(){var _this3=this,sharedInputProps={onChange:this.inputChanged,registerFormInput:this.props.registerFormInput,shouldValidate:this.state.shouldInputsValidate,getCollection:this.getCollectionForValidation},select2Options={minimumResultsForSearch:-1,width:"100%"},modalBodyContent=_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-12 col-xs-12"},_react2.default.createElement("p",null,"Custom fields allow you store data about your recipients such as gender or geography. You can use this data  to create targeted segments or personalize content to better engage your audience.")),_react2.default.createElement("div",{className:"col-md-12 col-xs-12"},_react2.default.createElement(_textInput.TextInput,_extends({id:"name",displayName:"Field Name",name:"name",value:this.state.model.name,validations:["required","unique","alphanumeric","noSpaces","notIn"],validationMessages:{notIn:"The field name you have entered is reserved. Please enter a different name."}},sharedInputProps)),_react2.default.createElement("p",{className:"small"},"Only alphanumeric characters (letters A-Z, numbers 0-9) and underscores are allowed. ",_react2.default.createElement("br",null),"May not contain reserved field names. ",_react2.default.createElement("a",{href:"https://support.sendgrid.com/hc/en-us/articles/206923947",target:"_blank",rel:"noopener noreferrer"},"Learn more."))),_react2.default.createElement("div",{className:"col-md-12 col-xs-12 form-group"},_react2.default.createElement(_select2.default,_extends({displayName:"Field Type",name:"type",value:this.state.model.type,validations:["required"],showLabel:!0,options:select2Options,data:_customFieldTypes2.default,hasLoadedData:!0,ref:function(c){return _this3.props.registerFormInput(c)}},sharedInputProps))));return _react2.default.createElement(_side.SideRouteModal,{onCancel:this.context.router.goBack},_react2.default.createElement(_form2.default,{onSubmit:this.handleSubmit},_react2.default.createElement(_side.SideModalHeader,{header:"Add New Custom Field"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{type:"submit"},"Save"))),_react2.default.createElement(_side.SideModalBody,null,modalBodyContent)))}}]),NewView}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getCollectionForValidation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getCollectionForValidation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"inputChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"inputChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmit"),_class.prototype),_class);NewView.contextTypes={router:_react2.default.PropTypes.object},NewView.propTypes={registerFormInput:_propTypes2.default.func.isRequired,trySubmit:_propTypes2.default.func.isRequired,shouldInputsInitiallyValidate:_propTypes2.default.bool},NewView.defaultProps={registerFormInput:function(){},trySubmit:function(){},shouldInputsInitiallyValidate:!1},exports.NewView=(0,_formDecorator2.default)(NewView)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _overviewApp=__webpack_require__(1546),_overviewApp2=_interopRequireDefault(_overviewApp),_app=__webpack_require__(1555),_app2=_interopRequireDefault(_app),_welcomeApp=__webpack_require__(1558),_welcomeApp2=_interopRequireDefault(_welcomeApp);module.exports={OverviewApp:_overviewApp2.default,TourApp:_app2.default,WelcomeApp:_welcomeApp2.default}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_statTypesActions=__webpack_require__(598),_statTypesActions2=_interopRequireDefault(_statTypesActions),_statTypesStore=__webpack_require__(1547),_statTypesStore2=_interopRequireDefault(_statTypesStore),_totalStatsActions=__webpack_require__(1548),_totalStatsActions2=_interopRequireDefault(_totalStatsActions),_totalStatsStore=__webpack_require__(1549),_totalStatsStore2=_interopRequireDefault(_totalStatsStore),_statsActions=__webpack_require__(1550),_statsActions2=_interopRequireDefault(_statsActions),_statsStore=__webpack_require__(1551),_statsStore2=_interopRequireDefault(_statsStore),_statsPanel=__webpack_require__(1552),_statsPanel2=_interopRequireDefault(_statsPanel),_statsChart=__webpack_require__(1553),_statsChart2=_interopRequireDefault(_statsChart),_statsFilters=__webpack_require__(1554),_statsFilters2=_interopRequireDefault(_statsFilters),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),App=_react2.default.createClass({displayName:"App",componentDidMount:function(){_statTypesStore2.default.addChangeListener(this.statTypesStoreChanged),_totalStatsStore2.default.addChangeListener(this.totalStatsStoreChange),_statsStore2.default.addChangeListener(this.statsStoreChanged),_statTypesActions2.default.fetch(),_totalStatsActions2.default.fetch(),_statsActions2.default.fetch(this.state.days)},componentWillUnmount:function(){_statTypesStore2.default.removeChangeListener(this.statTypesStoreChanged),_totalStatsStore2.default.removeChangeListener(this.totalStatsStoreChange),_statsStore2.default.removeChangeListener(this.statsStoreChanged)},statTypesStoreChanged:function(){this.setState({statTypes:_statTypesStore2.default.getCollection()})},totalStatsStoreChange:function(){this.setState({totalStats:_totalStatsStore2.default.getStats()})},statsStoreChanged:function(){this.setState({stats:_statsStore2.default.getCollection()})},getInitialState:function(){return{statTypes:_statTypesStore2.default.getCollection(),totalStats:_totalStatsStore2.default.getStats(),stats:_statsStore2.default.getCollection(),days:7}},setWeek:function(){this.setState({days:7}),_statsActions2.default.fetch(7)},setMonth:function(){this.setState({days:30}),_statsActions2.default.fetch(30)},render:function(){return _react2.default.createElement("div",{"data-role":"overview-app"},_react2.default.createElement("header",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_pageTitle2.default,{title:"Overview"})),_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement("div",{className:"actions pull-right"}))),_react2.default.createElement("hr",null),_react2.default.createElement("div",{className:"btn-group pull-right"},_react2.default.createElement("div",{onClick:this.setWeek,className:7==this.state.days?"btn btn-group-item is-active":"btn btn-group-item"},"Wk"),_react2.default.createElement("div",{onClick:this.setMonth,className:30==this.state.days?"btn btn-group-item is-active":"btn btn-group-item"},"Mo")),_react2.default.createElement(_statsPanel2.default,{stats:this.state.totalStats}),_react2.default.createElement(_statsChart2.default,{stats:this.state.stats,types:this.state.statTypes,days:this.state.days}),_react2.default.createElement(_statsFilters2.default,{types:this.state.statTypes}),_react2.default.createElement("hr",null),this.props.children)}});module.exports=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_collection=[],_hasFetchedCollection=!1,initState=function(){_hasFetchedCollection=!1,_collection=[]},setCollection=function(collection){_collection=_underscore2.default.map(collection,function(val,key){return{name:val,active:!0,displayName:key}}),_hasFetchedCollection=!0},activateType=function(typeName){var type=_underscore2.default.find(_collection,function(t){return t.name==typeName});type&&(type.active=!0)},deactivateType=function(typeName){var type=_underscore2.default.find(_collection,function(t){return t.name==typeName});type&&(type.active=!1)},StatTypesStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return _hasFetchedCollection},getCollection:function(){return _collection},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.STAT_TYPES.FETCHED:setCollection(action.statTypes),StatTypesStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.STAT_TYPES.ACTIVATETYPE:activateType(action.type),StatTypesStore.emitChange();break;case _constants2.default.ACTIONS.CAMPAIGNS.STAT_TYPES.DEACTIVATETYPE:deactivateType(action.type),StatTypesStore.emitChange()}}});initState(),StatTypesStore.dispatchToken=_appDispatcher2.default.register(StatTypesStore.dispatcherCb),module.exports=StatTypesStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),TotalStatsActions={fetch:function(){$.ajax({url:"/marketing_campaigns/total_stats",method:"GET",dataType:"json",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.TOTAL_STATS.FETCHED,totalStats:json})},error:function(){console.error("Ajax error while trying to fetch campaign total stats."),console.log(arguments)}})}};module.exports=TotalStatsActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_stats={},initState=function(){_stats={}},setStats=function(stats){_stats=stats},TotalStatsStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getStats:function(){return _stats},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.TOTAL_STATS.FETCHED:setStats(action.totalStats),TotalStatsStore.emitChange()}}});initState(),TotalStatsStore.dispatchToken=_appDispatcher2.default.register(TotalStatsStore.dispatcherCb),module.exports=TotalStatsStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),CampaignsStatsActions={fetch:function(days){$.ajax({url:"/marketing_campaigns/stats.json",method:"GET",data:{days:days},dataType:"json",success:function(json){_appDispatcher2.default.dispatch({actionType:_constants2.default.ACTIONS.CAMPAIGNS.STATS.FETCHED,stats:json})},error:function(){console.error("Ajax error while trying to fetch campaigns stats."),console.log(arguments)}})}};module.exports=CampaignsStatsActions},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_collection=[],_hasFetchedCollection=!1,initState=function(){_hasFetchedCollection=!1,_collection=[]},setCollection=function(collection){_collection=collection,_hasFetchedCollection=!0},StatsStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getHasFetchedCollection:function(){return _hasFetchedCollection},getCollection:function(){return _collection},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.off(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},_test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.CAMPAIGNS.STATS.FETCHED:setCollection(action.stats),StatsStore.emitChange()}}});initState(),StatsStore.dispatchToken=_appDispatcher2.default.register(StatsStore.dispatcherCb),module.exports=StatsStore},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),StatsPanel=_react2.default.createClass({displayName:"StatsPanel",getDefaultProps:function(){return{stats:{delivers:0,requests:0,opens_unique:0,clicks_unique:0,bounces_unique:0,unsubscribes_unique:0,spam_reports_unique:0}}},utilities:{getPercentage:function(denom,num){return num>0?(100*denom/num).toFixed(2)+"%":"0.00%"},numberWithDelimiter:function(x){return x?x.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):"0"},truncateNumber:function(val){return val<1e6?val:(val/1e6).toFixed(1)+"M..."}},render:function(){var getPercentage=this.utilities.getPercentage,numberWithDelimiter=this.utilities.numberWithDelimiter;return _react2.default.createElement("ul",{className:"panels stats"},_react2.default.createElement("li",{className:"deliver",id:"delivered"},_react2.default.createElement("h2",null,"Delivered"),_react2.default.createElement("div",{className:"primary"},getPercentage(this.props.stats.delivers,this.props.stats.requests)),_react2.default.createElement("div",{className:"secondary"},numberWithDelimiter(this.props.stats.delivers))),_react2.default.createElement("li",{className:"open",id:"opens"},_react2.default.createElement("h2",null,"Unique Opens"),_react2.default.createElement("div",{className:"primary"},getPercentage(this.props.stats.opens_unique,this.props.stats.delivers)),_react2.default.createElement("div",{className:"secondary"},numberWithDelimiter(this.props.stats.opens_unique))),_react2.default.createElement("li",{className:"click",id:"clicks"},_react2.default.createElement("h2",null,"Unique Clicks"),_react2.default.createElement("div",{className:"primary"},getPercentage(this.props.stats.clicks_unique,this.props.stats.delivers)),_react2.default.createElement("div",{className:"secondary"},numberWithDelimiter(this.props.stats.clicks_unique))),_react2.default.createElement("li",{className:"other"},_react2.default.createElement("div",{className:"requests-top-wrapper"},_react2.default.createElement("div",{className:"clearfix requests-top truncated"},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("i",{className:"icon-circle requests"}),_react2.default.createElement("span",{className:"other-label"},"REQUESTS")),_react2.default.createElement("div",{id:"requests-truncated",className:"pull-right"},this.utilities.truncateNumber(this.props.stats.requests))),_react2.default.createElement("div",{className:"clearfix requests-top full"},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("i",{className:"icon-circle requests"}),_react2.default.createElement("span",{id:"requests-full",className:"other-label"},numberWithDelimiter(this.props.stats.requests))))),_react2.default.createElement("div",{className:"bounces-top-wrapper"},_react2.default.createElement("div",{className:"clearfix bounces-top percent"},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("i",{className:"icon-circle unique_bounces"}),_react2.default.createElement("span",{className:"other-label"},"BOUNCES")),_react2.default.createElement("div",{id:"bounces-percent",className:"pull-right"},getPercentage(this.props.stats.bounces_unique,this.props.stats.requests))),_react2.default.createElement("div",{className:"clearfix bounces-top full"},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("i",{className:"icon-circle unique_bounces"}),_react2.default.createElement("span",{id:"bounces-full",className:"other-label"},numberWithDelimiter(this.props.stats.bounces_unique))))),_react2.default.createElement("div",{className:"unsubscribes-top-wrapper"},_react2.default.createElement("div",{className:"clearfix unsubscribes-top percent"},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("i",{className:"icon-circle unique_unsubscribes"}),_react2.default.createElement("span",{className:"other-label"},"UNSUBSCRIBES")),_react2.default.createElement("div",{id:"unsubscribes-percent",className:"pull-right"},getPercentage(this.props.stats.unsubscribes_unique,this.props.stats.delivers))),_react2.default.createElement("div",{className:"clearfix unsubscribes-top full"},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("i",{className:"icon-circle unique_unsubscribes"}),_react2.default.createElement("span",{id:"unsubscribes-full",className:"other-label"},numberWithDelimiter(this.props.stats.unsubscribes_unique))))),_react2.default.createElement("div",{className:"spam-reports-top-wrapper"},_react2.default.createElement("div",{className:"clearfix spam-reports-top percent"},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("i",{className:"icon-circle unique_spam_reports"}),_react2.default.createElement("span",{className:"other-label"},"SPAM REPORTS")),_react2.default.createElement("div",{id:"spam-reports-percent",className:"pull-right"},getPercentage(this.props.stats.spam_reports_unique,this.props.stats.delivers))),_react2.default.createElement("div",{className:"clearfix spam-reports-top full"},_react2.default.createElement("div",{className:"pull-left"},_react2.default.createElement("i",{className:"icon-circle unique_spam_reports"}),_react2.default.createElement("span",{id:"spam-reports-full",className:"other-label"},numberWithDelimiter(this.props.stats.spam_reports_unique)))))))}});module.exports=StatsPanel},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),StatsChart=_react2.default.createClass({displayName:"StatsChart",getInitialState:function(){return{stats:[],types:[],days:null}},componentWillReceiveProps:function(props){this.setState({stats:props.stats||this.state.stats,days:props.days||this.state.days,types:props.types||this.state.types})},componentDidMount:function(){this.setState({stats:this.props.stats||this.state.stats,days:this.props.days||this.state.days,types:this.props.types||this.state.types})},componentDidUpdate:function(prevProps,prevState){prevProps.days==this.state.days&&prevState.stats.length==this.state.stats.length&&this.statsGraph?this.updateFilters():this.drawChart()},drawChart:function(){var disabled=_underscore2.default.reject(this.state.types,function(type){return type.active}),disabledNames=_underscore2.default.map(disabled,function(type){return type.name});this.state.stats.length&&(this.statsGraph=new Nlvx.StatsGraphControllerNoAjax($(".graph-container"),disabledNames),this.statsGraph.initialize(this.state.stats,this.state.days))},updateFilters:function(){_underscore2.default.each(this.state.types,function(type){type.active?$("path."+type.name).show():$("path."+type.name).hide()})},componentWillUnmount:function(){delete this.statsGraph},render:function(){return _react2.default.createElement("div",{className:"campaign-stats"},_react2.default.createElement("div",{className:"graph-container"},_react2.default.createElement("div",{className:"graph"},_react2.default.createElement("div",{className:"draw-area"}))))}});module.exports=StatsChart},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_statTypesActions=__webpack_require__(598),_statTypesActions2=_interopRequireDefault(_statTypesActions),StatsFilters=_react2.default.createClass({displayName:"StatsFilters",getInitialState:function(){return{types:[]}},onClickFilter:function(type){type.active?_statTypesActions2.default.deactivateType(type.name):_statTypesActions2.default.activateType(type.name)},render:function(){var _this=this;return _react2.default.createElement("div",{className:"filters row"},_react2.default.createElement("ul",{id:"filters"},_react2.default.createElement("li",{className:"filters-label"},_react2.default.createElement("span",{className:"filters-icon"}),_react2.default.createElement("span",{className:"filters-text"},"Filters")),_underscore2.default.map(this.props.types,function(type){var classes=type.name;return type.active||(classes+=" disabled"),_react2.default.createElement("li",{onClick:_this.onClickFilter.bind(_this,type),className:classes,key:""+type.name},_react2.default.createElement("span",{className:"stats-toggle"},type.displayName))})))}});module.exports=StatsFilters},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function App(props){return _react2.default.createElement("div",{"data-role":"tour-app"},_react2.default.createElement(_stepList2.default,null),props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_stepList=__webpack_require__(1556),_stepList2=_interopRequireDefault(_stepList);module.exports=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_tourActions=__webpack_require__(599),_tourActions2=_interopRequireDefault(_tourActions),_tourStore=__webpack_require__(373),_buttons=__webpack_require__(8),_confirmation=__webpack_require__(34),_stepItem=__webpack_require__(1557),_stepItem2=_interopRequireDefault(_stepItem),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),StepList=_react2.default.createClass({displayName:"StepList",componentDidMount:function(){_tourStore.TourStore.addChangeListener(this.tourStoreChanged),_tourActions2.default.fetch(),this.animateIcon()},animateIcon:function(){setTimeout(function(){$(".tour-icon").addClass("fly")},800)},componentWillUnmount:function(){this.setState({leaveModalActive:!1}),_tourStore.TourStore.removeChangeListener(this.tourStoreChanged)},getInitialState:function(){return{steps:_tourStore.TourStore.getSteps(),isTourEnabled:_tourStore.TourStore.isTourEnabled(),leaveModalActive:!1}},tourStoreChanged:function(){this.setState({steps:_tourStore.TourStore.getSteps(),isTourEnabled:_tourStore.TourStore.isTourEnabled()}),this.redirectIfTourDisabled()},redirectIfTourDisabled:function(){this.state.isTourEnabled||(_locationUtils2.default.router.push("/marketing_campaigns/ui/overview"),$('.subpage-link[href*="/tour"]').fadeOut(700))},showLeaveTourConfirmation:function(){this.setState({leaveModalActive:!0})},handleConfirmLeaveTour:function(){this.setState({leaveModalActive:!1}),_tourActions2.default.disable()},handleCancelLeaveTour:function(){this.setState({leaveModalActive:!1})},getHeader:function(){return _react2.default.createElement("div",{className:"row step intro"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{alt:"Marketing Campaigns Tour Icon",className:"tour-icon"}),_react2.default.createElement("h3",null,"Get Started"),_react2.default.createElement("h1",null,"Welcome to SendGrid Marketing Campaigns")),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"overview"},_react2.default.createElement("p",{className:"span-light"},"Introducing powerful tools to engage your customers and streamline your marketing email workflow. Make sure you have a suppression group set up in our ",_react2.default.createElement("a",{href:"https://app.sendgrid.com/suppressions/advanced_suppression_manager",target:"_blank"},"Unsubscribe Groups")," before you begin."))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement(_buttons.PrimaryButton,{to:"/marketing_campaigns/ui/senders"},"Get Started"),"  or  ",_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.showLeaveTourConfirmation,ref:"show-leave-tour"},"Leave the Tour")))},getFooter:function(){return _react2.default.createElement("div",{className:"row final"},_react2.default.createElement("h1",null,"Get Started"),_react2.default.createElement("p",null,"Set up a sender identity to use with your campaigns."),_react2.default.createElement(_buttons.PrimaryButton,{to:"/marketing_campaigns/ui/senders"},"Get Started with a Sender Identity"),"  or  ",_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.showLeaveTourConfirmation},"Leave the Tour"))},render:function(){return _react2.default.createElement("div",null,_react2.default.createElement(_confirmation.ConfirmationModal,{ref:"confirm-leave-tour-modal",show:this.state.leaveModalActive,onCancel:this.handleCancelLeaveTour},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"info-circle"},"Leave Tour"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Once you leave the tour you won’t be able to come back. Are you sure you want to exit?"),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{"data-dismiss":"modal",onClick:this.handleCancelLeaveTour},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{"data-dismiss":"modal",onClick:this.handleConfirmLeaveTour},"Leave Tour"))),this.getHeader(),this.state.steps.map(function(step,i){return _react2.default.createElement(_stepItem2.default,{key:i,index:i+1,imageClass:step.imageClass,name:step.name,description:step.description,status:step.status,callToAction:step.callToAction})}),this.getFooter())}});module.exports=StepList},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_tourStore=__webpack_require__(373),_buttons=__webpack_require__(8),StepItem=_react2.default.createClass({displayName:"StepItem",propTypes:{index:_react2.default.PropTypes.number.isRequired,imageClass:_react2.default.PropTypes.string,name:_react2.default.PropTypes.string.isRequired,description:_react2.default.PropTypes.string,status:_react2.default.PropTypes.object.isRequired,callToAction:_react2.default.PropTypes.object.isRequired},getDefaultProps:function(){return{imageClass:"",description:""}},getCallToAction:function(){return this.props.callToAction.link.match(/ui/)?_react2.default.createElement(_buttons.PrimaryButton,{to:this.props.callToAction.link},this.props.callToAction.text):_react2.default.createElement(_buttons.PrimaryButton,{href:this.props.callToAction.link},this.props.callToAction.text)},getFooter:function(){return this.props.status.code===(_tourStore.TOUR_STEP_STATUS.COMPLETE||_tourStore.TOUR_STEP_STATUS.ERROR)?_react2.default.createElement("div",{className:"step-completed "+(this.props.status.code===_tourStore.TOUR_STEP_STATUS.ERROR?"error":"")},_react2.default.createElement("p",null,_react2.default.createElement("strong",null,_react2.default.createElement("i",{className:this.props.status.code===_tourStore.TOUR_STEP_STATUS.ERROR?"sg-icon sg-icon-x":"sg-icon sg-icon-check"}),this.props.status.text))):this.getCallToAction()},render:function(){return _react2.default.createElement("div",{className:"row step"},_react2.default.createElement("div",{className:"col-xs-4 col-md-4"},_react2.default.createElement("div",{className:"step-image "+this.props.imageClass})),_react2.default.createElement("div",{className:"col-xs-8 col-md-8 step-text"},_react2.default.createElement("h3",{className:"caps steps"},"Step ",this.props.index),_react2.default.createElement("h2",null,this.props.name),_react2.default.createElement("p",{className:"span-light"},this.props.description),this.getFooter()))}});module.exports=StepItem},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_tourActions=__webpack_require__(599),_tourActions2=_interopRequireDefault(_tourActions),_tourStore=__webpack_require__(373),_welcomeCss=__webpack_require__(190),_welcomeCss2=_interopRequireDefault(_welcomeCss),_memoryUtils=__webpack_require__(127),_reactClassUtils=__webpack_require__(7),_buttons=__webpack_require__(8),_faq=__webpack_require__(1560),_faq2=_interopRequireDefault(_faq),_features=__webpack_require__(1561),_features2=_interopRequireDefault(_features),_pricing=__webpack_require__(1562),_pricing2=_interopRequireDefault(_pricing),_videoPlayer=__webpack_require__(1563),_videoPlayer2=_interopRequireDefault(_videoPlayer),App=(_class=function(_React$Component){function App(){_classCallCheck(this,App);var _this=_possibleConstructorReturn(this,(App.__proto__||Object.getPrototypeOf(App)).call(this));return _this.state={isTourEnabled:!1},_this}return _inherits(App,_React$Component),_createClass(App,[{key:"componentDidMount",value:function(){(0,_memoryUtils.saveState)("app",{sawWelcomePage:!0},!0),_tourActions2.default.fetch(),_tourStore.TourStore.addChangeListener(this.tourStoreChanged)}},{key:"componentWillUnmount",value:function(){_tourStore.TourStore.removeChangeListener(this.tourStoreChanged)}},{key:"tourStoreChanged",value:function(){this.setState({isTourEnabled:_tourStore.TourStore.isTourEnabled()})}},{key:"render",value:function(){return _react2.default.createElement("div",{"data-role":"welcome-app"},_react2.default.createElement(_videoPlayer2.default,{isTourEnabled:this.state.isTourEnabled}),_react2.default.createElement(_features2.default,null),_react2.default.createElement(_pricing2.default,null),_react2.default.createElement(_faq2.default,null),_react2.default.createElement("section",{className:_welcomeCss2.default.section+" "+_welcomeCss2.default.footer+" row"},_react2.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},_react2.default.createElement("div",{className:""+_welcomeCss2.default["footer-caption"]},_react2.default.createElement("p",{className:"proxima-nova is-regular"},"Marketing Campaigns is built on top of ","SendGrid's"," industry-leading deliverability engine and proven scalable infrastructure. Couple that with our expert customer support and account management services and you have one reliable vendor and one support team for all of your email needs."))),_react2.default.createElement("div",{className:""+_welcomeCss2.default["footer-actions"]},_react2.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},_react2.default.createElement(_buttons.PrimaryButton,{alt:"Get Started with Marketing Campaigns button",to:this.state.isTourEnabled?"/marketing_campaigns/ui/tour":"/marketing_campaigns/ui/campaigns",buttonClassName:_welcomeCss2.default["no-wrap"]+" pull-right"},"Get Started")),_react2.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-12"},_react2.default.createElement("p",{className:"small"},_react2.default.createElement("span",{className:"small"},"or "),_react2.default.createElement("strong",null,"Visit the ",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/index.html",target:"_blank",rel:"noopener noreferrer"},"documentation")," to learn more."))))))}}]),App}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"tourStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"tourStoreChanged"),_class.prototype),_class);exports.default=App},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'[data-role=welcome-app]{-webkit-font-smoothing:antialiased}.welcome-css__feature___38dO6,.welcome-css__section___kAb_Q{padding:50px 0}.welcome-css__no-wrap___3TwVO{white-space:nowrap}.welcome-css__hero___2Jrgn h1{margin-bottom:18px}.welcome-css__hero___2Jrgn .welcome-css__video-thumb___2LeL5{background:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/video.png") transparent no-repeat 50%/contain;position:relative;margin-top:40px}.welcome-css__hero___2Jrgn .welcome-css__video-thumb___2LeL5 .welcome-css__sg-icon-playbuttoncircle___1lKOV{background:url("https://marketing-assets-production.s3.amazonaws.com/images/icons/icon-playbuttoncircle.svg") no-repeat 50%;cursor:pointer;height:456px;width:100%;opacity:.8;display:block;transition:opacity .3s ease}.welcome-css__hero___2Jrgn .welcome-css__video-thumb___2LeL5 .welcome-css__sg-icon-playbuttoncircle___1lKOV:hover{opacity:1}.welcome-css__hero___2Jrgn .welcome-css__video-popup___qFVKz{background-color:rgba(0,0,0,.8);position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000}.welcome-css__hero___2Jrgn .welcome-css__video-popup___qFVKz iframe{display:block;position:fixed;max-width:95%;height:422px;width:750px;left:50%;top:50%;margin:-211px 0 0 -375px}.welcome-css__feature___38dO6{display:flex;align-items:center}.welcome-css__feature___38dO6 .welcome-css__feature-image___knyR0+.welcome-css__feature-text___2yT0Y{padding-left:10%}.welcome-css__feature___38dO6 .welcome-css__header___Ki9k6{margin-bottom:20px;white-space:nowrap}.welcome-css__feature___38dO6 .welcome-css__header___Ki9k6 span{display:inline-block;line-height:40px;vertical-align:middle;margin-right:20px}.welcome-css__feature___38dO6 .welcome-css__header___Ki9k6 span:before{font-size:36px;-webkit-font-smoothing:antialiased}.welcome-css__feature___38dO6 .welcome-css__header___Ki9k6+.welcome-css__description___Rjxau{max-width:320px}.welcome-css__feature___38dO6 .welcome-css__screenshot___fwmgl{height:377px;width:100%;min-width:275px;background-position:0;background-size:contain;background-repeat:no-repeat}.welcome-css__feature___38dO6 .welcome-css__screenshot___fwmgl.welcome-css__right___3NQeV{background-position-x:right}.welcome-css__feature___38dO6.welcome-css__segmentation___2n30A .welcome-css__header___Ki9k6 span:before{font-size:25px}.welcome-css__feature___38dO6.welcome-css__segmentation___2n30A .welcome-css__screenshot___fwmgl{background-image:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/segmentation.png")}.welcome-css__feature___38dO6.welcome-css__campaign-builder___3C5A2 .welcome-css__header___Ki9k6 span{margin-right:10px}.welcome-css__feature___38dO6.welcome-css__campaign-builder___3C5A2 .welcome-css__header___Ki9k6 span:before{font-size:42px}.welcome-css__feature___38dO6.welcome-css__campaign-builder___3C5A2 .welcome-css__screenshot___fwmgl{background-image:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/editor.png")}.welcome-css__feature___38dO6.welcome-css__analytics___3L64T .welcome-css__screenshot___fwmgl{background-image:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/analytics.png")}.welcome-css__feature___38dO6.welcome-css__interface___3DlxB .welcome-css__screenshot___fwmgl{background-image:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/interface.png")}.welcome-css__pricing___1YZL-{text-align:center}.welcome-css__pricing___1YZL- h1{margin-bottom:45px}.welcome-css__pricing___1YZL- .welcome-css__pricing-description___IgP64{max-width:650px;margin-left:auto;margin-right:auto}.welcome-css__pricing___1YZL- .welcome-css__pricing-banner___3lhlP{background:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/pricing_bg.png") #00bcd4 no-repeat bottom/cover;width:100%;color:#fff;padding:70px 0 35px;margin-top:50px}.welcome-css__pricing___1YZL- .welcome-css__pricing-banner___3lhlP h1{color:#fff;margin-bottom:10px}.welcome-css__pricing___1YZL- .welcome-css__pricing-banner___3lhlP a{color:#fff;text-decoration:underline}.welcome-css__faq___OJYLr h1{text-align:center;margin-bottom:50px}.welcome-css__faq___OJYLr .welcome-css__faq-accordion-wrapper___2T0cw{width:90%;margin:auto}.welcome-css__faq___OJYLr .welcome-css__faq-accordion-wrapper___2T0cw ol{list-style-type:square;list-style-position:inside}.welcome-css__footer___8Vx1- .welcome-css__footer-caption___1IkJb{padding:90px;text-align:center;color:#fff;background:#0086e9;margin-bottom:60px}.welcome-css__footer___8Vx1- .welcome-css__footer-caption___1IkJb p{max-width:650px;margin:auto}.welcome-css__footer___8Vx1- .welcome-css__footer-actions___1sEDv{display:flex;align-items:center;width:100%}.welcome-css__footer___8Vx1- .welcome-css__footer-actions___1sEDv p{margin:0}.welcome-css__animation-pulse___HkO3V{animation:welcome-css__pulse___bTHvl .4s ease}@keyframes welcome-css__pulse___bTHvl{0%{transform:scale(.9)}50%{transform:scale(1.05)}80%{transform:scale(1)}to{transform:scale(.95)}}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/overview/welcome/__css__/welcome.css.scss","/opt/sendgrid/nlvx-ui/src/views/overview/welcome/__css__/src/views/overview/welcome/__css__/welcome.css.scss","/opt/sendgrid/nlvx-ui/src/views/overview/welcome/__css__/stylesheets/mixins.css.scss"],names:[],mappings:"AAAA,wBCGE,kCAAmC,CACpC,4DAGC,cAAe,CAChB,8BAGC,kBAAmB,CACpB,8BAIG,kBAAmB,CAFvB,6DAKI,kIACA,kBACA,eAAgB,CAPpB,4GCbE,4HACA,eACA,aACA,WACA,WACA,cACA,2BAA8B,CDOhC,kHCLI,SAAU,CDKd,6DAaI,gCAEA,eACA,MACA,QACA,SACA,OACA,YAAa,CApBjB,oEAwBM,cACA,eAEA,cACA,aACA,YACA,SACA,QACA,wBAAyB,CAC1B,8BAKH,aACA,kBAAmB,CAFrB,qGAII,gBAAiB,CAJrB,2DAOI,mBACA,kBAAmB,CARvB,gEAUM,qBACA,iBACA,sBACA,iBAAkB,CAbxB,uEAeQ,eACA,kCAAmC,CAhB3C,6FAoBM,eAAgB,CApBtB,+DAwBI,aACA,WACA,gBACA,sBACA,wBACA,2BAA4B,CA7BhC,0FA+BM,2BAA4B,CA/BlC,yGAuCU,cAAe,CAvCzB,iGA4CM,4GAA6G,CA5CnH,sGAkDQ,iBAAkB,CAlD1B,6GAoDU,cAAe,CApDzB,qGAyDM,sGAAuG,CAzD7G,8FA8DM,yGAA0G,CA9DhH,8FAmEM,yGAA0G,CAC3G,8BAKH,iBAAkB,CADpB,iCAGI,kBAAmB,CAHvB,wEAMI,gBACA,iBACA,iBAAkB,CARtB,mEAWI,oIACA,WACA,WACA,oBACA,eAAgB,CAfpB,sEAiBM,WACA,kBAAmB,CAlBzB,qEAqBM,WACA,yBAA0B,CAC3B,6BAMD,kBACA,kBAAmB,CAHvB,sEAMI,UACA,WAAY,CAPhB,yEASM,uBACA,0BAA2B,CAC5B,kEAMD,aACA,kBACA,WACA,mBACA,kBAAmB,CANvB,oEAQM,gBACA,WAAY,CATlB,kEAaI,aACA,mBACA,UAAW,CAff,oEAiBM,QAAS,CACV,sCAMH,6CAA2B,CAC5B,sCC/KG,GAAI,mBAAsC,CAC1C,IAAK,qBAAsC,CAC3C,IAAK,kBAAgD,CACrD,GAAM,oBAAgD,CAAA,CAAA",file:"welcome.css.scss",sourcesContent:['[data-role=welcome-app]{-webkit-font-smoothing:antialiased}.section,.feature{padding:50px 0}.no-wrap{white-space:nowrap}.hero h1{margin-bottom:18px}.hero .video-thumb{background:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/video.png") transparent no-repeat center center/contain;position:relative;margin-top:40px}.hero .video-thumb .sg-icon-playbuttoncircle{background:url("https://marketing-assets-production.s3.amazonaws.com/images/icons/icon-playbuttoncircle.svg") no-repeat center center;cursor:pointer;height:456px;width:100%;opacity:0.8;display:block;transition:opacity 300ms ease}.hero .video-thumb .sg-icon-playbuttoncircle:hover{opacity:1}.hero .video-popup{background-color:rgba(0,0,0,0.8);position:fixed;top:0;right:0;bottom:0;left:0;z-index:1000}.hero .video-popup iframe{display:block;position:fixed;max-width:95%;height:422px;width:750px;left:50%;top:50%;margin:-211px 0 0 -375px}.feature{display:flex;align-items:center}.feature .feature-image+.feature-text{padding-left:10%}.feature .header{margin-bottom:20px;white-space:nowrap}.feature .header span{display:inline-block;line-height:40px;vertical-align:middle;margin-right:20px}.feature .header span:before{font-size:36px;-webkit-font-smoothing:antialiased}.feature .header+.description{max-width:320px}.feature .screenshot{height:377px;width:100%;min-width:275px;background-position:0 center;background-size:contain;background-repeat:no-repeat}.feature .screenshot.right{background-position-x:right}.feature.segmentation .header span:before{font-size:25px}.feature.segmentation .screenshot{background-image:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/segmentation.png")}.feature.campaign-builder .header span{margin-right:10px}.feature.campaign-builder .header span:before{font-size:42px}.feature.campaign-builder .screenshot{background-image:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/editor.png")}.feature.analytics .screenshot{background-image:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/analytics.png")}.feature.interface .screenshot{background-image:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/interface.png")}.pricing{text-align:center}.pricing h1{margin-bottom:45px}.pricing .pricing-description{max-width:650px;margin-left:auto;margin-right:auto}.pricing .pricing-banner{background:url("https://marketing-assets-production.s3.amazonaws.com/images/welcome/pricing_bg.png") #00bcd4 no-repeat center bottom/cover;width:100%;color:white;padding:70px 0 35px;margin-top:50px}.pricing .pricing-banner h1{color:white;margin-bottom:10px}.pricing .pricing-banner a{color:white;text-decoration:underline}.faq h1{text-align:center;margin-bottom:50px}.faq .faq-accordion-wrapper{width:90%;margin:auto}.faq .faq-accordion-wrapper ol{list-style-type:square;list-style-position:inside}.footer .footer-caption{padding:90px;text-align:center;color:white;background:#0086e9;margin-bottom:60px}.footer .footer-caption p{max-width:650px;margin:auto}.footer .footer-actions{display:flex;align-items:center;width:100%}.footer .footer-actions p{margin:0}.animation-pulse{animation:pulse 400ms ease}@keyframes pulse{0%{transform:scale(.9, .9)}50%{transform:scale(1.05, 1.05)}80%{transform:scale(1, 1)}100%{transform:scale(.95, .95)}}\n',"@import '../../../../../stylesheets/mixins.css.scss';\n\n[data-role=welcome-app] {\n  -webkit-font-smoothing: antialiased;\n}\n\n.section, .feature {\n  padding: 50px 0;\n}\n\n.no-wrap {\n  white-space: nowrap;\n}\n\n.hero {\n  h1 {\n    margin-bottom: 18px;\n  }\n  .video-thumb {\n    background: url('https://marketing-assets-production.s3.amazonaws.com/images/welcome/video.png') transparent no-repeat center center/contain;\n    position: relative;\n    margin-top: 40px;\n    .sg-icon-playbuttoncircle {\n      @include sg-icon-playbuttoncircle(456px, 100%);\n    }\n  }\n  .video-popup {\n    background-color: rgba(0, 0, 0, 0.8);\n\n    position: fixed;\n    top: 0;\n    right: 0;\n    bottom: 0;\n    left: 0;\n    z-index: 1000;\n\n    /* This css is pretty gross, but resizing in js may be the only alternative -cc */\n    iframe {\n      display: block;\n      position: fixed;\n\n      max-width: 95%;\n      height: 422px;\n      width: 750px;\n      left: 50%;\n      top: 50%;\n      margin: -211px 0 0 -375px;\n    }\n  }\n}\n\n.feature {\n  display: flex;\n  align-items: center;\n  .feature-image + .feature-text {\n    padding-left: 10%;\n  }\n  .header {\n    margin-bottom: 20px;\n    white-space: nowrap;\n    span {\n      display: inline-block;\n      line-height: 40px;\n      vertical-align: middle;\n      margin-right: 20px;\n      &:before {\n        font-size: 36px;\n        -webkit-font-smoothing: antialiased;\n      }\n    }\n    & + .description {\n      max-width: 320px;\n    }\n  }\n  .screenshot {\n    height: 377px;\n    width: 100%;\n    min-width: 275px;\n    background-position: 0 center;\n    background-size: contain;\n    background-repeat: no-repeat;\n    &.right {\n      background-position-x: right;\n    }\n  }\n\n  &.segmentation {\n    .header {\n      span {\n        &:before {\n          font-size: 25px;\n        }\n      }\n    }\n    .screenshot {\n      background-image: url('https://marketing-assets-production.s3.amazonaws.com/images/welcome/segmentation.png');\n    }\n  }\n  &.campaign-builder {\n    .header {\n      span {\n        margin-right: 10px;\n        &:before {\n          font-size: 42px;\n        }\n      }\n    }\n    .screenshot {\n      background-image: url('https://marketing-assets-production.s3.amazonaws.com/images/welcome/editor.png');\n    }\n  }\n  &.analytics {\n    .screenshot {\n      background-image: url('https://marketing-assets-production.s3.amazonaws.com/images/welcome/analytics.png');\n    }\n  }\n  &.interface {\n    .screenshot {\n      background-image: url('https://marketing-assets-production.s3.amazonaws.com/images/welcome/interface.png');\n    }\n  }\n}\n\n.pricing {\n  text-align: center;\n  h1 {\n    margin-bottom: 45px;\n  }\n  .pricing-description {\n    max-width: 650px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .pricing-banner {\n    background: url('https://marketing-assets-production.s3.amazonaws.com/images/welcome/pricing_bg.png') #00bcd4 no-repeat center bottom/cover;\n    width: 100%;\n    color: white;\n    padding: 70px 0 35px;\n    margin-top: 50px;\n    h1 {\n      color: white;\n      margin-bottom: 10px;\n    }\n    a {\n      color: white;\n      text-decoration: underline;\n    }\n  }\n}\n\n.faq {\n  h1 {\n    text-align: center;\n    margin-bottom: 50px;\n  }\n  .faq-accordion-wrapper {\n    width: 90%;\n    margin: auto;\n    ol {\n      list-style-type: square;\n      list-style-position: inside;\n    }\n  }\n}\n\n.footer {\n  .footer-caption {\n    padding: 90px;\n    text-align: center;\n    color: white;\n    background: #0086e9;\n    margin-bottom: 60px;\n    p {\n      max-width: 650px;\n      margin: auto;\n    }\n  }\n  .footer-actions {\n    display: flex;\n    align-items: center;\n    width: 100%;\n    p {\n      margin: 0;\n    }\n  }\n}\n\n.animation-pulse {\n  @include animation-pulse(0.9, 1.05);\n  animation: pulse 400ms ease;\n}\n","@mixin sg-icon-playbuttoncircle($container_height:100%, $container_width:100%) {\n  background: url('https://marketing-assets-production.s3.amazonaws.com/images/icons/icon-playbuttoncircle.svg') no-repeat center center;\n  cursor: pointer;\n  height: $container_height;\n  width: $container_width;\n  opacity: 0.8;\n  display: block;\n  transition: opacity 300ms ease;\n  &:hover {\n    opacity: 1;\n  }\n}\n\n@mixin animation-pulse($min_size:0.75, $max_size:1.1) {\n  @keyframes pulse {\n    0% {transform: scale($min_size, $min_size);}\n    50% {transform: scale($max_size, $max_size);}\n    80% {transform: scale($min_size + .1, $min_size + .1);}\n    100% {transform: scale($max_size - .1, $max_size - .1);}\n  }\n}\n\n@mixin animation-shakex($max_displacement:10px, $min_displacement:5px) {\n  @keyframes shakex {\n    0% {transform: translate3d(0, 0, 0);}\n    15% {transform: translate3d($max_displacement, 0, 0);}\n    30% {transform: translate3d($max_displacement * -1, 0, 0);}\n    45% {transform: translate3d($min_displacement, 0, 0);}\n    75% {transform: translate3d($min_displacement * -1 , 0, 0);}\n    100% {transform: translate3d(0, 0, 0);}\n  }\n}\n\n@mixin animation-rotatex() {\n  @keyframes rotatex {\n    100% {transform: rotate3d(1, 0, 0, 360deg);}\n  }\n}\n\n@mixin animation-flip-360-with-pause() {\n  @keyframes flip-360-with-pause {\n    0% {transform: rotateX(0deg);}\n    15% {transform: rotateX(60deg);}\n    30% {transform: rotateX(180deg);}\n    70% {transform: rotateX(180deg);}\n    100% {transform: rotateX(360deg);}\n  }\n}"],sourceRoot:""}]),exports.locals={section:"welcome-css__section___kAb_Q",feature:"welcome-css__feature___38dO6","no-wrap":"welcome-css__no-wrap___3TwVO",hero:"welcome-css__hero___2Jrgn","video-thumb":"welcome-css__video-thumb___2LeL5","sg-icon-playbuttoncircle":"welcome-css__sg-icon-playbuttoncircle___1lKOV","video-popup":"welcome-css__video-popup___qFVKz","feature-image":"welcome-css__feature-image___knyR0","feature-text":"welcome-css__feature-text___2yT0Y",header:"welcome-css__header___Ki9k6",description:"welcome-css__description___Rjxau",screenshot:"welcome-css__screenshot___fwmgl",right:"welcome-css__right___3NQeV",segmentation:"welcome-css__segmentation___2n30A","campaign-builder":"welcome-css__campaign-builder___3C5A2",analytics:"welcome-css__analytics___3L64T",interface:"welcome-css__interface___3DlxB",pricing:"welcome-css__pricing___1YZL-","pricing-description":"welcome-css__pricing-description___IgP64","pricing-banner":"welcome-css__pricing-banner___3lhlP",faq:"welcome-css__faq___OJYLr","faq-accordion-wrapper":"welcome-css__faq-accordion-wrapper___2T0cw",footer:"welcome-css__footer___8Vx1-","footer-caption":"welcome-css__footer-caption___1IkJb","footer-actions":"welcome-css__footer-actions___1sEDv","animation-pulse":"welcome-css__animation-pulse___HkO3V",pulse:"welcome-css__pulse___bTHvl"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_welcomeCss=__webpack_require__(190),_welcomeCss2=_interopRequireDefault(_welcomeCss),_accordionPanel=__webpack_require__(567),_accordion=__webpack_require__(107),Faq=_react2.default.createClass({displayName:"Faq",onPanelToggleCb:function(panelName){this.setState({openedItems:_accordion.AccordionUtils.getOpenPanelsOnToggle(panelName,!0,this.state.openedItems)})},getInitialState:function(){return{openedItems:[]}},render:function(){var items=[{name:"features",question:_react2.default.createElement("h2",null,"What are some key features included in Marketing Campaigns?"),answer:_react2.default.createElement("ol",null,_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Segmentation by customer data and engagement")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Flexible campaign building workflow")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"WYSIWYG, drag & drop, and code editing options")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Library of responsive templates")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Image hosting")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Multivariate subject line and content testing")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Send scheduling")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Campaign and dashboard stats")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Simple unsubscribe management")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Campaigns API")),_react2.default.createElement("li",null,_react2.default.createElement("p",null,"Contact management API")))},{name:"migrating",question:_react2.default.createElement("h2",null,"How do I migrate my contacts from my previous email marketing solution?"),answer:_react2.default.createElement("p",null,"To migrate your contacts simply download your lists from your prior solution and ",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/contacts.html",target:"_blank"},"follow these steps")," to upload them to Marketing Campaigns.",_react2.default.createElement("br",null),"Note: Be sure to export your unsubscribed recipients and import them into our ",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/User_Guide/Suppressions/advanced_suppression_manager.html#-Add-An-Unsubscribe-Group",target:"_blank"},"unsubscribe management tool"),".")},{name:"more_info",question:_react2.default.createElement("h2",null,"Do you have more information about this product?"),answer:_react2.default.createElement("p",null,"Visit our Marketing Campaigns ",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/index.html",target:"_blank"},"User Guide")," for more details, including helpful video tutorials to help you get started.")}];return _react2.default.createElement("div",null,_react2.default.createElement("section",{className:_welcomeCss2.default.section+" "+_welcomeCss2.default.faq+" row"},_react2.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},_react2.default.createElement("h1",{className:"faq-header"},"Frequently Asked Questions"),_react2.default.createElement("div",{className:""+_welcomeCss2.default["faq-accordion-wrapper"]},_react2.default.createElement(_accordion.Accordion,{doesAllowMultipleOpenPanels:!0,isJumbo:!1,shouldShowCaretsOnLeft:!1,onPanelToggleCb:this.onPanelToggleCb,openPanelNames:this.state.openedItems},items.map(function(item,i){return _react2.default.createElement(_accordionPanel.AccordionPanel,{key:"faq-item-"+i,index:i,name:item.name},_react2.default.createElement(_accordionPanel.PanelTitle,null,item.question),_react2.default.createElement(_accordionPanel.PanelContent,null,item.answer," "))}))))),_react2.default.createElement("hr",null))}});module.exports=Faq},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Features(){return _react2.default.createElement("div",null,_react2.default.createElement("section",{className:_welcomeCss2.default.feature+" "+_welcomeCss2.default.segmentation+" row"},_react2.default.createElement("div",{className:_welcomeCss2.default["feature-text"]+" col-xs-12 col-sm-6 col-md-6"},_react2.default.createElement("h1",{className:_welcomeCss2.default.header},_react2.default.createElement("span",{className:"sg-icon sg-icon-segment"}),"Segmentation"),_react2.default.createElement("p",{className:_welcomeCss2.default.description},"Build relationships with powerful list segmentation and contact management.")),_react2.default.createElement("div",{className:_welcomeCss2.default["feature-image"]+" col-xs-12 col-sm-6 col-md-6"},_react2.default.createElement("div",{className:_welcomeCss2.default.screenshot+" "+_welcomeCss2.default.right}))),_react2.default.createElement("hr",null),_react2.default.createElement("section",{className:_welcomeCss2.default.feature+" "+_welcomeCss2.default["campaign-builder"]+" row"},_react2.default.createElement("div",{className:_welcomeCss2.default["feature-image"]+" col-xs-12 col-sm-6 col-md-6"},_react2.default.createElement("div",{className:""+_welcomeCss2.default.screenshot})),_react2.default.createElement("div",{className:_welcomeCss2.default["feature-text"]+" col-xs-12 col-sm-6 col-md-6"},_react2.default.createElement("h1",{className:_welcomeCss2.default.header},_react2.default.createElement("span",{className:"sg-icon sg-icon-builder"}),"Campaign Builder"),_react2.default.createElement("p",{className:_welcomeCss2.default.description},"Save time with a flexible, easy-to-use campaign building workflow."))),_react2.default.createElement("hr",null),_react2.default.createElement("section",{className:_welcomeCss2.default.feature+" "+_welcomeCss2.default.analytics+" row"},_react2.default.createElement("div",{className:_welcomeCss2.default["feature-text"]+" col-xs-12 col-sm-6 col-md-6"},_react2.default.createElement("h1",{className:_welcomeCss2.default.header},_react2.default.createElement("span",{className:"sg-icon sg-icon-analytics"}),"Analytics"),_react2.default.createElement("p",{className:_welcomeCss2.default.description},"Gain actionable insights with clear, real-time campaign analytics.")),_react2.default.createElement("div",{className:_welcomeCss2.default["feature-image"]+" col-xs-12 col-sm-6 col-md-6"},_react2.default.createElement("div",{className:_welcomeCss2.default.screenshot+" "+_welcomeCss2.default.right}))),_react2.default.createElement("hr",null),_react2.default.createElement("section",{className:_welcomeCss2.default.feature+" "+_welcomeCss2.default.interface+" row"},_react2.default.createElement("div",{className:_welcomeCss2.default["feature-image"]+" col-xs-12 col-sm-6 col-md-6"},_react2.default.createElement("div",{className:""+_welcomeCss2.default.screenshot})),_react2.default.createElement("div",{className:_welcomeCss2.default["feature-text"]+" col-xs-12 col-sm-6 col-md-6"},_react2.default.createElement("h1",{className:_welcomeCss2.default.header},_react2.default.createElement("span",{className:"sg-icon sg-icon-clean-ui"}),"Clean User Interface"),_react2.default.createElement("p",{className:_welcomeCss2.default.description},"Get more done with a clean, straightforward user interface."))),_react2.default.createElement("hr",null))}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_welcomeCss=__webpack_require__(190),_welcomeCss2=_interopRequireDefault(_welcomeCss);module.exports=Features},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function Pricing(){return _react2.default.createElement("div",null,_react2.default.createElement("section",{className:_welcomeCss2.default.section+" "+_welcomeCss2.default.pricing+" row"},_react2.default.createElement("div",{className:"col-md-12 col-sm-12 col-xs-12"},_react2.default.createElement("h1",null,"Pricing"),_react2.default.createElement("p",{className:""+_welcomeCss2.default["pricing-description"]},"Marketing Campaigns pricing is based on the number of contacts you store within the tool. When you store contacts, you’re able to leverage powerful segmentation and send personalized, highly relevant campaigns quickly and easily."),_react2.default.createElement("p",{className:""+_welcomeCss2.default["pricing-description"]},"To calculate your costs, use our ",_react2.default.createElement("a",{href:"https://sendgrid.com/pricing/",target:"_blank"},"pricing calculator"),"."),_react2.default.createElement("div",{className:""+_welcomeCss2.default["pricing-banner"]},_react2.default.createElement("h1",{className:"recipient-pricing-price colfax is-medium is-size-h1"},"$10/month to store 10,000 contacts"),_react2.default.createElement("p",{className:"recipient-pricing-per-month proxima-nova is-regular"},"plus your first 2,000 contacts are free!"),_react2.default.createElement("p",{className:"recipient-pricing-high-volume proxima-nova is-regular"},"For high volume pricing, please ",_react2.default.createElement("a",{className:"horizontal-line",href:"https://sendgrid.com/contact-us-form/",target:"_blank"},"contact")," your Customer Success Manager.")))),_react2.default.createElement("hr",null))}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_welcomeCss=__webpack_require__(190),_welcomeCss2=_interopRequireDefault(_welcomeCss);module.exports=Pricing},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_player=__webpack_require__(1564),_player2=_interopRequireDefault(_player),_welcomeCss=__webpack_require__(190),_welcomeCss2=_interopRequireDefault(_welcomeCss),_buttons=__webpack_require__(8),VideoPlayer=_react2.default.createClass({displayName:"VideoPlayer",componentDidMount:function(){this.videoPlayer=new _player2.default($("#video-player")[0])},componentWillUnmount:function(){this.videoPlayer=null},getInitialState:function(){return{shouldVideoDisplay:!1}},openPlayVideo:function(){this.setState({shouldVideoDisplay:!0}),this.videoPlayer.play()},closeVideoPlayer:function(){this.setState({shouldVideoDisplay:!1}),this.videoPlayer.pause()},render:function(){return _react2.default.createElement("div",null,_react2.default.createElement("section",{className:_welcomeCss2.default.section+"  "+_welcomeCss2.default.hero+" row"},_react2.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-12"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-9 col-sm-9 col-md-6"},_react2.default.createElement("h1",null,"Marketing Campaigns")),_react2.default.createElement("div",{className:"col-xs-3 col-sm-3 col-md-6"},_react2.default.createElement(_buttons.PrimaryButton,{buttonClassName:_welcomeCss2.default["no-wrap"]+" pull-right",alt:"Get Started with Marketing Campaigns button",to:this.props.isTourEnabled?"/marketing_campaigns/ui/tour":"/marketing_campaigns/ui/campaigns"},"Get Started"))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-xs-12 col-sm-12 col-md-8"},_react2.default.createElement("h2",null,"Designed to help you send with confidence."),_react2.default.createElement("p",null,"Easily send dynamic, engaging email campaigns that deliver results. Choosing Marketing Campaigns means choosing a partner you can count on. From smart ",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/User_Guide/Marketing_Campaigns/index.html",target:"_blank"},"documentation")," to 24/7 ",_react2.default.createElement("a",{href:"https://sendgrid.com/docs/Classroom/Basics/Misc/support.html",target:"_blank"},"support"),", we’re here when you need us. Underlying everything we do is our proven foundation in deliverability, helping ensure your emails reach the inbox. "))),_react2.default.createElement("div",{className:_welcomeCss2.default["video-thumb"]},_react2.default.createElement("a",{"data-role":"video-player-play-button-circle",onClick:this.openPlayVideo,className:_welcomeCss2.default["sg-icon-playbuttoncircle"]}))),_react2.default.createElement("div",{"data-role":"video-popup",className:_welcomeCss2.default["video-popup"]+" "+(this.state.shouldVideoDisplay?"":"hidden"),onClick:this.closeVideoPlayer},_react2.default.createElement("iframe",{allowFullScreen:!0,frameBorder:"0",id:"video-player",src:"//player.vimeo.com/video/185514373?api=1&player_id=video-player"}))),_react2.default.createElement("hr",null))}});module.exports=VideoPlayer},,function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),App=_react2.default.createClass({displayName:"App",render:function(){return _react2.default.createElement("div",{"data-role":"recipients-app"},this.props.children)}});module.exports={App:App}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_recipientActions=__webpack_require__(106),_recipientActions2=_interopRequireDefault(_recipientActions),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_recipientStore=__webpack_require__(563),_recipientStore2=_interopRequireDefault(_recipientStore),_customFieldStore=__webpack_require__(156),_customFieldStore2=_interopRequireDefault(_customFieldStore),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_customFieldsForm=__webpack_require__(1567),_customFieldsForm2=_interopRequireDefault(_customFieldsForm),_recipientListForm=__webpack_require__(1571),_recipientListForm2=_interopRequireDefault(_recipientListForm),_profileForm=__webpack_require__(1572),_profileForm2=_interopRequireDefault(_profileForm),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_tabs=__webpack_require__(130),_filter=__webpack_require__(231),_filter2=_interopRequireDefault(_filter),_dateItem=__webpack_require__(1573),_dateItem2=_interopRequireDefault(_dateItem),_customFieldTypes=__webpack_require__(251),_customFieldTypes2=_interopRequireDefault(_customFieldTypes),CUSTOM_FIELD_FILTER_OPTIONS=_underscore2.default.union([{name:"All",value:"all",selected:!0}],_customFieldTypes2.default),Recipient=_react2.default.createClass({displayName:"Recipient",contextTypes:{router:_react2.default.PropTypes.object},componentDidMount:function(){_recipientStore2.default.addChangeListener(this.onRecipientStoreChange),_customFieldStore2.default.addChangeListener(this.onCustomFieldStoreChange),_listStore2.default.addChangeListener(this.onListStoreChange),_recipientActions2.default.getById(this.props.routeParams.id),_customFieldActions2.default.fetch(),_listActions2.default.fetchAllQueries()},componentWillUnmount:function(){_recipientStore2.default.removeChangeListener(this.onRecipientStoreChange),_customFieldStore2.default.removeChangeListener(this.onCustomFieldStoreChange),_listStore2.default.removeChangeListener(this.onListStoreChange),this.hideDeleteModal()},onRecipientStoreChange:function(){var recipient=_recipientStore2.default.getRecipient(this.props.routeParams.id);recipient&&(recipient.customFields=_dateUtils2.default.formatDateCustomFields(recipient.customFields),this.setState({recipient:recipient,customFields:_customFieldStore2.default.getCollection()}))},onCustomFieldStoreChange:function(){this.setState({customFields:_customFieldStore2.default.getCollection()})},onListStoreChange:function(){this.setState({lists:_listStore2.default.getLists()})},getInitialState:function(){return{recipient:_recipientStore2.default.getRecipient(this.props.routeParams.id),customFields:_customFieldStore2.default.getCollection(),lists:_listStore2.default.getLists(),selectedCustomFieldFilter:CUSTOM_FIELD_FILTER_OPTIONS[0].name,isDeleteModalVisible:!1}},hideDeleteModal:function(){this.setState({isDeleteModalVisible:!1})},showDeleteModal:function(){this.setState({isDeleteModalVisible:!0})},findField:function(fields,name){return _underscore2.default.find(fields,function(cf){return cf.name===name})},customFieldsInputChanged:function(e){var newRecipient=_underscore2.default.clone(this.state.recipient),updatedField=this.findField(newRecipient.customFields,e.target.name);void 0===updatedField&&(updatedField=this.findField(this.state.customFields,e.target.name)),updatedField.value=e.target.value,this.setState({recipient:newRecipient})},customFieldsInputBlurred:function(e){var newRecipient=_underscore2.default.clone(this.state.recipient),updatedField=this.findField(newRecipient.customFields,e.target.name);void 0===updatedField&&(updatedField=this.findField(this.state.customFields,e.target.name)),"date"===updatedField.type&&(updatedField.value=_dateUtils2.default.formatValue(e.target.value,"MM/DD/YYYY"),this.setState({recipient:newRecipient}))},profileInputChanged:function(e){var newRecipient=_underscore2.default.clone(this.state.recipient);newRecipient.profile[e.target.name]=e.target.value,this.setState({newRecipient:newRecipient})},updateProfile:function(){this.update(this.state.recipient)},updateRecipientCustomFields:function(){var newRecipient=_underscore2.default.clone(this.state.recipient),updatedProfile={},newFields=_underscore2.default.filter(this.state.customFields,function(cf){return void 0!==cf.value});_underscore2.default.each(this.state.recipient.customFields.concat(newFields),function(customField){var value=customField.value;switch(customField.type){case"date":var parsedInt=parseInt(value);value=Math.floor(Date.parse($.isNumeric(value)?new Date(parsedInt):value)/1e3);break;case"number":value=parseInt(value)?value.trim?value.trim():value:0}updatedProfile[customField.name]=value}),newRecipient.profile=_underscore2.default.extend({},newRecipient.profile,updatedProfile),this.update(newRecipient)},resetRecipientState:function(){var recipient=_recipientStore2.default.getRecipient(this.props.routeParams.id);recipient.customFields=_dateUtils2.default.formatDateCustomFields(recipient.customFields),this.setState({recipient:recipient,customFields:_customFieldStore2.default.getCollection()})},update:function(updatedRecipient){var onFail=this.resetRecipientState;_recipientActions2.default.update(updatedRecipient).then(function(){return!1},onFail)},delete:function(){$.when(_recipientActions2.default.delete(this.props.routeParams.id)).done(function(){_analyticsUtils2.default.track("delete_contacts_manual",{source_page:"profile",contact_count:1}),_locationUtils2.default.set("/marketing_campaigns/recipients")})},addToList:function(list){_recipientActions2.default.addToList(this.state.recipient,list)},removeFromList:function(list){_recipientActions2.default.removeFromList(this.state.recipient,list),_analyticsUtils2.default.track("delete_contacts_list",{contact_count:1})},dateTitleAlias:function(key){var aliases={date_updated:"last_updated"};return aliases[key]?aliases[key]:key},onCustomFieldFilterChangeHandler:function(selectedFilter){this.setState({selectedCustomFieldFilter:selectedFilter})},render:function(){var _this=this,availableLists=_underscore2.default.reject(this.state.lists,function(list){return""===list.id||_underscore2.default.find(_this.state.recipient&&_this.state.recipient.lists,function(recipientList){return recipientList.name===list.name})}),customFieldsPanelContent=_react2.default.createElement("div",null,_react2.default.createElement(_filter2.default,{title:"filter by",options:CUSTOM_FIELD_FILTER_OPTIONS,onClick:this.onCustomFieldFilterChangeHandler}),_react2.default.createElement(_customFieldsForm2.default,{inputChanged:this.customFieldsInputChanged,inputBlurred:this.customFieldsInputBlurred,onCancel:this.resetRecipientState,onSubmit:this.updateRecipientCustomFields,activeFilter:this.state.selectedCustomFieldFilter,shouldShowAssignedFields:!0,recipient:this.state.recipient,customFields:this.state.customFields,title:"Defined Fields"}),_react2.default.createElement(_customFieldsForm2.default,{inputChanged:this.customFieldsInputChanged,inputBlurred:this.customFieldsInputBlurred,onCancel:this.resetRecipientState,onSubmit:this.updateRecipientCustomFields,activeFilter:this.state.selectedCustomFieldFilter,shouldShowAssignedFields:!1,recipient:this.state.recipient,customFields:this.state.customFields,title:"Available Fields"})),associatedListsPanelContent=_react2.default.createElement(_recipientListForm2.default,{availableLists:availableLists,recipientLists:this.state.recipient&&this.state.recipient.lists,onAddToListHandler:this.addToList,onRemoveFromListHandler:this.removeFromList}),dateFields=_underscore2.default.map(this.state.recipient&&this.state.recipient.meta,function(date,key){return _react2.default.createElement("li",{key:key,className:"date-item-wrapper"},_react2.default.createElement(_dateItem2.default,{className:key,title:_this.dateTitleAlias(key).replace(/_/," ").toLowerCase(),date:date}))});return _react2.default.createElement("div",null,_react2.default.createElement("div",{"data-role":"recipient-container"},_react2.default.createElement("div",{className:"profile-container"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8"},_react2.default.createElement(_pageTitle2.default,{title:"Contact Details",hasBackArrow:!0})),_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement(_buttons.SecondaryButton,{icon:"trash",onClick:this.showDeleteModal},"Delete")))),_react2.default.createElement("hr",null),_react2.default.createElement("ul",{className:"date-items-list"},dateFields),_react2.default.createElement(_profileForm2.default,{onCancel:this.resetRecipientState,recipient:this.state.recipient,inputChanged:this.profileInputChanged,onSubmit:this.updateProfile,title:"Profile"})),_react2.default.createElement(_tabs.Tabs,null,_react2.default.createElement(_tabs.TabTitleWrapper,{isCentered:!1,hasBottomBorder:!0},_react2.default.createElement(_tabs.TabTitle,null,"Custom Fields"),_react2.default.createElement(_tabs.TabTitle,null,"Associated Lists")),_react2.default.createElement(_tabs.TabPanelWrapper,null,_react2.default.createElement(_tabs.TabPanel,null,customFieldsPanelContent),_react2.default.createElement(_tabs.TabPanel,null,associatedListsPanelContent)))),_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.isDeleteModalVisible,onCancel:this.hideDeleteModal},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete contact?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Are you sure you want to delete this contact?"),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.hideDeleteModal},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.delete},"Confirm"))))}});exports.default=Recipient},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function isEmailField(field){return field.name.toLowerCase()===_reservedCustomFields2.default.email}function getTextInputFieldProps(field,inputProps){return _extends({},inputProps,{maxLength:isEmailField(field)?_constants2.default.TEXT_INPUTS.MAX_LENGTH.EMAIL:_constants2.default.TEXT_INPUTS.MAX_LENGTH.CUSTOM_FIELD})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_stateToggles=__webpack_require__(252),_stateToggles2=_interopRequireDefault(_stateToggles),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_inlineEditableForm=__webpack_require__(600),_inlineEditableForm2=_interopRequireDefault(_inlineEditableForm),_formUtils=__webpack_require__(253),_formUtils2=_interopRequireDefault(_formUtils),_reservedCustomFields=__webpack_require__(371),_reservedCustomFields2=_interopRequireDefault(_reservedCustomFields),_customFieldTypes=__webpack_require__(251),_customFieldTypes2=_interopRequireDefault(_customFieldTypes),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),FILTER_OPTIONS=_underscore2.default.union([{name:"All",value:"all",selected:!0}],_customFieldTypes2.default),CustomFieldsForm=_react2.default.createClass({displayName:"CustomFieldsForm",propTypes:{activeFilter:_react2.default.PropTypes.string,shouldShowAssignedFields:_react2.default.PropTypes.bool.isRequired},getAssignedFields:function(){var _this=this;return _underscore2.default.map(this.props.recipient&&this.props.recipient.customFields,function(customField){return _underscore2.default.extend({},customField,{value:customField.value,isEditable:!0,validations:_this.getValidationsForCustomField(customField,!0)})})},getUnassignedFields:function(){var _this2=this,fields=_underscore2.default.reject(this.props.customFields,function(anyField){return anyField.is_reserved||_underscore2.default.find(_this2.props.recipient&&_this2.props.recipient.customFields,function(recipientCustomField){return recipientCustomField.name===anyField.name})});return _underscore2.default.map(fields,function(field){return _underscore2.default.extend({},field,{value:field.value||"",isEditable:!0,validations:_this2.getValidationsForCustomField(field)})})},getValidationsForCustomField:function(customField,isAssigned){return _underscore2.default.contains(["number","date"],customField.type)&&isAssigned?["required",customField.type]:_underscore2.default.contains(["number","date"],customField.type)?[customField.type]:[]},render:function(){var _this3=this,fields=this.props.shouldShowAssignedFields?this.getAssignedFields():this.getUnassignedFields();fields=_underscore2.default.filter(fields,function(f){return _this3.props.activeFilter===FILTER_OPTIONS[0].name||f.type.toLowerCase()===_this3.props.activeFilter.toLowerCase()});var inputProps={onBlur:this.props.inputBlurred,onChange:this.props.inputChanged,onDoubleClick:this.props.toggleIsEditable,isEditable:this.props.isEditable,registerFormInput:this.props.registerFormInput};return _react2.default.createElement(_inlineEditableForm2.default,{onCancel:this.props.onCancel,onSubmit:function(){return _this3.props.trySubmit(_this3.props.onSubmit)},makeEditable:function(){return _this3.props.setStateToggleIsEditable(!0)},makeUneditable:function(){return _this3.props.setStateToggleIsEditable(!1)},isEditable:this.props.isEditable,title:this.props.title},fields.map(function(field){return _formUtils2.default.formFieldsToInlineEditableTextInputs(field,getTextInputFieldProps(field,inputProps))}))}});exports.default=(0,_formDecorator2.default)((0,_stateToggles2.default)(CustomFieldsForm,{isEditable:!1}))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function getTextInputProps(props){return _underscore2.default.pick(props,"id","name","displayName","placeholder","value","validations","validationMessages","showLabel","isLarge","maxLength","infoContent","tooltipContent","getCollection","onChange","registerFormInput")}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_textInput=__webpack_require__(18),_inlineEditableTextCss=__webpack_require__(1569),_inlineEditableTextCss2=_interopRequireDefault(_inlineEditableTextCss),InlineEditableText=_react2.default.createClass({displayName:"InlineEditableText",propTypes:{isInitiallyFocused:_react2.default.PropTypes.bool,shouldInitiallyValidate:_react2.default.PropTypes.bool,onBlur:_react2.default.PropTypes.func},getDefaultProps:function(){return{maxLength:100}},getInitialState:function(){return{isFocused:!!this.props.isInitiallyFocused,shouldValidate:!!this.props.shouldInitiallyValidate}},onDoubleClickHandler:function(){this.focusInput(),this.props.onDoubleClick&&this.props.onDoubleClick(this)},onBlurHandler:function(e){if(this.refs.textInput.isValid())return this.props.onBlur&&this.props.onBlur(e),void this.setState({isFocused:!1});this.setState({isFocused:!1,shouldValidate:!0})},focusInput:function(){this.setState({isFocused:!0})},render:function(){var pencil=_react2.default.createElement("i",{title:"Click to edit.",onClick:this.onDoubleClickHandler,className:"sg-icon sg-icon-pencil "+_inlineEditableTextCss2.default["edit-icon"]});return _react2.default.createElement("div",{className:"inline-editable-text"},this.props.isEditable?_react2.default.createElement(_textInput.TextInput,_extends({ref:"textInput"},getTextInputProps(this.props),{shouldValidate:this.state.shouldValidate,isInitiallyFocused:this.state.isFocused,onBlurCb:this.onBlurHandler})):_react2.default.createElement("div",{className:"read-only-wrapper"},this.props.showLabel?_react2.default.createElement("label",{className:"read-only-value",title:"Double click to edit.",htmlFor:this.props.id,onDoubleClick:this.onDoubleClickHandler},this.props.displayName):null,_react2.default.createElement("p",{id:this.props.id,className:"read-only-value "+(this.props.showEditIcon?_inlineEditableTextCss2.default["read-only-value-with-edit-icon"]:""),title:"Double click to edit.",onDoubleClick:this.onDoubleClickHandler},this.props.value),this.props.showEditIcon?_react2.default.createElement("span",null," ",pencil):null))}});exports.default=InlineEditableText},function(module,exports,__webpack_require__){var content=__webpack_require__(1570);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".inlineEditableText-css__edit-icon___143X8{vertical-align:middle;font-size:20px;cursor:pointer}.inlineEditableText-css__read-only-value-with-edit-icon___24r-N{display:inline-block}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/inlineEditableText.css.scss"],names:[],mappings:"AAAA,2CACE,sBACA,eACA,cAAe,CAChB,gEAGC,oBAAqB,CACtB",file:"inlineEditableText.css.scss",sourcesContent:[".edit-icon {\n  vertical-align: middle;\n  font-size: 20px;\n  cursor: pointer;\n}\n\n.read-only-value-with-edit-icon {\n  display: inline-block;\n}\n"],sourceRoot:""}]),exports.locals={"edit-icon":"inlineEditableText-css__edit-icon___143X8","read-only-value-with-edit-icon":"inlineEditableText-css__read-only-value-with-edit-icon___24r-N"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactClassUtils=__webpack_require__(7),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),RecipientListForm=(_class=function(_React$Component){function RecipientListForm(props){_classCallCheck(this,RecipientListForm);var _this=_possibleConstructorReturn(this,(RecipientListForm.__proto__||Object.getPrototypeOf(RecipientListForm)).call(this,props));return _this.state={selectedListName:"",isEditable:!1,isRemoveFromListModalVisible:!1,listToRemoveFrom:{}},_this}return _inherits(RecipientListForm,_React$Component),_createClass(RecipientListForm,[{key:"componentDidMount",value:function(){$("[data-toggle=tooltip]").tooltip()}},{key:"componentWillUnmount",value:function(){this.hideRemoveFromListModal()}},{key:"onAddToListHandler",value:function(e){if(e&&e.preventDefault(),this.state.selectedListName){var list=_listStore2.default.getListByName(this.state.selectedListName);this.props.onAddToListHandler(list),this.setState({selectedListName:void 0})}}},{key:"onRemoveFromListClick",value:function(e){var $cmp=$(e.currentTarget);this.showRemoveFromListModal($cmp.data("list-id"))}},{key:"onConfirmRemoveFromList",value:function(){$.when(this.props.onRemoveFromListHandler(this.state.listToRemoveFrom)).done(this.hideRemoveFromListModal)}},{key:"onListSelectedHandler",value:function(e){var newVal=e.target.value;this.state.selectedListName!==newVal&&this.setState({selectedListName:newVal})}},{key:"hideRemoveFromListModal",value:function(){this.setState({isRemoveFromListModalVisible:!1,listToRemoveFrom:{}})}},{key:"showRemoveFromListModal",value:function(listId){var list=_listStore2.default.getListById(listId);this.setState({isRemoveFromListModalVisible:!0,listToRemoveFrom:list})}},{key:"toggleAvailableLists",value:function(){this.setState({isEditable:!this.state.isEditable})}},{key:"render",value:function(){var _this2=this,recipientListItems=_underscore2.default.map(this.props.recipientLists,function(list){return _react2.default.createElement("li",{key:list.id,className:"associated-list-item"},_react2.default.createElement("span",{className:"list-name"},list.name),_react2.default.createElement("i",{className:"sg-icon sg-icon-x",onClick:_this2.onRemoveFromListClick,"data-list-id":list.id}))}),availableLists=this.state.isEditable?_react2.default.createElement("div",{className:"row add-to-list-container"},_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement(_select2.default,{displayName:"Associated List",name:"list",value:this.state.selectedListName||"",validations:["required"],showLabel:!0,options:{minimumResultsForSearch:0,width:"100%",placeholder:"Select a list"},data:this.props.availableLists,onChange:this.onListSelectedHandler})),_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement(_buttons.PrimaryButton,{type:"submit",onClick:this.onAddToListHandler},"Add"))):null,actionButton=this.state.isEditable?_react2.default.createElement(_buttons.SecondaryButton,{type:"button",onClick:this.toggleAvailableLists},"Cancel"):_react2.default.createElement(_buttons.PrimaryButton,{type:"button",onClick:this.toggleAvailableLists},"Add to List");return _react2.default.createElement("div",null,_react2.default.createElement(_form2.default,{className:"inline-editable associated-lists-container"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8"},_react2.default.createElement("h2",null,"Associated Lists")," ",_react2.default.createElement("i",{className:"sg-icon sg-icon-info-circle","data-toggle":"tooltip","data-placement":"bottom","data-title":"Excludes any segments with which this contact may be associated.","data-html":"true"})),_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("div",{className:"button-group"},actionButton))),availableLists,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("ol",null,recipientListItems)))),_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.isRemoveFromListModalVisible,onCancel:this.hideRemoveFromListModal},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Remove from list?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Are you sure you want to remove this contact from ",this.state.listToRemoveFrom.name,"?"),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.hideRemoveFromListModal},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.onConfirmRemoveFromList},"Confirm"))))}}]),RecipientListForm}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onAddToListHandler",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onAddToListHandler"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onRemoveFromListClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onRemoveFromListClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onConfirmRemoveFromList",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onConfirmRemoveFromList"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onListSelectedHandler",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onListSelectedHandler"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideRemoveFromListModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideRemoveFromListModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showRemoveFromListModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showRemoveFromListModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"toggleAvailableLists",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"toggleAvailableLists"),_class.prototype),_class);RecipientListForm.propTypes={onRemoveFromListHandler:_propTypes2.default.func.isRequired,onAddToListHandler:_propTypes2.default.func,recipientLists:_propTypes2.default.array,availableLists:_propTypes2.default.array},RecipientListForm.defaultProps={recipientLists:[],availableLists:[],onAddToListHandler:function(){}},exports.default=RecipientListForm},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_stateToggles=__webpack_require__(252),_stateToggles2=_interopRequireDefault(_stateToggles),_inlineEditableForm=__webpack_require__(600),_inlineEditableForm2=_interopRequireDefault(_inlineEditableForm),_formUtils=__webpack_require__(253),_formUtils2=_interopRequireDefault(_formUtils),RECIPIENT_PROFILE_FIELDS={first_name:{isEditable:!0,validations:[]},last_name:{isEditable:!0,validations:[]},email:{isEditable:!1,validations:[]}},ProfileForm=_react2.default.createClass({displayName:"ProfileForm",render:function(){var _this=this,recipient=this.props.recipient,recipientProfileFields=_underscore2.default.pick(recipient&&recipient.profile,Object.keys(RECIPIENT_PROFILE_FIELDS));recipientProfileFields=_underscore2.default.map(recipientProfileFields,function(value,key){return{name:key,value:value,isEditable:RECIPIENT_PROFILE_FIELDS[key].isEditable,validations:RECIPIENT_PROFILE_FIELDS[key].validations}});var inputProps={onChange:this.props.inputChanged,onDoubleClick:this.props.toggleIsEditable,isEditable:this.props.isEditable,registerFormInput:this.props.registerFormInput};return _react2.default.createElement(_inlineEditableForm2.default,{onCancel:this.props.onCancel,onSubmit:function(){return _this.props.trySubmit(_this.props.onSubmit)},makeEditable:function(){return _this.props.setStateToggleIsEditable(!0)},makeUneditable:function(){return _this.props.setStateToggleIsEditable(!1)},isEditable:this.props.isEditable,title:this.props.title},_formUtils2.default.formFieldsToInlineEditableTextInputs(recipientProfileFields,inputProps))}});exports.default=(0,_formDecorator2.default)((0,_stateToggles2.default)(ProfileForm,{isEditable:!1}))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),DateItem=_react2.default.createClass({displayName:"DateItem",render:function(){var date=this.props.date?_dateUtils2.default.formatValue(new Date(this.props.date),"MM/DD/YY"):"--/--/--";return _react2.default.createElement("div",{className:"date-item "+this.props.className},_react2.default.createElement("label",{className:"title"},this.props.title),_react2.default.createElement("h3",{className:"date"},_react2.default.createElement("div",{className:"icon"}),_react2.default.createElement("span",null,date)))}});exports.default=DateItem},function(module,exports,__webpack_require__){"use strict";function App(props){return _react2.default.createElement("div",{"data-role":"segments-app"},props.children)}var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);module.exports={App:App}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getConditions(){return console.warn("Segment component get conditions not yet implemented!!"),[]}function initSegment(){var segment=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},returnSeg=_extends({},segment,{conditions:segment.conditions||[]});return 0===returnSeg.conditions.length?returnSeg:(returnSeg.conditions[0].and_or="",returnSeg)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_buttons=__webpack_require__(8),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_recipientListTable=__webpack_require__(564),_recipientListTable2=_interopRequireDefault(_recipientListTable),_addNewModal=__webpack_require__(565),_addNewModal2=_interopRequireDefault(_addNewModal),_segmentBuilder=__webpack_require__(351),_segmentBuilder2=_interopRequireDefault(_segmentBuilder),_withRecipients=__webpack_require__(247),_withRecipients2=_interopRequireDefault(_withRecipients),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_segmentActions=__webpack_require__(186),_segmentActions2=_interopRequireDefault(_segmentActions),_recipientActions=__webpack_require__(106),_recipientActions2=_interopRequireDefault(_recipientActions),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_reactClassUtils=__webpack_require__(7),_segmentHeaderCss=__webpack_require__(1576),_segmentHeaderCss2=_interopRequireDefault(_segmentHeaderCss),debouncedSearch=_underscore2.default.debounce(_recipientActions2.default.searchWithConditions,500),Segment=(_class=function(_React$Component){function Segment(props){_classCallCheck(this,Segment);var _this=_possibleConstructorReturn(this,(Segment.__proto__||Object.getPrototypeOf(Segment)).call(this,props)),segment=initSegment(_listStore2.default.getSegmentById(_this.props.params.id));return _this.state={pageNum:1,segment:segment,searchQuery:"",shouldShowEditSegmentModal:"true"===props.location.query.edit},_this}return _inherits(Segment,_React$Component),_createClass(Segment,[{key:"componentDidMount",value:function(){_listStore2.default.addChangeListener(this.listStoreChanged),_listActions2.default.fetchAllQueries(),this.state.segment.conditions.length>0&&_recipientActions2.default.searchWithConditions(this.state.segment.conditions,this.state.pageNum,_constants2.default.LISTS.PAGE_SIZE,this.state.segment.list_id)}},{key:"componentWillUnmount",value:function(){_listStore2.default.removeChangeListener(this.listStoreChanged),this.editSegmentModalSubmitHandler=void 0}},{key:"onSearchChange",value:function(query){this.setState({searchQuery:query}),debouncedSearch(getConditions(this.props),this.state.pageNum,_constants2.default.LISTS.PAGE_SIZE)}},{key:"onEditSegmentSubmit",value:function(){var _this2=this;"function"==typeof this.editSegmentModalSubmitHandler?$.when(this.editSegmentModalSubmitHandler()).done(function(){_this2.setState({shouldShowEditSegmentModal:!1}),_segmentActions2.default.fetchSegmentAndCount(_this2.state.segment.id)}):console.warn("Submitting add new modal without any handler wired up.")}},{key:"onEditSegmentModalSubmitContextChange",value:function(newSubmitHandler){this.editSegmentModalSubmitHandler=newSubmitHandler}},{key:"setPageNum",value:function(num){this.state.pageNum!==num&&(_recipientActions2.default.searchWithConditions(this.state.segment.conditions,num,_constants2.default.LISTS.PAGE_SIZE,this.state.segment.list_id),this.setState({pageNum:num}))}},{key:"listStoreChanged",value:function(){var segment=initSegment(_listStore2.default.getSegmentById(this.props.params.id));this.setState({segment:segment}),_recipientActions2.default.searchWithConditions(segment.conditions,this.state.pageNum,_constants2.default.LISTS.PAGE_SIZE,segment.list_id)}},{key:"openEditSegmentModal",value:function(){this.setState({shouldShowEditSegmentModal:!0})}},{key:"closeEditSegmentModal",value:function(){this.setState({shouldShowEditSegmentModal:!1})}},{key:"exportCsv",value:function(){_recipientActions2.default.exportSearchWithConditions(this.state.segment.conditions,this.state.segment.name),_analyticsUtils2.default.track("segment_exported",{source:"segment_details"})}},{key:"render",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("header",{className:"col-12 content-header "+_segmentHeaderCss2.default["segment-header"]},_react2.default.createElement(_pageTitle2.default,{hasBackArrow:!0,title:this.state.segment.name,isSegment:!0}),_react2.default.createElement("div",{className:"btn-list"},_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.exportCsv,icon:"copy",disabled:0===this.props.recipientCount,"data-role":"export-csv"},"Export CSV"),_react2.default.createElement(_buttons.PrimaryButton,{onClick:this.openEditSegmentModal,icon:"segment","data-role":"edit-segment"},"Edit Segment")))),_react2.default.createElement(_recipientListTable2.default,{pageNum:this.state.pageNum,recipients:this.props.recipients,recipientCount:this.props.recipientCount,pageSize:_constants2.default.LISTS.PAGE_SIZE,setPageNum:this.setPageNum,searchQuery:this.state.searchQuery,onSearchChange:this.onSearchChange}),_react2.default.createElement(_addNewModal2.default,{onCancel:this.closeEditSegmentModal,onSubmit:this.onEditSegmentSubmit,header:"Edit segment",shouldShow:this.state.shouldShowEditSegmentModal},_react2.default.createElement(_segmentBuilder2.default,{analyticsSource:"segment_details",initialConditions:this.state.segment.conditions,initialSegmentName:this.state.segment.name,initialSegmentedList:this.state.segment.list_id,isListDisabled:!0,segmentId:this.state.segment.id,onSubmitContextChange:this.onEditSegmentModalSubmitContextChange})))}}]),Segment}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onSearchChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSearchChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onEditSegmentSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onEditSegmentSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onEditSegmentModalSubmitContextChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onEditSegmentModalSubmitContextChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"setPageNum",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"setPageNum"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"listStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"listStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"openEditSegmentModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"openEditSegmentModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"closeEditSegmentModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"closeEditSegmentModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"exportCsv",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"exportCsv"),_class.prototype),_class);Segment.propTypes={params:_propTypes2.default.shape({id:_propTypes2.default.string}).isRequired,location:_propTypes2.default.shape({query:_propTypes2.default.shape({edit:_propTypes2.default.string}).isRequired}).isRequired,recipients:_propTypes2.default.arrayOf(_propTypes2.default.shape({profile:_propTypes2.default.shape({id:_propTypes2.default.string,email:_propTypes2.default.string})})).isRequired,recipientCount:_propTypes2.default.number.isRequired},exports.default=(0,_withRecipients2.default)(Segment)},function(module,exports,__webpack_require__){var content=__webpack_require__(1577);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".segmentHeader-css__segment-header___oJe9X{display:flex;flex-wrap:nowrap}.segmentHeader-css__segment-header___oJe9X span{flex:1;margin-right:10px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/segments/__css__/src/views/segments/__css__/segmentHeader.css.scss"],names:[],mappings:"AAAA,2CACE,aACA,gBAAiB,CAFnB,gDAKI,OACA,iBAAkB,CACnB",file:"segmentHeader.css.scss",sourcesContent:[".segment-header {\n  display: flex;\n  flex-wrap: nowrap;\n\n  span {\n    flex: 1;\n    margin-right: 10px;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"segment-header":"segmentHeader-css__segment-header___oJe9X"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function goBack(){_locationUtils2.default.set("/marketing_campaigns/contacts")}function startRecipientAction(query,pageNum){0===query.length?_recipientActions2.default.getAllContacts(pageNum):_recipientActions2.default.searchWithConditions(_segmentUtils2.default.getWildcardConditions(query),pageNum,_constants2.default.LISTS.PAGE_SIZE)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_paginator=__webpack_require__(230),_paginator2=_interopRequireDefault(_paginator),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_search=__webpack_require__(374),_searchForm=__webpack_require__(601),_searchForm2=_interopRequireDefault(_searchForm),_recipientListTable=__webpack_require__(602),_recipientListTable2=_interopRequireDefault(_recipientListTable),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_withRecipients=__webpack_require__(247),_withRecipients2=_interopRequireDefault(_withRecipients),_deleteModal=__webpack_require__(604),_deleteModal2=_interopRequireDefault(_deleteModal),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_recipientActions=__webpack_require__(106),_recipientActions2=_interopRequireDefault(_recipientActions),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_segmentUtils=__webpack_require__(248),_segmentUtils2=_interopRequireDefault(_segmentUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_reactClassUtils=__webpack_require__(7),AllContacts=(_class=function(_React$Component){function AllContacts(){_classCallCheck(this,AllContacts);var _this=_possibleConstructorReturn(this,(AllContacts.__proto__||Object.getPrototypeOf(AllContacts)).call(this));return _this.state={isDeleteModalVisible:!1,isSelectAllChecked:!1,pageNum:1,lastSearchQuery:"",selectedRecipientIDs:[]},_this}return _inherits(AllContacts,_React$Component),_createClass(AllContacts,[{key:"componentDidMount",value:function(){this.performSearch(this.props.location.query.email||"","contacts_index_page")}},{key:"onInvalidSearch",value:function(query){this.setState({lastSearchQuery:query})}},{key:"onPageUpdate",value:function(pageNum){this.setState({isSelectAllChecked:!1,pageNum:pageNum}),startRecipientAction(this.state.lastSearchQuery,pageNum)}},{key:"selectedRecipientsChanged",value:function(ids){this.setState({selectedRecipientIDs:ids})}},{key:"selectAllChanged",value:function(isChecked){this.setState({isSelectAllChecked:isChecked})}},{key:"showDeleteModal",value:function(){this.setState({isDeleteModalVisible:!0})}},{key:"hideDeleteModal",value:function(){this.setState({isDeleteModalVisible:!1})}},{key:"deleteSelectedRecipients",value:function(){_recipientActions2.default.deleteMany(this.state.selectedRecipientIDs),_analyticsUtils2.default.track("delete_contacts_manual",{source_page:"list",contact_count:this.state.selectedRecipientIDs.length})}},{key:"performSearch",value:function(query){var src=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all_contacts_page";this.setState({isSelectAllChecked:!1,pageNum:1,lastSearchQuery:query}),0!==query.length&&_analyticsUtils2.default.track("all_contacts_search",{source:src}),startRecipientAction(query,1)}},{key:"render",value:function(){var _this2=this;if(!this.props.haveRecipientsLoaded)return _react2.default.createElement(_loadingIndicator2.default,null);var showSearchBar=this.state.lastSearchQuery.length>0;return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8"},_react2.default.createElement(_pageTitle2.default,{hasBackArrow:!0,onBack:goBack,title:"All Contacts"})),_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("div",{className:"pull-right"},0===this.state.selectedRecipientIDs.length?null:_react2.default.createElement(_dropdownMenu.DropdownMenu,{count:this.state.selectedRecipientIDs.length,labelContent:"Selected",rightAlign:!0},_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteModal,"data-role":"delete-many-recipients"},"Delete"))))),_react2.default.createElement(_searchForm2.default,{onSearch:this.performSearch,onInvalidSearch:this.onInvalidSearch,onClearSearch:function(){return _this2.performSearch("")},initialQuery:this.state.lastSearchQuery}),_react2.default.createElement(_recipientListTable2.default,{recipients:this.props.recipients,onDeleteRecipient:_recipientActions2.default.delete,isSelectAllInitiallyChecked:this.state.isSelectAllChecked,onSelectAllChanged:this.selectAllChanged,onSelectedChanged:this.selectedRecipientsChanged,canRemoveRecipientsFromList:!1}),showSearchBar?_react2.default.createElement(_search.ActiveSearchBar,{onClearSearchCb:function(){return _this2.performSearch("")},totalSearchResults:this.props.recipientCount}):null,_react2.default.createElement(_paginator2.default,{numPages:Math.ceil(this.props.recipientCount/_constants2.default.LISTS.PAGE_SIZE),initialActivePageNumber:this.state.pageNum,isDisabled:!this.props.haveRecipientsLoaded,onPageUpdate:this.onPageUpdate}),_react2.default.createElement(_deleteModal2.default,{show:this.state.isDeleteModalVisible,handleCancelDelete:this.hideDeleteModal,handleConfirmDelete:this.deleteSelectedRecipients,isBulkAction:this.state.selectedRecipientIDs.length>1}))}}]),AllContacts}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onInvalidSearch",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onInvalidSearch"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onPageUpdate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onPageUpdate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectedRecipientsChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectedRecipientsChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectAllChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectAllChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteSelectedRecipients",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteSelectedRecipients"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"performSearch",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"performSearch"),_class.prototype),_class);AllContacts.propTypes={location:_propTypes2.default.shape({query:_propTypes2.default.shape({email:_propTypes2.default.string})}).isRequired,recipients:_propTypes2.default.arrayOf(_propTypes2.default.shape({profile:_propTypes2.default.shape({id:_propTypes2.default.string,email:_propTypes2.default.string})})).isRequired,recipientCount:_propTypes2.default.number.isRequired,haveRecipientsLoaded:_propTypes2.default.bool.isRequired},exports.default=(0,_withRecipients2.default)(AllContacts)},function(module,exports,__webpack_require__){var content=__webpack_require__(1580);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".search-css__active-search-wrapper___VE_Gz{text-align:center;background:#fbfbfc;border:1px solid #e9ecef}.search-css__active-search-wrapper___VE_Gz .search-css__text-wrapper___riefK{margin:0;line-height:50px;font-weight:700}.search-css__active-search-wrapper___VE_Gz .search-css__text-wrapper___riefK .search-css__search-results-text___3n744{margin-right:15px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/__css__/src/views/components/style-guide/__css__/search.css.scss"],names:[],mappings:"AACA,2CACE,kBACA,mBACA,wBAAyB,CAH3B,6EAKI,SACA,iBACA,eAAiB,CAPrB,sHASM,iBAAkB,CACnB",file:"search.css.scss",sourcesContent:["// This is just temporary until the active search bar styles get added to styleguide. Will need to remove references to the CSS module in the corresponding component.\n.active-search-wrapper {\n  text-align: center;\n  background: #fbfbfc;\n  border: 1px solid #e9ecef;\n  .text-wrapper {\n    margin: 0;\n    line-height: 50px;\n    font-weight: bold;\n    .search-results-text {\n      margin-right: 15px;\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={"active-search-wrapper":"search-css__active-search-wrapper___VE_Gz","text-wrapper":"search-css__text-wrapper___riefK","search-results-text":"search-css__search-results-text___3n744"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function SelectableItem(ComposedCmp){var _class;return _class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={selectedKey:props.initiallySelectedKey||0},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"selectKey",value:function(key){return this.setState({selectedKey:key}),key}},{key:"render",value:function(){var decoratorProps={selectKey:this.selectKey,selectedKey:this.state.selectedKey};return _react2.default.createElement(ComposedCmp,_extends({},decoratorProps,this.props))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"selectKey",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectKey"),_class.prototype),_class}function SelectableSet(ComposedCmp){var _class2;return _class2=function(_React$Component2){function _class2(props){_classCallCheck(this,_class2);var _this2=_possibleConstructorReturn(this,(_class2.__proto__||Object.getPrototypeOf(_class2)).call(this,props));return _this2.state={selectedKeys:props.initiallySelectedKeys||[]},_this2}return _inherits(_class2,_React$Component2),_createClass(_class2,[{key:"setSelectedKeys",value:function(newKeys){return this.setState({selectedKeys:newKeys}),newKeys}},{key:"toggleSelectedKey",value:function(key){var newKeys=_underscore2.default.contains(this.state.selectedKeys,key)?_underscore2.default.without(this.state.selectedKeys,key):this.state.selectedKeys.concat(key);return this.setState({selectedKeys:newKeys}),newKeys}},{key:"render",value:function(){var decoratorProps={setSelectedKeys:this.setSelectedKeys,toggleSelectedKey:this.toggleSelectedKey,selectedKeys:this.state.selectedKeys};return _react2.default.createElement(ComposedCmp,_extends({},decoratorProps,this.props))}}]),_class2}(_react2.default.Component),_applyDecoratedDescriptor(_class2.prototype,"setSelectedKeys",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class2.prototype,"setSelectedKeys"),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,"toggleSelectedKey",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleSelectedKey"),_class2.prototype),_class2}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactClassUtils=__webpack_require__(7);module.exports={SelectableItem:SelectableItem,SelectableSet:SelectableSet}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function RecipientItem(props){var dateAdded=_dateUtils2.default.formatValue(new Date(props.recipient.meta.date_added),"MM/DD/YY"),id=props.recipient.profile.id,email=props.recipient.profile.email;return _react2.default.createElement("tr",{className:(0,_classnames2.default)({"is-selected":props.isSelected})},_react2.default.createElement("td",{className:"table-checkbox"},_react2.default.createElement(_formInputs.CheckboxInput,{id:"checkbox-recipient-"+id,isChecked:props.isSelected,onClick:function(){return props.toggleCheckboxSelection(id)}})),_react2.default.createElement("td",{className:"contact"},_react2.default.createElement(_reactRouter.Link,{to:"/marketing_campaigns/ui/recipients/"+id,"data-scroll-top":!0},email)),_react2.default.createElement("td",{className:"stats"},dateAdded),_react2.default.createElement(_actionsMenu.ActionsMenu,null,props.canRemoveFromList?_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-trash",onClick:function(){return props.onRemoveFromList(id)},"data-role":"remove-from-list"},"Remove From List"):_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-trash",onClick:function(){return props.onDelete(id)},"data-role":"delete-recipient"},"Delete")))}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_reactRouter=__webpack_require__(27),_formInputs=__webpack_require__(129),_actionsMenu=__webpack_require__(151),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils);RecipientItem.propTypes={recipient:_propTypes2.default.shape({profile:_propTypes2.default.shape({id:_propTypes2.default.string.isRequired,email:_propTypes2.default.string.isRequired}),meta:_propTypes2.default.shape({date_added:_propTypes2.default.string})}).isRequired,isSelected:_propTypes2.default.bool.isRequired,onRemoveFromList:_propTypes2.default.func.isRequired,onDelete:_propTypes2.default.func.isRequired,toggleCheckboxSelection:_propTypes2.default.func.isRequired,canRemoveFromList:_propTypes2.default.bool},RecipientItem.defaultProps={canRemoveFromList:!0},module.exports={RecipientItem:RecipientItem}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function startRecipientAction(query,pageNum,listId){0===query.length?_recipientActions2.default.getByListId(listId,pageNum):_recipientActions2.default.searchWithConditions(_segmentUtils2.default.getWildcardConditions(query),pageNum,_constants2.default.LISTS.PAGE_SIZE,listId)}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_formUtils=__webpack_require__(253),_formUtils2=_interopRequireDefault(_formUtils),_paginator=__webpack_require__(230),_paginator2=_interopRequireDefault(_paginator),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_buttons=__webpack_require__(8),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_search=__webpack_require__(374),_searchForm=__webpack_require__(601),_searchForm2=_interopRequireDefault(_searchForm),_recipientListTable=__webpack_require__(602),_recipientListTable2=_interopRequireDefault(_recipientListTable),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_removeModal=__webpack_require__(603),_removeModal2=_interopRequireDefault(_removeModal),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_listActions=__webpack_require__(49),_listActions2=_interopRequireDefault(_listActions),_listStore=__webpack_require__(48),_listStore2=_interopRequireDefault(_listStore),_recipientActions=__webpack_require__(106),_recipientActions2=_interopRequireDefault(_recipientActions),_withRecipients=__webpack_require__(247),_withRecipients2=_interopRequireDefault(_withRecipients),_segmentUtils=__webpack_require__(248),_segmentUtils2=_interopRequireDefault(_segmentUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_reactClassUtils=__webpack_require__(7),_listCss=__webpack_require__(1584),_listCss2=_interopRequireDefault(_listCss),RecipientList=(_class=function(_React$Component){function RecipientList(){_classCallCheck(this,RecipientList);var _this=_possibleConstructorReturn(this,(RecipientList.__proto__||Object.getPrototypeOf(RecipientList)).call(this));return _this.state={isDeleteModalVisible:!1,isRemoveModalVisible:!1,isNameEditable:!1,isSelectAllChecked:!1,list:{},listName:"",listNameInForm:"",selectedRecipientIDs:[],lastSearchQuery:"",pageNum:1},_this}return _inherits(RecipientList,_React$Component),_createClass(RecipientList,[{key:"componentDidMount",value:function(){_listStore2.default.addChangeListener(this.listStoreChanged),_listActions2.default.fetchListAndCount(this.props.params.id),this.performSearch("")}},{key:"componentWillUnmount",value:function(){_listStore2.default.removeChangeListener(this.listStoreChanged)}},{key:"onInvalidSearch",value:function(query){this.setState({lastSearchQuery:query})}},{key:"onPageUpdate",value:function(pageNum){this.setState({selectedRecipientIDs:[],isSelectAllChecked:!1,pageNum:pageNum}),startRecipientAction(this.state.lastSearchQuery,pageNum,this.props.params.id)}},{key:"listStoreChanged",value:function(){var list=_listStore2.default.getListById(this.props.params.id);this.setState({list:list,listNameInForm:list.name,listName:list.name})}},{key:"selectedRecipientsChanged",value:function(ids){this.setState({selectedRecipientIDs:ids})}},{key:"selectAllChanged",value:function(isChecked){this.setState({isSelectAllChecked:isChecked})}},{key:"performSearch",value:function(query){this.setState({isSelectAllChecked:!1,pageNum:1,lastSearchQuery:query}),0!==query.length&&_analyticsUtils2.default.track("list_search",{source:"list_page"}),startRecipientAction(query,1,this.props.params.id)}},{key:"inputChanged",value:function(e){this.setState({listNameInForm:e.target.value})}},{key:"updateName",value:function(){var _this2=this;this.props.trySubmit(function(){_listActions2.default.updateListName(_this2.props.params.id,_this2.state.listNameInForm),_this2.setState({isNameEditable:!1})})}},{key:"editCancelled",value:function(){this.setState({listNameInForm:this.state.listName,isNameEditable:!1})}},{key:"makeNameEditable",value:function(){this.setState({isNameEditable:!0})}},{key:"handleConfirmRemove",value:function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0])return this.handleConfirmDelete();var listID=this.props.params.id;return _recipientActions2.default.removeManyFromList(this.state.selectedRecipientIDs,listID),_analyticsUtils2.default.track("delete_contacts_list",{contact_count:this.state.selectedRecipientIDs.length}),this.afterBulkAction()}},{key:"handleConfirmDelete",value:function(){_recipientActions2.default.deleteMany(this.state.selectedRecipientIDs),_analyticsUtils2.default.track("delete_contacts_manual",{source_page:"list",contact_count:this.state.selectedRecipientIDs.length}),this.afterBulkAction()}},{key:"showRemoveModal",value:function(){this.setState({isRemoveModalVisible:!0})}},{key:"showDeleteModal",value:function(){this.setState({isDeleteModalVisible:!0})}},{key:"handleCancelRemove",value:function(){this.setState({isRemoveModalVisible:!1})}},{key:"handleCancelDelete",value:function(){this.setState({isDeleteModalVisible:!1})}},{key:"afterBulkAction",value:function(){this.setState({isDeleteModalVisible:!1,isRemoveModalVisible:!1,selectedRecipientIDs:[],isSelectAllChecked:!1})}},{key:"removeRecipient",value:function(id){var recip=_underscore2.default.find(this.props.recipients,function(r){return r.profile.id===id});_recipientActions2.default.removeFromList(recip,this.state.list),_analyticsUtils2.default.track("delete_contacts_list",{contact_count:1})}},{key:"deleteRecipient",value:function(id){_recipientActions2.default.delete(id),_analyticsUtils2.default.track("delete_contacts_manual",{source_page:"list",contact_count:1})}},{key:"exportCsv",value:function(){_recipientActions2.default.exportList(this.props.params.id),_analyticsUtils2.default.track("list_exported",{source:"list_details"})}},{key:"render",value:function(){var _this3=this;if(!this.props.haveRecipientsLoaded)return _react2.default.createElement(_loadingIndicator2.default,null);var inputFields=[{name:"name",value:this.state.listNameInForm,isEditable:!0,validations:["required"],showLabel:!1,placeholder:"List Name",isInitiallyFocused:!1,maxLength:100}],inputProps={isEditable:this.state.isNameEditable,onChange:this.inputChanged,onDoubleClick:this.makeNameEditable,registerFormInput:this.props.registerFormInput,unregisterFormInput:this.props.unregisterFormInput,shouldValidate:!0,showEditIcon:!0},listNameForm=_react2.default.createElement(_form2.default,{className:_listCss2.default["list-name-form"],onSubmit:this.updateName},_formUtils2.default.formFieldsToInlineEditableTextInputs(inputFields,inputProps)),listNameBtns=_react2.default.createElement("div",{className:"btn-list"},_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.editCancelled,type:"reset","data-role":"cancel-inline-edit"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{disabled:_underscore2.default.isEmpty(this.state.listNameInForm),onClick:this.updateName,type:"submit","data-role":"submit-inline-edit"},"Save")),bulkMenu=_react2.default.createElement(_dropdownMenu.DropdownMenu,{count:this.state.selectedRecipientIDs.length,labelContent:"Selected",rightAlign:!0},_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-trash",onClick:this.showRemoveModal},"Remove From List")),exportBtn=_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.exportCsv,disabled:_underscore2.default.isEmpty(this.props.recipients),icon:"copy","data-role":"export-csv"},"Export CSV"),leftSpacing=this.state.isNameEditable?"col-md-5":"col-md-8",showSearchBar=this.state.lastSearchQuery.length>0;return _react2.default.createElement("div",{className:"list-detail-page"},_react2.default.createElement("div",{className:"row "+_listCss2.default["list-header"]},_react2.default.createElement("div",{className:leftSpacing},_react2.default.createElement(_pageTitle2.default,{hasBackArrow:!0},listNameForm)),this.state.isNameEditable?_react2.default.createElement("div",{className:"col-md-3"},listNameBtns):null,_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("div",{className:"pull-right"},this.state.selectedRecipientIDs.length>0?bulkMenu:exportBtn))),_react2.default.createElement(_searchForm2.default,{onSearch:this.performSearch,onInvalidSearch:this.onInvalidSearch,onClearSearch:function(){return _this3.performSearch("")},initialQuery:this.state.lastSearchQuery}),_react2.default.createElement(_recipientListTable2.default,{recipients:this.props.recipients,isSelectAllInitiallyChecked:this.state.isSelectAllChecked,onDeleteRecipient:this.deleteRecipient,onRemoveRecipientFromList:this.removeRecipient,onSelectAllChanged:this.selectAllChanged,onSelectedChanged:this.selectedRecipientsChanged}),showSearchBar?_react2.default.createElement(_search.ActiveSearchBar,{onClearSearchCb:function(){return _this3.performSearch("")},totalSearchResults:this.props.recipientCount}):null,_react2.default.createElement("div",{id:"bulk-remove"},_react2.default.createElement(_removeModal2.default,{show:this.state.isRemoveModalVisible,handleCancelRemove:this.handleCancelRemove,handleConfirmRemove:this.handleConfirmRemove,isBulkAction:this.state.selectedRecipientIDs.length>1})),_react2.default.createElement(_paginator2.default,{numPages:Math.ceil(this.props.recipientCount/_constants2.default.LISTS.PAGE_SIZE),initialActivePageNumber:this.state.pageNum,isDisabled:!this.props.haveRecipientsLoaded,onPageUpdate:this.onPageUpdate}))}}]),RecipientList}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onInvalidSearch",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onInvalidSearch"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onPageUpdate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onPageUpdate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"listStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"listStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectedRecipientsChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectedRecipientsChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectAllChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectAllChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"performSearch",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"performSearch"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"inputChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"inputChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateName",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"updateName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"editCancelled",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"editCancelled"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"makeNameEditable",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"makeNameEditable"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleConfirmRemove",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleConfirmRemove"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleConfirmDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleConfirmDelete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showRemoveModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showRemoveModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelRemove",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelRemove"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelDelete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"afterBulkAction",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"afterBulkAction"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeRecipient",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"removeRecipient"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteRecipient",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteRecipient"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"exportCsv",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"exportCsv"),_class.prototype),_class);RecipientList.propTypes={params:_propTypes2.default.shape({id:_propTypes2.default.string.isRequired}).isRequired,trySubmit:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,unregisterFormInput:_propTypes2.default.func.isRequired,recipients:_propTypes2.default.arrayOf(_propTypes2.default.shape({profile:_propTypes2.default.shape({id:_propTypes2.default.string,email:_propTypes2.default.string})})).isRequired,recipientCount:_propTypes2.default.number.isRequired,haveRecipientsLoaded:_propTypes2.default.bool.isRequired},module.exports={List:(0,_formDecorator2.default)((0,_withRecipients2.default)(RecipientList))}},function(module,exports,__webpack_require__){var content=__webpack_require__(1585);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".list-css__list-name-form___3KqVu{width:88%;display:inline-block}.list-css__list-name-form___3KqVu div>div{display:flex;flex-wrap:nowrap}.list-css__list-name-form___3KqVu div>div p{margin-right:10px}.list-css__list-name-form___3KqVu div>div span{position:relative;top:-10px}.list-css__list-header___n1Ck1{white-space:nowrap}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/lists/__css__/src/views/lists/__css__/list.css.scss"],names:[],mappings:"AAAA,kCACE,UACA,oBAAqB,CAFvB,0CAKI,aACA,gBAAiB,CANrB,4CASM,iBAAkB,CATxB,+CAaM,kBACA,SAAU,CACX,+BAKH,kBAAmB,CACpB",file:"list.css.scss",sourcesContent:[".list-name-form {\n  width: 88%;\n  display: inline-block;\n\n  div > div {\n    display: flex;\n    flex-wrap: nowrap;\n\n    p {\n      margin-right: 10px;\n    }\n\n    span {\n      position: relative;\n      top: -10px;\n    }\n  }\n}\n\n.list-header {\n  white-space: nowrap;\n}"],sourceRoot:""}]),exports.locals={"list-name-form":"list-css__list-name-form___3KqVu","list-header":"list-css__list-header___n1Ck1"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function App(props){return _react2.default.createElement("div",{"data-role":"notifications-app"},_react2.default.createElement(_listView2.default,null),props.children)}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_listView=__webpack_require__(1587),_listView2=_interopRequireDefault(_listView);App.propTypes={children:_propTypes2.default.node},App.defaultProps={children:null},exports.App=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_buttons=__webpack_require__(8),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_listItem=__webpack_require__(1588),_listItem2=_interopRequireDefault(_listItem),_notificationEmailsActions=__webpack_require__(375),_notificationEmailsActions2=_interopRequireDefault(_notificationEmailsActions),_notificationEmailsStore=__webpack_require__(605),_notificationEmailsStore2=_interopRequireDefault(_notificationEmailsStore),_reactClassUtils=__webpack_require__(7),ListView=(_class=function(_React$Component){function ListView(){_classCallCheck(this,ListView);var _this=_possibleConstructorReturn(this,(ListView.__proto__||Object.getPrototypeOf(ListView)).call(this));return _this.state={collection:_notificationEmailsStore2.default.getCollection()},_this}return _inherits(ListView,_React$Component),_createClass(ListView,[{key:"componentDidMount",value:function(){_notificationEmailsStore2.default.addChangeListener(this.notificationEmailsStoreChanged),_notificationEmailsActions2.default.fetch()}},{key:"componentWillUnmount",value:function(){_notificationEmailsStore2.default.removeChangeListener(this.notificationEmailsStoreChanged)}},{key:"notificationEmailsStoreChanged",value:function(){this.setState({collection:_notificationEmailsStore2.default.getCollection()})}},{key:"render",value:function(){return _react2.default.createElement("div",null,_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8"},_react2.default.createElement(_pageTitle2.default,{title:"Email Notifications"})),_react2.default.createElement("div",{className:"col-md-4"},_react2.default.createElement("div",{className:"actions pull-right"},this.state.collection.length<10?_react2.default.createElement(_buttons.PrimaryButton,{to:"/marketing_campaigns/ui/notifications/new"},"Add New Email"):_react2.default.createElement(_buttons.PrimaryButton,{disabled:!0},"Add New Email")))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8"},_react2.default.createElement("p",{className:"span-light"},"Add up to 10 email addresses for app notifications such as CSV upload summary, A/B test winner notification and list/segment export emails. If left blank, we will use the email address on record for your account."))),_react2.default.createElement("table",{className:"notification-email-recipients table-wrap"},_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",{className:"index"},"#"),_react2.default.createElement("th",{className:"name"},"Name"),_react2.default.createElement("th",{className:"email"},"Email Address",_react2.default.createElement(_tooltip2.default,{content:"You can add up to 10 email addresses."})),_react2.default.createElement("th",{className:"actions"},"Action"))),_notificationEmailsStore2.default.getHasFetchedCollection()?_react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:"list-item",transitionEnterTimeout:500,transitionLeaveTimeout:500,component:"tbody"},this.state.collection.map(function(email,i){return _react2.default.createElement(_listItem2.default,{key:email.id,model:email,index:i+1})})):null))}}]),ListView}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"notificationEmailsStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"notificationEmailsStoreChanged"),_class.prototype),_class);exports.default=ListView},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_actionsMenu=__webpack_require__(151),_notificationEmailsActions=__webpack_require__(375),_notificationEmailsActions2=_interopRequireDefault(_notificationEmailsActions),_reactClassUtils=__webpack_require__(7),ListItem=(_class=function(_React$Component){function ListItem(){_classCallCheck(this,ListItem);var _this=_possibleConstructorReturn(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).call(this));return _this.state={deleteModalActive:!1},_this}return _inherits(ListItem,_React$Component),_createClass(ListItem,[{key:"componentWillUnmount",value:function(){this.setState({deleteModalActive:!1})}},{key:"showDeleteConfirmation",value:function(){this.setState({deleteModalActive:!0})}},{key:"handleConfirmDelete",value:function(){_notificationEmailsActions2.default.delete(this.props.model.id),this.setState({deleteModalActive:!1})}},{key:"handleCancelDelete",value:function(){this.setState({deleteModalActive:!1})}},{key:"render",value:function(){return _react2.default.createElement("tr",{className:"notification-email-recipient"},_react2.default.createElement("td",{className:"index"},this.props.index,_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.deleteModalActive,onCancel:this.handleCancelDelete},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete Notification Email?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Please confirm you want to delete this notification email."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.handleCancelDelete},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.handleConfirmDelete},"Confirm")))),_react2.default.createElement("td",{className:"name"},this.props.model.contact_label),_react2.default.createElement("td",{className:"email"},this.props.model.contact),_react2.default.createElement(_actionsMenu.ActionsMenu,null,_react2.default.createElement(_actionsMenu.ActionsMenuItem,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteConfirmation,"data-role":"notification-email-delete"},"Delete")))}}]),ListItem}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"showDeleteConfirmation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteConfirmation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleConfirmDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleConfirmDelete"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleCancelDelete",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleCancelDelete"),_class.prototype),_class);ListItem.propTypes={model:_propTypes2.default.shape({contact_label:_propTypes2.default.string,contact:_propTypes2.default.string,id:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number])}).isRequired,index:_propTypes2.default.number},ListItem.defaultProps={index:0},exports.default=ListItem},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function goBack(){_locationUtils2.default.router.push("/marketing_campaigns/ui/notifications/")}var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_reactClassUtils=__webpack_require__(7),_side=__webpack_require__(60),_buttons=__webpack_require__(8),_textInput=__webpack_require__(18),_notificationEmailsStore=__webpack_require__(605),_notificationEmailsStore2=_interopRequireDefault(_notificationEmailsStore),_notificationEmailsActions=__webpack_require__(375),_notificationEmailsActions2=_interopRequireDefault(_notificationEmailsActions),NewView=(_class=function(_React$Component){function NewView(props){_classCallCheck(this,NewView);var _this=_possibleConstructorReturn(this,(NewView.__proto__||Object.getPrototypeOf(NewView)).call(this,props));return _this.state={shouldInputsValidate:props.shouldInputsInitiallyValidate,model:{}},_this}return _inherits(NewView,_React$Component),_createClass(NewView,[{key:"componentWillReceiveProps",value:function(newProps){newProps.shouldInputsInitiallyValidate!==this.state.shouldInputsValidate&&this.setState({shouldInputsValidate:newProps.shouldInputsInitiallyValidate})}},{key:"getCollectionForValidation",value:function(){return{items:_underscore2.default.map(_notificationEmailsStore2.default.getCollection(),function(item){return item.contact.toLowerCase()}).concat(this.state.model.contact),test:function(value){return value.toLowerCase()}}}},{key:"inputChanged",value:function(e){if(e){var newModel=_underscore2.default.clone(this.state.model);newModel[e.target.name]=e.target.value,this.setState({model:newModel})}}},{key:"handleSubmit",value:function(){var _this2=this;this.props.trySubmit(function(){$.when(_notificationEmailsActions2.default.create(_this2.state.model)).fail(function(response){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];console.warn("NewModal failed to create."),console.log(response,args),response.responseJSON.messages&&console.log(response.responseJSON.messages.join(".  "))}).always(function(){goBack()})})}},{key:"render",value:function(){var sharedInputProps={onChange:this.inputChanged,registerFormInput:this.props.registerFormInput,shouldValidate:this.state.shouldInputsValidate,getCollection:this.getCollectionForValidation},modalBodyContent=_react2.default.createElement("div",{className:"form-group"},_react2.default.createElement(_textInput.TextInput,_extends({id:"contact_label",displayName:"Name",name:"contact_label",value:this.state.model.contact_label||"",validations:["required","alphanumeric"]},sharedInputProps)),_react2.default.createElement(_textInput.TextInput,_extends({id:"contact",displayName:"Email",name:"contact",value:this.state.model.contact||"",validations:["required","unique","email"],maxLength:150},sharedInputProps)));return _react2.default.createElement(_side.SideRouteModal,{onCancel:goBack},_react2.default.createElement(_form2.default,{onSubmit:this.handleSubmit},_react2.default.createElement(_side.SideModalHeader,{header:"Add New Email"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{type:"submit"},"Save"))),_react2.default.createElement(_side.SideModalBody,null,modalBodyContent)))}}]),NewView}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getCollectionForValidation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getCollectionForValidation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"inputChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"inputChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmit"),_class.prototype),_class);NewView.propTypes={shouldInputsInitiallyValidate:_propTypes2.default.bool,registerFormInput:_propTypes2.default.func.isRequired,trySubmit:_propTypes2.default.func.isRequired},NewView.defaultProps={shouldInputsInitiallyValidate:!1},exports.NewView=(0,_formDecorator2.default)(NewView)},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_listView=__webpack_require__(1591),App=_react2.default.createClass({displayName:"App",render:function(){return _react2.default.createElement("div",{"data-role":"transactional-templates-app"},_react2.default.createElement(_listView.ListView,null),this.props.children)}});exports.App=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0}),exports.ListView=void 0;var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_memoryUtils=__webpack_require__(127),MemoryUtils=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_memoryUtils),_reactClassUtils=__webpack_require__(7),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_transactionalTemplateStore=__webpack_require__(376),_transactionalTemplateStore2=_interopRequireDefault(_transactionalTemplateStore),_transactionalTemplateActions=__webpack_require__(136),_transactionalTemplateActions2=_interopRequireDefault(_transactionalTemplateActions),_buttons=__webpack_require__(8),_listItem=__webpack_require__(1593),_listItem2=_interopRequireDefault(_listItem),_emptyCollectionMessage=__webpack_require__(232),_emptyCollectionMessage2=_interopRequireDefault(_emptyCollectionMessage),_listViewCss=__webpack_require__(1598),_listViewCss2=_interopRequireDefault(_listViewCss),storagePrefix="TransactionalTemplatesListView",storageProps=["scrollTop"],ListView=exports.ListView=(_class=function(_React$Component){function ListView(){_classCallCheck(this,ListView);var _this=_possibleConstructorReturn(this,(ListView.__proto__||Object.getPrototypeOf(ListView)).call(this));return _this.state={collection:_transactionalTemplateStore2.default.getCollection(),selectedViewOption:_constants2.default.VIEW_OPTIONS.GRID,addingNewTemplateGroup:!1},_this}return _inherits(ListView,_React$Component),_createClass(ListView,[{key:"componentDidMount",value:function(){_transactionalTemplateStore2.default.addChangeListener(this.transactionalTemplateStoreChanged),_transactionalTemplateActions2.default.fetch(),MemoryUtils.registerUnloadCb(function(){return MemoryUtils.saveState(storagePrefix,{scrollTop:$(document).scrollTop()})}),this.hasAutoScrolled=!1}},{key:"componentDidUpdate",value:function(){var _this2=this;MemoryUtils.performWithSavedState(storagePrefix,function(state){!_this2.hasAutoScrolled&&_underscore2.default.isNumber(state.scrollTop)&&(_this2.hasAutoScrolled=!0,$(document).scrollTop(state.scrollTop))},storageProps)}},{key:"componentWillUnmount",value:function(){_transactionalTemplateStore2.default.removeChangeListener(this.transactionalTemplateStoreChanged),MemoryUtils.deleteState(storagePrefix,storageProps)}},{key:"onViewSelectionChange",value:function(selection){this.setState({selectedViewOption:selection})}},{key:"getCollectionForValidation",value:function(){return{items:_underscore2.default.map(this.state.collection,function(template){return template.name.toLowerCase()}),test:function(value){return(value||"").toLowerCase()}}}},{key:"transactionalTemplateStoreChanged",value:function(){var newTemplates=_transactionalTemplateStore2.default.getCollection(),unsavedTemplate=_underscore2.default.find(this.state.collection,function(t){return t.isEmptyTemplate});unsavedTemplate&&void 0===_underscore2.default.find(newTemplates,function(t){return t.name===unsavedTemplate.name})&&newTemplates.unshift(unsavedTemplate),this.setState({collection:newTemplates})}},{key:"createNewTemplateGroup",value:function(){if(!this.state.addingNewTemplateGroup){var collection=$.extend(!0,[],this.state.collection);collection.unshift({id:null,name:"",isEmptyTemplate:!0,versions:[]}),this.setState({addingNewTemplateGroup:!0,collection:collection})}}},{key:"cancelCreateNewTemplateGroup",value:function(){var collection=_transactionalTemplateStore2.default.getCollection();this.setState({addingNewTemplateGroup:!1,collection:collection})}},{key:"submitNewTemplateGroup",value:function(template){var _this3=this,xhr=_transactionalTemplateActions2.default.createTemplateGroup(_underscore2.default.pick(template,"name")),onSuccess=function(){var collection=_transactionalTemplateStore2.default.getCollection();_this3.setState({addingNewTemplateGroup:!1,collection:collection})};xhr.then(onSuccess,function(){return!1})}},{key:"render",value:function(){var _this4=this,emptyTemplateProps={isEditable:!0,onCancelNewTemplateGroup:this.cancelCreateNewTemplateGroup,onSubmitNewTemplateGroup:this.submitNewTemplateGroup},noop=function(){},existingTemplateProps={onCancelNewTemplateGroup:noop,onSubmitNewTemplateGroup:noop};return _react2.default.createElement("div",{className:_listViewCss2.default["list-view"]},_react2.default.createElement("header",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_pageTitle2.default,{title:"Transactional Templates"})),_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement("ul",{className:"list-inline"},_react2.default.createElement("li",null,_react2.default.createElement(_buttons.SecondaryButton,{href:"https://sendgrid.com/docs/User_Guide/Transactional_Templates/index.html"},_react2.default.createElement("svg",{className:"sg-icon sg-icon-setup-guide"},_react2.default.createElement("g",{transform:"translate(-763.000000, -109.000000)"},_react2.default.createElement("g",{transform:"translate(-64.000000, 0.000000)"},_react2.default.createElement("g",{transform:"translate(376.000000, 98.000000)"},_react2.default.createElement("path",{d:"M453.362484,15.8213384 C454.234378,14.9696433 454.856,15.3642484 455.724968,16.4240058 C455.779677,16.4148432 455.905158,16.2911043 455.724968,16.4240058 C456.047188,16.1683137 457.142457,15.1997374 456.906209,15.2186711 C457.249301,15.107763 457.313729,15.0211616 457.49683,15.2186711 C457.143421,14.8266246 456.831405,14.4302811 456.906209,14.0133365 C455.179584,12.3044387 460.605642,11.0374985 459.859314,11 C459.347777,11.0063662 457.646149,10.9867703 457.49683,11 C456.36065,11.1209392 455.067117,12.0680231 454.543726,12.8080019 C453.564074,13.084167 453.245631,13.4196682 453.362484,13.4106692 C452.95177,13.672835 453.153729,14.1510389 452.771863,14.6160038 C452.255117,14.9261844 451.967201,14.6252921 451.590621,14.6160038 C451.566978,14.9707493 451.19648,15.2436701 451,15.2186711 C450.983113,15.427935 450.964155,15.5839123 451,15.8213384 C451.072766,15.7076511 452.087862,16.8110284 452.181242,17.0266731 C452.258491,17.0055654 452.48712,17.0877419 452.771863,17.0266731 C452.771823,16.8421607 453.136377,16.5273615 453.362484,16.4240058 C453.261057,16.4200474 453.157747,15.7918752 453.362484,15.8213384 L453.362484,15.8213384 Z M458.290659,15.8644258 C457.974388,15.8411893 457.855333,15.8385028 457.701575,15.8644258 L456.523408,17.0606046 C456.508619,16.9951368 456.496569,17.141 456.523408,17.0606046 L463.003327,24.8357668 C463.396108,24.8666957 463.66635,24.8853434 463.59241,24.8357668 L464.770577,24.2376774 C464.801786,23.936047 464.820584,23.6680253 464.770577,23.639588 L458.290659,15.8644258 L458.290659,15.8644258 Z M467,12.9140901 C466.895444,12.3856588 466.689629,12.4684674 466.383377,12.9140901 C466.477227,12.7993857 466.004383,13.503733 465.766754,14.0679381 C465.616854,14.1399686 465.142081,14.7637197 464.533507,14.0679381 C463.334252,13.5061035 463.654945,13.0587157 463.916884,12.9140901 C463.977083,12.4550346 464.473063,11.6075105 464.533507,11.7602421 C464.615896,11.3947999 464.53267,11.0845837 464.533507,11.1833181 C463.959891,11.3447039 462.219864,12.0251884 462.067015,12.9140901 C461.732078,13.993157 462.184838,14.8797149 461.450391,15.7987102 L460.217145,16.9525582 L461.450391,18.1064062 L462.683638,16.9525582 C462.946562,16.5520064 463.622168,16.2481114 464.533507,16.3756342 C465.546321,16.6766934 466.261772,16.1916941 467,15.2217862 C467.078449,14.6741173 467.014659,13.1664887 467,12.9140901 L467,12.9140901 Z M453.042046,23.8157621 C453.000292,23.7369269 453.000292,24.0055808 453.042046,24.407881 L453.645514,25 C454.098614,25.0707145 454.363715,25.0013385 454.248983,25 L458.473265,20.8551673 L457.266327,19.6709294 L453.042046,23.8157621 L453.042046,23.8157621 Z"}))))),"Setup Guide")),_react2.default.createElement("li",null,_react2.default.createElement(_buttons.PrimaryButton,{onClick:this.createNewTemplateGroup,disabled:this.state.addingNewTemplateGroup,"data-role":"create-new-template-group"},"Create Template")))))),this.state.collection.length<=0&&_transactionalTemplateStore2.default.getHasFetchedCollection()&&_react2.default.createElement(_emptyCollectionMessage2.default,{className:"with-border"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-1 col-sm-2 col-xs-4"},_react2.default.createElement("i",{className:"sg-icon sg-icon-transactional-template"})),_react2.default.createElement("div",{className:"col-md-11 col-sm-10 col-xs-8"},_react2.default.createElement("h2",null,"Add a Template"),_react2.default.createElement("p",null,"To get started using ","SendGrid's"," template engine, ","you'll"," first need to ",_react2.default.createElement("a",{href:"#",onClick:this.createNewTemplateGroup},"create a template"),". You can create multiple versions of templates and activate the one  you want to send. SendGrid will always use the active template when  you make a send request via our API.")))),_underscore2.default.map(this.state.collection,function(transactionalTemplate){return _react2.default.createElement(_listItem2.default,_extends({key:transactionalTemplate.name,initialTemplate:transactionalTemplate,viewOption:_this4.state.selectedViewOption,getCollection:_this4.getCollectionForValidation},transactionalTemplate.isEmptyTemplate?emptyTemplateProps:existingTemplateProps))}))}}]),ListView}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onViewSelectionChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onViewSelectionChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getCollectionForValidation",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getCollectionForValidation"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"transactionalTemplateStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"transactionalTemplateStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createNewTemplateGroup",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"createNewTemplateGroup"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"cancelCreateNewTemplateGroup",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"cancelCreateNewTemplateGroup"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"submitNewTemplateGroup",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"submitNewTemplateGroup"),_class.prototype),_class);exports.default=ListView},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_ajax=__webpack_require__(606),_ajax2=_interopRequireDefault(_ajax),ActionsHelper=function(){function ActionsHelper(){_classCallCheck(this,ActionsHelper)}return _createClass(ActionsHelper,null,[{key:"filter",value:function(actions){var filteredActions={};return actions.filters?(_underscore2.default.each(Object.keys(actions),function(action){var filterParams=actions.filters[action];filterParams&&(filteredActions[action]=function(){var beforeSend=function(jqXHR){_underscore2.default.each(filterParams.handlers.before,function(handler){return handler(jqXHR,filterParams.handlerParams)})};return _ajax2.default.handle(actions[action].apply(actions,Array.prototype.slice.call(arguments).concat([{beforeSend:beforeSend}])),filterParams.handlers.after,filterParams.handlerParams)})}),_underscore2.default.extend({},actions,filteredActions)):actions}}]),ActionsHelper}();module.exports=ActionsHelper},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_versionItem=__webpack_require__(1594),_transactionalTemplateStore=__webpack_require__(376),_transactionalTemplateStore2=_interopRequireDefault(_transactionalTemplateStore),_transactionalTemplateActions=__webpack_require__(136),_transactionalTemplateActions2=_interopRequireDefault(_transactionalTemplateActions),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_formUtils=__webpack_require__(253),_formUtils2=_interopRequireDefault(_formUtils),_memoryUtils=__webpack_require__(127),MemoryUtils=function(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj.default=obj,newObj}(_memoryUtils),_reactClassUtils=__webpack_require__(7),_stateToggles=__webpack_require__(252),_stateToggles2=_interopRequireDefault(_stateToggles),_emptyCollectionMessage=__webpack_require__(232),_emptyCollectionMessage2=_interopRequireDefault(_emptyCollectionMessage),orderVersions=function(versions){if(versions){var activeVersion=_underscore2.default.find(versions,function(v){return 1===v.active});activeVersion&&(versions.splice(versions.indexOf(activeVersion),1),versions.unshift(activeVersion))}},formattedTemplate=function(template){return _underscore2.default.tap(template,function(t){return t&&orderVersions(t.versions)})},getStoragePrefix=function(cmp){return"TransactionalTemplatesListItem-"+cmp.props.initialTemplate.id},storageProps=["isShowingInactiveVersions"],ListItem=(_class=function(_React$Component){function ListItem(props){_classCallCheck(this,ListItem);var _this=_possibleConstructorReturn(this,(ListItem.__proto__||Object.getPrototypeOf(ListItem)).call(this,props));return _this.state={isDeleteModalVisible:!1,template:formattedTemplate(props.initialTemplate)},_this}return _inherits(ListItem,_React$Component),_createClass(ListItem,[{key:"componentDidMount",value:function(){var _this2=this;MemoryUtils.registerUnloadCb(function(){MemoryUtils.saveState(getStoragePrefix(_this2),{isShowingInactiveVersions:_this2.props.isShowingInactiveVersions})}),MemoryUtils.performWithSavedState(getStoragePrefix(this),function(state){_underscore2.default.contains([null,void 0],state.isShowingInactiveVersions)||_this2.props.isShowingInactiveVersions!==state.isShowingInactiveVersions&&_this2.props.toggleIsShowingInactiveVersions()},storageProps)}},{key:"componentWillReceiveProps",value:function(newProps){this.state.template!==newProps.initialTemplate&&this.setState({template:formattedTemplate(newProps.initialTemplate)})}},{key:"componentWillUnmount",value:function(){this.hideDeleteModal(),MemoryUtils.deleteState(getStoragePrefix(this),storageProps)}},{key:"hideDeleteModal",value:function(){this.setState({isDeleteModalVisible:!1})}},{key:"showDeleteModal",value:function(){this.setState({isDeleteModalVisible:!0})}},{key:"inputChanged",value:function(e){this.setState({template:_extends({},this.state.template,_defineProperty({},e.target.name,e.target.value))})}},{key:"editCancelled",value:function(){if(this.state.template.isEmptyTemplate)return void this.props.onCancelNewTemplateGroup();this.props.setStateToggleIsEditable(!1),this.setState({template:formattedTemplate(_transactionalTemplateStore2.default.getById(this.props.initialTemplate.id))})}},{key:"updateName",value:function(){var _this3=this;if(this.state.template.isEmptyTemplate)return void this.props.trySubmit(function(){return _this3.props.onSubmitNewTemplateGroup(_this3.state.template)});this.props.trySubmit(function(){_transactionalTemplateActions2.default.updateTemplateGroupName(_this3.state.template),_this3.props.setStateToggleIsEditable(!1)})}},{key:"deleteTemplateGroup",value:function(){_transactionalTemplateActions2.default.deleteTemplateGroup(this.state.template.id)}},{key:"render",value:function(){var _this4=this,inputFields=[{name:"name",value:this.state.template.name,isEditable:!0,validations:["required","unique"],showLabel:!1,placeholder:"Enter a unique template name.",isInitiallyFocused:this.state.template.isEmptyTemplate},{name:"id",displayName:"id: ",value:this.state.template.id,isEditable:!1,validations:[],showLabel:!1}],inputProps={onChange:this.inputChanged,onDoubleClick:this.props.toggleIsEditable,isEditable:this.props.isEditable,registerFormInput:this.props.registerFormInput,getCollection:this.props.getCollection};return _react2.default.createElement("div",{className:"template-version-list"},_react2.default.createElement("div",{className:"template-version-list-header"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-8"},_react2.default.createElement(_form2.default,{onSubmit:this.updateName},_react2.default.createElement("div",{className:"row"},_underscore2.default.map(_formUtils2.default.formFieldsToInlineEditableTextInputs(inputFields,inputProps),function(inlineEditableTextCmp){return _react2.default.createElement("div",{className:"col-md-6 col-sm-6 col-xs-6 col-"+inlineEditableTextCmp.props.id,key:"grid-wrapper-for-"+inlineEditableTextCmp.props.id},inlineEditableTextCmp)})))),_react2.default.createElement("div",{className:"col-md-4"},this.props.isEditable?_react2.default.createElement("div",{className:"button-group pull-right"},_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.editCancelled,type:"reset","data-role":"cancel-inline-edit"},"Cancel")," ",_react2.default.createElement(_buttons.PrimaryButton,{onClick:this.updateName,type:"submit","data-role":"submit-inline-edit"},"Save")):_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement(_dropdownMenu.DropdownMenu,{labelContent:"Actions"},_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-pencil",onClick:function(){return _this4.props.setStateToggleIsEditable(!0)}},"Edit Name"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-plus",to:"/templates/"+this.state.template.id+"/new"},"Add Version"),0===this.state.template.versions.length?_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteModal},"Delete"):null))))),_react2.default.createElement("div",null,_react2.default.createElement("hr",{className:"pull-left"}),_react2.default.createElement("table",{className:"table versions-table"},this.state.template.isEmptyTemplate?null:_react2.default.createElement("thead",null,_react2.default.createElement("tr",null,_react2.default.createElement("th",null,"Version name"),_react2.default.createElement("th",null,"Updated"),_react2.default.createElement("th",null,"Actions"))),_react2.default.createElement("tbody",null,_underscore2.default.map(_underscore2.default.filter(this.state.template.versions,function(v){return _this4.props.isShowingInactiveVersions||1===v.active}),function(v){return _react2.default.createElement(_versionItem.VersionItem,{key:v.id,version:v})}),_underscore2.default.some(this.state.template.versions,function(v){return 0===v.active})?_react2.default.createElement("tr",null,_react2.default.createElement("td",{colSpan:"3",className:"expand-versions-wrapper"},_react2.default.createElement("span",{onClick:this.props.toggleIsShowingInactiveVersions,className:"small accordion-chevron accordion-chevron-"+(this.props.isShowingInactiveVersions?"open":"closed")},this.props.isShowingInactiveVersions?"Hide":"Show"," Inactive Versions"))):null)),0===this.state.template.versions.length?_react2.default.createElement(_emptyCollectionMessage2.default,null,_react2.default.createElement("span",null,"It looks like you ","don't"," have any templates for this group. Click the actions button above to add a new version. Make sure you set it as the active template after ","you've"," finished creating it.")):null),_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.isDeleteModalVisible,onCancel:this.hideDeleteModal},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete template?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Are you sure you want to delete this template?"),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.hideDeleteModal},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.deleteTemplateGroup},"Confirm"))))}}]),ListItem}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"hideDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"inputChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"inputChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"editCancelled",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"editCancelled"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateName",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"updateName"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteTemplateGroup",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteTemplateGroup"),_class.prototype),_class);ListItem.propTypes={initialTemplate:_propTypes2.default.object.isRequired,isShowingInactiveVersions:_propTypes2.default.bool.isRequired,isEditable:_propTypes2.default.bool.isRequired,toggleIsShowingInactiveVersions:_propTypes2.default.func.isRequired,toggleIsEditable:_propTypes2.default.func.isRequired,getCollection:_propTypes2.default.func.isRequired,setStateToggleIsEditable:_propTypes2.default.func.isRequired,onCancelNewTemplateGroup:_propTypes2.default.func.isRequired,onSubmitNewTemplateGroup:_propTypes2.default.func.isRequired,registerFormInput:_propTypes2.default.func.isRequired,trySubmit:_propTypes2.default.func.isRequired},exports.default=(0,_formDecorator2.default)((0,_stateToggles2.default)(ListItem,{isEditable:!1,isShowingInactiveVersions:!1}))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_transactionalTemplateActions=__webpack_require__(136),_transactionalTemplateActions2=_interopRequireDefault(_transactionalTemplateActions),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_exportUtils=__webpack_require__(175),_exportUtils2=_interopRequireDefault(_exportUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_reactClassUtils=__webpack_require__(7),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_badge=__webpack_require__(246),_editorTypeLabel=__webpack_require__(327),_editorTypeLabel2=_interopRequireDefault(_editorTypeLabel),_featureToggle=__webpack_require__(103),_versionItemCss=__webpack_require__(1595),_versionItemCss2=_interopRequireDefault(_versionItemCss),_oldVersionItem=__webpack_require__(1597),_oldVersionItem2=_interopRequireDefault(_oldVersionItem),VersionItem=(_class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={isDeleteModalVisible:!1},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentWillUnmount",value:function(){this.hideDeleteModal()}},{key:"activateVersion",value:function(){_transactionalTemplateActions2.default.activateTemplateVersion(this.props.version.template_id,this.props.version)}},{key:"duplicateVersion",value:function(){var _this2=this;_transactionalTemplateActions2.default.duplicateTemplateVersion(this.props.version).then(function(version){var url=_this2.getEditUrl(version),shouldUseReactEditor=version.editor_id;_analyticsUtils2.default.track("transactional_template_created",{source:shouldUseReactEditor?"duplicated":"duplicated_old"},function(){return _locationUtils2.default.set(url,shouldUseReactEditor)})})}},{key:"getEditUrl",value:function(version){return"/templates/"+(version.editor_id?"ui/":"")+version.template_id+"/versions/"+version.id+"/edit"}},{key:"deleteVersion",value:function(){_transactionalTemplateActions2.default.deleteTemplateVersion(this.props.version.template_id,this.props.version)}},{key:"onExport",value:function(){_transactionalTemplateActions2.default.getTemplateVersion(this.props.version.template_id,this.props.version.id).then(function(json){_exportUtils2.default.downloadExport(json.html_content,json.name)})}},{key:"hideDeleteModal",value:function(){this.setState({isDeleteModalVisible:!1})}},{key:"showDeleteModal",value:function(){this.setState({isDeleteModalVisible:!0})}},{key:"render",value:function(){var templateId=this.props.version.template_id,versionId=this.props.version.id,editorId=this.props.version.editor_id,editUrl=this.getEditUrl(this.props.version),gearJsx=_react2.default.createElement(_dropdownMenu.DropdownGear,{rightAlign:!0},this.props.version.active?null:_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-check-circle",onClick:this.activateVersion},"Make Active"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-view",to:"/templates/"+templateId+"/versions/"+versionId+"/preview"},"Preview & Test"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-pencil",to:editorId?editUrl:void 0,href:editorId?void 0:editUrl},"Edit"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-copy",onClick:this.duplicateVersion},"Duplicate"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-text",onClick:this.onExport,"data-role":"export-html"},"Export HTML"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteModal},"Delete"));return _react2.default.createElement("tr",null,_react2.default.createElement("td",null,_react2.default.createElement(_reactRouter.Link,{title:"Click to preview.",to:"/templates/"+templateId+"/versions/"+versionId+"/preview"},this.props.version.name),_react2.default.createElement(_badge.ActiveInactiveBadge,{isRight:!0,isActive:!!this.props.version.active}),_react2.default.createElement("div",{className:_versionItemCss2.default["version-label-wrapper"]},_react2.default.createElement(_editorTypeLabel2.default,{editorId:editorId}))),_react2.default.createElement("td",null,this.props.version.updated_at&&_dateUtils2.default.getTimeAgo(_dateUtils2.default.convertToISOTimestamp(this.props.version.updated_at))),_react2.default.createElement("td",null,gearJsx,_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.isDeleteModalVisible,onCancel:this.hideDeleteModal},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete Template Version?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"If this version is active it may impact emails using this template ID. Please confirm you want to delete this version."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.hideDeleteModal},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.deleteVersion},"Confirm")))))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"activateVersion",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"activateVersion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"duplicateVersion",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"duplicateVersion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteVersion",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteVersion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onExport",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onExport"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteModal"),_class.prototype),_class);module.exports={VersionItem:(0,_featureToggle.FeatureToggle)(_oldVersionItem2.default,VersionItem,_constants2.default.FEATURES.BIFURCATED)}},function(module,exports,__webpack_require__){var content=__webpack_require__(1596);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".versionItem-css__version-label-wrapper___2SjUY{display:inline-block;margin-left:6px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/transactional_templates/__css__/src/views/transactional_templates/__css__/versionItem.css.scss"],names:[],mappings:"AAAA,gDACE,qBACA,eAAgB,CACjB",file:"versionItem.css.scss",sourcesContent:[".version-label-wrapper {\n  display: inline-block;\n  margin-left: 6px;\n}\n"],sourceRoot:""}]),exports.locals={"version-label-wrapper":"versionItem-css__version-label-wrapper___2SjUY"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_transactionalTemplateActions=__webpack_require__(136),_transactionalTemplateActions2=_interopRequireDefault(_transactionalTemplateActions),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_reactClassUtils=__webpack_require__(7),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_badge=__webpack_require__(246),OldVersionItem=(_class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={isDeleteModalVisible:!1},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentWillUnmount",value:function(){this.hideDeleteModal()}},{key:"activateVersion",value:function(){_transactionalTemplateActions2.default.activateTemplateVersion(this.props.version.template_id,this.props.version)}},{key:"duplicateVersion",value:function(){_transactionalTemplateActions2.default.duplicateTemplateVersion(this.props.version).then(function(version){return window.location.href="/templates/"+version.template_id+"/versions/"+version.id+"/edit"},function(){return!1})}},{key:"deleteVersion",value:function(){_transactionalTemplateActions2.default.deleteTemplateVersion(this.props.version.template_id,this.props.version)}},{key:"hideDeleteModal",value:function(){this.setState({isDeleteModalVisible:!1})}},{key:"showDeleteModal",value:function(){this.setState({isDeleteModalVisible:!0})}},{key:"render",value:function(){var templateId=this.props.version.template_id,versionId=this.props.version.id,gearJsx=_react2.default.createElement(_dropdownMenu.DropdownGear,{rightAlign:!0},this.props.version.active?null:_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-check-circle",onClick:this.activateVersion},"Make Active"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-view",to:"/templates/"+templateId+"/versions/"+versionId+"/preview"},"Preview & Test"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-pencil",href:"/templates/"+templateId+"/versions/"+versionId+"/edit"},"Edit"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-copy",onClick:this.duplicateVersion},"Duplicate"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteModal},"Delete"));return _react2.default.createElement("tr",null,_react2.default.createElement("td",null,_react2.default.createElement(_reactRouter.Link,{title:"Click to preview.",to:"/templates/"+templateId+"/versions/"+versionId+"/preview"},this.props.version.name),_react2.default.createElement(_badge.ActiveInactiveBadge,{isRight:!0,isActive:!!this.props.version.active})),_react2.default.createElement("td",null,this.props.version.updated_at&&_dateUtils2.default.getTimeAgo(_dateUtils2.default.convertToISOTimestamp(this.props.version.updated_at))),_react2.default.createElement("td",null,gearJsx,_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.isDeleteModalVisible,onCancel:this.hideDeleteModal},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete version?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Deleting a version can impact the email message you are sending. Are you sure you want to delete this version?"),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.hideDeleteModal},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.deleteVersion},"Confirm")))))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"activateVersion",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"activateVersion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"duplicateVersion",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"duplicateVersion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteVersion",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteVersion"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteModal"),_class.prototype),_class);exports.default=OldVersionItem},function(module,exports,__webpack_require__){var content=__webpack_require__(1599);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".listView-css__list-view___31ACf{padding-bottom:140px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/transactional_templates/__css__/src/views/transactional_templates/__css__/listView.css.scss"],names:[],mappings:"AACA,iCACE,oBAAqB,CACtB",file:"listView.css.scss",sourcesContent:["// make plenty of room for the gear dropdown menu to not get clipped by bottom of screen\n.list-view {\n  padding-bottom: 140px;\n}\n"],sourceRoot:""}]),exports.locals={"list-view":"listView-css__list-view___31ACf"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_transactionalTemplateActions=__webpack_require__(136),_transactionalTemplateActions2=_interopRequireDefault(_transactionalTemplateActions),_transactionalTemplateStore=__webpack_require__(376),_transactionalTemplateStore2=_interopRequireDefault(_transactionalTemplateStore),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_buttons=__webpack_require__(8),_side=__webpack_require__(60),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_textInput=__webpack_require__(18),_preview=__webpack_require__(1601),_reactClassUtils=__webpack_require__(7),Preview=(_class=function(_React$Component){function Preview(props){_classCallCheck(this,Preview);var _this=_possibleConstructorReturn(this,(Preview.__proto__||Object.getPrototypeOf(Preview)).call(this,props)),currentUser=_currentUserStore2.default.getUser(),version=_transactionalTemplateStore2.default.getTemplateVersionById(_this.props.routeParams.id,_this.props.routeParams.version_id);return _this.state={version:version,isSendingTest:!1,sendTestModel:{email:currentUser?currentUser.email:"",subject:version?version.subject:""}},_this}return _inherits(Preview,_React$Component),_createClass(Preview,[{key:"componentDidMount",value:function(){var _this2=this;_currentUserStore2.default.addChangeListener(this.currentUserStoreChanged),_transactionalTemplateStore2.default.addChangeListener(this.transactionalTemplateStoreChanged),_transactionalTemplateActions2.default.fetch().done(function(){return _transactionalTemplateActions2.default.getTemplateVersion(_this2.props.routeParams.id,_this2.props.routeParams.version_id)})}},{key:"componentWillUnmount",value:function(){_currentUserStore2.default.removeChangeListener(this.currentUserStoreChanged),_transactionalTemplateStore2.default.removeChangeListener(this.transactionalTemplateStoreChanged)}},{key:"getEditUrl",value:function(){var templateID=this.props.routeParams.id,versionID=this.props.routeParams.version_id;return"/templates/"+(this.state.version&&this.state.version.editor_id?"ui/":"")+templateID+"/versions/"+versionID+"/edit"}},{key:"currentUserStoreChanged",value:function(){var currentUser=_currentUserStore2.default.getUser(),sendTestModel=$.extend(!0,{},this.state.sendTestModel,{email:currentUser?currentUser.email:""});this.setState({sendTestModel:sendTestModel})}},{key:"transactionalTemplateStoreChanged",value:function(){var version=_transactionalTemplateStore2.default.getTemplateVersionById(this.props.routeParams.id,this.props.routeParams.version_id),sendTestModel=$.extend(!0,{},this.state.sendTestModel,{subject:version?version.subject:""});this.setState({version:version,sendTestModel:sendTestModel})}},{key:"inputChanged",value:function(e){var newModel=_underscore2.default.clone(this.state.sendTestModel);newModel[e.target.name]=e.target.value,this.setState({sendTestModel:newModel})}},{key:"sendTest",value:function(){this.setState({isSendingTest:!this.state.isSendingTest})}},{key:"submitSendTest",value:function(){var _this3=this,onSuccess=function(){_transactionalTemplateActions2.default.sendTestEmailForTemplateVersion(_this3.props.routeParams.id,_this3.props.routeParams.version_id,_this3.state.sendTestModel)};this.props.trySubmit(onSuccess)}},{key:"cancelSendTest",value:function(){this.setState({isSendingTest:!1})}},{key:"gotTemplate",value:function(){return this.state.version&&this.state.version.id}},{key:"goBack",value:function(){this.context.router.push("/templates")}},{key:"render",value:function(){var shouldUseReactEditor=this.state.version&&this.state.version.editor_id,sharedInputProps={onChange:this.inputChanged,registerFormInput:this.props.registerFormInput,shouldValidate:!0},sendTestForm=_react2.default.createElement(_form2.default,{className:"send-test-form"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_textInput.TextInput,_extends({id:"email",displayName:"Email Address",name:"email",value:this.state.sendTestModel.email,validations:["required","email"]},sharedInputProps))),_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement("div",{className:"actions-container pull-right"},_react2.default.createElement(_buttons.PrimaryButton,{onClick:this.submitSendTest,"data-role":"submit-send-test"},"Send")))),_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_textInput.TextInput,_extends({id:"subject",displayName:"Subject",name:"subject",value:this.state.sendTestModel.subject,validations:["required"]},sharedInputProps)))));return _react2.default.createElement(_side.SideRouteModal,{onCancel:this.goBack},_react2.default.createElement(_side.SideModalHeader,{header:"Preview"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{type:"button",disabled:!this.gotTemplate(),href:shouldUseReactEditor?void 0:this.getEditUrl(),to:shouldUseReactEditor?this.getEditUrl():void 0},"Edit"))),_react2.default.createElement(_preview.Body,{content:this.gotTemplate()&&this.state.version.html_content,hasContentLoaded:this.gotTemplate()},_react2.default.createElement(_preview.LeftControls,null,_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.sendTest,icon:"mail","data-role":"toggle-send-test"},this.state.isSendingTest?"Hide":"Send Test")),this.state.isSendingTest?sendTestForm:null))}}]),Preview}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getEditUrl",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getEditUrl"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"currentUserStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"currentUserStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"transactionalTemplateStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"transactionalTemplateStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"inputChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"inputChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"sendTest",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"sendTest"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"submitSendTest",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"submitSendTest"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"cancelSendTest",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"cancelSendTest"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"gotTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"gotTemplate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"goBack",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"goBack"),_class.prototype),_class);Preview.contextTypes={router:_react2.default.PropTypes.object},Preview.propTypes={routeParams:_propTypes2.default.object.isRequired,trySubmit:_propTypes2.default.func,registerFormInput:_propTypes2.default.func},Preview.defaultProps={trySubmit:function(){},registerFormInput:function(){}},module.exports={_testPreview:Preview,Preview:(0,_formDecorator2.default)(Preview)}},function(module,exports,__webpack_require__){"use strict";var _body=__webpack_require__(1602);module.exports={Body:_body.Body,LeftControls:_body.LeftControls}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_reactClassUtils=__webpack_require__(7),_side=__webpack_require__(60),_viewOptionsToggle=__webpack_require__(1603),_frame=__webpack_require__(329),_frame2=_interopRequireDefault(_frame),Body=(_class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={selectedView:_constants2.default.VIEW_OPTIONS.DESKTOP},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"onViewSelectionChange",value:function(selection){this.setState({selectedView:selection})}},{key:"render",value:function(){var iFrame=_react2.default.createElement(_frame2.default,{className:"content-container",content:this.props.content,hasContentLoaded:this.props.hasContentLoaded});return _react2.default.createElement(_side.SideModalBody,null,_react2.default.createElement("div",{className:"preview"},(0,_reactClassUtils.getFirstChildWithType)(this.props.children,LeftControls),_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement(_viewOptionsToggle.ViewOptionsToggle,{onViewSelectionChange:this.onViewSelectionChange},_react2.default.createElement(_viewOptionsToggle.ViewOption,{name:_constants2.default.VIEW_OPTIONS.DESKTOP,selected:this.state.selectedView===_constants2.default.VIEW_OPTIONS.DESKTOP,icon:"sg-icon sg-icon-desktop-view"}),_react2.default.createElement(_viewOptionsToggle.ViewOption,{name:_constants2.default.VIEW_OPTIONS.MOBILE,selected:this.state.selectedView===_constants2.default.VIEW_OPTIONS.MOBILE,icon:"sg-icon sg-icon-mobile-view"}))),_react2.default.createElement("div",{className:"clearfix"}),(0,_reactClassUtils.getChildrenWithoutType)(this.props.children,LeftControls),_react2.default.createElement("div",{className:"desktop-view "+(this.state.selectedView===_constants2.default.VIEW_OPTIONS.DESKTOP?"":"hidden")},iFrame),_react2.default.createElement("div",{className:"mobile-view "+(this.state.selectedView===_constants2.default.VIEW_OPTIONS.MOBILE?"":"hidden")},_react2.default.createElement("div",{className:"camera"}),_react2.default.createElement("div",{className:"speaker"}),_react2.default.createElement("div",{className:"phone-btn"}),iFrame)))}}]),_class}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"onViewSelectionChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onViewSelectionChange"),_class.prototype),_class),LeftControls=function(props){return _react2.default.createElement("div",{className:"pull-left"},props.children)};module.exports={Body:Body,LeftControls:LeftControls}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_stateToggles=__webpack_require__(252),_stateToggles2=_interopRequireDefault(_stateToggles),ViewOptionsToggle=_react2.default.createClass({displayName:"ViewOptionsToggle",propTypes:{onViewSelectionChange:_react2.default.PropTypes.func.isRequired,children:function(props,propName,componentName){var children=props[propName],hasInvalidChild=!1,isMissingViewSelection=!0;return _react2.default.Children.forEach(children,function(child){"ViewOption"!==child.type.displayName&&(hasInvalidChild=!0,console.warn("Invalid child component:",child.type.displayName||child.type,"Use a ViewOption instead.")),child.props.selected&&(isMissingViewSelection=!1)}),hasInvalidChild?new Error(componentName+" only accepts ViewOption(s) as children."):isMissingViewSelection?new Error(componentName+" should define a default view selection by passing the selected prop with a value of true to one of its ViewOption children."):void 0}},componentDidMount:function(){var children=_react2.default.Children.toArray(this.props.children),selectedChild=_underscore2.default.find(children,function(child){return!0===child.props.selected})||children[0];this.setViewSelection(selectedChild.props.name)},setViewSelection:function(selection){this.props.setStateToggleViewSelection(selection),this.props.onViewSelectionChange&&this.props.onViewSelectionChange(selection)},renderChildren:function(){var _this=this;return _react2.default.Children.map(this.props.children,function(child){return _react2.default.cloneElement(child,{onViewSelectionChange:function(){return _this.setViewSelection(child.props.name)}})})},render:function(){return _react2.default.createElement("div",{className:"btn-list view-options-list"},_react2.default.createElement("div",{className:"btn-group","data-group-toggle":"true"},this.renderChildren()))}}),ViewOption=_react2.default.createClass({displayName:"ViewOption",propTypes:{name:_react2.default.PropTypes.string.isRequired,selected:_react2.default.PropTypes.bool,icon:_react2.default.PropTypes.string,onViewSelectionChange:_react2.default.PropTypes.func},render:function(){return _react2.default.createElement("div",{"data-group-toggleable":"true",className:"btn btn-group-item "+(this.props.selected?"is-active":""),onClick:this.props.onViewSelectionChange},this.props.icon?_react2.default.createElement("i",{className:this.props.icon}):this.props.name.toLowerCase())}});module.exports={ViewOptionsToggle:(0,_stateToggles2.default)(ViewOptionsToggle,{viewSelection:void 0}),ViewOption:ViewOption}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_buttons=__webpack_require__(8),_side=__webpack_require__(60),_editorSelector=__webpack_require__(326),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_featureToggle=__webpack_require__(103),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_transactionalTemplateActions=__webpack_require__(136),_transactionalTemplateActions2=_interopRequireDefault(_transactionalTemplateActions),_editorTypeActions=__webpack_require__(489),_editorTypeActions2=_interopRequireDefault(_editorTypeActions),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_reactClassUtils=__webpack_require__(7),createVersion=function(routeParams){var isBifurcated=arguments.length>1&&void 0!==arguments[1]&&arguments[1],editorID=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_transactionalTemplateActions2.default.createTemplateVersion(routeParams.id,{},editorID).then(function(version){var shouldUseReactEditor=isBifurcated&&version.editor_id,url=shouldUseReactEditor?"/templates/ui/"+version.template_id+"/versions/"+version.id+"/edit":"/templates/"+version.template_id+"/versions/"+version.id+"/edit";_locationUtils2.default.set(url,shouldUseReactEditor)})},NewView=(_class=function(_React$Component){function NewView(){_classCallCheck(this,NewView);var _this=_possibleConstructorReturn(this,(NewView.__proto__||Object.getPrototypeOf(NewView)).call(this));return _this.state={selectedEditor:_constants2.default.EDITORS.DND,hasFetchedEditorTypes:_editorTypeStore2.default.getHasFetchedEditors()},_this}return _inherits(NewView,_React$Component),_createClass(NewView,[{key:"componentDidMount",value:function(){_editorTypeStore2.default.addChangeListener(this.editorTypeStoreChanged),_editorTypeActions2.default.fetch()}},{key:"componentWillUnmount",value:function(){_editorTypeStore2.default.removeChangeListener(this.editorTypeStoreChanged)}},{key:"editorTypeStoreChanged",value:function(){this.setState({hasFetchedEditorTypes:_editorTypeStore2.default.getHasFetchedEditors()})}},{key:"hideEditorSelectionModal",value:function(){this.context.router.push("/templates")}},{key:"selectEditor",value:function(editor){this.setState({selectedEditor:editor})}},{key:"handleSubmit",value:function(){var editorID=_editorTypeStore2.default.getTemplateEditorId(this.state.selectedEditor);_analyticsUtils2.default.track("transactional_template_created",{source:_analyticsUtils2.default.getEditorType(this.state.selectedEditor===_constants2.default.EDITORS.DND)}),createVersion(this.props.params,!0,editorID)}},{key:"render",value:function(){return _react2.default.createElement(_side.SideRouteModal,{onCancel:this.hideEditorSelectionModal},_react2.default.createElement(_form2.default,{onSubmit:this.handleSubmit,"data-role":"create-template-form"},_react2.default.createElement(_side.SideModalHeader,{header:"Create a Version"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0,"data-role":"close-create-version-modal"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{disabled:!this.state.hasFetchedEditorTypes,"data-role":"submit-template-form",type:"submit"},"Continue"))),_react2.default.createElement(_side.SideModalBody,null,_react2.default.createElement(_editorSelector.EditorSelector,{selectedEditorValue:this.state.selectedEditor,onEditorSelectionCb:this.selectEditor}))))}}]),NewView}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"editorTypeStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"editorTypeStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideEditorSelectionModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideEditorSelectionModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectEditor",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectEditor"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmit"),_class.prototype),_class);NewView.contextTypes={router:_react2.default.PropTypes.object.isRequired},NewView.propTypes={params:_propTypes2.default.object.isRequired};var OldNewView=function(_React$Component2){function OldNewView(){return _classCallCheck(this,OldNewView),_possibleConstructorReturn(this,(OldNewView.__proto__||Object.getPrototypeOf(OldNewView)).apply(this,arguments))}return _inherits(OldNewView,_React$Component2),_createClass(OldNewView,[{key:"componentDidMount",value:function(){createVersion(this.props.params)}},{key:"render",value:function(){return null}}]),OldNewView}(_react2.default.Component);OldNewView.propTypes={params:_propTypes2.default.object.isRequired},module.exports={NewView:(0,_featureToggle.FeatureToggle)(OldNewView,NewView,_constants2.default.FEATURES.BIFURCATED)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function onPreheaderChange(e){_editorActions2.default.preheaderUpdated(e.target.value)}function onChange(e){var field=e.target.name,val=e.target.value;_transactionalTemplateActions2.default.editVersionContents(field,val)}function getEditorType(){var editorID=_templateContentsStore2.default.getContents().editor_id;return _editorTypeStore2.default.getTemplateEditorName(editorID)}function getExportContent(){return _moduleStore2.default.getSerializedModuleContents()}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_class2,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_editor=__webpack_require__(237),_editor2=_interopRequireDefault(_editor),_toolbar=__webpack_require__(352),_toolbar2=_interopRequireDefault(_toolbar),_preview=__webpack_require__(353),_preview2=_interopRequireDefault(_preview),_tabs=__webpack_require__(130),_navToggleButton=__webpack_require__(354),_settingsAccordion=__webpack_require__(607),_settingsAccordion2=_interopRequireDefault(_settingsAccordion),_buildAccordion=__webpack_require__(356),_buildAccordion2=_interopRequireDefault(_buildAccordion),_codeImageAccordion=__webpack_require__(363),_codeImageAccordion2=_interopRequireDefault(_codeImageAccordion),_undoRedoHandled=__webpack_require__(364),_undoRedoHandled2=_interopRequireDefault(_undoRedoHandled),_previewContentHeaderBar=__webpack_require__(178),_previewContentHeaderBar2=_interopRequireDefault(_previewContentHeaderBar),_editorTabPanelWrapper=__webpack_require__(365),_editorTabPanelWrapper2=_interopRequireDefault(_editorTabPanelWrapper),_editorTabTitleWrapper=__webpack_require__(366),_editorTabTitleWrapper2=_interopRequireDefault(_editorTabTitleWrapper),_editorContentWrapper=__webpack_require__(367),_editorContentWrapper2=_interopRequireDefault(_editorContentWrapper),_tabControls=__webpack_require__(368),_tabControls2=_interopRequireDefault(_tabControls),_plainTextUtils=__webpack_require__(154),_plainTextUtils2=_interopRequireDefault(_plainTextUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss),_transactionalTemplateActions=__webpack_require__(136),_transactionalTemplateActions2=_interopRequireDefault(_transactionalTemplateActions),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_templateContentsStore=__webpack_require__(608),_templateContentsStore2=_interopRequireDefault(_templateContentsStore),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_fixedOnScroll=__webpack_require__(243),_fixedOnScroll2=_interopRequireDefault(_fixedOnScroll),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_reactClassUtils=__webpack_require__(7),TransactionalEditor=(_class=function(_React$Component){function TransactionalEditor(props){_classCallCheck(this,TransactionalEditor);var _this=_possibleConstructorReturn(this,(TransactionalEditor.__proto__||Object.getPrototypeOf(TransactionalEditor)).call(this,props)),templateContents=_templateContentsStore2.default.getContents();return _this.state={htmlContent:templateContents.html_content,plainContent:templateContents.plain_content,name:templateContents.name,subject:templateContents.subject,isPreview:!1,editorType:getEditorType(),templateId:_this.props.routeParams.id,versionId:_this.props.routeParams.version_id,preheader:_moduleStore2.default.getPreheaderText(),hasPlainTextLock:_plainTextUtils2.default.htmlToPlain(templateContents.html_content)!==templateContents.plain_content},_this}return _inherits(TransactionalEditor,_React$Component),_createClass(TransactionalEditor,[{key:"getChildContext",value:function(){return{editorType:this.state.editorType||_constants2.default.EDITORS.DND}}},{key:"componentDidMount",value:function(){_templateContentsStore2.default.addChangeListener(this.onTransactionalContentsStoreChange),_editorTypeStore2.default.addChangeListener(this.onEditorTypeStoreChange),_moduleStore2.default.addChangeListener(this.onModuleStoreChange),_transactionalTemplateActions2.default.getTemplateVersion(this.state.templateId,this.state.versionId),_customFieldActions2.default.fetch()}},{key:"componentWillUnmount",value:function(){_templateContentsStore2.default.clear(),_templateContentsStore2.default.removeChangeListener(this.onTransactionalContentsStoreChange),_editorTypeStore2.default.removeChangeListener(this.onEditorTypeStoreChange),_moduleStore2.default.removeChangeListener(this.onModuleStoreChange)}},{key:"onEditorTypeStoreChange",value:function(){this.setState({editorType:getEditorType()})}},{key:"onTransactionalContentsStoreChange",value:function(){var templateContents=_templateContentsStore2.default.getContents();this.setState({htmlContent:templateContents.html_content,plainContent:templateContents.plain_content,name:templateContents.name,subject:templateContents.subject,editorType:getEditorType(),hasPlainTextLock:_plainTextUtils2.default.htmlToPlain(templateContents.html_content)!==templateContents.plain_content})}},{key:"onModuleStoreChange",value:function(){this.setState({preheader:_moduleStore2.default.getPreheaderText()})}},{key:"onHtmlEdit",value:function(val){this.state.hasPlainTextLock||_transactionalTemplateActions2.default.editVersionContents("plain_content",_plainTextUtils2.default.htmlToPlain(val)),_transactionalTemplateActions2.default.editVersionContents("html_content",val)}},{key:"onSyncHtmlToPlain",value:function(){this.setState({hasPlainTextLock:!1}),_transactionalTemplateActions2.default.editVersionContents("plain_content",_plainTextUtils2.default.htmlToPlain(this.state.htmlContent))}},{key:"onPlainTextEdit",value:function(val){this.state.hasPlainTextLock||this.setState({hasPlainTextLock:!0}),_transactionalTemplateActions2.default.editVersionContents("plain_content",val)}},{key:"onSave",value:function(){var contentsForSave=_templateContentsStore2.default.getContents();if(this.isDnd()){var updatedSerialized=_moduleStore2.default.getSerializedModuleContents();_transactionalTemplateActions2.default.syncVersionContents(updatedSerialized,!this.state.hasPlainTextLock),contentsForSave.html_content=updatedSerialized}return _transactionalTemplateActions2.default.save(contentsForSave)}},{key:"activateEditMode",value:function(){this.setState({isPreview:!1})}},{key:"activatePreviewMode",value:function(){_analyticsUtils2.default.trackEditor("editor_preview",{source:_analyticsUtils2.default.getEditorType(this.isDnd())}),this.isDnd()&&_transactionalTemplateActions2.default.syncVersionContents(_moduleStore2.default.getSerializedModuleContents(),!this.state.hasPlainTextLock),this.setState({isPreview:!0})}},{key:"isDnd",value:function(){return this.state.editorType===_constants2.default.EDITORS.DND}},{key:"render",value:function(){var preview=_react2.default.createElement(_preview2.default,_extends({},this.state,{onPlainTextEdit:this.onPlainTextEdit,onSyncHtmlToPlain:this.onSyncHtmlToPlain,isDnd:this.isDnd(),shouldShowSender:!1,shouldShowSubject:!0,shouldShowPreheader:this.isDnd()}));return _react2.default.createElement("div",{className:_editorCss2.default["editor-page-container"]},_react2.default.createElement("div",{"data-role":"transactional-template-editor-container"},_react2.default.createElement(_toolbar2.default,{backRoute:"/templates",saveButtonText:"Save Template",onSave:this.onSave,hasEditorLoaded:!!this.state.editorType},_react2.default.createElement(_navToggleButton.NavToggleButton,{editorType:this.state.editorType,isActive:!this.state.isPreview,onClick:this.activateEditMode}),!_currentUserStore2.default.getHasFeature("nlvx_side_by_side")||this.isDnd()?_react2.default.createElement(_navToggleButton.PreviewButton,{isActive:this.state.isPreview,onClick:this.activatePreviewMode}):null),_react2.default.createElement("main",{className:_editorCss2.default["main-container"]},_react2.default.createElement(FixedTabPanel,_extends({isDnd:this.isDnd(),onChange:onChange,onPreheaderChange:onPreheaderChange},this.state)),_react2.default.createElement(_editorContentWrapper2.default,{isDnd:this.isDnd()},this.state.isPreview?preview:_react2.default.createElement(_editor2.default,{editorType:this.state.editorType,htmlContent:this.state.htmlContent,plainContent:this.state.plainContent,onChange:this.onHtmlEdit},_react2.default.createElement(_previewContentHeaderBar2.default,{preheader:this.state.preheader,subject:this.state.subject,shouldShowSender:!1,shouldShowSubject:!0,shouldShowPreheader:this.isDnd()})),!this.isDnd()&&_currentUserStore2.default.getHasFeature("nlvx_side_by_side")&&this.state.editorType&&preview))),_react2.default.createElement("footer",{className:_editorCss2.default.footer}),this.props.children)}}]),TransactionalEditor}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getChildContext",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getChildContext"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onEditorTypeStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onEditorTypeStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onTransactionalContentsStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onTransactionalContentsStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onModuleStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onModuleStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onHtmlEdit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onHtmlEdit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onSyncHtmlToPlain",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSyncHtmlToPlain"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onPlainTextEdit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onPlainTextEdit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onSave",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSave"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"activateEditMode",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"activateEditMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"activatePreviewMode",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"activatePreviewMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isDnd",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"isDnd"),_class.prototype),_class);TransactionalEditor.contextTypes={router:_propTypes2.default.object.isRequired},TransactionalEditor.childContextTypes={editorType:_propTypes2.default.string},TransactionalEditor.propTypes={children:_propTypes2.default.node,routeParams:_propTypes2.default.object.isRequired},TransactionalEditor.defaultProps={children:null};var TransTemplateEditorTabPanel=(_class2=function(_React$Component2){function TransTemplateEditorTabPanel(){_classCallCheck(this,TransTemplateEditorTabPanel);var _this2=_possibleConstructorReturn(this,(TransTemplateEditorTabPanel.__proto__||Object.getPrototypeOf(TransTemplateEditorTabPanel)).call(this));return _this2.state={isVisible:!1},_this2}return _inherits(TransTemplateEditorTabPanel,_React$Component2),_createClass(TransTemplateEditorTabPanel,[{key:"toggleTabPanelVisility",value:function(){var isVisible=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({isVisible:isVisible})}},{key:"render",value:function(){var _classnames,_this3=this,tabPanelClass=(0,_classnames3.default)(_editorCss2.default["tab-panel-wrapper"],(_classnames={},_defineProperty(_classnames,_editorCss2.default["is-fixed"],this.props.isScrolledPastHeader),_defineProperty(_classnames,_editorCss2.default["is-side-by-side"],!this.props.isDnd&&_currentUserStore2.default.getHasFeature("nlvx_side_by_side")),_classnames));return _react2.default.createElement(_editorTabPanelWrapper2.default,{isDnd:this.props.isDnd,isVisible:this.state.isVisible,toggleTabPanelVisility:this.toggleTabPanelVisility,isScrolledPastHeader:this.props.isScrolledPastHeader,style:this.props.style,onOpen:function(){return _this3.toggleTabPanelVisility(!0)}},_react2.default.createElement(_tabs.Tabs,{tabCount:3},_react2.default.createElement(_tabControls2.default,{isDnd:this.props.isDnd,onClose:function(){return _this3.toggleTabPanelVisility(!1)},iconClass:"sg-icon-gear",titleWhenClosed:"Settings"}),_react2.default.createElement(_editorTabTitleWrapper2.default,{isCampaign:!1,isDnd:this.props.isDnd,isPreview:this.props.isPreview,isTransactionalTemplate:!0}),_react2.default.createElement(_tabs.TabPanelWrapper,{className:tabPanelClass},_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_settingsAccordion2.default,{showPreheader:this.props.isDnd,showSubject:!0,subject:this.props.subject,onPreheaderChange:this.props.onPreheaderChange,preheader:this.props.preheader,onChange:this.props.onChange,name:this.props.name})),_react2.default.createElement(_tabs.TabPanel,null,this.props.isDnd?_react2.default.createElement(_buildAccordion2.default,{baseUrl:"/templates/ui/"+this.props.templateId+"/versions/"+this.props.versionId+"/edit",isDisabled:this.props.isPreview,exportArtifactName:this.props.name,getExportContent:getExportContent}):_react2.default.createElement(_codeImageAccordion2.default,{isDisabled:this.props.isPreview})))))}}]),TransTemplateEditorTabPanel}(_react2.default.Component),_applyDecoratedDescriptor(_class2.prototype,"toggleTabPanelVisility",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleTabPanelVisility"),_class2.prototype),_class2);TransTemplateEditorTabPanel.propTypes={isDnd:_propTypes2.default.bool.isRequired,isPreview:_propTypes2.default.bool.isRequired,versionId:_propTypes2.default.string.isRequired,templateId:_propTypes2.default.string.isRequired,name:_propTypes2.default.string,isScrolledPastHeader:_propTypes2.default.bool,style:_propTypes2.default.object,subject:_propTypes2.default.string,onPreheaderChange:_propTypes2.default.func.isRequired,preheader:_propTypes2.default.string,onChange:_propTypes2.default.func.isRequired},TransTemplateEditorTabPanel.defaultProps={name:"",subject:"",preheader:"",isScrolledPastHeader:!1,style:{}};var FixedTabPanel=(0,_fixedOnScroll2.default)(TransTemplateEditorTabPanel);exports.default=(0,_reactRouter.withRouter)((0,_undoRedoHandled2.default)(TransactionalEditor))},function(module,exports,__webpack_require__){"use strict";var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_listView=__webpack_require__(1607),App=_react2.default.createClass({displayName:"App",render:function(){return _react2.default.createElement("div",{"data-role":"marketing-templates-app",className:"container"},_react2.default.createElement(_listView.ListView,null),this.props.children)}});exports.App=App},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_classnames=__webpack_require__(10),_classnames2=_interopRequireDefault(_classnames),_marketingTemplateStore=__webpack_require__(233),_marketingTemplateStore2=_interopRequireDefault(_marketingTemplateStore),_marketingTemplateActions=__webpack_require__(104),_marketingTemplateActions2=_interopRequireDefault(_marketingTemplateActions),_buttons=__webpack_require__(8),_listItem=__webpack_require__(1608),_filter=__webpack_require__(231),_filter2=_interopRequireDefault(_filter),_emptyCollectionMessage=__webpack_require__(232),_emptyCollectionMessage2=_interopRequireDefault(_emptyCollectionMessage),_pageTitle=__webpack_require__(47),_pageTitle2=_interopRequireDefault(_pageTitle),_reactRouter=__webpack_require__(27),_listViewCss=__webpack_require__(1610),_listViewCss2=_interopRequireDefault(_listViewCss),TEMPLATE_FILTER_OPTIONS=[{name:"All",value:"ALL",selected:!0},{name:"Custom",value:"CUSTOM"},{name:"SendGrid Templates",value:"GLOBAL"}],ListView=_react2.default.createClass({displayName:"ListView",contextTypes:{router:_react2.default.PropTypes.object.isRequired},componentDidMount:function(){_marketingTemplateStore2.default.addChangeListener(this.marketingTemplateStoreChanged),_marketingTemplateActions2.default.fetch()},componentWillUnmount:function(){_marketingTemplateStore2.default.removeChangeListener(this.marketingTemplateStoreChanged)},marketingTemplateStoreChanged:function(){this.setState({collection:_marketingTemplateStore2.default.getCollection()})},getInitialState:function(){return{collection:_marketingTemplateStore2.default.getCollection(),selectedTemplateFilter:"All"}},onTemplateFilterChangeHandler:function(selectedFilter){this.setState({selectedTemplateFilter:selectedFilter})},render:function(){var _this=this,templates=_underscore2.default.chain(this.state.collection).filter(function(template){switch(_this.state.selectedTemplateFilter){case"All":return!0;case"Custom":return!template.global;case"SendGrid Templates":return template.global}}).sortBy(function(template){return template.updated_at}).reverse().sortBy(function(template){return!template.global}).map(function(template){return _react2.default.createElement(_listItem.ListItem,{key:template.name,template:template})}).value();return _react2.default.createElement("div",{className:(0,_classnames2.default)("templates-list-view",_listViewCss2.default["list-view"])},_react2.default.createElement("header",{className:"row"},_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement(_pageTitle2.default,{title:"Marketing Templates"}),_react2.default.createElement(_filter2.default,{title:"Filter By",options:TEMPLATE_FILTER_OPTIONS,onClick:this.onTemplateFilterChangeHandler})),_react2.default.createElement("div",{className:"col-md-6"},_react2.default.createElement("div",{className:"pull-right"},_react2.default.createElement(_buttons.PrimaryButton,{to:"/marketing_campaigns/ui/marketing_templates/new","data-role":"create-new-template"},"Create New Template")))),_react2.default.createElement("div",{className:"thumbnail-view"},templates.length<=0&&_marketingTemplateStore2.default.getHasFetchedCollection()?_react2.default.createElement(_emptyCollectionMessage2.default,{className:"with-border"},_react2.default.createElement("div",{className:"row"},_react2.default.createElement("div",{className:"col-md-1 col-sm-2 col-xs-4"},_react2.default.createElement("i",{className:"sg-icon sg-icon-transactional-template"})),_react2.default.createElement("div",{className:"col-md-11 col-sm-10 col-xs-8"},_react2.default.createElement("h2",null,"Add a Template"),_react2.default.createElement("p",null,"Get as creative as you want when ",_react2.default.createElement(_reactRouter.Link,{to:"/marketing_campaigns/ui/marketing_templates/new"},"creating")," your own reusable marketing templates.")))):null,templates))}});module.exports={ListView:ListView}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getCampaignEditUrl(campaign){return campaign.editor_id?"/marketing_campaigns/ui/campaigns/"+campaign.id+"/edit":"/marketing_campaigns/campaigns/"+campaign.id+"/edit#visual-editor"}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_marketingTemplateActions=__webpack_require__(104),_marketingTemplateActions2=_interopRequireDefault(_marketingTemplateActions),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_editorTypeLabel=__webpack_require__(327),_editorTypeLabel2=_interopRequireDefault(_editorTypeLabel),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_exportUtils=__webpack_require__(175),_exportUtils2=_interopRequireDefault(_exportUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_reactClassUtils=__webpack_require__(7),_featureToggle=__webpack_require__(103),_oldListItem=__webpack_require__(1609),ListItem=(_class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={isDeleteModalVisible:!1},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentWillUnmount",value:function(){this.hideDeleteModal()}},{key:"hideDeleteModal",value:function(){this.setState({isDeleteModalVisible:!1})}},{key:"showDeleteModal",value:function(){this.setState({isDeleteModalVisible:!0})}},{key:"deleteTemplate",value:function(){_marketingTemplateActions2.default.delete(this.props.template.id)}},{key:"createCampaignFromTemplate",value:function(){var template=this.props.template,shouldUseReactEditor=template.editor_id||template.global,newCampaignEditorID=template.global?_editorTypeStore2.default.getCampaignEditorId(_constants2.default.EDITORS.DND):_editorTypeStore2.default.getCampaignEditorIdFromTemplateEditorId(template.editor_id);_marketingTemplateActions2.default.createCampaignFromTemplate(template.id,template.global,newCampaignEditorID).then(function(campaign){_analyticsUtils2.default.track("campaign_created",{source:"design",content:template.global?"sg_template":"user_template"},function(){return _locationUtils2.default.set(getCampaignEditUrl(campaign),shouldUseReactEditor)})})}},{key:"duplicateTemplate",value:function(){var _this2=this,t=this.props.template,shouldUseReactEditor=t.editor_id||t.global;_marketingTemplateActions2.default.duplicate(t.id,t.global,t.global&&_editorTypeStore2.default.getTemplateEditorId(_constants2.default.EDITORS.DND)).then(function(template){var url=shouldUseReactEditor?_this2.getEditUrl(template.id):"/marketing_campaigns/templates/"+t.id+"/clone?global="+!!t.global,cb=function(){return _locationUtils2.default.set(url,shouldUseReactEditor)};_analyticsUtils2.default.track("marketing_template_created",{source:shouldUseReactEditor?"duplicated":"duplicated_old"},cb)})}},{key:"onExport",value:function(){_marketingTemplateActions2.default.getById(this.props.template.id).then(function(json){_exportUtils2.default.downloadExport(json.html_content,json.name)})}},{key:"getEditUrl",value:function(){var templateIDJustCreated=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,templateID=templateIDJustCreated||this.props.template.id;return this.props.template.editor_id||this.props.template.global?"/marketing_campaigns/ui/marketing_templates/"+templateID+"/edit":"/marketing_campaigns/templates/"+templateID+"/edit"}},{key:"render",value:function(){var templateID=this.props.template.id,editorID=this.props.template.editor_id,gearJsx=_react2.default.createElement(_dropdownMenu.DropdownGear,null,_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-view",to:"/marketing_campaigns/ui/marketing_templates/"+templateID+"/preview","data-role":"preview-template"},"Preview"),this.props.template.global?null:_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-pencil",href:editorID?void 0:this.getEditUrl(),to:editorID?this.getEditUrl():void 0,"data-role":"edit-template"},"Edit"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-copy",onClick:this.createCampaignFromTemplate,"data-role":"create-campaign-from-template"},"Create Campaign"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-copy",onClick:this.duplicateTemplate,"data-role":"duplicate-template"},"Duplicate"),this.props.template.global?null:_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-text",onClick:this.onExport,"data-role":"export-html"},"Export HTML"),this.props.template.global?null:_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteModal,"data-role":"delete-template"},"Delete"));return _react2.default.createElement("div",{className:"list-item-container"},_react2.default.createElement("div",{className:"thumbnail-box"},_react2.default.createElement("div",{className:"preview"},_react2.default.createElement("div",{className:"thumbnail-container",style:this.props.template.thumbnail_url?{backgroundImage:'url("'+this.props.template.thumbnail_url+'")'}:null},_react2.default.createElement("div",{className:"thumbnail-actions"},_react2.default.createElement(_buttons.SecondaryButtonDark,{className:"btn btn-secondary btn-on-dark",to:"/marketing_campaigns/ui/marketing_templates/"+templateID+"/preview"},"Preview"),this.props.template.global?null:_react2.default.createElement(_buttons.SecondaryButtonDark,{className:"btn btn-secondary btn-on-dark",href:editorID?void 0:this.getEditUrl(),to:editorID?this.getEditUrl():void 0},"Edit")))),_react2.default.createElement("div",{className:"thumbnail-details"},_react2.default.createElement("div",{className:"template-name"},_react2.default.createElement(_reactRouter.Link,{to:"/marketing_campaigns/ui/marketing_templates/"+templateID+"/preview"},this.props.template.name)),gearJsx,_react2.default.createElement("div",{className:"clearfix"}),_react2.default.createElement(_editorTypeLabel2.default,{isGlobalTemplate:this.props.template.global,editorId:this.props.template.editor_id}),this.props.template.global?null:_react2.default.createElement("div",{"data-role":"template-updated-at"},_react2.default.createElement("small",null,_react2.default.createElement("em",null,"Updated: ",_dateUtils2.default.getTimeAgo(this.props.template.updated_at)))))),_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.isDeleteModalVisible,onCancel:this.hideDeleteModal},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete Email Template?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Please confirm you want to delete this template."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.hideDeleteModal},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.deleteTemplate},"Confirm"))))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"hideDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteTemplate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"createCampaignFromTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"createCampaignFromTemplate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"duplicateTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"duplicateTemplate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onExport",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onExport"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getEditUrl",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getEditUrl"),_class.prototype),_class);ListItem.propTypes={template:_react2.default.PropTypes.object.isRequired},module.exports={_testListItem:ListItem,ListItem:(0,_featureToggle.FeatureToggle)(_oldListItem.OldListItem,ListItem,_constants2.default.FEATURES.BIFURCATED)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactRouter=__webpack_require__(27),_marketingTemplateActions=__webpack_require__(104),_marketingTemplateActions2=_interopRequireDefault(_marketingTemplateActions),_confirmation=__webpack_require__(34),_buttons=__webpack_require__(8),_dropdownMenu=__webpack_require__(79),_dropdownLink=__webpack_require__(80),_dropdownLink2=_interopRequireDefault(_dropdownLink),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_reactClassUtils=__webpack_require__(7),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),OldListItem=(_class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={isDeleteModalVisible:!1},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentWillUnmount",value:function(){this.hideDeleteModal()}},{key:"createCampaignFromTemplate",value:function(){_marketingTemplateActions2.default.createCampaignFromTemplate(this.props.template.id,this.props.template.global).then(function(campaign){return window.location.href="/marketing_campaigns/campaigns/"+campaign.id+"/edit"},function(){return!1})}},{key:"hideDeleteModal",value:function(){this.setState({isDeleteModalVisible:!1})}},{key:"showDeleteModal",value:function(){this.setState({isDeleteModalVisible:!0})}},{key:"deleteTemplate",value:function(){_marketingTemplateActions2.default.delete(this.props.template.id)}},{key:"duplicateTemplate",value:function(){var _this2=this,cb=function(){return _locationUtils2.default.set("/marketing_campaigns/templates/"+_this2.props.template.id+"/clone?global="+!!_this2.props.template.global)};window.analytics?window.analytics.track("marketing_template_created",{source:"duplicated"},cb):cb()}},{key:"render",value:function(){var templateId=this.props.template.id,gearJsx=_react2.default.createElement(_dropdownMenu.DropdownGear,null,_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-view",to:"/marketing_campaigns/ui/marketing_templates/"+templateId+"/preview","data-role":"preview-template"},"Preview"),this.props.template.global?null:_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-pencil",href:"/marketing_campaigns/templates/"+templateId+"/edit","data-role":"edit-template"},"Edit"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-copy",onClick:this.createCampaignFromTemplate,"data-role":"create-campaign-from-template"},"Create Campaign"),_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-copy",onClick:this.duplicateTemplate,"data-role":"duplicate-template"},"Duplicate"),this.props.template.global?null:_react2.default.createElement(_dropdownLink2.default,{iconClass:"sg-icon sg-icon-trash",onClick:this.showDeleteModal,"data-role":"delete-template"},"Delete"));return _react2.default.createElement("div",{className:"list-item-container"},_react2.default.createElement("div",{className:"thumbnail-box"},_react2.default.createElement("div",{className:"preview"},_react2.default.createElement("div",{className:"thumbnail-container",style:this.props.template.thumbnail_url?{backgroundImage:'url("'+this.props.template.thumbnail_url+'")'}:null},_react2.default.createElement("div",{className:"thumbnail-actions"},_react2.default.createElement(_buttons.SecondaryButtonDark,{className:"btn btn-secondary btn-on-dark",to:"/marketing_campaigns/ui/marketing_templates/"+templateId+"/preview"},"Preview"),this.props.template.global?null:_react2.default.createElement(_buttons.SecondaryButtonDark,{className:"btn btn-secondary btn-on-dark",href:"/marketing_campaigns/templates/"+templateId+"/edit"},"Edit")))),_react2.default.createElement("div",{className:"thumbnail-details"},_react2.default.createElement("div",{className:"template-name"},_react2.default.createElement(_reactRouter.Link,{to:"/marketing_campaigns/ui/marketing_templates/"+templateId+"/preview"},this.props.template.name)),gearJsx,_react2.default.createElement("div",{className:"clearfix"}),this.props.template.global?null:_react2.default.createElement("div",{"data-role":"template-updated-at"},_react2.default.createElement("small",null,_react2.default.createElement("em",null,"Updated: ",_dateUtils2.default.getTimeAgo(this.props.template.updated_at)))))),_react2.default.createElement(_confirmation.ConfirmationModal,{show:this.state.isDeleteModalVisible,onCancel:this.hideDeleteModal},_react2.default.createElement(_confirmation.ConfModalHeader,{icon:"trash"},"Delete Email Template?"),_react2.default.createElement(_confirmation.ConfModalBody,null,"Please confirm you want to delete this template."),_react2.default.createElement(_confirmation.ConfModalActions,null,_react2.default.createElement(_buttons.SecondaryButtonSmall,{onClick:this.hideDeleteModal},"Cancel"),_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.deleteTemplate},"Confirm"))))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"createCampaignFromTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"createCampaignFromTemplate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"showDeleteModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"showDeleteModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"deleteTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"deleteTemplate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"duplicateTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"duplicateTemplate"),_class.prototype),_class);OldListItem.propTypes={template:_react2.default.PropTypes.object.isRequired},module.exports={_testListItem:OldListItem,OldListItem:OldListItem}},function(module,exports,__webpack_require__){var content=__webpack_require__(1611);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".listView-css__list-view___1G-eZ{padding-bottom:180px}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/marketing_templates/__css__/src/views/marketing_templates/__css__/listView.css.scss"],names:[],mappings:"AACA,iCACE,oBAAqB,CACtB",file:"listView.css.scss",sourcesContent:["// prevent gear dropdown menu from being clipped by bottom of page\n.list-view {\n  padding-bottom: 180px;\n}\n"],sourceRoot:""}]),exports.locals={"list-view":"listView-css__list-view___1G-eZ"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_marketingTemplateActions=__webpack_require__(104),_marketingTemplateActions2=_interopRequireDefault(_marketingTemplateActions),_marketingTemplateStore=__webpack_require__(233),_marketingTemplateStore2=_interopRequireDefault(_marketingTemplateStore),_buttons=__webpack_require__(8),_side=__webpack_require__(60),_previewModeToggler=__webpack_require__(328),_previewModeToggler2=_interopRequireDefault(_previewModeToggler),_loadingIndicator=__webpack_require__(81),_loadingIndicator2=_interopRequireDefault(_loadingIndicator),_reactClassUtils=__webpack_require__(7),Preview=(_class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={template:_marketingTemplateStore2.default.getById(_this.props.routeParams.id)||{}},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentDidMount",value:function(){_marketingTemplateStore2.default.addChangeListener(this.marketingTemplateStoreChanged),_marketingTemplateActions2.default.getById(this.props.routeParams.id)}},{key:"componentWillUnmount",value:function(){_marketingTemplateStore2.default.removeChangeListener(this.marketingTemplateStoreChanged)}},{key:"marketingTemplateStoreChanged",value:function(){this.setState({template:_marketingTemplateStore2.default.getById(this.props.routeParams.id)})}},{key:"onModalCancel",value:function(){this.context.router.push("/marketing_campaigns/ui/marketing_templates")}},{key:"getEditUrl",value:function(){var shouldUseReactEditor=this.state.template.editor_id,id=this.props.routeParams.id;return shouldUseReactEditor?"/marketing_campaigns/ui/marketing_templates/"+id+"/edit":"/marketing_campaigns/templates/"+id+"/edit"}},{key:"gotTemplate",value:function(){return this.state.template&&this.state.template.id}},{key:"render",value:function(){var shouldUseReactEditor=this.state.template.editor_id,editUrl=this.getEditUrl();return _react2.default.createElement(_side.SideRouteModal,{onCancel:this.onModalCancel},_react2.default.createElement(_side.SideModalHeader,{header:"Preview"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0},"Cancel"),this.state.template.global?null:_react2.default.createElement(_buttons.PrimaryButton,{disabled:!this.gotTemplate(),type:"button",to:shouldUseReactEditor?editUrl:void 0,href:shouldUseReactEditor?void 0:editUrl},"Edit"))),this.gotTemplate()&&void 0!==this.state.template.html_content?_react2.default.createElement(_side.SideModalBody,null,_react2.default.createElement(_previewModeToggler2.default,{isPlainReadOnly:!0,isInModal:!0,hasTopBorder:!0,withContentBorder:!0,htmlContent:this.state.template.html_content,plainContent:this.state.template.plain_content})):_react2.default.createElement(_side.SideModalBody,{isFlex:!0},_react2.default.createElement(_loadingIndicator2.default,{isFullPage:!1})))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"marketingTemplateStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"marketingTemplateStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onModalCancel",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onModalCancel"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getEditUrl",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getEditUrl"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"gotTemplate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"gotTemplate"),_class.prototype),_class);Preview.propTypes={routeParams:_propTypes2.default.object.isRequired},Preview.contextTypes={router:_react2.default.PropTypes.object},module.exports={Preview:Preview}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_buttons=__webpack_require__(8),_side=__webpack_require__(60),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_editorSelector=__webpack_require__(326),_featureToggle=__webpack_require__(103),_redirector=__webpack_require__(1614),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_marketingTemplateActions=__webpack_require__(104),_marketingTemplateActions2=_interopRequireDefault(_marketingTemplateActions),_reactClassUtils=__webpack_require__(7),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),NewView=(_class=function(_React$Component){function NewView(){_classCallCheck(this,NewView);var _this=_possibleConstructorReturn(this,(NewView.__proto__||Object.getPrototypeOf(NewView)).call(this));return _this.state={selectedEditor:_constants2.default.EDITORS.DND,hasFetchedEditorTypes:_editorTypeStore2.default.getHasFetchedEditors()},_this}return _inherits(NewView,_React$Component),_createClass(NewView,[{key:"componentDidMount",value:function(){_editorTypeStore2.default.addChangeListener(this.editorTypeStoreChanged)}},{key:"componentWillUnmount",value:function(){_editorTypeStore2.default.removeChangeListener(this.editorTypeStoreChanged)}},{key:"editorTypeStoreChanged",value:function(){this.setState({hasFetchedEditorTypes:_editorTypeStore2.default.getHasFetchedEditors()})}},{key:"hideEditorSelectionModal",value:function(){this.context.router.push("/marketing_campaigns/ui/marketing_templates")}},{key:"selectEditor",value:function(editor){this.setState({selectedEditor:editor})}},{key:"handleSubmit",value:function(){var editorID=_editorTypeStore2.default.getTemplateEditorId(this.state.selectedEditor);_analyticsUtils2.default.track("marketing_template_created",{source:_analyticsUtils2.default.getEditorType(this.state.selectedEditor===_constants2.default.EDITORS.DND)}),_marketingTemplateActions2.default.createTemplate(editorID).then(function(template){return _locationUtils2.default.set("/marketing_campaigns/ui/marketing_templates/"+template.id+"/edit")},editorID)}},{key:"render",value:function(){return _react2.default.createElement(_side.SideRouteModal,{onCancel:this.hideEditorSelectionModal},_react2.default.createElement(_form2.default,{onSubmit:this.handleSubmit,"data-role":"create-campaign-template-form"},_react2.default.createElement(_side.SideModalHeader,{header:"Create a Template"},_react2.default.createElement(_side.SideModalActions,null,_react2.default.createElement(_buttons.SecondaryButton,{type:"button","data-dismiss-modal":!0,"data-role":"close-create-version-modal"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{disabled:!this.state.hasFetchedEditorTypes,"data-role":"submit-campaign-template-form",type:"submit"},"Continue"))),_react2.default.createElement(_side.SideModalBody,null,_react2.default.createElement(_editorSelector.EditorSelector,{selectedEditorValue:this.state.selectedEditor,onEditorSelectionCb:this.selectEditor}))))}}]),NewView}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"editorTypeStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"editorTypeStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideEditorSelectionModal",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideEditorSelectionModal"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"selectEditor",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"selectEditor"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"handleSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"handleSubmit"),_class.prototype),_class);NewView.contextTypes={router:_react2.default.PropTypes.object.isRequired},module.exports={NewView:(0,_featureToggle.FeatureToggle)((0,_redirector.Redirector)("/marketing_campaigns/templates/new"),NewView,_constants2.default.FEATURES.BIFURCATED)}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),Redirector=function(url,buildRouteCb){return _react2.default.createClass({contextTypes:{router:_react2.default.PropTypes.object.isRequired},componentDidMount:function(){_underscore2.default.isEmpty(url)?window.location.replace(buildRouteCb(this.props.params)):window.location.replace(url)},render:function(){return null}})};module.exports={Redirector:Redirector}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function onPreheaderChange(e){_editorActions2.default.preheaderUpdated(e.target.value)}function onChange(e){var field=e.target.name,val=e.target.value;_marketingTemplateActions2.default.editTemplateContents(field,val)}function getEditorType(){var editorID=_templateContentsStore2.default.getContents().editor_id;return _editorTypeStore2.default.getTemplateEditorName(editorID)}function getExportContent(){return _moduleStore2.default.getSerializedModuleContents()}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_class2,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactRouter=__webpack_require__(27),_classnames2=__webpack_require__(10),_classnames3=_interopRequireDefault(_classnames2),_editor=__webpack_require__(237),_editor2=_interopRequireDefault(_editor),_toolbar=__webpack_require__(352),_toolbar2=_interopRequireDefault(_toolbar),_preview=__webpack_require__(353),_preview2=_interopRequireDefault(_preview),_tabs=__webpack_require__(130),_navToggleButton=__webpack_require__(354),_settingsAccordion=__webpack_require__(607),_settingsAccordion2=_interopRequireDefault(_settingsAccordion),_tagsAccordion=__webpack_require__(568),_tagsAccordion2=_interopRequireDefault(_tagsAccordion),_buildAccordion=__webpack_require__(356),_buildAccordion2=_interopRequireDefault(_buildAccordion),_codeImageAccordion=__webpack_require__(363),_codeImageAccordion2=_interopRequireDefault(_codeImageAccordion),_undoRedoHandled=__webpack_require__(364),_undoRedoHandled2=_interopRequireDefault(_undoRedoHandled),_previewContentHeaderBar=__webpack_require__(178),_previewContentHeaderBar2=_interopRequireDefault(_previewContentHeaderBar),_editorTabPanelWrapper=__webpack_require__(365),_editorTabPanelWrapper2=_interopRequireDefault(_editorTabPanelWrapper),_editorTabTitleWrapper=__webpack_require__(366),_editorTabTitleWrapper2=_interopRequireDefault(_editorTabTitleWrapper),_editorContentWrapper=__webpack_require__(367),_editorContentWrapper2=_interopRequireDefault(_editorContentWrapper),_tabControls=__webpack_require__(368),_tabControls2=_interopRequireDefault(_tabControls),_plainTextUtils=__webpack_require__(154),_plainTextUtils2=_interopRequireDefault(_plainTextUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_editorCss=__webpack_require__(91),_editorCss2=_interopRequireDefault(_editorCss),_marketingTemplateActions=__webpack_require__(104),_marketingTemplateActions2=_interopRequireDefault(_marketingTemplateActions),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_customFieldActions=__webpack_require__(83),_customFieldActions2=_interopRequireDefault(_customFieldActions),_currentUserStore=__webpack_require__(42),_currentUserStore2=_interopRequireDefault(_currentUserStore),_templateContentsStore=__webpack_require__(608),_templateContentsStore2=_interopRequireDefault(_templateContentsStore),_editorTypeStore=__webpack_require__(70),_editorTypeStore2=_interopRequireDefault(_editorTypeStore),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_fixedOnScroll=__webpack_require__(243),_fixedOnScroll2=_interopRequireDefault(_fixedOnScroll),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_reactClassUtils=__webpack_require__(7),MarketingTemplateEditor=(_class=function(_React$Component){function MarketingTemplateEditor(props){_classCallCheck(this,MarketingTemplateEditor);var _this=_possibleConstructorReturn(this,(MarketingTemplateEditor.__proto__||Object.getPrototypeOf(MarketingTemplateEditor)).call(this,props)),tc=_templateContentsStore2.default.getContents();return _this.state={htmlContent:tc.html_content,plainContent:tc.plain_content,name:tc.name,isPreview:!1,editorType:getEditorType(),templateId:_this.props.routeParams.id,preheader:_moduleStore2.default.getPreheaderText(),hasPlainTextLock:_plainTextUtils2.default.htmlToPlain(tc.html_content)!==tc.plain_content},_this}return _inherits(MarketingTemplateEditor,_React$Component),_createClass(MarketingTemplateEditor,[{key:"getChildContext",value:function(){return{editorType:this.state.editorType||_constants2.default.EDITORS.DND}}},{key:"componentDidMount",value:function(){_templateContentsStore2.default.addChangeListener(this.onContentsStoreChange),_editorTypeStore2.default.addChangeListener(this.onEditorTypeStoreChange),_moduleStore2.default.addChangeListener(this.onModuleStoreChange),_marketingTemplateActions2.default.getById(this.state.templateId),_customFieldActions2.default.fetch()}},{key:"componentWillUnmount",value:function(){_templateContentsStore2.default.clear(),_templateContentsStore2.default.removeChangeListener(this.onContentsStoreChange),_editorTypeStore2.default.removeChangeListener(this.onEditorTypeStoreChange),_moduleStore2.default.removeChangeListener(this.onModuleStoreChange)}},{key:"onContentsStoreChange",value:function(){var tc=_templateContentsStore2.default.getContents();this.setState({htmlContent:tc.html_content||"",plainContent:tc.plain_content||"",name:tc.name,editorType:getEditorType(),hasPlainTextLock:_plainTextUtils2.default.htmlToPlain(tc.html_content)!==tc.plain_content})}},{key:"onModuleStoreChange",value:function(){this.setState({preheader:_moduleStore2.default.getPreheaderText()})}},{key:"onEditorTypeStoreChange",value:function(){this.setState({editorType:getEditorType()})}},{key:"onHtmlEdit",value:function(val){this.state.hasPlainTextLock||_marketingTemplateActions2.default.editTemplateContents("plain_content",_plainTextUtils2.default.htmlToPlain(val)),_marketingTemplateActions2.default.editTemplateContents("html_content",val)}},{key:"onSyncHtmlToPlain",value:function(){this.setState({hasPlainTextLock:!1}),_marketingTemplateActions2.default.editTemplateContents("plain_content",_plainTextUtils2.default.htmlToPlain(this.state.htmlContent))}},{key:"onPlainTextEdit",value:function(val){this.state.hasPlainTextLock||this.setState({hasPlainTextLock:!0}),_marketingTemplateActions2.default.editTemplateContents("plain_content",val)}},{key:"onSave",value:function(){var contentsForSave=_templateContentsStore2.default.getContents();if(this.isDnd()){var updatedSerialized=_moduleStore2.default.getSerializedModuleContents();_marketingTemplateActions2.default.syncTemplateContents(updatedSerialized,!this.state.hasPlainTextLock),contentsForSave.html_content=updatedSerialized}return _marketingTemplateActions2.default.save(contentsForSave)}},{key:"activatePreviewMode",value:function(){this.isDnd()&&_marketingTemplateActions2.default.syncTemplateContents(_moduleStore2.default.getSerializedModuleContents(),!this.state.hasPlainTextLock),_analyticsUtils2.default.trackEditor("editor_preview",{source:_analyticsUtils2.default.getEditorType(this.isDnd())}),this.setState({isPreview:!0})}},{key:"activateEditMode",value:function(){this.setState({isPreview:!1})}},{key:"isDnd",value:function(){return this.state.editorType===_constants2.default.EDITORS.DND}},{key:"render",value:function(){var preview=_react2.default.createElement(_preview2.default,_extends({},this.state,{onPlainTextEdit:this.onPlainTextEdit,onSyncHtmlToPlain:this.onSyncHtmlToPlain,isDnd:this.isDnd(),shouldShowSender:!1,shouldShowSubject:!1,shouldShowPreheader:this.isDnd()}));return _react2.default.createElement("div",{className:_editorCss2.default["editor-page-container"],"data-role":"marketing-template-editor-container"},_react2.default.createElement(_toolbar2.default,{backRoute:"/marketing_campaigns/ui/marketing_templates",saveButtonText:"Save Template",onSave:this.onSave,hasEditorLoaded:!!this.state.editorType},_react2.default.createElement(_navToggleButton.NavToggleButton,{editorType:this.state.editorType,isActive:!this.state.isPreview,onClick:this.activateEditMode}),!_currentUserStore2.default.getHasFeature("nlvx_side_by_side")||this.isDnd()?_react2.default.createElement(_navToggleButton.PreviewButton,{isActive:this.state.isPreview,onClick:this.activatePreviewMode}):null),_react2.default.createElement("main",{className:_editorCss2.default["main-container"]},_react2.default.createElement(FixedTabPanel,_extends({isDnd:this.isDnd(),onChange:onChange,onPreheaderChange:onPreheaderChange},this.state)),_react2.default.createElement(_editorContentWrapper2.default,{isDnd:this.isDnd()},this.state.isPreview?preview:_react2.default.createElement(_editor2.default,{editorType:this.state.editorType,htmlContent:this.state.htmlContent,plainContent:this.state.plainContent,onChange:this.onHtmlEdit},_react2.default.createElement(_previewContentHeaderBar2.default,{preheader:this.state.preheader,shouldShowSender:!1,shouldShowSubject:!1,shouldShowPreheader:this.isDnd()})),!this.isDnd()&&_currentUserStore2.default.getHasFeature("nlvx_side_by_side")&&this.state.editorType&&preview)),this.props.children)}}]),MarketingTemplateEditor}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onContentsStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onContentsStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onModuleStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onModuleStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onEditorTypeStoreChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onEditorTypeStoreChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onHtmlEdit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onHtmlEdit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onSyncHtmlToPlain",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSyncHtmlToPlain"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onPlainTextEdit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onPlainTextEdit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onSave",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSave"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"activatePreviewMode",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"activatePreviewMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"activateEditMode",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"activateEditMode"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"isDnd",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"isDnd"),_class.prototype),_class);MarketingTemplateEditor.contextTypes={router:_propTypes2.default.object.isRequired},MarketingTemplateEditor.childContextTypes={editorType:_propTypes2.default.string},MarketingTemplateEditor.propTypes={children:_propTypes2.default.node,routeParams:_propTypes2.default.object.isRequired},MarketingTemplateEditor.defaultProps={children:null};var MarketingTemplateEditorTabPanel=(_class2=function(_React$Component2){function MarketingTemplateEditorTabPanel(){_classCallCheck(this,MarketingTemplateEditorTabPanel);var _this2=_possibleConstructorReturn(this,(MarketingTemplateEditorTabPanel.__proto__||Object.getPrototypeOf(MarketingTemplateEditorTabPanel)).call(this));return _this2.state={isVisible:!1},_this2}return _inherits(MarketingTemplateEditorTabPanel,_React$Component2),_createClass(MarketingTemplateEditorTabPanel,[{key:"toggleTabPanelVisility",value:function(){var isVisible=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState({isVisible:isVisible})}},{key:"render",value:function(){var _classnames,_this3=this,tabPanelClass=(0,_classnames3.default)(_editorCss2.default["tab-panel-wrapper"],(_classnames={},_defineProperty(_classnames,_editorCss2.default["is-fixed"],this.props.isScrolledPastHeader),_defineProperty(_classnames,_editorCss2.default["is-side-by-side"],!this.props.isDnd&&_currentUserStore2.default.getHasFeature("nlvx_side_by_side")),_classnames));return _react2.default.createElement(_editorTabPanelWrapper2.default,{isDnd:this.props.isDnd,isVisible:this.state.isVisible,toggleTabPanelVisility:this.toggleTabPanelVisility,isScrolledPastHeader:this.props.isScrolledPastHeader,style:this.props.style,onOpen:function(){return _this3.toggleTabPanelVisility(!0)}},_react2.default.createElement(_tabs.Tabs,{tabCount:3},_react2.default.createElement(_tabControls2.default,{isDnd:this.props.isDnd,onClose:function(){return _this3.toggleTabPanelVisility(!1)},iconClass:"sg-icon-gear",titleWhenClosed:"Settings"}),_react2.default.createElement(_editorTabTitleWrapper2.default,{isCampaign:!1,isDnd:this.props.isDnd,isPreview:this.props.isPreview}),_react2.default.createElement(_tabs.TabPanelWrapper,{className:tabPanelClass},_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_settingsAccordion2.default,{showPreheader:this.props.isDnd,showSubject:!1,onPreheaderChange:this.props.onPreheaderChange,preheader:this.props.preheader,onChange:this.props.onChange,name:this.props.name})),_react2.default.createElement(_tabs.TabPanel,null,this.props.isDnd?_react2.default.createElement(_buildAccordion2.default,{baseUrl:"/marketing_campaigns/ui/marketing_templates/"+this.props.templateId+"/edit",isDisabled:this.props.isPreview,exportArtifactName:this.props.name,getExportContent:getExportContent}):_react2.default.createElement(_codeImageAccordion2.default,{isDisabled:this.props.isPreview})),_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_tagsAccordion2.default,null)))))}}]),MarketingTemplateEditorTabPanel}(_react2.default.Component),_applyDecoratedDescriptor(_class2.prototype,"toggleTabPanelVisility",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class2.prototype,"toggleTabPanelVisility"),_class2.prototype),_class2);MarketingTemplateEditorTabPanel.propTypes={isDnd:_propTypes2.default.bool.isRequired,isPreview:_propTypes2.default.bool.isRequired,templateId:_propTypes2.default.string.isRequired,name:_propTypes2.default.string,isScrolledPastHeader:_propTypes2.default.bool,style:_propTypes2.default.object,onPreheaderChange:_propTypes2.default.func.isRequired,preheader:_propTypes2.default.string,onChange:_propTypes2.default.func.isRequired},MarketingTemplateEditorTabPanel.defaultProps={name:"",preheader:"",isScrolledPastHeader:!1,style:{}};var FixedTabPanel=(0,_fixedOnScroll2.default)(MarketingTemplateEditorTabPanel);exports.default=(0,_reactRouter.withRouter)((0,_undoRedoHandled2.default)(MarketingTemplateEditor))},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function _toArray(arr){return Array.isArray(arr)?arr:Array.from(arr)}function hideModal(){_locationUtils2.default.removeFromPath("/htmlhead")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.findTagsWithMissingBrackets=exports.findContentOutsideOfHead=exports.findUnclosedTags=exports.findInvalidHeadTags=exports.getHeadElement=void 0;var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_editor=__webpack_require__(377),_editor2=_interopRequireDefault(_editor),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_docsLink=__webpack_require__(188),_docsLink2=_interopRequireDefault(_docsLink),_alert=__webpack_require__(157),_alert2=_interopRequireDefault(_alert),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_reactClassUtils=__webpack_require__(7),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),_validationUtils=__webpack_require__(1619),_validationUtils2=_interopRequireDefault(_validationUtils),_stringUtils=__webpack_require__(40),_editModuleHtmlCss=__webpack_require__(609),_editModuleHtmlCss2=_interopRequireDefault(_editModuleHtmlCss),wrapInHeadTags=(0,_stringUtils.wrapInTags)("head"),unwrapHeadTags=(0,_stringUtils.unwrapTags)("head"),getHeadElement=exports.getHeadElement=function(markup){var isNode=markup instanceof Node;if(isNode&&"HEAD"===markup.tagName)return markup;if(isNode&&"HEAD"!==markup.tagName)throw new Error("Node must be a <head>. You provided a "+(0,_stringUtils.formatTagName)(markup.tagName)+".");var head=document.createElement("head");return head.innerHTML=unwrapHeadTags(markup),head},findInvalidHeadTags=exports.findInvalidHeadTags=function(markup){var head=getHeadElement(markup),validTags=["BASE","ISINDEX","LINK","META","NEXTID","RANGE","STYLE","TITLE"],isValid=function(_ref){var tagName=_ref.tagName;return tagName&&!_underscore2.default.contains(validTags,tagName)},invalidTags=_underscore2.default.chain(head.childNodes).filter(isValid).map(function(n){return n.tagName}).map(_stringUtils.formatTagName).uniq().value();return(0,_validationUtils2.default)(invalidTags,"We were unable to parse the text you have entered. The following tags are not valid in the head of an HTML document")},findUnclosedTags=exports.findUnclosedTags=function(markup){var tags=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["style","title"],openingTagComesAfterClosing=function(tag){return markup.indexOf("<"+tag+">")>markup.indexOf("</"+tag+">")},isUnmatched=function(tag){return markup.match("<"+tag+">")&&!markup.match("</"+tag+">")},hasMoreOpeningTagsThanClosing=function(tag){return(markup.match(new RegExp("<"+tag+">","g"))||[]).length>(markup.match(new RegExp("</"+tag+">","g"))||[]).length},errorTags=_underscore2.default.union(tags.filter(openingTagComesAfterClosing),tags.filter(isUnmatched),tags.filter(hasMoreOpeningTagsThanClosing)).map(_stringUtils.formatTagName);return(0,_validationUtils2.default)(errorTags,"We were unable to parse the text you have entered. The following tags have not been closed and will not render properly")},findContentOutsideOfHead=exports.findContentOutsideOfHead=function(content){var markup=content.trim();return{hasErrors:"<head>"!==markup.substr(0,"<head>".length)||"</head>"!==markup.substr(markup.length-"</head>".length),toString:function(){return"We were unable to parse the text you have entered. Content outside of the <head> tags is not allowed."}}},findTagsWithMissingBrackets=exports.findTagsWithMissingBrackets=function(markup){var _ref2=markup.match(/<(\w+)[^>]*</)||[],_ref3=_toArray(_ref2),tagsMissingBrackets=_ref3.slice(1);return(0,_validationUtils2.default)(tagsMissingBrackets.map(_stringUtils.formatTagName),"Your code contains errors and cannot be read. Please review for missing closing tags.")},createWarningElement=function(){for(var _len=arguments.length,warnings=Array(_len),_key=0;_key<_len;_key++)warnings[_key]=arguments[_key];return _react2.default.createElement(_alert2.default,{type:"danger",shouldAutoHide:!1},warnings.map(function(warning){return""+warning}).join(" "))},EditHtmlHead=(_class=function(_React$Component){function EditHtmlHead(){_classCallCheck(this,EditHtmlHead);var _this=_possibleConstructorReturn(this,(EditHtmlHead.__proto__||Object.getPrototypeOf(EditHtmlHead)).call(this));return _this.state={headHtml:wrapInHeadTags(_moduleStore2.default.getBodyProps().headHtml)},_this}return _inherits(EditHtmlHead,_React$Component),_createClass(EditHtmlHead,[{key:"componentDidMount",value:function(){_analyticsUtils2.default.trackEditor("edit_html_head_attempted")}},{key:"onChange",value:function(headHtml){this.setState({headHtml:headHtml})}},{key:"onUpdate",value:function(){_editorActions2.default.bodyPropsUpdated(_underscore2.default.extend({},_moduleStore2.default.getBodyProps(),{headHtml:unwrapHeadTags(_sanitizerUtils2.default.sanitize(this.state.headHtml))})),_analyticsUtils2.default.trackEditor("edit_html_head_success"),hideModal()}},{key:"render",value:function(){var _this2=this,validations=[findInvalidHeadTags,findUnclosedTags,findContentOutsideOfHead,findTagsWithMissingBrackets].map(function(validation){return validation(_this2.state.headHtml)}),isInvalid=_validationUtils.hasErrors.apply(void 0,_toConsumableArray(validations)),isEmpty=!this.state.headHtml;return _react2.default.createElement(_editor2.default,{show:!0,hasAlert:isInvalid,onCancel:hideModal,title:_react2.default.createElement("span",{className:_editModuleHtmlCss2.default.title},"Edit HTML Head ",_react2.default.createElement(_tooltip2.default,{content:_react2.default.createElement("span",null,"Use this option to modify the HTML head e.g. add script tags or your own custom font. ",_react2.default.createElement(_docsLink2.default,{href:_constants2.default.LINKS.EDIT_HTML_HEAD,analyticsKey:"learn-more_html-head"},"Learn more"),".")}),isInvalid&&createWarningElement.apply(void 0,_toConsumableArray(validations))),value:this.state.headHtml,onChange:this.onChange,onUpdate:this.onUpdate,disabled:isEmpty||isInvalid})}}]),EditHtmlHead}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onUpdate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onUpdate"),_class.prototype),_class);exports.default=EditHtmlHead},function(module,exports,__webpack_require__){var content=__webpack_require__(1618);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".codeEditable-css__code-edit-window___2RV61{z-index:1}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/dnd/modules/hoc/__css__/src/views/components/editor/dnd/modules/hoc/__css__/codeEditable.css.scss"],names:[],mappings:"AAAA,4CACE,SAAU,CACX",file:"codeEditable.css.scss",sourcesContent:[".code-edit-window {\n  z-index: 1; // needed or else ::after of selected module controls prevents interaction with the ace window\n}\n"],sourceRoot:""}]),exports.locals={"code-edit-window":"codeEditable-css__code-edit-window___2RV61"}},function(module,exports,__webpack_require__){"use strict";function createMarkupValidationWarning(tags,message){return{tags:tags,hasErrors:!!tags&&!!tags.length,toString:function(){return this.hasErrors?message+": "+tags.join(", ")+".":""}}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createMarkupValidationWarning;exports.hasErrors=function(){for(var _len=arguments.length,validators=Array(_len),_key=0;_key<_len;_key++)validators[_key]=arguments[_key];return validators.some(function(validator){return validator.hasErrors})}},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".editModuleHtml-css__convert___nm_u6{display:flex;flex-direction:column;position:absolute;height:100%;width:100%;top:0;left:0;z-index:1;background-color:#fff}.editModuleHtml-css__convert___nm_u6 .editModuleHtml-css__content___1oriJ{display:flex;flex-direction:column;margin:auto;padding:0 20%}.editModuleHtml-css__convert___nm_u6 .editModuleHtml-css__content___1oriJ h1{margin-left:auto;margin-right:auto}.editModuleHtml-css__convert___nm_u6 .editModuleHtml-css__content___1oriJ .btn-list{margin-top:15px;text-align:center}.editModuleHtml-css__modal-title-edit-module___27fz2 i{margin-left:10px}.editModuleHtml-css__modal-title-edit-module___27fz2 .alert.alert-warning{width:calc(100% + 40px);left:-20px}.editModuleHtml-css__reset-html___1a5ni{text-decoration:underline;cursor:pointer}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/__css__/src/views/components/editor/__css__/editModuleHtml.css.scss"],names:[],mappings:"AAAA,qCACE,aACA,sBACA,kBACA,YACA,WACA,MACA,OAEA,UACA,qBAAuB,CAVzB,0EAaI,aACA,sBACA,YACA,aAAc,CAhBlB,6EAmBM,iBACA,iBAAkB,CApBxB,oFAwBM,gBACA,iBAAkB,CACnB,uDAMD,gBAAiB,CAFrB,0EAKI,wBACA,UAAW,CACZ,wCAID,0BACA,cAAe,CAChB",file:"editModuleHtml.css.scss",sourcesContent:[".convert {\n  display: flex;\n  flex-direction: column;\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n\n  z-index: 1; // above ace edit window\n  background-color: white;\n\n  .content {\n    display: flex;\n    flex-direction: column;\n    margin: auto;\n    padding: 0 20%;\n\n    h1 {\n      margin-left: auto;\n      margin-right: auto;\n    }\n\n    :global .btn-list {\n      margin-top: 15px;\n      text-align: center;\n    }\n  }\n}\n\n.modal-title-edit-module {\n  i {\n    margin-left: 10px;\n  }\n  :global .alert.alert-warning {\n    width: calc(100% + 40px);\n    left: -20px;\n  }\n}\n\n.reset-html {\n  text-decoration: underline;\n  cursor: pointer;\n}\n"],sourceRoot:""}]),exports.locals={convert:"editModuleHtml-css__convert___nm_u6",content:"editModuleHtml-css__content___1oriJ","modal-title-edit-module":"editModuleHtml-css__modal-title-edit-module___27fz2","reset-html":"editModuleHtml-css__reset-html___1a5ni"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function hideModal(){_locationUtils2.default.removeFromPath("/edit_module_html")}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_editor=__webpack_require__(377),_editor2=_interopRequireDefault(_editor),_buttons=__webpack_require__(8),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_alert=__webpack_require__(157),_alert2=_interopRequireDefault(_alert),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_moduleSerializerUtils=__webpack_require__(347),_moduleSerializerUtils2=_interopRequireDefault(_moduleSerializerUtils),_moduleParserUtils=__webpack_require__(132),_moduleParserUtils2=_interopRequireDefault(_moduleParserUtils),_sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),_reactClassUtils=__webpack_require__(7),_code=__webpack_require__(535),_code2=_interopRequireDefault(_code),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_docsLink=__webpack_require__(188),_docsLink2=_interopRequireDefault(_docsLink),_button=__webpack_require__(239),_editModuleHtmlCss=__webpack_require__(609),_editModuleHtmlCss2=_interopRequireDefault(_editModuleHtmlCss),parseWithNewSerializer=function(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}({},_constants2.default.EDITOR.MODULES.BUTTON,_button.parseCodeEditable),VIEWS={EDIT:"edit",CONVERT:"convert"},EditModuleHtml=(_class=function(_React$Component){function EditModuleHtml(props){_classCallCheck(this,EditModuleHtml);var _this=_possibleConstructorReturn(this,(EditModuleHtml.__proto__||Object.getPrototypeOf(EditModuleHtml)).call(this,props)),mp=_moduleStore2.default.getSelectedModuleProps();return _this.state={moduleProps:mp,html:mp&&mp.innerHtml||"",viewState:VIEWS.EDIT,shouldShowWarning:!1},_this}return _inherits(EditModuleHtml,_React$Component),_createClass(EditModuleHtml,[{key:"componentDidMount",value:function(){this.state.moduleProps&&"string"==typeof this.state.moduleProps.innerHtml||hideModal()}},{key:"onChange",value:function(v){this.setState({html:v})}},{key:"onUpdate",value:function(){var props=this.state.moduleProps,innerHtml=_sanitizerUtils2.default.sanitize(this.state.html);if(this.state.moduleProps.type!==_constants2.default.EDITOR.MODULES.CODE&&_moduleSerializerUtils2.default.isStructuralChange(props.innerHtml,innerHtml))return _analyticsUtils2.default.trackEditor("convert-to-code_attempted"),this.setState({viewState:VIEWS.CONVERT}),!0;console.log("CAN PARSE",!!parseWithNewSerializer[props.type]);var newProps=void 0;if(parseWithNewSerializer[props.type])newProps=_extends({},props,{innerHtml:innerHtml},parseWithNewSerializer[props.type]({innerHtml:innerHtml}));else{var $mod=$(_moduleSerializerUtils2.default.serializeModule(_underscore2.default.extend(this.state.moduleProps,{innerHtml:innerHtml})));newProps=_underscore2.default.extend({},_moduleParserUtils2.default.moduleElemToProps($mod),{muid:this.state.moduleProps.muid})}return _analyticsUtils2.default.trackEditor("edit_code_module"),_editorActions2.default.activeModuleUpdated(newProps),hideModal(),!0}},{key:"dismissAlert",value:function(){this.setState({shouldShowWarning:!1})}},{key:"resetHtml",value:function(){this.setState({shouldShowWarning:!1,html:this.state.moduleProps.innerHtml||""})}},{key:"cancelConvert",value:function(){this.setState({viewState:VIEWS.EDIT,shouldShowWarning:!0})}},{key:"confirmConvert",value:function(){var newMod=_underscore2.default.extend((0,_code2.default)($(this.state.html)),{muid:this.state.moduleProps.muid,innerHtml:this.state.html});_analyticsUtils2.default.trackEditor("convert-to-code_success"),_editorActions2.default.activeModuleUpdated(newMod),hideModal()}},{key:"render",value:function(){if(!this.state.moduleProps)return null;var title=this.state.moduleProps.type===_constants2.default.EDITOR.MODULES.CODE?_react2.default.createElement("span",{className:_editModuleHtmlCss2.default["modal-title-edit-module"]},"Code Module",_react2.default.createElement(_tooltip2.default,{position:"right",content:_react2.default.createElement("span",null,"You can drag & drop code modules.  To edit content, you","'","ll need to use HTML. ",_react2.default.createElement(_docsLink2.default,{href:_constants2.default.LINKS.CODE_MODULE,analyticsKey:"learn-more_code-module"},"Learn more"),".")})):_react2.default.createElement("span",{className:_editModuleHtmlCss2.default["modal-title-edit-module"]},"Edit Module HTML",_react2.default.createElement(_tooltip2.default,{content:_react2.default.createElement("span",null,"You can make non-structural HTML changes here such as styling, content, or HTML attribute updates. ",_react2.default.createElement(_docsLink2.default,{href:_constants2.default.LINKS.EDIT_MODULE_HTML,analyticsKey:"learn-more_edit-module"},"Learn more"),".")}),this.state.shouldShowWarning&&_react2.default.createElement(_alert2.default,{type:"warning",shouldAutoHide:!1,onDismiss:this.dismissAlert},"This module supports editing HTML changes such as styling, copy, or other HTML attribute updates.  Please remove any tags you","'","ve added. ",_react2.default.createElement("span",{className:_editModuleHtmlCss2.default["reset-html"],onClick:this.resetHtml,"data-role":"reset-html"},"Reset HTML"),"."));return _react2.default.createElement(_editor2.default,{show:!0,hasAlert:this.state.shouldShowWarning,onCancel:hideModal,title:title,value:this.state.html,onChange:this.onChange,onUpdate:this.onUpdate,disabled:!1},this.state.viewState===VIEWS.EDIT?null:_react2.default.createElement("div",{className:_editModuleHtmlCss2.default.convert,"data-role":"convert-module-container"},_react2.default.createElement("div",{className:_editModuleHtmlCss2.default.content},_react2.default.createElement("h1",null,"Convert to code module?"),_react2.default.createElement("p",null,"You have made structural HTML changes that this module doesn","'","t support.  Typically this happens when you add a tag such as <span>, <p>, <table>, etc.   To keep these changes, convert to a code module. ",_react2.default.createElement(_docsLink2.default,{href:_constants2.default.LINKS.EDIT_MODULE_HTML,analyticsKey:"learn-more_edit-module"},"Learn more"),"."),_react2.default.createElement("div",{className:"btn-list"},_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.cancelConvert,"data-role":"cancel-convert"},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{onClick:this.confirmConvert,"data-role":"confirm-convert"},"Convert")))))}}]),EditModuleHtml}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onUpdate",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onUpdate"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"dismissAlert",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"dismissAlert"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"resetHtml",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"resetHtml"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"cancelConvert",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"cancelConvert"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"confirmConvert",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"confirmConvert"),_class.prototype),_class);exports.default=EditModuleHtml},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function wrapHtml(html){return"<div>"+html+"</div>"}function countModules(html){return _moduleParserUtils2.default.get$rootModules(html).length}function getModuleInfoContent(html){if(0===html.trim().length)return null;var count=countModules(wrapHtml(html));return _react2.default.createElement("span",{className:_importHtmlCss2.default["module-info"]},count>0?_react2.default.createElement("span",{className:_importHtmlCss2.default.success},_react2.default.createElement("i",{className:"sg-icon sg-icon-check-circle"}),"We detected ",count," drag & drop module",count>1?"s":"","."):_react2.default.createElement("span",{className:"error"},_react2.default.createElement("i",{className:"sg-icon sg-icon-warning"}),"We were unable to detect any drag & drop modules. ",_react2.default.createElement(_docsLink2.default,{href:_constants2.default.LINKS.DETECT_DND_MODULES_ERROR},"Learn more"),"."))}function hideModal(){_locationUtils2.default.removeFromPath("/importhtml")}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_editor=__webpack_require__(377),_editor2=_interopRequireDefault(_editor),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_moduleParserUtils=__webpack_require__(132),_moduleParserUtils2=_interopRequireDefault(_moduleParserUtils),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),_reactClassUtils=__webpack_require__(7),_docsLink=__webpack_require__(188),_docsLink2=_interopRequireDefault(_docsLink),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_importHtmlCss=__webpack_require__(1623),_importHtmlCss2=_interopRequireDefault(_importHtmlCss),ImportHtml=(_class=function(_React$Component){function ImportHtml(){_classCallCheck(this,ImportHtml);var _this=_possibleConstructorReturn(this,(ImportHtml.__proto__||Object.getPrototypeOf(ImportHtml)).call(this));return _this.state={html:"",isOverlayVisible:!0},_this}return _inherits(ImportHtml,_React$Component),_createClass(ImportHtml,[{key:"componentDidMount",value:function(){$("#code-editor").on("click",this.hideOverlay)}},{key:"componentWillUnmount",value:function(){$("#code-editor").off("click",this.hideOverlay)}},{key:"onChange",value:function(newHtml){this.setState({html:newHtml})}},{key:"onImportClick",value:function(){_editorActions2.default.htmlImported(wrapHtml(_sanitizerUtils2.default.sanitize(this.state.html))),_analyticsUtils2.default.trackEditor("import",{result:"success",source:"design"}),hideModal()}},{key:"hideOverlay",value:function(){this.setState({isOverlayVisible:!1})}},{key:"render",value:function(){var title=_react2.default.createElement("div",{className:_importHtmlCss2.default.title},_react2.default.createElement("h2",null,"Import Custom Drag & Drop HTML"),_react2.default.createElement(_tooltip2.default,{content:_react2.default.createElement("span",null,"Use Marketing Campaigns drag & drop markup to enable drag & drop editing. ",_react2.default.createElement(_docsLink2.default,{href:_constants2.default.LINKS.IMPORT_HTML,analyticsKey:"learn-more_import-html"},"Learn more"),".")}),getModuleInfoContent(this.state.html));return _react2.default.createElement(_editor2.default,{show:!0,onCancel:hideModal,hasRichTitle:!0,title:title,value:this.state.html,onChange:this.onChange,onUpdate:this.onImportClick,confirmText:"Import",disabled:this.state.isOverlayVisible},this.state.isOverlayVisible?_react2.default.createElement("div",{className:_importHtmlCss2.default["no-code-overlay"],"data-role":"import-overlay"},_react2.default.createElement("h1",null,"Enter your custom HTML with drag & drop markup here."),_react2.default.createElement("p",null,"Warning: the HTML you import will override any existing campaign content.")):null)}}]),ImportHtml}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onImportClick",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onImportClick"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"hideOverlay",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"hideOverlay"),_class.prototype),_class);exports.default=ImportHtml},function(module,exports,__webpack_require__){var content=__webpack_require__(1624);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".importHtml-css__no-code-overlay___1kkM2{width:100%;color:#fff;position:absolute;top:50%;transform:translateY(-50%);z-index:9;pointer-events:none}.importHtml-css__no-code-overlay___1kkM2 h1{font-size:18px;text-align:center;color:#fff}.importHtml-css__no-code-overlay___1kkM2 p{font-size:14px;text-align:center}.importHtml-css__title___O0Tl0{display:flex;margin-bottom:18px}.importHtml-css__title___O0Tl0 h2{margin-bottom:0}.importHtml-css__title___O0Tl0 h2+span{margin:auto 0}.importHtml-css__title___O0Tl0 i{margin-left:10px}.importHtml-css__module-info___1g106{margin:auto 0 auto auto}.importHtml-css__module-info___1g106 i{margin-right:5px}.importHtml-css__module-info___1g106 .importHtml-css__success___FB-qM{color:#4cb04f}.importHtml-css__module-info___1g106 .error a{text-decoration:underline}.importHtml-css__module-info___1g106 .error a:hover{color:inherit}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/__css__/src/views/components/editor/__css__/importHtml.css.scss"],names:[],mappings:"AAAA,yCACE,WACA,WACA,kBACA,QACA,2BACA,UACA,mBAAoB,CAPtB,4CAUI,eACA,kBACA,UAAc,CAZlB,2CAgBI,eACA,iBAAkB,CACnB,+BAID,aACA,kBAAmB,CAFrB,kCAKI,eAAgB,CALpB,uCAUI,aAAc,CAVlB,iCAaI,gBAAiB,CAClB,qCAID,uBAAwB,CAD1B,uCAII,gBAAiB,CAJrB,sEAQI,aAAc,CARlB,8CAaM,yBAA0B,CAbhC,oDAeQ,aAAc,CACf",file:"importHtml.css.scss",sourcesContent:[".no-code-overlay {\n  width: 100%;\n  color: #ffffff;\n  position: absolute;\n  top: 50%;\n  transform: translateY(-50%);\n  z-index: 9;\n  pointer-events: none;\n\n  h1 {\n    font-size: 18px;\n    text-align: center;\n    color: #ffffff;\n  }\n\n  p {\n    font-size: 14px;\n    text-align: center;\n  }\n}\n\n.title {\n  display: flex;\n  margin-bottom: 18px;\n\n  h2 {\n    margin-bottom: 0;\n  }\n\n  // tooltip wrapper\n  h2 + span {\n    margin: auto 0;\n  }\n  i {\n    margin-left: 10px;\n  }\n}\n\n.module-info {\n  margin: auto 0 auto auto;\n\n  i {\n    margin-right: 5px;\n  }\n\n  .success {\n    color: #4CB04F;\n  }\n\n  :global .error {\n    a {\n      text-decoration: underline;\n      &:hover {\n        color: inherit;\n      }\n    }\n  }\n}\n"],sourceRoot:""}]),exports.locals={"no-code-overlay":"importHtml-css__no-code-overlay___1kkM2",title:"importHtml-css__title___O0Tl0","module-info":"importHtml-css__module-info___1g106",success:"importHtml-css__success___FB-qM"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getScheduledAtTime(){var scheduledTime=_campaignUtils2.default.getScheduledSendTime();return scheduledTime?_dateUtils2.default.getTimeAgo(scheduledTime):"Now"}function getAbSubjects(){return _campaignUtils2.default.getAbSettings().values.subjects}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_standardCampaignSummary=__webpack_require__(1626),_standardCampaignSummary2=_interopRequireDefault(_standardCampaignSummary),_aBCampaignSummary=__webpack_require__(1627),_aBCampaignSummary2=_interopRequireDefault(_aBCampaignSummary),_sendTimeIndicator=__webpack_require__(1628),_sendTimeIndicator2=_interopRequireDefault(_sendTimeIndicator),_center=__webpack_require__(372),_buttons=__webpack_require__(8),_partyPopper=__webpack_require__(1631),_partyPopper2=_interopRequireDefault(_partyPopper),_campaignsActions=__webpack_require__(62),_campaignsActions2=_interopRequireDefault(_campaignsActions),_abStore=__webpack_require__(184),_abStore2=_interopRequireDefault(_abStore),_campaignUtils=__webpack_require__(155),_campaignUtils2=_interopRequireDefault(_campaignUtils),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_reactClassUtils=__webpack_require__(7),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_sendConfirmationCss=__webpack_require__(1632),_sendConfirmationCss2=_interopRequireDefault(_sendConfirmationCss),SendConfirmation=(_class=function(_React$Component){function _class(props){_classCallCheck(this,_class);var _this=_possibleConstructorReturn(this,(_class.__proto__||Object.getPrototypeOf(_class)).call(this,props));return _this.state={isSending:!1,isSaving:!1,isInvalidSendTime:!1,campaignJson:void 0},_this}return _inherits(_class,_React$Component),_createClass(_class,[{key:"componentDidMount",value:function(){this.campaignId=parseInt(this.context.router.params.id),this.isDnd=this.context.editorType===_constants2.default.EDITORS.DND;var campaignJson=_campaignUtils2.default.getJsonForSaveSend(this.campaignId,this.isDnd,!0);campaignJson?this.setState({campaignJson:campaignJson}):this.onCancel()}},{key:"onSend",value:function(){var _this2=this;this.setState({isSaving:!0,isInvalidSendTime:!1});var jsonForSend=_campaignUtils2.default.getJsonForSaveSendWithUndoTimeDelay(this.campaignId,this.isDnd,!0,12e4),saveRequest=_campaignsActions2.default.save(jsonForSend);saveRequest.always(function(){return _this2.setState({isSaving:!1})}),saveRequest.error(function(response){_underscore2.default.contains(response.responseJSON.errors,"This date is in the past. Please choose a future date and time to send your campaign.")&&_this2.setState({isInvalidSendTime:!0})}),saveRequest.done(function(){_this2.setState({isSending:!0});var sendRequest=_campaignsActions2.default.send(_this2.state.campaignJson.id,_campaignUtils2.default.shouldSendImmediately());sendRequest.always(function(){_this2.setState({isSending:!1})}),sendRequest.done(function(){_this2.trackSend(jsonForSend),_this2.context.router.push("/marketing_campaigns/ui/campaigns")})})}},{key:"onCancel",value:function(){_campaignsActions2.default.hideSendConfirmation()}},{key:"trackSend",value:function(jsonForSend){var abData=_abStore2.default.getAll(),testType=_abStore2.default.isSubjectLineTest()?"subject":"content",selectionType=_underscore2.default.find(abData.data.types,function(t){return t.id==abData.values.type});_analyticsUtils2.default.trackEditor("campaign_scheduled",{source:_analyticsUtils2.default.getEditorType(this.context.editorType===_constants2.default.EDITORS.DND),campaign_id:this.campaignId,ab_test:"on"==jsonForSend.campaign.campaign_ab_test.active?"true":"false",test_type:testType,variation_count:jsonForSend.campaign.campaign_ab_test.versions,selection_method:selectionType?selectionType.type:"",test_length:jsonForSend.campaign.campaign_ab_test.duration_secs,plain_text_edited:jsonForSend.campaign.has_plain_text_lock,unsubscribe_system:jsonForSend.campaign.custom_unsub_link?"custom":"asm"})}},{key:"render",value:function(){if(!this.state.campaignJson)return null;var campaignJson=this.state.campaignJson;return _react2.default.createElement("div",{className:_sendConfirmationCss2.default.container},_react2.default.createElement(_center.CenterModal,{show:!0,hasCloseButton:!1,onCancel:this.onCancel},this.state.isSaving||this.state.isSending?_react2.default.createElement(_sendTimeIndicator2.default,{isSaving:this.state.isSaving,shouldSendImmediately:_campaignUtils2.default.shouldSendImmediately()}):null,_react2.default.createElement("header",null,_react2.default.createElement(_partyPopper2.default,null),_react2.default.createElement("h1",null,"Almost there!"),_react2.default.createElement("p",null,"Confirm these details before sending.")),_react2.default.createElement("main",null,campaignJson.campaign.campaign_ab_test.active===_constants2.default.EDITOR.AB_TEST_STATUSES.ACTIVE?_react2.default.createElement(_aBCampaignSummary2.default,{isInvalidSendTime:this.state.isInvalidSendTime,name:campaignJson.campaign.name,scheduledAt:getScheduledAtTime(),subjects:getAbSubjects(),recipients:_campaignUtils2.default.getFormattedQueryNames()}):_react2.default.createElement(_standardCampaignSummary2.default,{isInvalidSendTime:this.state.isInvalidSendTime,name:campaignJson.campaign.name,scheduledAt:getScheduledAtTime(),subject:campaignJson.campaign.campaign_content.subject,recipients:_campaignUtils2.default.getFormattedQueryNames()})),_react2.default.createElement("footer",{className:"btn-list"},_react2.default.createElement(_buttons.SecondaryButton,{onClick:this.onCancel},"Cancel"),_react2.default.createElement(_buttons.PrimaryButton,{icon:"airplane-fill",disabled:this.state.isInvalidSendTime,onClick:this.onSend},(_campaignUtils2.default.shouldSendImmediately()?"Send":"Schedule")+" Campaign"))))}}]),_class}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onSend",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSend"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"trackSend",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"trackSend"),_class.prototype),_class);SendConfirmation.contextTypes={router:_react2.default.PropTypes.object.isRequired,editorType:_react2.default.PropTypes.string.isRequired},exports.default=SendConfirmation},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function StandardCampaignSummary(props){return _react2.default.createElement("table",{className:"table-wrap is-thin","data-role":"standard-campaign-summary"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",{"data-role":"campaign-name"},_react2.default.createElement("td",null,_react2.default.createElement("strong",null,"Campaign name")),_react2.default.createElement("td",null,_react2.default.createElement("span",null,_stringUtils2.default.truncate(props.name,75)))),_react2.default.createElement("tr",{"data-role":"scheduled-for",className:"scheduled-for "+(props.isInvalidSendTime?"is-invalid":"")},_react2.default.createElement("td",null,_react2.default.createElement("strong",null,"Scheduled for")),_react2.default.createElement("td",null,_react2.default.createElement("span",null,props.scheduledAt))),_react2.default.createElement("tr",{"data-role":"subject"},_react2.default.createElement("td",null,_react2.default.createElement("strong",null,"Subject")),_react2.default.createElement("td",null,_react2.default.createElement("span",null,_stringUtils2.default.truncate(props.subject)))),_react2.default.createElement("tr",{"data-role":"recipients"},_react2.default.createElement("td",null,_react2.default.createElement("strong",null,"Recipients")),_react2.default.createElement("td",null,_react2.default.createElement(_recipientsInfo2.default,{recipients:props.recipients})))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_recipientsInfo=__webpack_require__(610),_recipientsInfo2=_interopRequireDefault(_recipientsInfo),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils);exports.default=StandardCampaignSummary},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ABCampaignSummary(props){return _react2.default.createElement("table",{className:"table-wrap is-thin","data-role":"ab-campaign-summary"},_react2.default.createElement("tbody",null,_react2.default.createElement("tr",{"data-role":"campaign-name"},_react2.default.createElement("td",null,_react2.default.createElement("strong",null,"Campaign name")),_react2.default.createElement("td",null,_react2.default.createElement("span",null,props.name))),_react2.default.createElement("tr",{"data-role":"scheduled-for",className:"scheduled-for "+(props.isInvalidSendTime?"is-invalid":"")},_react2.default.createElement("td",null,_react2.default.createElement("strong",null,"Scheduled for")),_react2.default.createElement("td",null,_react2.default.createElement("span",null,props.scheduledAt))),_react2.default.createElement("tr",{"data-role":"subject"},_react2.default.createElement("td",null,_react2.default.createElement("strong",null,"Subject")),_react2.default.createElement("td",null,_react2.default.createElement("span",null,function(){return _underscore2.default.map(props.subjects,function(subject,split){return _react2.default.createElement(_tooltip2.default,{key:split,content:subject,length:"small"},_react2.default.createElement(_badge.ABSplitBadge,{split:split},split))})}()))),_react2.default.createElement("tr",{"data-role":"recipients"},_react2.default.createElement("td",null,_react2.default.createElement("strong",null,"Recipients")),_react2.default.createElement("td",null,_react2.default.createElement(_recipientsInfo2.default,{recipients:props.recipients})))))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_badge=__webpack_require__(246),_tooltip=__webpack_require__(29),_tooltip2=_interopRequireDefault(_tooltip),_recipientsInfo=__webpack_require__(610),_recipientsInfo2=_interopRequireDefault(_recipientsInfo);exports.default=ABCampaignSummary},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function SendTimeIndicator(props){return _react2.default.createElement(_confirmationOverlay2.default,{dataRole:"send-time-indicator"},_react2.default.createElement(_sgLoader2.default,{className:"is-large"}),_react2.default.createElement("br",null),_react2.default.createElement("h2",{"data-role":"send-time-message"},function(){return props.shouldSendImmediately?"Sending...":"Scheduling..."}()))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_sgLoader=__webpack_require__(176),_sgLoader2=_interopRequireDefault(_sgLoader),_confirmationOverlay=__webpack_require__(611),_confirmationOverlay2=_interopRequireDefault(_confirmationOverlay);exports.default=SendTimeIndicator},function(module,exports,__webpack_require__){var content=__webpack_require__(1630);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".confirmationOverlay-css__confirmation-overlay___2eysR{position:absolute;top:0;left:0;display:flex;flex-flow:column;align-items:center;justify-content:center;padding:50px;height:100%;z-index:999;background:hsla(0,0%,100%,.95);width:100%}.confirmationOverlay-css__confirmation-overlay___2eysR .title{text-align:center;padding:0}.confirmationOverlay-css__confirmation-overlay___2eysR .message{height:auto;margin:0;padding:0;text-align:center}.confirmationOverlay-css__confirmation-overlay___2eysR .actions{width:200px;display:flex;flex-flow:row wrap;align-items:center;justify-content:space-around}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/style-guide/overlay/__css__/src/views/components/style-guide/overlay/__css__/confirmationOverlay.css.scss"],names:[],mappings:"AAAA,uDACE,kBACA,MACA,OACA,aACA,iBACA,mBACA,uBACA,aACA,YACA,YACA,+BACA,UAAW,CAZb,8DAcI,kBACA,SAAU,CAfd,gEAkBI,YACA,SACA,UACA,iBAAkB,CArBtB,gEAwBI,YACA,aACA,mBACA,mBACA,4BAA6B,CAC9B",file:"confirmationOverlay.css.scss",sourcesContent:[".confirmation-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  display: flex;\n  flex-flow: column;\n  align-items: center;\n  justify-content: center;\n  padding: 50px;\n  height: 100%;\n  z-index: 999;\n  background: rgba(255, 255, 255, 0.95);\n  width: 100%;\n  :global .title {\n    text-align: center;\n    padding: 0;\n  }\n  :global .message {\n    height: auto;\n    margin: 0;\n    padding: 0;\n    text-align: center;\n  }\n  :global .actions {\n    width: 200px;\n    display: flex;\n    flex-flow: row wrap;\n    align-items: center;\n    justify-content: space-around;\n  }\n}"],sourceRoot:""}]),exports.locals={"confirmation-overlay":"confirmationOverlay-css__confirmation-overlay___2eysR"}},function(module,exports,__webpack_require__){"use strict";function PartyPopper(){return _react2.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",height:"40",viewBox:"0 0 40 40"},_react2.default.createElement("g",{fill:"none",fillRule:"evenodd"},_react2.default.createElement("path",{d:"M12.007 15.888L1.055 36.403a1.883 1.883 0 0 0 .328 2.214c.587.586 1.485.72 2.215.328l20.579-10.973",stroke:"#1A82E2"}),_react2.default.createElement("ellipse",{stroke:"#1A82E2",transform:"rotate(45.004 18.93 21.08)",cx:"18.93",cy:"21.08",rx:"8.961",ry:"4.135"}),_react2.default.createElement("path",{d:"M27.412 20.362a8.277 8.277 0 0 1 11.696 0",stroke:"#FF4081"}),_react2.default.createElement("path",{d:"M19.615 12.565a8.27 8.27 0 0 0 0-11.697",stroke:"#18C96E"}),_react2.default.createElement("path",{d:"M30.125 13.75l5.848-1.947",stroke:"#4CB04F"}),_react2.default.createElement("path",{d:"M26.227 9.853l1.95-5.85",stroke:"#00BCD4"}),_react2.default.createElement("ellipse",{stroke:"#7B1FA2",cx:"25.943",cy:"13.752",rx:".835",ry:".835"}),_react2.default.createElement("circle",{stroke:"#FF5722",cx:"13.557",cy:"8.877",r:".833"}),_react2.default.createElement("ellipse",{stroke:"#DEA7E8",cx:"33.18",cy:"6.827",rx:".833",ry:".833"}),_react2.default.createElement("ellipse",{stroke:"#FDD835",cx:"32.075",cy:"23.5",rx:".833",ry:".833"}),_react2.default.createElement("path",{d:"M0 0h40v40H0z"})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react);exports.default=PartyPopper},function(module,exports,__webpack_require__){var content=__webpack_require__(1633);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".sendConfirmation-css__container___3-FHM{text-align:center}.sendConfirmation-css__container___3-FHM .sg-loader{margin:auto}.sendConfirmation-css__container___3-FHM .table-wrap{text-align:initial;margin-bottom:60px}.sendConfirmation-css__container___3-FHM .table-wrap td{white-space:nowrap}.sendConfirmation-css__container___3-FHM .table-wrap td+td{word-break:break-all;white-space:normal;width:70%}.sendConfirmation-css__container___3-FHM .table-wrap .scheduled-for.is-invalid td{color:#b51f23;font-weight:700}.sendConfirmation-css__container___3-FHM main{background:none;padding:0}.sendConfirmation-css__container___3-FHM .badge{margin-right:5px;cursor:help}.sendConfirmation-css__container___3-FHM .query-list .query-item{display:inline-block}.sendConfirmation-css__container___3-FHM .query-list .query-item:first-child{display:block}.sendConfirmation-css__container___3-FHM .query-list .query-item.hidden-queries{border-bottom:1px dashed #677c8f;margin-left:10px;line-height:15px;cursor:help}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/campaigns/editor/__css__/src/views/campaigns/editor/__css__/sendConfirmation.css.scss"],names:[],mappings:"AAAA,yCACE,iBAAkB,CADpB,oDAII,WAAY,CAJhB,qDAQI,mBACA,kBAAmB,CATvB,wDAWM,kBAAmB,CAXzB,2DAcM,qBACA,mBACA,SAAU,CAhBhB,kFAqBU,cACA,eAAiB,CAtB3B,8CA4BI,gBACA,SAAU,CA7Bd,gDAgCI,iBACA,WAAY,CAjChB,iEAqCM,oBAAqB,CArC3B,6EAuCQ,aAAc,CAvCtB,gFA0CQ,iCACA,iBACA,iBACA,WAAY,CACb",file:"sendConfirmation.css.scss",sourcesContent:[".container {\n  text-align: center;\n\n  :global .sg-loader {\n    margin: auto;\n  }\n\n  :global .table-wrap {\n    text-align: initial;\n    margin-bottom: 60px;\n    td {\n      white-space: nowrap;\n    }\n    td + td {\n      word-break: break-all;\n      white-space: normal;\n      width: 70%;\n    }\n    .scheduled-for {\n      &.is-invalid {\n        td {\n          color: #b51f23;\n          font-weight: bold;\n        }\n      }\n    }\n  }\n  main {\n    background: none;\n    padding: 0;\n  }\n  :global .badge {\n    margin-right: 5px;\n    cursor: help;\n  }\n  :global .query-list {\n    .query-item {\n      display: inline-block;\n      &:first-child {\n        display: block;\n      }\n      &.hidden-queries {\n        border-bottom: 1px dashed #677c8f;\n        margin-left: 10px;\n        line-height: 15px;\n        cursor: help;\n      }\n    }\n  }\n}"],sourceRoot:""}]),exports.locals={container:"sendConfirmation-css__container___3-FHM"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_center=__webpack_require__(372),_alert=__webpack_require__(157),_alert2=_interopRequireDefault(_alert),_tabs=__webpack_require__(130),_dropzone=__webpack_require__(595),_dropzone2=_interopRequireDefault(_dropzone),_imageLibrary=__webpack_require__(1635),_imageLibrary2=_interopRequireDefault(_imageLibrary),_imageStylizer=__webpack_require__(1641),_imageStylizer2=_interopRequireDefault(_imageStylizer),_confirmationOverlay=__webpack_require__(611),_confirmationOverlay2=_interopRequireDefault(_confirmationOverlay),_buttons=__webpack_require__(8),_imageManagerActions=__webpack_require__(105),_imageManagerActions2=_interopRequireDefault(_imageManagerActions),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_imageManagerStore=__webpack_require__(238),_imageManagerStore2=_interopRequireDefault(_imageManagerStore),_customLimitStore=__webpack_require__(533),_customLimitStore2=_interopRequireDefault(_customLimitStore),_moduleStore=__webpack_require__(35),_moduleStore2=_interopRequireDefault(_moduleStore),_byteUtils=__webpack_require__(370),_byteUtils2=_interopRequireDefault(_byteUtils),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),_imageManagerCss=__webpack_require__(1648),_imageManagerCss2=_interopRequireDefault(_imageManagerCss),TABS={IMAGE_LIBRARY:"tabTitleImageLibrary",IMAGE_STYLIZER:"tabTitleImageStylizer"},ImageManager=_react2.default.createClass({displayName:"ImageManager",propTypes:{imageUploadLimit:_react2.default.PropTypes.number,concurrentUploadLimit:_react2.default.PropTypes.number,imageSizeLimit:_react2.default.PropTypes.number,validImageFileTypes:_react2.default.PropTypes.array},contextTypes:{editorType:_react2.default.PropTypes.string.isRequired},getDefaultProps:function(){return{imageUploadLimit:100,concurrentUploadLimit:2,imageSizeLimit:_byteUtils2.default.bytesPerMega(10),validImageFileTypes:["image/jpeg","image/jpg","image/gif","image/png","image/bmp"]}},getInitialState:function(){return{isVisible:!0,didImageLibraryLoadFail:_imageManagerStore2.default.getDidLoadFail(),imageLibrary:_imageManagerStore2.default.getCollection(),imageLibraryMax:_customLimitStore2.default.getLimitForImages(),onSubmit:void 0,selectedImage:_imageManagerStore2.default.getSelectedImage(),selectedImageModule:this.getSelectedImageModule(),wysiwygSelectedImage:_imageManagerStore2.default.getWysiwygSelectedImage(),shouldShowConfirmationModal:!1,imageToBeDeleted:void 0,selectedTab:TABS.IMAGE_LIBRARY}},componentDidMount:function(){var selectedImageModule=this.getSelectedImageModule();_imageManagerStore2.default.addChangeListener(this.onImageMangerStoreChange),_moduleStore2.default.addChangeListener(this.onModuleStoreChange),_imageManagerActions2.default.fetchImageLimit(),_imageManagerActions2.default.fetchImageLibrary(),(selectedImageModule&&selectedImageModule.imgProps.src||this.state.wysiwygSelectedImage)&&this.navigateToTab(TABS.IMAGE_STYLIZER)},componentWillUnmount:function(){_imageManagerStore2.default.removeChangeListener(this.onImageMangerStoreChange),_moduleStore2.default.removeChangeListener(this.onModuleStoreChange)},onSubmitContextChanged:function(onSubmit){this.setState({onSubmit:onSubmit})},onImageMangerStoreChange:function(){_imageManagerStore2.default.getWysiwygSelectedImage()&&this.navigateToTab(TABS.IMAGE_STYLIZER),this.setState({didImageLibraryLoadFail:_imageManagerStore2.default.getDidLoadFail(),imageLibrary:_imageManagerStore2.default.getCollection(),selectedImage:_imageManagerStore2.default.getSelectedImage(),wysiwygSelectedImage:_imageManagerStore2.default.getWysiwygSelectedImage()})},onModuleStoreChange:function(){this.setState({selectedImageModule:this.getSelectedImageModule()})},getSelectedImageModule:function(){if(_moduleStore2.default.getSelectedModuleProps())return _moduleStore2.default.getSelectedModuleProps().type===_constants2.default.EDITOR.MODULES.IMAGE?_moduleStore2.default.getSelectedModuleProps():void 0},hideImageManager:function(){_imageManagerActions2.default.closeImageManager(),this.setState({isVisible:!1})},navigateToTab:function(tab){setTimeout(function(){return $("#"+tab).click()},100)},handleImageSelection:function(){this.navigateToTab(TABS.IMAGE_STYLIZER)},handleImageDeletion:function(image){this.setState({shouldShowConfirmationModal:!0,imageToBeDeleted:image})},cancelImageDeletion:function(){this.setState({shouldShowConfirmationModal:!1,imageToBeDeleted:void 0})},confirmImageDeletion:function(){_imageManagerActions2.default.deleteImage(this.state.imageToBeDeleted),this.cancelImageDeletion()},onFilesDropped:function(parentProps,validFiles){return validFiles.length>0&&_imageManagerActions2.default.queueFilesForUpload(validFiles,parentProps.concurrentUploadLimit,parentProps.editorType),!1},getFileDropZone:function(){if(!_imageManagerStore2.default.getHasFetchedImageLibrary())return null;if(!_customLimitStore2.default.getHasFetchedImageLimit())return null;var max=_customLimitStore2.default.getLimitForImages(),defaultMaxErrorMessage="You've reached the limit of "+max.toLocaleString()+" images. To add new images you'll first need to delete some.",maxError=_imageManagerStore2.default.getServerMaxUploadErrorMessage()||defaultMaxErrorMessage;return this.state.imageLibrary.length<max&&void 0===_imageManagerStore2.default.getServerMaxUploadErrorMessage()?_react2.default.createElement(_dropzone2.default,{displayFileType:"image",onFilesDropped:this.onFilesDropped,validFileTypes:this.props.validImageFileTypes,fileSizeLimit:this.props.imageSizeLimit,singleUploadLimit:this.props.imageUploadLimit,totalUploadLimit:this.state.imageLibraryMax,totalUploadCount:this.state.imageLibrary.length,uploadInstructionsIcon:"sg-icon-image",isLarge:_underscore2.default.isEmpty(this.state.imageLibrary),editorType:this.context.editorType,isImageManager:!0}):_react2.default.createElement(_alert2.default,{type:"warning",shouldAutoHide:!1},maxError)},closeImageManager:function(){_imageManagerActions2.default.closeImageManager()},setSelectedTab:function(tabId){this.setState({selectedTab:tabId})},render:function(){return this.state.imageToBeDeleted&&console.log(this.state.imageToBeDeleted),_react2.default.createElement(_center.CenterModal,{show:this.state.isVisible,onCancel:this.hideImageManager,isLarge:!0},_react2.default.createElement(_tabs.Tabs,null,_react2.default.createElement(_tabs.TabTitleWrapper,{isCentered:!1,hasBottomBorder:!0},_react2.default.createElement(_tabs.TabTitle,{id:TABS.IMAGE_LIBRARY,onClick:this.setSelectedTab},"Image Library"),_react2.default.createElement(_tabs.TabTitle,{id:TABS.IMAGE_STYLIZER,onClick:this.setSelectedTab},"Image Details")),_react2.default.createElement(_tabs.TabPanelWrapper,{className:_imageManagerCss2.default["tab-panel-wrapper"]},_react2.default.createElement(_tabs.TabPanel,null,this.state.didImageLibraryLoadFail?_react2.default.createElement(_alert2.default,{type:"danger",shouldAutoHide:!1},"We're sorry, we've encountered an error. Please try again."):null,this.getFileDropZone(),_react2.default.createElement(_imageLibrary2.default,{onImageSelectionCb:this.handleImageSelection,onImageDeletionCb:this.handleImageDeletion,onImageUrlCopyCb:function(){return!1}})),_react2.default.createElement(_tabs.TabPanel,null,_react2.default.createElement(_imageStylizer2.default,{onSubmitContextChanged:this.onSubmitContextChanged,shouldUseDnDLayout:this.context.editorType===_constants2.default.EDITORS.DND,selectedImage:this.state.selectedImage,selectedImageModule:this.state.selectedImageModule,wysiwygSelectedImage:this.state.wysiwygSelectedImage})))),this.state.shouldShowConfirmationModal?_react2.default.createElement(_confirmationOverlay2.default,{confirmCb:this.confirmImageDeletion,cancelCb:this.cancelImageDeletion,confirmButtonText:"Delete",titleText:"Delete "+_stringUtils2.default.truncateFileNameWithExtension(this.state.imageToBeDeleted.name,30)+"?",messageText:"This will permanently delete the image from your image library. You will not be able to undo this action.",isDangerousConfirmation:!0}):null,_react2.default.createElement(_center.CenterModalFooter,{shouldShowFooter:this.state.selectedTab!==TABS.IMAGE_LIBRARY&&this.context.editorType===_constants2.default.EDITORS.DND},this.context.editorType===_constants2.default.EDITORS.DND?_react2.default.createElement(_buttons.PrimaryButtonSmall,{onClick:this.state.onSubmit,disabled:!this.state.onSubmit},this.state.selectedImageModule||this.state.wysiwygSelectedImage?"Save Image":"Insert New Image"):null))}});exports.default=ImageManager},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_imagePreview=__webpack_require__(1636),_imagePreview2=_interopRequireDefault(_imagePreview),_imageManagerStore=__webpack_require__(238),_imageManagerStore2=_interopRequireDefault(_imageManagerStore),_imageLibraryCss=__webpack_require__(1639),_imageLibraryCss2=_interopRequireDefault(_imageLibraryCss),ImageLibrary=_react2.default.createClass({displayName:"ImageLibrary",propTypes:{onImageSelectionCb:_react2.default.PropTypes.func.isRequired,onImageDeletionCb:_react2.default.PropTypes.func.isRequired,onImageUrlCopyCb:_react2.default.PropTypes.func.isRequired},getInitialState:function(){return{imageCollection:_imageManagerStore2.default.getCollection(),filesInProgress:_imageManagerStore2.default.getFilesInProgress(),selectedImage:_imageManagerStore2.default.getSelectedImage()}},componentDidMount:function(){_imageManagerStore2.default.addChangeListener(this.onImageMangerStoreChange)},componentWillUnmount:function(){_imageManagerStore2.default.removeChangeListener(this.onImageMangerStoreChange)},onImageMangerStoreChange:function(){this.setState({imageCollection:_imageManagerStore2.default.getCollection(),filesInProgress:_imageManagerStore2.default.getFilesInProgress(),selectedImage:_imageManagerStore2.default.getSelectedImage()})},getIsSelected:function(image){return!!this.state.selectedImage&&this.state.selectedImage.id===image.id},getLoadingMessage:function(){return _react2.default.createElement("div",{className:"loading-message-container"},"Loading image library...")},getImageLibrary:function(){var _this=this;return _imageManagerStore2.default.getHasFetchedImageLibrary()?_underscore2.default.map(this.state.filesInProgress.concat(this.state.imageCollection),function(image){return _react2.default.createElement(_imagePreview2.default,{key:image.id,image:image.file?void 0:image,file:image.file?image:void 0,isSelected:_this.getIsSelected(image),onSelectCb:_this.props.onImageSelectionCb,onDeleteCb:_this.props.onImageDeletionCb,onUrlCopyCb:_this.props.onImageUrlCopyCb})}):this.getLoadingMessage()},render:function(){return _react2.default.createElement("section",{className:_imageLibraryCss2.default["image-library"]},this.getImageLibrary())}});exports.default=ImageLibrary},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactCopyToClipboard=__webpack_require__(355),_reactCopyToClipboard2=_interopRequireDefault(_reactCopyToClipboard),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_imageManagerActions=__webpack_require__(105),_imageManagerActions2=_interopRequireDefault(_imageManagerActions),_dateUtils=__webpack_require__(44),_dateUtils2=_interopRequireDefault(_dateUtils),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),_imagePreviewCss=__webpack_require__(1637),_imagePreviewCss2=_interopRequireDefault(_imagePreviewCss),ImagePreview=_react2.default.createClass({displayName:"ImagePreview",propTypes:{file:_react2.default.PropTypes.object,image:_react2.default.PropTypes.object,isSelected:_react2.default.PropTypes.bool,onSelectCb:_react2.default.PropTypes.func,onDeleteCb:_react2.default.PropTypes.func,onUrlCopyCb:_react2.default.PropTypes.func,shouldShowCopyAction:_react2.default.PropTypes.bool},getDefaultProps:function(){return{shouldShowCopyAction:!1,isSelected:!1,onSelectCb:function(){return!1},onDeleteCb:function(){return!1},onUrlCopyCb:function(){return!1}}},getInitialState:function(){return{hasUrlBeenCopied:!1}},componentDidMount:function(){var _this=this;this.fileReader=new FileReader,this.fileReader.onload=function(e){_this.setThumbnailUrl(e.target.result)},this.props.file?this.fileReader.readAsDataURL(this.props.file.file):this.setThumbnailUrl(this.props.image.url)},componentWillUnmount:function(){this.fileReader=null},setThumbnailUrl:function(url){$(this.refs.thumbnail).attr("style","background-image: url("+url)},handleImageClick:function(){if(this.props.image){var selectedImage=this.props.isSelected?void 0:this.props.image;_imageManagerActions2.default.setSelectedImage(selectedImage),this.props.onSelectCb(selectedImage)}},handleImageDeletion:function(e){e.stopPropagation(),this.props.onDeleteCb(this.props.image)},handleImageUrlCopy:function(e){e.stopPropagation(),console.log("copying image url...")},getClassNames:function(){return[_imagePreviewCss2.default["image-preview-container"],this.props.isSelected?_imagePreviewCss2.default["is-selected"]:"",this.props.image?_imagePreviewCss2.default["is-selectable"]:"",this.state.hasUrlBeenCopied?_imagePreviewCss2.default["has-been-copied"]:""].join(" ")},getProgressMeter:function(){return this.props.file?_react2.default.createElement("div",{className:"upload-progress-meter"},_react2.default.createElement("div",{className:"progress-bar",style:{width:this.props.file.progress}})):null},getDataAttributes:function(){if(this.props.image)return{"data-file-name":_stringUtils2.default.truncateFileNameWithExtension(this.props.image.name,30),"data-file-size":this.props.image.size,"data-file-upload-date":_dateUtils2.default.formatValue(this.props.image.created_at),"data-copied-text":"URL Copied"}},onCopyImageUrl:function(){var _this2=this;this.setState({hasUrlBeenCopied:!0}),window.setTimeout(function(){return _this2.setState({hasUrlBeenCopied:!1})},500)},getCopyAction:function(){return this.props.shouldShowCopyAction?_react2.default.createElement(_reactCopyToClipboard2.default,{onCopy:_underscore2.default.debounce(this.onCopyImageUrl,100),text:this.props.image&&this.props.image.url||""},_react2.default.createElement("li",{className:"image-action",onClick:this.handleImageUrlCopy,title:"Copy image URL."},_react2.default.createElement("i",{className:"sg-icon sg-icon-copy"}))):null},render:function(){return _react2.default.createElement("article",_extends({className:this.getClassNames(),onClick:this.handleImageClick},this.getDataAttributes()),_react2.default.createElement("header",{className:"image-actions"},_react2.default.createElement("ul",null,this.getCopyAction,_react2.default.createElement("li",{className:"image-action","data-role":"delete-image",onClick:this.handleImageDeletion,title:"Delete image."},_react2.default.createElement("i",{className:"sg-icon sg-icon-trash"})))),_react2.default.createElement("main",{ref:"thumbnail",className:"thumbnail"}),this.getProgressMeter())}});exports.default=ImagePreview},function(module,exports,__webpack_require__){var content=__webpack_require__(1638);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.imagePreview-css__image-preview-container___3A1R9{position:relative;width:15vw;height:15vw;max-width:150px;max-height:150px;margin-bottom:25px}.imagePreview-css__image-preview-container___3A1R9 .thumbnail{width:100%;height:100%;padding:0;margin:0;background-color:transparent;background-size:contain;background-repeat:no-repeat;background-position:50%}.imagePreview-css__image-preview-container___3A1R9 .upload-progress-meter{position:absolute;bottom:15px;left:0;background:#d2d2d2;height:5px;width:calc(100% - 8px);margin:0 4px;border-radius:5px;overflow:hidden}.imagePreview-css__image-preview-container___3A1R9 .upload-progress-meter .progress-bar{width:0;height:100%;background:#32459c}.imagePreview-css__image-preview-container___3A1R9 .image-actions{position:absolute;z-index:2;opacity:0;transition:opacity .2s ease;top:4px;right:4px}.imagePreview-css__image-preview-container___3A1R9 .image-actions .image-action{width:20px;height:20px;color:rgba(84,107,129,.6);float:left;transition:all .1s linear;text-align:right}.imagePreview-css__image-preview-container___3A1R9 .image-actions .image-action:hover{transform:scale(1.1);color:rgba(84,107,129,.8)}.imagePreview-css__image-preview-container___3A1R9.imagePreview-css__is-selected___1M8C2:before{content:"";position:absolute;top:0;left:0;height:100%;width:100%;border:1px solid #546b81}.imagePreview-css__image-preview-container___3A1R9.imagePreview-css__is-selected___1M8C2:hover:before{border:1px solid #546b81!important}.imagePreview-css__image-preview-container___3A1R9.imagePreview-css__is-selectable___fWLQs{cursor:pointer}.imagePreview-css__image-preview-container___3A1R9.imagePreview-css__is-selectable___fWLQs:hover:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background:hsla(0,0%,100%,.85);border:1px solid #d2d2d2}.imagePreview-css__image-preview-container___3A1R9.imagePreview-css__is-selectable___fWLQs:hover:after{position:absolute;content:attr(data-file-name) "\\A   \\A" attr(data-file-upload-date);white-space:pre-line;word-break:break-all;padding:5px;margin:5px 0;top:50%;left:0;width:100%;transform:translateY(-50%);font-size:12px}.imagePreview-css__image-preview-container___3A1R9.imagePreview-css__is-selectable___fWLQs.imagePreview-css__has-been-copied___2mbXN:hover:after{content:attr(data-copied-text);color:#50af54;text-align:center}.imagePreview-css__image-preview-container___3A1R9:not(.imagePreview-css__is-selectable___fWLQs):before{content:"";position:absolute;top:0;left:0;height:100%;width:100%;border:1px dashed #d3d3d3;border-radius:6px}.imagePreview-css__image-preview-container___3A1R9:hover .image-actions{opacity:1}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/image_manager/__css__/src/views/components/editor/image_manager/__css__/imagePreview.css.scss"],names:[],mappings:"AAGA,mDACE,kBACA,WACA,YACA,gBACA,iBACA,kBAAmB,CANrB,8DASI,WACA,YACA,UACA,SACA,6BACA,wBACA,4BACA,uBAAkC,CAhBtC,0EAoBI,kBACA,YACA,OACA,mBACA,WACA,uBACA,aACA,kBACA,eAAgB,CA5BpB,wFA8BM,QACA,YACA,kBAAmB,CAhCzB,kEAoCI,kBACA,UACA,UACA,4BACA,QACA,SAAU,CAzCd,gFA2CM,WACA,YACA,0BACA,WACA,0BACA,gBAAiB,CAhDvB,sFAkDQ,qBACA,yBAA4B,CAnDpC,gGAyDM,WACA,kBACA,MACA,OACA,YACA,WACA,wBAAyB,CA/D/B,sGAmEQ,kCAAoC,CAnE5C,2FAwEI,cAAe,CAxEnB,wGA2EQ,kBACA,WACA,MACA,OACA,WACA,YACA,+BACA,wBAAyB,CAlFjC,uGAqFQ,kBACA,mEACA,qBACA,qBACA,YACA,aACA,QACA,OACA,WACA,2BACA,cAAe,CA/FvB,iJAqGU,+BACA,cACA,iBAAkB,CAvG5B,wGA8GM,WACA,kBACA,MACA,OACA,YACA,WACA,0BACA,iBAAkB,CArHxB,wEA0HM,SAAU,CACX",file:"imagePreview.css.scss",sourcesContent:["$imageSize: 15vw;\n$maxImageSize: 150px;\n\n.image-preview-container {\n  position: relative;\n  width: $imageSize;\n  height: $imageSize;\n  max-width: $maxImageSize;\n  max-height: $maxImageSize;\n  margin-bottom: 25px;\n\n  :global .thumbnail {\n    width: 100%;\n    height: 100%;\n    padding: 0;\n    margin: 0;\n    background-color: transparent;\n    background-size: contain;\n    background-repeat: no-repeat;\n    background-position: center center;\n  }\n  :global .upload-progress-meter {\n    $progressMeterMargin: 4px;\n    position: absolute;\n    bottom: 15px;\n    left: 0;\n    background: #d2d2d2;\n    height: 5px;\n    width: calc(100% - 8px);\n    margin: 0 $progressMeterMargin;\n    border-radius: 5px;\n    overflow: hidden;\n    .progress-bar {\n      width: 0;\n      height: 100%;\n      background: #32459c;\n    }\n  }\n  :global .image-actions {\n    position: absolute;\n    z-index: 2;\n    opacity: 0;\n    transition: opacity 200ms ease;\n    top: 4px;\n    right: 4px;\n    .image-action {\n      width: 20px;\n      height: 20px;\n      color: rgba(84,107,129, 0.6);\n      float: left;\n      transition: all 100ms linear;\n      text-align: right;\n      &:hover {\n        transform: scale(1.1);\n        color: rgba(84,107,129, 0.8);\n      }\n    }\n  }\n  &.is-selected {\n    &::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      border: 1px solid #546b81;\n    }\n    &:hover {\n      &::before {\n        border: 1px solid #546b81 !important; //need to override is-selectable border\n      }\n    }\n  }\n  &.is-selectable {\n    cursor: pointer;\n    &:hover {\n      &::before {\n        position: absolute;\n        content: '';\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        background: rgba(255, 255, 255, 0.85);\n        border: 1px solid #d2d2d2;\n      }\n      &::after {\n        position: absolute;\n        content: attr(data-file-name) '\\a\\a' attr(data-file-upload-date);\n        white-space: pre-line;\n        word-break: break-all;\n        padding: 5px;\n        margin: 5px 0;\n        top: 50%;\n        left: 0;\n        width: 100%;\n        transform: translateY(-50%);\n        font-size: 12px;\n      }\n    }\n    &.has-been-copied {\n      &:hover {\n        &::after {\n          content: attr(data-copied-text);\n          color: #50af54;\n          text-align: center;\n        }\n      }\n    }\n  }\n  &:not(.is-selectable) {\n    &::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: 0;\n      height: 100%;\n      width: 100%;\n      border: 1px dashed lightgrey;\n      border-radius: 6px;\n    }\n  }\n  &:hover {\n    :global .image-actions {\n      opacity: 1;\n    }\n  }\n}"],sourceRoot:""}]),exports.locals={"image-preview-container":"imagePreview-css__image-preview-container___3A1R9","is-selected":"imagePreview-css__is-selected___1M8C2","is-selectable":"imagePreview-css__is-selectable___fWLQs","has-been-copied":"imagePreview-css__has-been-copied___2mbXN"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1640);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.imageLibrary-css__image-library___PujZn{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:center;margin:25px 0;overflow-y:auto;height:calc(100% - 120px)}.imageLibrary-css__image-library___PujZn .loading-message-container{width:100%;text-align:center}.imageLibrary-css__image-library___PujZn:after{content:"";flex:auto}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/image_manager/__css__/src/views/components/editor/image_manager/__css__/imageLibrary.css.scss"],names:[],mappings:"AAAA,yCACE,aACA,mBACA,8BACA,mBACA,cACA,gBACA,yBAA0B,CAP5B,oEASI,WACA,iBAAkB,CAVtB,+CAaI,WACA,SAAU,CACX",file:"imageLibrary.css.scss",sourcesContent:[".image-library {\n  display: flex;\n  flex-flow: row wrap;\n  justify-content: space-between;\n  align-items: center;\n  margin: 25px 0;\n  overflow-y: auto;\n  height: calc(100% - 120px);\n  :global .loading-message-container {\n    width: 100%;\n    text-align: center;\n  }\n  &::after {\n    content: '';\n    flex: auto;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"image-library":"imageLibrary-css__image-library___PujZn"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function getImageUrl(props){return props.selectedImage?props.selectedImage.url||"":props.wysiwygSelectedImage?props.wysiwygSelectedImage.data.src:props.selectedImageModule?props.selectedImageModule.imgProps[IMAGE_PROPERTIES.IMAGE_URL]:""}function getLinkUrl(props){return props.wysiwygSelectedImage?props.wysiwygSelectedImage.data.link:props.selectedImageModule?props.selectedImageModule.aProps[IMAGE_PROPERTIES.LINK_URL]||"":""}function getAlt(props){return props.wysiwygSelectedImage?props.wysiwygSelectedImage.data.alt_text:props.selectedImageModule?props.selectedImageModule.imgProps[IMAGE_PROPERTIES.ALT_TEXT]||"":""}function getHeight(props){return props.wysiwygSelectedImage?props.wysiwygSelectedImage.data.height:props.selectedImageModule?props.selectedImageModule.imgProps[IMAGE_PROPERTIES.HEIGHT]||"":""}function getWidth(props){return props.wysiwygSelectedImage?props.wysiwygSelectedImage.data.width:props.selectedImageModule?props.selectedImageModule.imgProps[IMAGE_PROPERTIES.WIDTH]||"":""}function getWidthPercent(props){return props.wysiwygSelectedImage?props.wysiwygSelectedImage.data.widthPercent||100:props.selectedImageModule?props.selectedImageModule.imgProps[IMAGE_PROPERTIES.WIDTH_PERCENT]||100:100}function getAlignment(props){return props.wysiwygSelectedImage?props.wysiwygSelectedImage.data.alignment:props.selectedImageModule?props.selectedImageModule[IMAGE_PROPERTIES.ALIGNMENT]||ALIGNMENT_OPTIONS[0].value:ALIGNMENT_OPTIONS[0].value}function getIsResponsive(props){return!!props.selectedImageModule&&!!props.selectedImageModule[IMAGE_PROPERTIES.IS_RESPONSIVE]}function insertImageIntoWysiwygEditor(imageHtml){_imageManagerStore2.default.getWysiwygEditorInstance().insertHtml(imageHtml),_analyticsUtils2.default.trackEditor("image_inserted_into_text_module")}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_form=__webpack_require__(43),_form2=_interopRequireDefault(_form),_textInput=__webpack_require__(18),_select=__webpack_require__(46),_select2=_interopRequireDefault(_select),_switch=__webpack_require__(133),_image=__webpack_require__(245),_image2=__webpack_require__(242),_dimensionControls=__webpack_require__(1642),_dimensionControls2=_interopRequireDefault(_dimensionControls),_codeForm=__webpack_require__(1644),_codeForm2=_interopRequireDefault(_codeForm),_imageManagerStore=__webpack_require__(238),_imageManagerStore2=_interopRequireDefault(_imageManagerStore),_imageManagerActions=__webpack_require__(105),_imageManagerActions2=_interopRequireDefault(_imageManagerActions),_editorActions=__webpack_require__(22),_editorActions2=_interopRequireDefault(_editorActions),_imageStylizerCss=__webpack_require__(1646),_imageStylizerCss2=_interopRequireDefault(_imageStylizerCss),_formDecorator=__webpack_require__(39),_formDecorator2=_interopRequireDefault(_formDecorator),_reactClassUtils=__webpack_require__(7),_analyticsUtils=__webpack_require__(19),_analyticsUtils2=_interopRequireDefault(_analyticsUtils),IMAGE_PROPERTIES={IMAGE_URL:"src",LINK_URL:"href",ALT_TEXT:"alt",ALIGNMENT:"align",HEIGHT:"height",WIDTH:"width",WIDTH_PERCENT:"widthPercent",IS_RESPONSIVE:"isResponsive",IS_PROPORTIONALLY_CONSTRAINED:"isProportionallyConstrained"},ALIGNMENT_OPTIONS=[{name:"Not Set",value:void 0},{name:"Left",value:"left"},{name:"Center",value:"center"},{name:"Right",value:"right"}],ImageStylizer=(_class=function(_React$Component){function ImageStylizer(props){_classCallCheck(this,ImageStylizer);var _this=_possibleConstructorReturn(this,(ImageStylizer.__proto__||Object.getPrototypeOf(ImageStylizer)).call(this,props)),initialState={};return initialState[IMAGE_PROPERTIES.IMAGE_URL]=getImageUrl(_this.props),initialState[IMAGE_PROPERTIES.LINK_URL]=getLinkUrl(_this.props),initialState[IMAGE_PROPERTIES.ALT_TEXT]=getAlt(_this.props),initialState[IMAGE_PROPERTIES.HEIGHT]=getHeight(_this.props),initialState[IMAGE_PROPERTIES.WIDTH]=getWidth(_this.props),initialState[IMAGE_PROPERTIES.WIDTH_PERCENT]=getWidthPercent(_this.props),initialState[IMAGE_PROPERTIES.ALIGNMENT]=getAlignment(_this.props),initialState[IMAGE_PROPERTIES.IS_RESPONSIVE]=getIsResponsive(_this.props),initialState[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED]=_this.props.selectedImageModule&&_this.props.selectedImageModule[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED],_this.state=_extends({},initialState,{originalHeight:0,originalWidth:0,didFailToLoadImage:!1,isLoadingImage:!0,hasUrlBeenCopied:!1}),_this.isFromImageModule=!!_this.props.selectedImageModule,_this}return _inherits(ImageStylizer,_React$Component),_createClass(ImageStylizer,[{key:"componentDidMount",value:function(){this.getImageDimensions(this.state[IMAGE_PROPERTIES.IMAGE_URL],_underscore2.default.contains([this.state[IMAGE_PROPERTIES.WIDTH],this.state[IMAGE_PROPERTIES.HEIGHT]],"")),this.props.onSubmitContextChanged(this.onSubmit)}},{key:"componentWillReceiveProps",value:function(nextProps){if(this.props.selectedImage!==nextProps.selectedImage){var imageUrl=getImageUrl(nextProps),newState=_underscore2.default.tap({},function(s){return s[IMAGE_PROPERTIES.IMAGE_URL]=imageUrl});this.getImageDimensions(imageUrl,!0),this.setState(newState)}}},{key:"componentWillUnmount",value:function(){this.props.onSubmitContextChanged(void 0)}},{key:"onSubmit",value:function(){var _this2=this;this.props.trySubmit(function(){var imageProps=_this2.getImageProps();_this2.props.selectedImageModule?_editorActions2.default.activeModuleUpdated(imageProps):_imageManagerStore2.default.getWysiwygEditorInstance()?insertImageIntoWysiwygEditor(imageProps.innerHtml):_editorActions2.default.moduleDropped(imageProps,void 0),_imageManagerActions2.default.closeImageManager()})}},{key:"onResponsivenessToggle",value:function(){var newState={};newState[IMAGE_PROPERTIES.IS_RESPONSIVE]=!this.state[IMAGE_PROPERTIES.IS_RESPONSIVE],this.setState(newState)}},{key:"onProportionalConstraintToggle",value:function(){var newState={};if(newState[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED]=!this.state[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED],newState[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED]){var dimensions=this.getConstrainedDimensions(this.state[IMAGE_PROPERTIES.HEIGHT],this.state[IMAGE_PROPERTIES.WIDTH]);newState[IMAGE_PROPERTIES.HEIGHT]=dimensions.height,newState[IMAGE_PROPERTIES.WIDTH]=dimensions.width}this.setState(newState)}},{key:"onHeightChange",value:function(e){var newState={};if(newState[IMAGE_PROPERTIES.HEIGHT]=e.target.value,this.state[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED]){var dimensions=this.getConstrainedDimensions(e.target.value);newState[IMAGE_PROPERTIES.WIDTH]=dimensions.width}this.setState(newState)}},{key:"onWidthChange",value:function(e){var newState={};if(newState[IMAGE_PROPERTIES.WIDTH]=e.target.value,this.state[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED]){var dimensions=this.getConstrainedDimensions(void 0,e.target.value);newState[IMAGE_PROPERTIES.HEIGHT]=dimensions.height}return this.setState(newState),newState}},{key:"onPercentageWidthChange",value:function(e){var newState={};newState[IMAGE_PROPERTIES.WIDTH_PERCENT]=e.target.value,this.setState(newState)}},{key:"onInputChange",value:function(e){var newState={};newState[e.target.name]=e.target.value,this.setState(newState)}},{key:"onResetImageDimensions",value:function(){var _setState;this.setState((_setState={},_defineProperty(_setState,IMAGE_PROPERTIES.HEIGHT,this.state.originalHeight),_defineProperty(_setState,IMAGE_PROPERTIES.WIDTH,this.state.originalWidth),_defineProperty(_setState,IMAGE_PROPERTIES.WIDTH_PERCENT,100),_setState))}},{key:"getConstrainedDimensions",value:function(height,width){var ratio=1;return height&&(ratio=height/this.state.originalHeight),width&&(ratio=width/this.state.originalWidth),isNaN(ratio)?{height:"",width:""}:{height:Math.round(ratio*this.state.originalHeight),width:Math.round(ratio*this.state.originalWidth)}}},{key:"getImageDimensions",value:function(imageUrl){var _this3=this,shouldResetDimensions=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.setState({isLoadingImage:!0,didFailToLoadImage:!1});var image=new Image;image.onload=function(e){var newState={};newState[IMAGE_PROPERTIES.HEIGHT]=shouldResetDimensions||_this3.state[IMAGE_PROPERTIES.IS_RESPONSIVE]?e.target.height:_this3.state[IMAGE_PROPERTIES.HEIGHT],newState[IMAGE_PROPERTIES.WIDTH]=shouldResetDimensions||_this3.state[IMAGE_PROPERTIES.IS_RESPONSIVE]?e.target.width:_this3.state[IMAGE_PROPERTIES.WIDTH],newState.isLoadingImage=!1,newState.originalHeight=e.target.height,newState.originalWidth=e.target.width,_this3.setState(newState)},image.onerror=function(){_this3.setState({isLoadingImage:!1,didFailToLoadImage:!0})},image.src=imageUrl}},{key:"getSharedInputProps",value:function(){return{registerFormInput:this.props.registerFormInput,onChange:this.onInputChange}}},{key:"getDnDLayout",value:function(){var _this4=this,isDisabled=!this.state[IMAGE_PROPERTIES.IMAGE_URL]||this.state.didFailToLoadImage||this.state.isLoadingImage;return _react2.default.createElement("section",{className:"section settings dnd-layout","data-role":"dnd-image-stylizer-form"},_react2.default.createElement(_textInput.TextArea,_extends({id:IMAGE_PROPERTIES.IMAGE_URL,"data-role":"input-img-url",name:IMAGE_PROPERTIES.IMAGE_URL,displayName:"Image Source URL",value:this.state[IMAGE_PROPERTIES.IMAGE_URL],validations:["required","url"],maxLength:"2048",maxHeight:100,onBlurCb:function(e){return _this4.getImageDimensions(e.target.value,!0)}},this.getSharedInputProps())),_react2.default.createElement("div",null,_react2.default.createElement(_textInput.TextInput,_extends({type:"text",id:IMAGE_PROPERTIES.LINK_URL,"data-role":"input-link-url",name:IMAGE_PROPERTIES.LINK_URL,displayName:"Link URL",value:this.state[IMAGE_PROPERTIES.LINK_URL],tooltipContent:"If you'd like to hyperlink your image, add the destination URL here.",tooltipLength:"medium",disabled:isDisabled,maxLength:"2048",validations:["url"]},this.getSharedInputProps())),_react2.default.createElement(_textInput.TextInput,_extends({type:"text","data-role":"input-alt-text",id:IMAGE_PROPERTIES.ALT_TEXT,name:IMAGE_PROPERTIES.ALT_TEXT,displayName:"Alt Text",value:this.state[IMAGE_PROPERTIES.ALT_TEXT],disabled:isDisabled,validations:[]},this.getSharedInputProps())),_react2.default.createElement(_select2.default,_extends({data:ALIGNMENT_OPTIONS,"data-role":"input-alignment",options:{placeholder:"Not Set",minimumResultsForSearch:-1},name:IMAGE_PROPERTIES.ALIGNMENT,displayName:"Alignment",value:this.state[IMAGE_PROPERTIES.ALIGNMENT]},this.getSharedInputProps(),{disabled:isDisabled})),_react2.default.createElement("div",{className:"size-settings"},this.isFromImageModule?_react2.default.createElement("div",{className:"responsive-switch-container"},_react2.default.createElement("label",{className:"label small"},"Responsive"),_react2.default.createElement(_switch.OnOffSwitch,{id:"switch-is-responsive",name:IMAGE_PROPERTIES.IS_RESPONSIVE,"data-role":"input-responsive-switch",onClick:this.onResponsivenessToggle,disabled:isDisabled,isChecked:this.state[IMAGE_PROPERTIES.IS_RESPONSIVE]})):null,_react2.default.createElement(_dimensionControls2.default,{width:this.state[IMAGE_PROPERTIES.WIDTH],height:this.state[IMAGE_PROPERTIES.HEIGHT],widthPercent:this.state[IMAGE_PROPERTIES.WIDTH_PERCENT],isConstrained:this.state[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED],isDisabled:isDisabled,isResponsive:this.state[IMAGE_PROPERTIES.IS_RESPONSIVE],isShowResponsive:this.isFromImageModule,registerFormInput:this.props.registerFormInput,unregisterFormInput:this.props.unregisterFormInput,onConstrainClick:this.onProportionalConstraintToggle,onHeightChange:this.onHeightChange,onWidthChange:this.onWidthChange,onPercentageWidthChange:this.onPercentageWidthChange,onResetImageDimensions:this.onResetImageDimensions}))))}},{key:"getImageProps",value:function(){var newProps=this.props.selectedImageModule?$.extend(!0,{},this.props.selectedImageModule):$.extend(!0,{},_image.DefaultImageModuleProps);return newProps.aProps=_underscore2.default.pick(this.state,IMAGE_PROPERTIES.LINK_URL),newProps.imgProps=_underscore2.default.pick(this.state,IMAGE_PROPERTIES.WIDTH,IMAGE_PROPERTIES.HEIGHT,IMAGE_PROPERTIES.WIDTH_PERCENT,IMAGE_PROPERTIES.IMAGE_URL,IMAGE_PROPERTIES.ALT_TEXT),newProps.align=this.state[IMAGE_PROPERTIES.ALIGNMENT],newProps.isResponsive=this.state[IMAGE_PROPERTIES.IS_RESPONSIVE],newProps.isProportionallyConstrained=this.state[IMAGE_PROPERTIES.IS_PROPORTIONALLY_CONSTRAINED],newProps.innerHtml=(0,_image2.serializedImageInnerHtml)(newProps,void 0,!!this.props.wysiwygSelectedImage||_imageManagerStore2.default.getWysiwygEditorInstance()),newProps}},{key:"getImagePreviewClasses",value:function(){var classes=[];return this.state.didFailToLoadImage&&classes.push("has-error"),this.state.isLoadingImage&&classes.push("is-loading"),classes.join(" ")}},{key:"render",value:function(){return _react2.default.createElement(_form2.default,{className:_imageStylizerCss2.default["image-stylizer"]},this.props.shouldUseDnDLayout?this.getDnDLayout():_react2.default.createElement(_codeForm2.default,{getImageDimensions:this.getImageDimensions,src:this.state[IMAGE_PROPERTIES.IMAGE_URL],onChange:this.onInputChange,registerFormInput:this.props.registerFormInput}),_react2.default.createElement("section",{className:"section preview"},_react2.default.createElement("label",{className:"preview-title proxima-nova is-size-h3 is-medium"},"Preview"),_react2.default.createElement("div",{className:"image "+this.getImagePreviewClasses()+" proxima-nova is-size-h3 is-medium",style:{backgroundImage:"url("+this.state[IMAGE_PROPERTIES.IMAGE_URL]+")"}})))}}]),ImageStylizer}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"onSubmit",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onSubmit"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onResponsivenessToggle",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onResponsivenessToggle"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onProportionalConstraintToggle",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onProportionalConstraintToggle"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onHeightChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onHeightChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onWidthChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onWidthChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onPercentageWidthChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onPercentageWidthChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onInputChange",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onInputChange"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"onResetImageDimensions",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"onResetImageDimensions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getConstrainedDimensions",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getConstrainedDimensions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getImageDimensions",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getImageDimensions"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getSharedInputProps",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getSharedInputProps"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getDnDLayout",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getDnDLayout"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getImageProps",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getImageProps"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"getImagePreviewClasses",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getImagePreviewClasses"),_class.prototype),_class);ImageStylizer.propTypes={trySubmit:_propTypes2.default.func,registerFormInput:_propTypes2.default.func,unregisterFormInput:_propTypes2.default.func,selectedImage:_propTypes2.default.object,selectedImageModule:_propTypes2.default.object,wysiwygSelectedImage:_propTypes2.default.object,shouldUseDnDLayout:_propTypes2.default.bool.isRequired,onSubmitContextChanged:_propTypes2.default.func.isRequired},ImageStylizer.defaultProps={trySubmit:function(){},registerFormInput:function(){},unregisterFormInput:function(){},selectedImage:null,selectedImageModule:null,wysiwygSelectedImage:null},exports.default=(0,_formDecorator2.default)(ImageStylizer)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ResponsiveDimensionControls(props){return _react2.default.createElement("div",{className:"responsive-settings"},_react2.default.createElement(_textInput.TextInput,{type:"text","data-role":"input-width",id:"width",name:"width",displayName:"Width",value:props.widthPercent,validations:["required","positiveInteger"],units:"%",maxLength:"3",disabled:props.isDisabled,onChange:props.onPercentageWidthChange,registerFormInput:props.registerFormInput}),_react2.default.createElement(_resetDimensionsButton2.default,{onClick:props.onResetImageDimensions,isDisabled:props.isDisabled}))}function FixedDimensionControls(props){var sharedProps={disabled:props.isDisabled,registerFormInput:props.registerFormInput,unregisterFormInput:props.unregisterFormInput};return _react2.default.createElement("div",{className:"standard-settings"},_react2.default.createElement(_textInput.TextInput,_extends({type:"text","data-role":"input-width",id:"width",name:"width",displayName:"Width",value:props.width,validations:["required"],units:"px",maxLength:"5",onChange:props.onWidthChange},sharedProps)),_react2.default.createElement(_textInput.TextInput,_extends({type:"text","data-role":"input-height",id:"height",name:"height",displayName:"Height",value:props.height,validations:["required"],units:"px",maxLength:"5",onChange:props.onHeightChange},sharedProps)),_react2.default.createElement(_switch.IconSwitch,{id:"switch-is-proportionally-constrained","data-role":"input-constrained-switch",className:"is-size-20 sg-icon-unlocked switch-constrain-proportions",activeClassName:"is-size-20 sg-icon-locked switch-constrain-proportions",name:"isProportionallyConstrained",onClick:props.onConstrainClick,toolTipText:"Lock image proportions.",isChecked:props.isConstrained}),_react2.default.createElement(_resetDimensionsButton2.default,{onClick:props.onResetImageDimensions,isDisabled:props.isDisabled}))}function DimensionControls(props){return props.isResponsive&&props.isShowResponsive?_react2.default.createElement(ResponsiveDimensionControls,props):_react2.default.createElement(FixedDimensionControls,props)}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_switch=__webpack_require__(133),_textInput=__webpack_require__(18),_resetDimensionsButton=__webpack_require__(1643),_resetDimensionsButton2=_interopRequireDefault(_resetDimensionsButton);ResponsiveDimensionControls.propTypes={isDisabled:_propTypes2.default.bool,widthPercent:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,registerFormInput:_propTypes2.default.func,onPercentageWidthChange:_propTypes2.default.func.isRequired,onResetImageDimensions:_propTypes2.default.func.isRequired},ResponsiveDimensionControls.defaultProps={isDisabled:!1,registerFormInput:function(){}},FixedDimensionControls.propTypes={isConstrained:_propTypes2.default.bool,isDisabled:_propTypes2.default.bool,height:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,width:_propTypes2.default.oneOfType([_propTypes2.default.string,_propTypes2.default.number]).isRequired,registerFormInput:_propTypes2.default.func,unregisterFormInput:_propTypes2.default.func,onConstrainClick:_propTypes2.default.func,onHeightChange:_propTypes2.default.func.isRequired,onWidthChange:_propTypes2.default.func.isRequired,onResetImageDimensions:_propTypes2.default.func.isRequired},FixedDimensionControls.defaultProps={isConstrained:!1,isDisabled:!1,registerFormInput:function(){},unregisterFormInput:function(){},onConstrainClick:function(){}},DimensionControls.propTypes={isResponsive:_propTypes2.default.bool,isShowResponsive:_propTypes2.default.bool},DimensionControls.defaultProps={isResponsive:!1,isShowResponsive:!0},exports.default=DimensionControls},function(module,exports,__webpack_require__){"use strict";function ResetDimensionsButton(props){return _react2.default.createElement("div",{className:"reset-dimensions-container"},_react2.default.createElement(_switch.IconSwitch,{id:"switch-reset-image-dimensions","data-role":"input-reset-dimensions-switch",className:"is-size-20 sg-icon-reload switch-reset-dimensions",activeClassName:"is-size-20 sg-icon-reload switch-reset-dimensions",name:"reset-image-dimensions",onClick:props.onClick,toolTipText:"Reset image dimensions.",disabled:props.isDisabled,isChecked:!1}))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=ResetDimensionsButton;var _react=__webpack_require__(0),_react2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_react),_switch=__webpack_require__(133)},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactCopyToClipboard=__webpack_require__(355),_reactCopyToClipboard2=_interopRequireDefault(_reactCopyToClipboard),_textInput=__webpack_require__(18),_buttons=__webpack_require__(8),_platformUtils=__webpack_require__(1645),_platformUtils2=_interopRequireDefault(_platformUtils),CodeForm=_react2.default.createClass({displayName:"CodeForm",propTypes:{src:_react2.default.PropTypes.string,getImageDimensions:_react2.default.PropTypes.func,registerFormInput:_react2.default.PropTypes.func,onChange:_react2.default.PropTypes.func},getInitialState:function(){return{hasUrlBeenCopied:!1}},onCopyImageUrl:function(){var _this=this;this.setState({hasUrlBeenCopied:!0}),setTimeout(function(){return _this.setState({hasUrlBeenCopied:!1})},3e3)},onTextFocus:function(e){$(e.target).select(),$(e.target).siblings(".input-info-tooltip").find(".tooltip-js-content").addClass("is-visible")},onTextBlur:function(e){$(e.target).siblings(".input-info-tooltip").find(".tooltip-js-content").removeClass("is-visible"),this.props.getImageDimensions(e.target.value,!0)},render:function(){return _react2.default.createElement("section",{className:"section settings code-layout","data-role":"code-image-stylizer-form"},_react2.default.createElement(_textInput.TextArea,{id:"src","data-role":"input-img-url",name:"src",displayName:"Image Source URL",value:this.props.src,validations:["required","url"],maxLength:"2048",maxHeight:100,onFocusCb:this.onTextFocus,onBlurCb:this.onTextBlur,tooltipContent:_react2.default.createElement("span",null,"Press ",_platformUtils2.default.isMac()?_react2.default.createElement("span",{style:{fontFamily:"Arial"}},"⌘"):"Ctrl"," + C to copy URL."),registerFormInput:this.props.registerFormInput,onChange:this.props.onChange}),_react2.default.createElement("div",{className:"copy-url-container"},_react2.default.createElement(_reactCopyToClipboard2.default,{onCopy:_underscore2.default.debounce(this.onCopyImageUrl,100),text:this.props.src},_react2.default.createElement(_buttons.SecondaryButtonSmall,null,"Copy URL")),_react2.default.createElement("p",{className:"is-copy-successful "+(this.state.hasUrlBeenCopied?"is-visible":"")},_react2.default.createElement("span",null,_react2.default.createElement("i",{className:"sg-icon sg-icon-check-circle icon-copy-success"})),_react2.default.createElement("span",null,"Copied"))),_react2.default.createElement("div",{className:"copy-instructions"},_react2.default.createElement("p",null,"Once you've copied the URL, paste it into the appropriate image source tag in the HTML of your email."),_react2.default.createElement("p",null,'Example: <img src="paste URL here"/>')))}});exports.default=CodeForm},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),PlatformUtils=function(){function PlatformUtils(){_classCallCheck(this,PlatformUtils)}return _createClass(PlatformUtils,null,[{key:"isMac",value:function(){return navigator.platform.indexOf("Mac")>-1}},{key:"isWindows",value:function(){return navigator.platform.indexOf("Win")>-1}}]),PlatformUtils}();exports.default=PlatformUtils},function(module,exports,__webpack_require__){var content=__webpack_require__(1647);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,'.imageStylizer-css__image-stylizer___kwXES{display:flex;flex-flow:row wrap;align-items:stretch;justify-content:space-between;margin:30px 0}.imageStylizer-css__image-stylizer___kwXES .section{width:45%}.imageStylizer-css__image-stylizer___kwXES .settings .size-settings{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:flex-start;max-width:330px}.imageStylizer-css__image-stylizer___kwXES .settings .size-settings .label{font-weight:300;font-size:12px;line-height:12px;color:inherit;padding:0 0 10px}.imageStylizer-css__image-stylizer___kwXES .settings .size-settings .responsive-switch-container{flex:1 auto;display:flex;flex-flow:column;align-items:flex-start;justify-content:flex-start}.imageStylizer-css__image-stylizer___kwXES .settings .size-settings .responsive-settings,.imageStylizer-css__image-stylizer___kwXES .settings .size-settings .standard-settings{display:flex;flex-flow:row wrap;justify-content:space-between;align-items:flex-start;flex:4 auto}.imageStylizer-css__image-stylizer___kwXES .settings .size-settings .responsive-settings{justify-content:flex-start}.imageStylizer-css__image-stylizer___kwXES .settings .size-settings .responsive-settings .switch-reset-dimensions{margin-left:10px}.imageStylizer-css__image-stylizer___kwXES .settings.code-layout p{font-size:14px}.imageStylizer-css__image-stylizer___kwXES .settings.code-layout .copy-url-container{display:flex;width:175px;flex-flow:row nowrap;align-items:center;justify-content:space-between;margin-bottom:20px}.imageStylizer-css__image-stylizer___kwXES .settings.code-layout .copy-url-container .is-copy-successful{opacity:0;transition:opacity .2s ease;color:#50af54;margin:0;line-height:12px;display:inline-block}.imageStylizer-css__image-stylizer___kwXES .settings.code-layout .copy-url-container .is-copy-successful .icon-copy-success{font-size:20px;vertical-align:sub;margin-right:7px}.imageStylizer-css__image-stylizer___kwXES .settings.code-layout .copy-url-container .is-copy-successful.is-visible{opacity:1}.imageStylizer-css__image-stylizer___kwXES .settings [data-units]{width:80px;margin-top:12px}.imageStylizer-css__image-stylizer___kwXES .settings .switch-constrain-proportions,.imageStylizer-css__image-stylizer___kwXES .settings .switch-reset-dimensions{margin-top:30px;display:block}.imageStylizer-css__image-stylizer___kwXES .preview{min-height:400px}.imageStylizer-css__image-stylizer___kwXES .preview .preview-title{margin-bottom:5px}.imageStylizer-css__image-stylizer___kwXES .preview .image{width:100%;height:75%;background-size:contain;background-repeat:no-repeat;background-position:50%;background-color:#fafafa;border:1px solid #d2d2d2;position:relative}.imageStylizer-css__image-stylizer___kwXES .preview .image:after{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.imageStylizer-css__image-stylizer___kwXES .preview .image.has-error{border:1px solid #b92323}.imageStylizer-css__image-stylizer___kwXES .preview .image.has-error:after{content:"Failed to load image.";color:#b92323}.imageStylizer-css__image-stylizer___kwXES .preview .image.is-loading:after{content:"Loading image..."}',"",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/image_manager/__css__/src/views/components/editor/image_manager/__css__/imageStylizer.css.scss"],names:[],mappings:"AAAA,2CACE,aACA,mBACA,oBACA,8BACA,aAAc,CALhB,oDAOI,SAAU,CAPd,oEAWM,aACA,mBACA,8BACA,uBACA,eAAgB,CAftB,2EAiBQ,gBACA,eACA,iBACA,cACA,gBAAiB,CArBzB,iGAwBQ,YACA,aACA,iBACA,uBACA,0BAA2B,CA5BnC,gLA+BQ,aACA,mBACA,8BACA,uBACA,WAAY,CAnCpB,yFAsCQ,0BAA2B,CAtCnC,kHAwCU,gBAAiB,CAxC3B,mEA8CQ,cAAe,CA9CvB,qFAiDQ,aACA,YACA,qBACA,mBACA,8BACA,kBAAmB,CAtD3B,yGAwDU,UACA,4BACA,cACA,SACA,iBACA,oBAAqB,CA7D/B,4HA+DY,eACA,mBACA,gBAAiB,CAjE7B,oHAoEY,SAAU,CApEtB,kEA0EM,WACA,eAAgB,CA3EtB,iKA8EM,gBACA,aAAc,CA/EpB,oDAmFI,gBAAiB,CAnFrB,mEAqFM,iBAAkB,CArFxB,2DAwFM,WACA,WACA,wBACA,4BACA,wBACA,yBACA,yBACA,iBAAkB,CA/FxB,iEAiGQ,aACA,mBACA,uBACA,YACA,UAAW,CArGnB,qEAwGQ,wBAAyB,CAxGjC,2EA0GU,gCACA,aAAc,CA3GxB,4EAgHU,0BAA2B,CAC5B",file:"imageStylizer.css.scss",sourcesContent:['.image-stylizer {\n  display: flex;\n  flex-flow: row wrap;\n  align-items: stretch;\n  justify-content: space-between;\n  margin: 30px 0;\n  :global .section {\n    width: 45%;\n  }\n  :global .settings {\n    .size-settings {\n      display: flex;\n      flex-flow: row wrap;\n      justify-content: space-between;\n      align-items: flex-start;\n      max-width: 330px;\n      .label {\n        font-weight: 300;\n        font-size: 12px;\n        line-height: 12px;\n        color: inherit;\n        padding: 0 0 10px;\n      }\n      .responsive-switch-container {\n        flex: 1 auto;\n        display: flex;\n        flex-flow: column;\n        align-items: flex-start;\n        justify-content: flex-start;\n      }\n      .standard-settings, .responsive-settings {\n        display: flex;\n        flex-flow: row wrap;\n        justify-content: space-between;\n        align-items: flex-start;\n        flex: 4 auto;\n      }\n      .responsive-settings {\n        justify-content: flex-start;\n        .switch-reset-dimensions {\n          margin-left: 10px;\n        }\n      }\n    }\n    &.code-layout {\n      p {\n        font-size: 14px;\n      }\n      .copy-url-container {\n        display: flex;\n        width: 175px;\n        flex-flow: row nowrap;\n        align-items: center;\n        justify-content: space-between;\n        margin-bottom: 20px;\n        .is-copy-successful {\n          opacity: 0;\n          transition: opacity 200ms ease;\n          color: #50af54;\n          margin: 0;\n          line-height: 12px;\n          display: inline-block;\n          .icon-copy-success {\n            font-size: 20px;\n            vertical-align: sub;\n            margin-right: 7px;\n          }\n          &.is-visible {\n            opacity: 1;\n          }\n        }\n      }\n    }\n    [data-units] {\n      width: 80px;\n      margin-top: 12px;\n    }\n    .switch-constrain-proportions, .switch-reset-dimensions {\n      margin-top: 30px;\n      display: block;\n    }\n  }\n  :global .preview {\n    min-height: 400px;\n    .preview-title {\n      margin-bottom: 5px;\n    }\n    .image {\n      width: 100%;\n      height: 75%;\n      background-size: contain;\n      background-repeat: no-repeat;\n      background-position: center center;\n      background-color: #fafafa;\n      border: 1px solid #d2d2d2;\n      position: relative;\n      &::after {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        height: 100%;\n        width: 100%;\n      }\n      &.has-error {\n        border: 1px solid #b92323;\n        &::after {\n          content: "Failed to load image.";\n          color: #b92323;\n        }\n      }\n      &.is-loading {\n        &::after {\n          content: "Loading image...";\n        }\n      }\n    }\n  }\n}'],sourceRoot:""}]),exports.locals={"image-stylizer":"imageStylizer-css__image-stylizer___kwXES"}},function(module,exports,__webpack_require__){var content=__webpack_require__(1649);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".imageManager-css__tab-panel-wrapper___27FXI{position:absolute;width:100%;height:calc(100% - 60px)}.imageManager-css__tab-panel-wrapper___27FXI .tab-panel{overflow:hidden;display:block}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/editor/image_manager/__css__/src/views/components/editor/image_manager/__css__/imageManager.css.scss"],names:[],mappings:"AAAA,6CACE,kBACA,WACA,wBAAyB,CAH3B,wDAKI,gBACA,aAAc,CACf",file:"imageManager.css.scss",sourcesContent:[".tab-panel-wrapper {\n  position: absolute;\n  width: 100%;\n  height: calc(100% - 60px);\n  :global .tab-panel {\n    overflow: hidden;\n    display: block;\n  }\n}\n"],sourceRoot:""}]),exports.locals={"tab-panel-wrapper":"imageManager-css__tab-panel-wrapper___27FXI"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactClassUtils=__webpack_require__(7),_maintenanceMessageStore=__webpack_require__(1651),_maintenanceMessageStore2=_interopRequireDefault(_maintenanceMessageStore),_maintenanceMessageActions=__webpack_require__(612),_maintenanceMessageActions2=_interopRequireDefault(_maintenanceMessageActions),_notification=__webpack_require__(1652),_notification2=_interopRequireDefault(_notification),_maintenanceMessage=__webpack_require__(1656),_maintenanceMessage2=_interopRequireDefault(_maintenanceMessage),FullScreenContainer=(_class=function(_React$Component){function FullScreenContainer(props){_classCallCheck(this,FullScreenContainer);var _this=_possibleConstructorReturn(this,(FullScreenContainer.__proto__||Object.getPrototypeOf(FullScreenContainer)).call(this,props));return _this.state={maintenanceMessage:_maintenanceMessageStore2.default.getMessage()},_this}return _inherits(FullScreenContainer,_React$Component),_createClass(FullScreenContainer,[{key:"componentDidMount",value:function(){_maintenanceMessageStore2.default.addChangeListener(this.maintenanceMessageStoreChanged),_maintenanceMessageActions2.default.fetch()}},{key:"componentWillUnmount",value:function(){_maintenanceMessageStore2.default.removeChangeListener(this.maintenanceMessageStoreChanged)}},{key:"maintenanceMessageStoreChanged",value:function(){this.setState({maintenanceMessage:_maintenanceMessageStore2.default.getMessage()})}},{key:"render",value:function(){return _react2.default.createElement("section",null,_react2.default.createElement(_notification2.default,null),_react2.default.createElement(_maintenanceMessage2.default,this.state.maintenanceMessage,this.state.maintenanceMessage.messageText))}}]),FullScreenContainer}(_react2.default.Component),function(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}(_class.prototype,"maintenanceMessageStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"maintenanceMessageStoreChanged"),_class.prototype),_class);exports.default=FullScreenContainer},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function setMessage(m){message=_extends({},m,{isExpired:new Date(m.expirationDate)<new Date,messageText:_sanitizerUtils2.default.sanitize(m.messageText)})}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_baseStore=__webpack_require__(124),_baseStore2=_interopRequireDefault(_baseStore),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),_sanitizerUtils=__webpack_require__(71),_sanitizerUtils2=_interopRequireDefault(_sanitizerUtils),message=void 0,MaintenanceMessageStore=_extends({},_baseStore2.default,{getMessage:function(){return message},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.MAINTENANCE_MESSAGE.FETCHED:setMessage(action.message),MaintenanceMessageStore.emitChange()}}});!function(){message={messageText:"",expirationDate:new Date,affectedUrls:[],type:"warning",isExpired:!0}}(),MaintenanceMessageStore.dispatchToken=_appDispatcher2.default.register(MaintenanceMessageStore.dispatcherCb),exports.default=MaintenanceMessageStore},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};return Object.keys(descriptor).forEach(function(key){desc[key]=descriptor[key]}),desc.enumerable=!!desc.enumerable,desc.configurable=!!desc.configurable,("value"in desc||desc.initializer)&&(desc.writable=!0),desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc},desc),context&&void 0!==desc.initializer&&(desc.value=desc.initializer?desc.initializer.call(context):void 0,desc.initializer=void 0),void 0===desc.initializer&&(Object.defineProperty(target,property,desc),desc=null),desc}function formatArrayMessage(messages){return _react2.default.createElement("ol",{className:"multi-notification-list"},_underscore2.default.map(messages,function(message,i){return _react2.default.createElement("li",{key:i,className:"notification-item",dangerouslySetInnerHTML:{__html:message}})}))}function onNotificationActionClick(e,notification){return e.preventDefault(),notification.actionCb(),!1}Object.defineProperty(exports,"__esModule",{value:!0});var _class,_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_alert=__webpack_require__(157),_alert2=_interopRequireDefault(_alert),_notificationStore=__webpack_require__(1653),_notificationStore2=_interopRequireDefault(_notificationStore),_pageTransitionStore=__webpack_require__(490),_pageTransitionStore2=_interopRequireDefault(_pageTransitionStore),_stringUtils=__webpack_require__(40),_stringUtils2=_interopRequireDefault(_stringUtils),_reactClassUtils=__webpack_require__(7),_notificationCss=__webpack_require__(1654),_notificationCss2=_interopRequireDefault(_notificationCss),Notification=(_class=function(_React$Component){function Notification(props){_classCallCheck(this,Notification);var _this=_possibleConstructorReturn(this,(Notification.__proto__||Object.getPrototypeOf(Notification)).call(this,props));return _this.state={notifications:{},isUserUnauthorized:_pageTransitionStore2.default.getLastTransition().isMakoUnauthorized},_this}return _inherits(Notification,_React$Component),_createClass(Notification,[{key:"componentDidMount",value:function(){_notificationStore2.default.addChangeListener(this.notificationStoreChanged),_pageTransitionStore2.default.addChangeListener(this.pageTransitionStoreChanged)}},{key:"componentWillUnmount",value:function(){_notificationStore2.default.removeChangeListener(this.notificationStoreChanged),_pageTransitionStore2.default.removeChangeListener(this.pageTransitionStoreChanged)}},{key:"getNotificationKey",value:function(notification){var _this2=this,newKey=notification.messageCollection?notification.messageCollection.join("||| "):notification.message,allKeys=Object.keys(this.state.notifications);return _underscore2.default.find(allKeys,function(key){var messages=key.split("||| ");return _underscore2.default.intersection(messages,notification.messageCollection).length||_this2.state.notifications[key].message===notification.message||_this2.state.notifications[key].message===notification.previousMessage})||newKey}},{key:"notificationStoreChanged",value:function(){var notification=_notificationStore2.default.getNotification();notification.shouldUpdateExistingMessage?this.updateNotification(notification):notification.shouldRemoveExistingMessage?this.removeNotification(notification):notification.shouldClearAll?this.clearNotifications():notification.shouldClearAllForRoute?this.clearNotificationsForRoute():this.addNotification(notification)}},{key:"pageTransitionStoreChanged",value:function(){this.setState({isUserUnauthorized:_pageTransitionStore2.default.getLastTransition().isMakoUnauthorized})}},{key:"addNotification",value:function(n){var notification=n;Array.isArray(notification.message)?(notification.messageCollection=notification.message,notification.message=notification.message.length>1?formatArrayMessage(notification.message):_stringUtils2.default.unescape(notification.message[0])):notification.message=_stringUtils2.default.unescape(notification.message),this.updateNotification(notification)}},{key:"updateNotification",value:function(notification){var notifications=_extends({},this.state.notifications,_defineProperty({},this.getNotificationKey(notification),notification));this.setState({notifications:notifications})}},{key:"removeNotification",value:function(notification){var notificationKey=this.getNotificationKey(notification),notifications=_underscore2.default.omit(this.state.notifications,notificationKey);this.setState({notifications:notifications})}},{key:"clearNotifications",value:function(){this.setState({notifications:{}})}},{key:"clearNotificationsForRoute",value:function(){this.setState(function(prevState){var notifications=_extends({},prevState.notifications);return{notifications:_underscore2.default.omit(notifications,function(n){return n.shouldClearOnRouteChange})}})}},{key:"render",value:function(){var _this3=this;if(this.state.isUserUnauthorized)return null;var notifications=_underscore2.default.map(this.state.notifications,function(notification,i){return _react2.default.createElement(_alert2.default,_extends({key:"notification-"+i,onDismiss:function(){return _this3.removeNotification(notification)}},notification),notification.message,notification.actionCb?_react2.default.createElement("a",{className:"notification-action",href:"#notification-action",title:notification.actionText,onClick:function(e){return onNotificationActionClick(e,notification)}},notification.actionText):null)});return _react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:"notification",transitionEnterTimeout:600,transitionLeaveTimeout:600,component:"div",className:_notificationCss2.default.notification},notifications)}}]),Notification}(_react2.default.Component),_applyDecoratedDescriptor(_class.prototype,"getNotificationKey",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"getNotificationKey"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"notificationStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"notificationStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"pageTransitionStoreChanged",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"pageTransitionStoreChanged"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"addNotification",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"addNotification"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"updateNotification",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"updateNotification"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"removeNotification",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"removeNotification"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"clearNotifications",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"clearNotifications"),_class.prototype),_applyDecoratedDescriptor(_class.prototype,"clearNotificationsForRoute",[_reactClassUtils.bindThis],Object.getOwnPropertyDescriptor(_class.prototype,"clearNotificationsForRoute"),_class.prototype),_class);exports.default=Notification},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_underscore=__webpack_require__(2),_underscore2=_interopRequireDefault(_underscore),_eventemitter=__webpack_require__(26),_eventemitter2=_interopRequireDefault(_eventemitter),_appDispatcher=__webpack_require__(9),_appDispatcher2=_interopRequireDefault(_appDispatcher),_constants=__webpack_require__(3),_constants2=_interopRequireDefault(_constants),notification=void 0,initState=function(){notification={}},setMessage=function(action){notification={actionCb:action.notificationAction,actionText:action.notificationActionText,hasX:action.hasX,isManagedNotification:!0,message:action.message,previousMessage:action.previousMessage,shouldAutoHide:"success"===action.notificationType&&action.shouldAutoHide,shouldClearAll:action.shouldClearAll,shouldClearAllForRoute:action.shouldClearAllForRoute,shouldClearOnRouteChange:!!action.shouldClearOnRouteChange,shouldRemoveExistingMessage:action.shouldRemoveExistingMessage,shouldShowIcon:action.shouldShowIcon,shouldUpdateExistingMessage:action.shouldUpdateExistingMessage,timeShouldBeVisible:action.timeShouldBeVisible,type:action.notificationType}},NotificationStore=_underscore2.default.extend({},_eventemitter2.default.prototype,{getNotification:function(){return notification},addChangeListener:function(callback){this.on(_constants2.default.EVENTS.STORES.CHANGE,callback)},removeChangeListener:function(callback){this.removeListener(_constants2.default.EVENTS.STORES.CHANGE,callback)},emitChange:function(){this.emit(_constants2.default.EVENTS.STORES.CHANGE)},test_initState:function(){return initState()},dispatcherCb:function(action){switch(action.actionType){case _constants2.default.ACTIONS.NOTIFICATION.SET:setMessage(action),NotificationStore.emitChange();break;case _constants2.default.ACTIONS.NOTIFICATION.CLEAR:setMessage(_extends({},action,{shouldRemoveExistingMessage:!0})),NotificationStore.emitChange();break;case _constants2.default.ACTIONS.NOTIFICATION.CLEAR_ALL:setMessage({shouldClearAll:!0}),NotificationStore.emitChange();break;case _constants2.default.ACTIONS.NOTIFICATION.CLEAR_ALL_FOR_ROUTE:setMessage({shouldClearAllForRoute:!0}),NotificationStore.emitChange()}}});initState(),NotificationStore.dispatchToken=_appDispatcher2.default.register(NotificationStore.dispatcherCb),exports.default=NotificationStore},function(module,exports,__webpack_require__){var content=__webpack_require__(1655);"string"==typeof content&&(content=[[module.i,content,""]]);var options={};options.transform=void 0;__webpack_require__(6)(content,options);content.locals&&(module.exports=content.locals)},function(module,exports,__webpack_require__){exports=module.exports=__webpack_require__(5)(!0),exports.push([module.i,".notification-css__notification___gM2ec{position:absolute;width:100%;opacity:.97;z-index:100000}.notification-css__notification___gM2ec .multi-notification-list{list-style-type:decimal;list-style-position:inside}.notification-css__notification___gM2ec .multi-notification-list .notification-item{width:50%;text-align:left;margin:auto}.notification-css__notification___gM2ec .multi-notification-list .notification-item+.notification-item{margin-top:10px}.notification-enter{top:-300px}.notification-enter.notification-enter-active{top:0;transition:all .6s ease-out}.notification-leave{top:0}.notification-leave.notification-leave-active{top:-300px;transition:all .6s ease-out}","",{version:3,sources:["/opt/sendgrid/nlvx-ui/src/views/components/__css__/src/views/components/__css__/notification.css.scss"],names:[],mappings:"AAAA,wCACE,kBACA,WACA,YACA,cAAe,CAJjB,iEAMI,wBACA,0BAA2B,CAP/B,oFASM,UACA,gBACA,WAAY,CAXlB,uGAaQ,eAAgB,CACjB,oBAML,UAAW,CACZ,8CAGC,MACA,2BAA8B,CAC/B,oBAGC,KAAM,CACP,8CAGC,WACA,2BAA8B,CAC/B",file:"notification.css.scss",sourcesContent:[".notification {\n  position: absolute;\n  width: 100%;\n  opacity: .97;\n  z-index: 100000;\n  :global .multi-notification-list {\n    list-style-type: decimal;\n    list-style-position: inside;\n    .notification-item {\n      width: 50%;\n      text-align: left;\n      margin: auto;\n      & + .notification-item {\n        margin-top: 10px;\n      }\n    }\n  }\n}\n\n:global .notification-enter {\n  top: -300px;\n}\n\n:global .notification-enter.notification-enter-active {\n  top: 0;\n  transition: all 600ms ease-out;\n}\n\n:global .notification-leave {\n  top: 0;\n}\n\n:global .notification-leave.notification-leave-active {\n  top: -300px;\n  transition: all 600ms ease-out;\n}\n"],sourceRoot:""}]),exports.locals={notification:"notification-css__notification___gM2ec"}},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function MaintenanceMessage(props){return _react2.default.createElement(_reactAddonsCssTransitionGroup2.default,{transitionName:"notification",transitionEnterTimeout:600,transitionLeaveTimeout:600,component:"div"},_locationUtils2.default.isMatchingUrl(props.affectedUrls)&&!props.isExpired&&_react2.default.createElement(_alert2.default,{hasX:!1,shouldAutoHide:!1,type:props.type},_react2.default.createElement("span",{dangerouslySetInnerHTML:{__html:props.children}})))}Object.defineProperty(exports,"__esModule",{value:!0});var _react=__webpack_require__(0),_react2=_interopRequireDefault(_react),_propTypes=__webpack_require__(1),_propTypes2=_interopRequireDefault(_propTypes),_reactAddonsCssTransitionGroup=__webpack_require__(90),_reactAddonsCssTransitionGroup2=_interopRequireDefault(_reactAddonsCssTransitionGroup),_alert=__webpack_require__(157),_alert2=_interopRequireDefault(_alert),_locationUtils=__webpack_require__(14),_locationUtils2=_interopRequireDefault(_locationUtils);MaintenanceMessage.propTypes={isExpired:_propTypes2.default.bool.isRequired,affectedUrls:_propTypes2.default.arrayOf(_propTypes2.default.string).isRequired,type:_propTypes2.default.oneOf(["success","warning","danger"]),children:_propTypes2.default.node.isRequired},MaintenanceMessage.defaultProps={type:"warning"},exports.default=MaintenanceMessage},function(module,exports,__webpack_require__){"use strict";function injectReactEmailProperties(){_DOMProperty2.default.properties.hasOwnProperty("xmlns")&&delete emailProperties.Properties.xmlns,_DOMProperty2.default.injection.injectDOMPropertyConfig(emailProperties)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.emailProperties=void 0,exports.default=injectReactEmailProperties;var _DOMProperty=__webpack_require__(120),_DOMProperty2=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_DOMProperty),emailProperties=exports.emailProperties={Properties:{align:0,valign:0,bgcolor:0,border:0}}}],[613]);